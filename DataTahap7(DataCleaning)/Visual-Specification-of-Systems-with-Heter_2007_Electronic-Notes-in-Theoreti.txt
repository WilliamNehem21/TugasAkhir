in this paper a prototype of a visual specification language called visual coordination diagrams(vcd) for high-level design of concurrent systems with heterogeneous coordination models is presented. the key property of vcd is the separation of behavioral aspects from coordination aspects. we also highlight the heterogeneity of vcd which has two levels. at first, it allows different coordination models to be mixed in a particular specification. secondly, different formalisms can be incorporated to vcd for specification of behavioral aspects. this paper contains an overview of the language followed with its formal definition. an example of using the language is also given.



vcd employs a coordination model in which coordination aspects are semantically separated from the behavioral aspects. this is called exogenous model. vcd can be also viewed as static architecture diagrams specifying connections among components. the key property of vcd is its two-level heterogeneity. the first level of this heterogeneity is based on the possibility of combination of various coordination models(both synchronous and asynchronous) in a particular system specification. the second level of heterogeneity is the variability of specification of behavioral aspects. this can be done in various notations which have to be, in some well-defined sense, compatible with the coordination models supported by the language.



graphical calculus of communicating systems(gccs) and its synchronous extension sgccs adopt the process algebraic approach as the formal underlying semantic model. these languages have component-based hierarchical architecture. because of too tight relation to the underlying process algebraic semantic model, the heterogeneity of both coordination and behavioral layers is limited.



there is another architecture language, which is, similarly to vcd, based on the idea of gccs. it is called architectural interaction diagrams(aid). vcd and aid both achieve some level of heterogeneity by avoiding the tight relation with the ccs process algebra. one of the significant differences between these two formalisms is in the underlying semantic model. aid is aimed to be used for specification of interactive systems while in vcd the interactive aspects can be additionally mixed with reactivity. at the behavioral layer, vcd supports more expressive formalisms than aid, and thus allows more heterogeneity at this level. on the other hand, aid allows more non-deterministic modeling at the coordination layer than vcd.



in the community of coordination languages, there is a large group of languages which have properties of architecture languages. the most significant languages from this domain are manifold and toolbus. these languages support control-driven exogenous coordination. in contrast to vcd, these languages are complex programming languages. vcd is aimed to be a simple visual formalism for higher-level design of concurrent systems. moreover, unlike in manifold, there is currently no support for dynamic changes of component connections in vcd. static coordinators are represented in vcd as buses. what is similar to both manifold and vcd is the concept of ports. also the manifold coordinator hierarchy has in some sense its counterpart in the vcd coordination layer hierarchy.



semantics of vcd is based on state transition model. by traversing the network hierarchy, it relies on a formal mechanism of combining component state transition models into one resulting state transition model of the top-most network. this is done with respect to the communication relationships specified by busses in networks. semantics of a particular bus type represents behavior of a specific communication media.



one can imagine a particular vcd network as a graph in which subsystem interfaces create vertexes and busses with links create edges. any such graph can be partitioned into strongly connected components. the vcd semantics combines subsystem transitions of these strongly connected components synchronously(product) or asynchronously(interleaving) into resulting network transition. the asynchronous or synchronous coordination model results from the semantics of included buses. the semantic relationship among transitions combined from different strongly connected network components is always asynchronous.



at the bottom-most level, behavior of system components can be specified in any vcd-compatible formalism. this is called behavioral layer of vcd. the semantic model behind the behavioral layer is an input/output labeled transition system(lts) with sets of input and output actions taken as labels. this allows any language with semantics derived in the domain of lts to be used for behavioral specification of system components. this property makes vcd heterogeneous also at the behavioral layer. heterogeneity of the behavioral layer is achieved with respect to the set of semantically compatible, but notationally different languages, which are used for behavioral description. as examples of supported languages we can mention variants of statecharts or petri-nets.



the key construct of the coordination layer is a bus. as it has been mentioned in the previous section, buses represent coordination mechanisms. they are used for modeling various types of coordination models, such as bi-party handshake message passing, synchronised broadcast, or asynchronous types of component coordination. different buses can be mixed in the specification of a particular network, which



any bus class can be instantiated as a particular bus and used for specification of coordination of components in a network. the bus interface is always given by the set of links which connect the bus to the ports of surrounding components. formal definition of a bus, given by its interface and its class, is the following.



a gate is defined as a partial bijection relating ports of a network to free ports of a particular component in the network. the gate formalises the port mappings depicted in vcd as dashed lines. for simplicity reasons we define gate also for vcd leaves. in this case it is an identity which maps ports of a component to eponymous events of a particular vcd leave. note that the leave gate restricts the allowed set of leaves which can be embedded in a particular component interface to only those leaves which have the relevant events in labels of transitions. similarly, the definition of the network gate restricts the possible candidates for embedding of networks into other networks. only a network with enough free ports can be embedded.



dealing with the coordination layer, we would like to define semantics of vcd networks. in principle, the semantics of a vcd network is defined as a global i/o lts which combines transitions of local i/o ltss representing the semantics of network components. this combination is done with respect to the coordination model encoded in buses used in the network.



finally, we are approaching to the last inference rule, which is the most complex one. it puts together transitions of buses and transitions of components and evaluates their relationships given by the network links. according to the evaluated result it can then coordinate some components by firing their transitions synchronously with transitions of some buses. before we will define such a coordination rule, we have to look deeper into the structure of the network.



respect to the link relation l some strongly connected blocks of components may be distinguished in the network. for each such a block of components we will define a synchronising coordination rule. from the semantical point of view, any such a separated block of components can internally synchronise while different blocks put together may only mutually interleave. in other words, these blocks are the maximal groups of components with potential synchronous behavior.



in general, the role of synchronous multicast bus is to non-deterministically choose an event involved on one of its input ports, replicate that event and synchronously transfer it to all its output ports. note that this behavior does not depend on the number of components connected to the bus. hence, we can abstract from the number of ports the bus contains in its interface. this abstraction is the key knowledge which allows us to construct a bus class. its instances then have the number of ports in the bus interface bounded(as the number of links to other components is finite). instantiation is done with respect to the context in which bus instances are placed. in the example of the bc bus referred in the previous paragraph the bc bus is an instance with one input and three output ports.



using the power of the vcd coordination layer we now would like to generalise the notion of the asynchronous message passing bus. more precisely, similarly as in the previous subsection we define a new bus class for this purpose. in this definition we abstract from the concrete number of input and output ports and we base the relevant infinite state transition model on non-determinism of possible asynchronous bi-party interactions. in the bus instances this number is then bounded with respect to the number of surrounding components.



in this paper we have presented the language vcd for hierarchical specification of component-based concurrent systems with heterogeneous models of coordination. the key concept of the language are buses which represent coordination models used in system architectures. due to its heterogeneous character, vcd can be taken both as an extension of classical software architecture modeling notations and also as a framework for specification of coordination in reactive systems.



