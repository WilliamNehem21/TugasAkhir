behavior information. for the bcm application, its behavior demonstrates discrete, reactive and timing characteristics. thus, the behavior information should includes the relation between the inputs and outputs, the collaboration among several functionalities, and some timing constraints such as timeout, deadlines etc.



communication information. it mainly includes communication topology, signals and protocols which communicate between an ecu and its environments. in automotive systems, bus technologies(can, lin, flexray and most) are widely used to connect an ecu with its environment, and signals transmit over buses to transfer data and control commands. there exists a close relation between the communication information and the behavior information, because the functionalities are usually triggered by the received signals, and their outputs are also transmitted via signals.



type), and a set of connectors(elements of adlconnectorprototype). a function prototype must appear as a part of an element of adlfunctiontype, and itself is typed by an element of adlfunctiontype. connectors can be classified as two categories: delegate and assembly, the former connects the ports of a function type and those of its contained function prototypes, and the latter connects the ports of two function prototypes. every flow port is associated with a data type, which specifies the properties of the data exchanged via this port.



timed automata formalism is an extension of traditional untimed automata, by introducing time clocks and timed invariants to describe timing behaviors of systems. a timed automaton interacts with its environment through channels and global variables. to simulate and verify a target timed automaton, we must additionally model its environments in terms of timed automata, and compose them parallel to form a network of timed automata.



for the simulation and verification purposes, in this paper, we choose uppaal version of timed automata as the formalism. uppaal version extends pure timed automata with a number of features. one of the significant features is that the expressions are allowed to use bounded integer variables(or arrays of these types) as well as clocks, this extension will enhance the expressiveness of timed automata, allowing us to model complicated guard conditions, assignments and invariants. in what follows, if no specific explanation, the term timed automata is referred to the uppaal extension version.



the signals, in fact, are of the variables only handled by the software of an ecu. an ecu may sense(or act on) its environment via sensors(or actuators), physical wirings or bus networks. no matter what kinds of devices or medias are used by an ecu to communicate with its environment, from the software viewpoints, signals are the only way that an ecu sense and actuate on its environment, and all the devices and medias can be abstracted as the transformers which transform the physical variables of the environment(described with the ports) to the logical variables of software(described with the signals). therefore, the input signals input signals actually constitute the variables input, and the output signals output signals actually constitute the variables output; and in and out are of the data refinement relations(e.g., transformers) between the ports and the signals.



provided by gme. in gme, constraints are defined on the elements of the metamodel with ocl language. developers should designate the model element(of the meta-model) where the constraint will be attached, and the time when the constraint checking is triggered. when the constraint is violated in modeling time, an alarm will arise at the triggering time; add-on interfaces provide developers a means to developing their own programs and integrating them with gme. for example, in our tool support, uppaal tool is integrated through these interfaces; model access interfaces provide a set of interfaces allowing us to access the model elements through programming.



at present, this tool has been used in the bcm project. this project includes a total of 8 main functions, more than 40 ports and 90 signals are involved. obviously, it is difficult to manage such a large model if no tool support was available.



in this section, we introduce how to simulate and verify the functionalities with our tool. since our tool borrows uppaal tool to do these tasks, we mainly introduce the procedure of transforming the models to an uppaal specification. the transformation procedure will combine the structure model and behavior model together, because the channels, global variables appeared in an uppaal specification are actually the ports depicted in the structure model. therefore, we can also view the transformed uppaal specification as the integration of structure and behavior models.



this work is inspired by the works,, and. is a platform-based design methodology for embedded systems, and developed an environment, called metropolis, to support it. this methodology separates an embedded system as several orthogonal aspects, such as computation and communication, function and architecture, and behavior and performance parameters. each of the aspects are represented by uml notations. work[2,5] presents the rcos method of model driven design of component-based software. it emphasizes on the integrated use of different modeling notations for multidimensional modeling to support separation of concerns and and incremental development. the work presented in defines the different dimensions of structures, data, functionality and interaction and shows how they are represented in uml diagrams. theoretical study of relationship between



the main ideas of this paper derive from these works, however in this paper, we try to apply them to the domain of automotive software, and try to make them practical for actual development. domain characteristics and application background make us to choose different modeling notations for automotive software. for example, we choose east-adl2 to describe the structure of software, because on one side east-adl2 is an industrial standard which has been widely recognized by engineers, and on the other side, it is restrictive and expressive enough to present the expected structure information.



for complicated software, a single formalism usually does not work for all system aspects, therefore many works dedicate on the integrated formal methods, which combine several well-built formal methods together to specify the whole system. csp-oz is a method which integrates both csp and object-z formalisms. csp is used to model the behavior aspect and object-z for data structures and state-based specifications. to model the time-related behavior, csp-oz-dc formalism is proposed, which additionally integrates duration calculus formulas to specify the timing properties of systems. in this paper, the timing behavior is modeled by both timed automata and duration calculus formulas. the former is used to model the top-level operational(reactive) behavior of software, and the latter is used to specify the temporal changes of signal values.



zhiming liu, charles morisset and volker stolz. rcos: theory and tool for component-based model driven development. in f. arbab and m. sirjani, editors, international symposium on fundamentals of software engineering(fsen 2009), volume 5961 of lecture notes in computer science, pages 62-80. springer, 2010.



