net [15], densenet [16], fcn [17] and u-net [18]. these models have not only provided state-of-the-art performance for image classification, segmentation, object detection and tracking tasks, but also provide a new point of view for image fusion. there are mainly four reasons contrib- uting to their success: firstly, the main reason behind the amazing suc- cess of deep learning over traditional machine learning models is the advancements in neural networks, it learns high-level features from data in an incremental manner, which eliminates the need of domain expertise and hard feature extraction. and it solves the problem in an end to end manner. secondly, the appearance of gpu and gpu-computing libraries make the model can be trained 10 to 30 times faster than on cpus. and the open source software packages provide efficient gpu implementa- tions. thirdly, publicly available datasets such as imagenet, can be used for training, which allow researchers to train and test new variants of deep learning models. finally, several available efficient optimization techniques also contributes the final success of deep learning, such as



the rest of the paper is structured as followed. in section 2 we introduce the general principle of deep learning and multi-modal medical image segmentation. in section 3, we present how to prepare the data before feeding to the network. in section 4, we describe the detailed multi-modal segmentation network based on different fusion strategies. in section 5, we discuss some common problems appeared in the field. finally, we summarize and discuss the future perspective in the field of multi-modal medical image segmentation.



cnn is a multi-layer neural network containing convolution, pooling, activation and fully connected layers. convolution layers are the core of cnns and are used for feature extraction. the convolution operation can produce different feature maps depending on the filters used. pooling layer performs a downsampling operation by using maximum or average of the defined neighborhood as the value to reduce the spatial size of each feature map. non-linear rectified layer (relu) and its modifications such as leaky relu are among the most commonly used activation functions [37], which transforms data by clipping any negative input values to zero while positive input values are passed as output. neurons in a fully connected layer are fully connected to all activations in the previous layer. they are placed before the classification output of a cnn and are used to flatten the results before a prediction is made using linear clas- sifiers. while training the cnn architecture, the model predicts the class scores for training images, computes the loss using the selected loss extracted from the 3d image as input and applies the 2d convolutional kernel, the 2d approach can efficiently reduce the computational cost, while it ignores the spatial information of the image in z direction. for example, zhao, et al. [50] trained firstly fcnns using image patches and then crfs as recurrent neural networks using image slices with the parameters of fcnns fixed, finally they fine-tuned the fcnns and the crf-rnn using image slices. to exploit the feature information of the 2d image and 3d image, mlynarski, et al. [51] described a cnn-based model for brain tumor segmentation, it first extracts the 2d features of the image from axial, coronal and sagittal views and then takes them as the addi- tional input of the 3d cnn-based model. the method can learn rich feature information in three dimensions, which achieve good perfor- mance with median dice scores of 0.918 (whole tumor), 0.883 (tumor core) and 0.854 (enhancing core).



motivated by the success of generative adversarial network (gan) [59], which models a mini-max game between the generator and the discriminator, some methods propose to apply the discriminator as the extra constraint to improve the segmentation performance [60,61]. in ref. [60], by fusing the multi-modal images as multi-channel inputs, they trained two separate networks: a residual u-net as the generative network and a discriminator network, the segmentation network will generate a segmentation, while the discriminator network will distin- guish between the generated segmentations and ground truth masks. the discriminator is a shallow network containing three 3d convolution blocks, each followed by a max-pooling layer. in order to obtain a robust segmentation, they introduced extra constraints via contours to the model. hausdorff distance between ground truth contours and prediction contours is used as a measure of dissimilarity. the proposed method was evaluated on the brats 2018 dataset and achieved competitive results, demonstrating that raw segmentation results can be improved by incor- porating extra constraints in contours and adversarial training. huo et al.



dolz et al. [44] proposes a 3d fully convolutional neural network based on densenets that extends the definition of dense connectivity to multi-modal segmentation. each imaging modality has a path and dense connections exist both in the layers within the same path and in the different paths. therefore, the proposed network can learn more complex feature representations between the modalities. the extensive experi- ment results on two different and highly competitive multi-modal brain tissue segmentation challenges: iseg 2017 [40] and mrbrains 2013 [38], show that the proposed method yielded significant improvements over many other state-of-the-art segmentation networks, ranking at the top on both benchmarks.



inspired by ref. [44], dolz, et al. [46] proposes an architecture for ivd (intervertebral disc) localization and segmentation in multi-modal mri. each mri modality is processed in a corresponding single path to better exploit its feature representation. the network is densely con- nected both within each path and across different paths, granting then the freedom of the model to learn where and how the different modalities should be processed and combined. it also improves the standard u-net modules by extending inception modules using two convolutional blocks with dilated convolutions of a different scale to help handle multi-scale context information.



to summarize, in the layer-level fusion segmentation network, den- senets are the commonly used networks which bring the three following benefits. first, direct connections between all layers help to improve the flow of information and gradients through the entire network, alleviating the problem of vanishing gradient. second, short paths to all the feature maps in the architecture introduce implicit deep supervision. third, dense connections have a regularizing effect, which reduces the risk of over-fitting on tasks with smaller training sets. therefore, densenets allow to improved effectiveness and efficiency in the layer-level fusion segmentation network. in the layer-level fusion segmentation network,



for example, to effectively employ multi-modalities from t1, t2 and fractional anisotropy (fa) modality, nie, et al. [47] proposes a new multi-fcns network architecture for the infant brain tissue segmentation (white matter (wm), gray matter (gm), and cerebrospinal fluid (csf)). instead of simply combining three modality data from the input space, they trained one network for each modality and then fused multiple modality features from high-layer of each network. results showed that the proposed model significantly outperformed previous methods in terms of accuracy.



for the decision-level fusion, many fusion strategies have been pro- posed [64]. the most of them are based on averaging and majority voting. for averaging strategy, kamnitsas, et al. [52] trains three net- works separately and then averaged the confidence of the individual networks. the final segmentation is obtained by assigning each voxel with the highest confidence. for majority voting strategy, the final label of a voxel depends on the majority of the labels of the individual networks.



one limitation in medical image segmentation is data scarcity, usu- ally leading to the over-fitting which refers to a model that has a good performance on the training dataset but does not perform well on new data. most of the time, a large number of labels for training is not available for medical image analysis, because labelling the dataset re- quires experts in this field, and it is time-consuming and sometimes prone to error. when training complex neural networks with limited training data, special care must be taken to prevent the over-fitting. the complexity of a neural network model is defined by both its structure and the parameters. therefore, we can reduce the complexity of the network architecture by reducing the layers or parameters or focus on methods patches with 50% probability being cantered either on the lesion or healthy voxels. clrigues et al. [56] uses the lesion centered strategy, in which all training patches are extracted from the region centered on a lesion voxel. additionally, a random offset is added to a sampling 475 point to avoid location bias, where a lesion voxel is always expected at the patch center, contributing then to some data augmentations.



pling the data space. there are three main approaches: under-sampling the negative class [67] or upsampling the negative class [68] and smote (synthetic minority over-sampling technique) [69] generating synthetic samples along the line segment that joins minority class sam- ples. these approaches are simple to follow but they may remove some important data or add redundant data to the training set.



generalized dice (gdl): sudre et al. [73] proposed to use the class rebalancing properties of the generalized dice overlap, defined in (4), as a robust and accurate deep-learning loss function for unbalanced tasks. the authors investigate the behavior of dice loss, cross-entropy loss and generalized dice loss functions in the presence of different rates of label imbalance across 2d and 3d segmentation tasks. the results demonstrate that the gdl is more robust than the other loss functions learning-based networks learn a complex and abstract hierarchical feature representation for image data to overcome the difficulty of manual feature design. second, deep learning-based networks can pre- sent the complex relationships between different modalities by using the hierarchical network layer, such as the layer-level fusion strategy. third, the image transform and fusion strategy in the conventional fusion strategy can be jointly generated by training a deep learning model, in this way some potential deep learning network architectures can be investigated for designing an effective image fusion strategy. therefore, the deep learning-based method has a great potential to produce better fusion results than conventional methods.



mendrik am, vincken kl, kuijf hj, breeuwer m, bouvy wh, de bresser j, alansary a, de bruijne m, carass a, el-baz a, et al. mrbrains challenge: online evaluation framework for brain image segmentation in 3t mri scans. comput intell neurosci 2015;2015:1.



