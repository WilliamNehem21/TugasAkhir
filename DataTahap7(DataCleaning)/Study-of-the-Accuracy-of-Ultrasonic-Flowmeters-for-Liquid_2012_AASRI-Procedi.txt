how to estimate the differential time of flight accurately is a challenging problem in the area of ultrasonic flow measurement. high time resolution is necessary, especially in a small inner diameter, short sound path measurement environment, since sound velocity in the liquid is quite fast and the order of magnitude is nanosecond. a newer method to obtain the differential time of flight is a spline-based algorithm. although the calculation accuracy of a spline-based algorithm is higher than the common method, cross-correlation algorithm, the calculated quantity of this algorithm is huge. for this reason, an improved spline-based algorithm is proposed to reduce the computational cost while keeping the accuracy. in addition, installation location of transducers is one of the most important factors affecting the measurement accuracy of ultrasonic flowmeter. this paper also analyzes the affection of the differential separation distance between transducers. experiments have shown that the improved algorithm is effective and the separation distance affects the result seriously.



the proposed method improves the spline-based algorithm by combining with the cross-correlation algorithm. the improved algorithm reduces the computational cost without reducing the accuracy. this proposed method is evaluated in experiments. in addition, an important part of the installation process is the transducer separation distance previously described. if the signal received by a transducer when set up at the wrong position, the calculation result would be definitely wrong. this paper analyzes the affection of the differential separation distance between transducers to show the importance to determine the correct position. experiments have shown that the separation distance affects the result seriously.



the differential time of flight, t, is a key parameter, and its order of magnitude is nanoseconds. since sound velocity in the water is quite fast, so high time resolution is necessary, especially in a small inner diameter, short sound path measurement environment. typically, the cross-correlation algorithm is the most widely used algorithm. and this method is good at restraining white noise. but simulation results show that the calculation accuracy of the spline-based algorithm is higher than the cross-correlation algorithm.



of ultrasonic flowmeter. when the wall thickness, the wall material, and the fluid medium are all known quantities and the acoustic path is determined in accordance with the v-shape, the separate distance between each transducer should be definite. assume transducer acoustic wedge is organic glass, and the material of the wall is steel. the fluid medium is water and incidence angle of ultrasonic wave is 37 degree.



is the incident angle when signal passes through the organic glass-steel interface. is the refraction angle when signal passes through the organic glass-steel interface or the incident angle when signal passes through the steel-water interface. is the refraction angle when signal passes through the steel-water interface. c1 c2 and c3 are sound velocities in organic glass, steel wall and water respectively.



=37o, and longitudinal wave velocity in organic glass is 2730m/s. if shear wave velocity in steel wall is 3230m/s, we can get =45o. longitudinal wave velocity in water is 1480m/s at 20oc, then =19o.the differential distance between transduser x and transducer y is calculated based these angles.



assume each group signal has 2048 points. the kernel signal, s1 [n], is the 1000 th to the 1800 th points of reference signal, n=801; the kernel signal, s2 [n], is the 1200 th to the 1700 th points of reference signal, m=501. compared with improved algorithm, the spline-based algorithm will compute m-n=300 times more.



