in this paper, we describe cellpackexplorer, a system designed to help developers of cellpack find errors in and improve their algorithm. cellpackexplorer focuses on visualizing the effects of cellpack recipe parameters on the final packing output. we found that the developers have two different methods for understanding the output, numerical and visual, depending on their background. we designed cellpackexplorer with a flexible interface to support both types of users. we evaluated our tool through case studies and questionnaires. novice users were able to create cell models with cellpack and explore the behavior of different parameters. further, expert users discovered an error in the code and were able to locate the problem quickly with our new analysis tool. we conclude with a discussion of the implications of our findings in the wider visualization community.



a typical modeling process consists of a model setup, an optimization process and a validation of that model. this is true whether dealing with agent-based modeling, statistical modeling(such as regression, classification, or clustering) or computational modeling. however, if the parameter space is vast, or if the optimization function is qualitative(e.g. through visual inspection) then this model building process can be quite tedious. this is one of the first papers that focuses on the visual support of model building in the biological domain. the main motivation is to observe a very specific model building process and to show that visual support can tremendously speed up and help in model building.



our contributions include a detailed user, data, and task analysis comparing the model building tasks of the cellpack developers to model usage tasks which have been explored more thoroughly in the visualization community. we focused on aiding the developers in improving the core packing capabilities of their model to better help them select the crucial features(input parameters), hide less important ones from future users, and to find proper defaults for some others so future cellpack users(e.g. biologists, illustrators) are able to quickly create cellpack outputs themselves. the developers of cellpack were able to speed up the setup to large experiments from 30 min to 1 min and were able to analyze ensembles of hundreds of cellpack outputs which they could not do before. it also revealed unknown behavior of their tool to them and helped them to validate the influence of input parameters on the generated outputs. another advantage to cellpack developers is that cellpackexplorer makes collaboration and sharing of experiments easier.



as cellpack is under constant development, the available parameters are constantly being extended. one of the core questions is whether these parameters properly capture the range of realistic cells or whether they might be redundant with little influence to the final output generated. our approach to help the developers answer such questions is to let them visually inspect the influence of new parameters on the range of possible outputs. this could be considered as a hybrid approach between code-level debugging and visual model building.



partitioning is often done using a clustering approach. for example, design galleries uses a distance metric to present a set of visually distinct possible renderings of a scene. likewise, fluid explorer clusters a set of fluid simulation animations into animation segments that are then inspected. while convenient, both approaches to a clustered presentation of the model outputs showed deficiencies. hence, other researchers adopted a more manual adjustment. for example, paramorama is focused on finding which parameter settings produce good segmentations based on manual inspection of the resulting images. they group outputs in a hierarchical fashion based on input parameter settings. paraglide enables a manual partitioning of the output space in order to draw conclusions on the input parameter values. an a priori partitioning scheme is not clear in the case of cellpackexplorer. in addition, the partitioning scheme might be refined as the algorithmic description(and therefore the underlying model)



ingredient parameters on the other hand mimic the behavior of real-world biological proteins, they have to be set for each ingredient type independently and specify which protein an ingredient mimics. an example for this parameter set is known binding partners for an ingredient(i.e. attraction to a specific other ingredient type). they decide whether an ingredient accepts or declines the position proposed by the algorithm. in the literature they are referred to as control parameters, as they are meaningful in the biological domain.



cellpackexplorer was developed over ten months using the design study methodology. this period consisted of two major development circles each ending with the evaluation of a prototype tool by the cellpack developers. during the first cycle we had weekly meetings with the cellpack developers. during this time we developed our initial user, data, and task characterization. we also presented the developers with successively refined prototypes. after we evaluated our first prototype with the developers, we discovered that their analysis interests varied as the code was updated. further we found that they preferred to keep control of their analysis and therefore did not like the automatic clustering. additionally we observed that they hardly went back to the input part of the interface. we updated our user, data, and task characterization and designed a new prototype tool. we present the results of this second development cycle in the following sections.



we analyzed the workflow of the cellpack developers in weekly meetings, asking them about their usual work and future goals for the cellpack development. after collecting this data we characterized their data types and tasks following the taxonomy of munzner. we then synthesized what we consider the main model building tasks conducted by the developers of cellpack in order to help them improve the understanding of their model and ultimately improve cellpack. in what follows we summarize the result of our analysis.



at the moment the developers work with smaller datasets varying about 3 parameters and generating roughly a hundred output models. in the simple test cases the ingredients are simplified to spheres of different radii and limited to about 5 ingredients with about ten copies per ingredient type. for the more complex models such as hiv the number of ingredients packed scales up to millions of ingredients.



currently, the developers use a simple trial and error strategy, exploring one run at a time. they create a hypothesis what the cellpack output for specific parameters will look like and then run the model to verify their hypothesis. this works well for experiments with a single ingredient type and a short computation time. as recipes get more complex and more ingredient types are packed, interaction effects between parameters make it impossible to predict the output.



to analyze these recipes they compute a few outputs one by one to rough out parameters and ranges to sample. these simpler experiments consist of only two to three parameters and about ten different seeds. they also run these small experiments to confirm that the system is still working after changing the code. the next step in their analysis is to write custom scripts in python to sample the parameter ranges by varying less than twenty specified random seeds and less than five parameters. they analyze the outputs visually and statistically in ms excel. for the different analysis aspects the developers use a suite of different 2d or 3d viewers to look at the raw outputs, create density maps of multiple ensemble members and illustrate renderings of single output cells. finally,



t3-identify: identify parameters to be exposed: parameters that greatly impact the range of 3d outputs should be exposed to the future users of cellpack. however, too many parameters could overwhelm a new user with unnecessary complexity and hurt the adoption of cellpack. in addition, packing parameters might not be intuitive to non-technical users. therefore, the developers of cellpack have to make a careful selection and need to understand the behavior of different parameters and their interactions.



during our collaboration with the cellpack developers they were constantly updating and changing the code. therefore we had to account for these changes and provide a highly flexible interface for them that adapts to these changes. in this section we will talk about changes that we applied to the interface throughout the design process.



cellpackexplorer is built as a client-server design with a web front-end. we chose this design as it simplifies installation and helped the developers of cellpack to share(t5-share) their results and discuss findings. plots are implemented using d3 and crossfilter which supports interactive filtering of large datasets. we used the approach of talbot et al. for axis labeling.



set recipe: at first the developer selects a cellpack recipe they want to analyze. this recipe is a.json file that specifies the packing volume, which ingredient types to pack, and default values for cellpack input parameters. the recipe also declares the biological cell structure.



developers already worked with spreadsheets in the context of the analysis. second, we wanted a flexible interface that adapts to algorithmic and analysis changes. with the spreadsheet layout, different analysis aspects(presented by columns) can be swapped in and out or added.



cellpack developer to compare(t2-validate) different subsets of the output ensemble. a new row initially shows all runs of the experiment(i.e. no filters are applied and the whole output set is visible). the cellpack developer can interactively adapt which runs are part of a horizontal group by creating a filter on any or several of inputs or derived measures represented by columns in the interface. the filters are combined with an and operation such that groups are formed where each single output of a run has to fulfill all the filter constraints to be part of a horizontal row. each filter only influences its own horizontal row in the interface. filters in cellpackexplorer can be adjusted in the bar charts directly. a click



i.e. how often a specific value has been used to generate outputs in that row. in case of filtering, the full histogram for all runs remains transparent in the background to provide the context of the full ensemble dataset. the updated opaque part of the histogram shows the distribution of the currently selected subset of a row fulfilling all the filters.



total packing volume covered by an ingredient type. for example, if ingredient a takes up 50% of the whole cube in which we are packing then the spaceoccupancy value is 50%. within each run the occupancy for each ingredient is averaged over all cells computed with different seeds. this measure gives an idea of the concentration of ingredients compared to the total volume, the denser the volume is packed, the higher this measure will be.



the interface can easily be adapted by closing or opening columns of information(e.g. when exploring a 2d recipe, only one of the projected heatmaps is needed, features can be shown/hidden depending on the analyzed parameter). after the exploration of an experiment, the underlying model(cellpack) might be improved(t6-improve) and a new experiment can be started.



we used two different setups for the evaluation of the tool. in addition to regular feedback from the cellpack developers we asked them to use the tool on their own and provide qualitative feedback for us guided by a questionnaire(sections 8.1, 8.2, 8.3). second we asked some users without a biological background or previous knowledge about cellpack to fulfill some tasks and also pr ovide some informal feedback(section 8.4).



the developers were able to use cellpackexplorer for largescale debugging tests and to isolate more subtle issues with newly added code. instead of debugging heuristically by adjusting parameters and viewing one result at a time, cellpackexplorer enabled them to setup and analyze thousands of models at a time, which could reveal statistical subtleties more readily. in a typical scenario the developer would first run small experiments and sample only two sets of parameters at a time with typically just two seeds(t1setup) to ensure the interface and the program are running correctly(t2-validate, t3-identify, t4-default). if the code failed, then they would debug it and adapt the cellpack algorithm(t5-share). secondly, they would rerun with all the parameters they want to test with a small number of seeds(t1-setup) to confirm that the pairwise tested parameters all worked together(t2-validate, t3identify, t4-default). finally, they would greatly increase the number of seeds for a deep analysis to explore the behavior of the cellpack algorithm(t2-validate, t3-identify, t4-default). if the cellpack output was incorrect they would adapt the cellpack algorithm again(t5-share) and start a second round.



in order to measure the transferability of cellpackexplorer to non-developers, we also conducted a usability evaluation with users who had not previously used cellpackexplorer. we started with a brief introduction to cellpackexplorer and a walk through of the interface. then, each participant was asked to analyze the packing parameters for two recipes previously generated by the cellpack developers through the online accessible tool. both recipes described a packing problem of spheres on a 2d plane. spheres occupy the intersecting circle on the plane. the developers often use this simplified setup to quickly test code changes. it is helpful for quick intersection tests and increased rendering performance of outputs. we chose these data sets for our study as they are simple and fairly easy to analyze.



some of our participants had troubles interpreting the derived metrics charts. after a brief clarification they were also able to answer questions related to this chart. in addition, some users preferred that the xand y-axes in the graph showing the usage would be the other way around. the biological and uxdesigner participants preferred the output renderings on the right side of the interface over the numerical metrics. two of our participants were curious how to set up their own experiment and use cellpackexplorer. we showed them how they can create their own datsets using our input interface.



on a pre-defined set of features and is usually applied in the offline stage of the workflow(i.e. after data generation but before the user starts his analysis). with our approach of manual filtering on inputs and outputs we keep the user in the loop and provide freedom to investigate the same dataset from different aspects.



to provide recommendation for a faster design process for future design studies we emphasize the use of a web based application. this eases installation for the users and allows us to deploy updates easily. this makes it easy to access the tool for a variety of users with different levels of technical skill.



the flexibility of cellpackexplorer in terms of what metrics are shown opens it up to other application areas. for example, it could help to explain to meteorologists which parameters of weather simulations influence temperature, air pressure, or precipitation. another possible domain is bioengineering where scientists generate simulations of human organs and inspect the influence diseases can have on potential fields of the human heart. as the visual columns in the right most side of the interface can be closed if a simulation does not provide visual output, our tool also is applicable to simulations in areas such as software engineering or mathematics where simulations do not always result in visual outputs.



committee on mathematical foundations of verificationvalidation, and uncertainty quantification; board on mathematical sciences and their applications, division on engineering and physical sciences, national research council. assessing the reliability of complex models: mathematical and statistical foundations of verification, validation, and uncertainty quantification. the national academies press; 2012. doi:10.17226/13395. isbn 9780309256346.



