the number of hops between the source and destination nodes is a key parameter in studying multi-hop ad hoc networks analytically. to the best of our known, there is no analytical work that considers the hop count of paths in manets in a random mobility environment. this paper presents a theoretical study for the expected number of hops between any random source-destination pair in multi-hop ad hoc networks where nodes move according to the random waypoint mobility model. the effects of network parameters such as node density, size of the network area, and node transmission range are studied. simulation experiments for different network parameters have been conducted to validate the proposed analytical approach.



many studies have been issued to analyze how the performance of manets is affected by the hop count of paths[3-5]. the impact of hop count on searching cost and delay in ad hoc routing protocols has been investigated in. li et al. have simulated the impact of different traffic patterns on the scalability of per node throughput. they showed that the network throughput deteriorates when the number of hops of the path increases due to interference between nodes. in, gamal et al introduced a scheme to analyze the impact of the transmission range, degree of node mobility and number of hops on the trade-off between the delay and throughput in fixed and mobile ad hoc networks.



destination pair in multi-hop wireless networks has been developed. also, the tradeoff between flooding cost and search latency for target location discovery, used in most ad hoc routing protocols, has been evaluated. the drawback of this work is that it supposed that the distance between the source and destination nodes is uniformly distributed, and the impact of the size of the simulated network area is neglected. a mathematical model for the expected number of hops based on a poisson randomly distributed network has been presented in. the probability of n-hop count is derived and used to compute the expected number of hops. unfortunately, all of these previous studies suppose that the nodes are stationary(no mobility) and are either uniformly or exponentially distributed over the network area.



random mobility models, such as random way point, random walk(random direction), free way, and manhattan, play an important role in simulation of mobile ad hoc networks. to the best of our knowledge, there is no analytical work that computes the expected hop count of paths in manets in a random mobility environment. this is the motivation for our work, in which we develop a simple closed form analytical approach to estimate the expected number of hops between any source-destination pair in manets where the nodes are scattered in a square area and move according to the random waypoint mobility model(rwpmm). the rwpmm is selected because it is one of the most commonly used mobility models in manets studies. the hop count of paths for other mobility models can be investigated using the proposed approach.



to calculate the average number of hops analytically using mhd without the need to run time-consuming simulations, the probability density function of the distance between the source(or a relay node) and its neighbour nodes is derived using geometric probability. then, it is used to compute the expected value for the maximum forward distance toward the destination which is essential to compute the expected value for the remaining distance to the destination. by recursive computing for remaining distance to the destination, the expected hop counts can be computed.



the rest of this paper is organized as follows. in section 2 we drive an expression for the expected euclidean distance between any random source and destination nodes moving according to rwpmm. theoretical analysis of per hop progress and hop count is presented in section 3. in section 4, the proposed approach is validated via simulation. finally, the paper is concluded in section 5.



we first consider the distance between two nodes in a line segment. suppose that two random points x1 and x2 are located in a line segment with length l. the distance between x1 and x2 is s. x1 and x2 are independent identically distributed random variables. according to, for the random waypoint mobility model the distribution of x1 or x2 is non-uniform at the long run. the probability distribution function of the location of a point xn moving on a line with length l according to the rwpmm is



to compute the expected hop count analytically without the need to run timeconsuming simulations, a greedy routing approach called maximum hop distance(mhd) is proposed. mhd is a packet forwarding algorithm that uses the maximum forward distance toward the destination as the optimization criterion to choose the relay node from neighbour nodes that minimizes the number of hops a packet has to traverse in order to reach the destination. the geometric probability is used to drive the pdf of the distance between the source(or a relay node) and its neighbour nodes which is used to compute the expected value for the maximum forward distance toward the destination. also, the expected remaining distance to the destination, which is used to calculate the expected hop count, is computed using the geometric probability.



in this section, the proposed approach is validated by comparing the theoretical and simulation results. we first validate the theoretical analysis of the expected euclidean distance between any random source and destination nodes, introduced in section 2, by network simulation. for this validation we used the mobisim tool that uses topological characteristics to analyze and manage the mobility scenarios for ad hoc networks. we consider a simulation scenario consists of a square system area of a side length l that varies from 400 to 1000 m. a set of 200 nodes are uniformly scattered in the square area and move according to the rwpmm. every node moves towards the destination point with a velocity chosen uniformly from 0 to maximum speed(v max). when it reaches the destination it chooses and moves towards a new destination in a similar manner. the maximum moving speed is set to 20 m/s. a zero pause time was chosen to make the nodes move all the time. all nodes have a radio range of 250m.



area. to illustrate its effect on the expected number of hops, the transmission range is considered to be 200 or 250m. the rwp mobility patterns used in all simulation tests are generated using setdest tool which is a node movement generator tool implemented by the current ns-2 version.



and destination nodes, per hop distance, and per hop progress which are used to compute the expected hop count. the proposed approach has been validated using network simulation for different network parameters. the impacts of the transmission range, node density, and size of network area on the hop count have been investigated. compared to other methods in the literature, the accuracy of the proposed approach is much better.



