we are particularly interested in studying the pure pattern calculus(ppc) and the novel features it introduced in the field of pattern calculi, namely path polymorphism and pattern polymorphism. the former refers to the possibility of defining functions that uniformly traverse arbitrary data structures, while the latter allows to consider patterns as parameters that may be dynamically generated in run-time. developing such a calculus implies numerous technical challenges to guarantee wellbehaved operational semantics in the untyped framework. recently, a static type system has been introduced for a restriction of ppc called calculus of applicative patterns(cap), which is able to capture the path polymorphic aspect of ppc. moreover, type-checking algorithms for such a formalism has also been studied, as a first step towards an implementation of a prototype for a typed functional programming language capturing such features. following this line of research, studies on the definition of normalising strategies for ppc have been done as well[3,4]. such results are ported to cap by means of a simple embedding where the static typing discipline gives further guarantees on the well-behaved semantics of terms.



vice-versa. moreover, the correspondence between hrs and ers has already been established. the composition of such translations might derive a higher order system`a la de bruijn capturing the features of ppc. however, this would result in a rather indirect solution to our problem where many technicalities still need to be sorted out.



proper translations from ppc to ppcdb and back are introduced. this functions preserve the matching operation and, hence, the operational semantics of both calculi. moreover, they turn out to be the inverse of each other. this leads to a crucial strong bisimulation result between the two calculi, which allows to import many known properties of ppc into ppcdb, for instance confluence and the existence of normalising strategies.



ever, the occurrence of x in x y is not bound by the inner abstraction, as it is excluded from[y], acting as a place-holder in that pattern. it is the outermost abstraction that binds both x in the inner pattern and x in the outermost pattern. this is graphically depicted above.



it is worth noticing that this substitution should be interpreted in the context of a redex, where a binder is removed and its bound index substituted. this forces to update the free indices, that might be captured by an outermost abstraction, as done by the first case of the substitution over a variable ij. hence, preserving the correct bindings.



this section introduces the novel pure pattern calculus with de bruijn indices(ppcdb). it represents a natural extension of de bruijn ideas to a framework where a binder may capture more than one symbol. in the particular case of ppc there are two kinds of captured symbols, namely variables and matchables. this distinction is preserved in ppcdb while extending indices to pairs(a.k.a. bidimensional indices) to distinguish the binder that captures the symbol and the individual symbol among all those captured by the same binder.



we start with the translation from ppc to ppcdb. it takes the term to be translated together with two lists of lists of symbols that dictate how the variables and matchables of the terms should be interpreted respectively. we use lists of lists since the first dimension indicates the distance to the binder, while the second identifies the symbol among the multiple bound ones.



in this section we prove the simulation of one calculus by the other via the proper translation and, most importantly, the strong bisimulation that follows after the invertibility result(cf. thm. 4.9). this strong bisimulation result will allow to port many important properties already known for ppc into ppcdb, as we will discuss later.



we start by simulating ppc by ppcdb. the key step here is the preservation of the matching operation shown for j) in lem. 4.4. it guarantees that every redex in ppc turns into a redex in ppcdb too. then, the appropiate definition of the operational semantics given for ppcdb in sec. 3 allows us to conclude.



van oostrom, v. and f. van raamsdonk, the dynamic pattern calculus as a higher-order pattern rewriting system, in: 7th international workshop on higher-order rewriting, hor 2014, held as vienna summer of logic, vsl 2014, vienna, austria, july 9-24, 2014. proceedings, 2014.



