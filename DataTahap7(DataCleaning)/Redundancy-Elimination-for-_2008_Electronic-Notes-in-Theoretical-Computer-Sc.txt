them to p', until p is empty, and all that remains is p' and q. since p is empty, our invariant says that no variables remain, so both p' and q are closed, and can be checked directly. the only potential difficulty is the fact that we recursively call the typechecker on q. but by inspection, the algorithm only puts strictly smaller type-checking problems into q.



