healthy skin is smooth, elastic, and has well-arranged hair with normal sebum. color varies from pink to light brown. eyes are clear, secretion-free. oral mucosa has normal color and saliva. nose is moist without discharge. limbs are strong, and joints lack redness, swelling, or inflammation.



in the experiment, a modular assembly device was designed, and a short-distance star communication network was built. it is controlled by a central control module, and each submodule has an independent control unit responsible for circuit control within the module. each submodule is physically combined to form a sorting module consisting of at least one inlet, one detection, and several outlet modules. similarly, connectors made of soft materials can be used to build pig passages with acoustic and optical devices to assist in the repelling of pigs and reduce human intervention; the components are assembled into the pigsty in a combination of soft and hard materials. pigs can automatically complete the sorting process when driven by sound and light devices through guided passages.



the sorting process is divided into two parts. first, health detection was performed using the collected pig photographs. combining the weight and visual information with a pre-trained binary classification model and decision-level fusion determines whether the pig is abnormal or sick, and sick pigs are sorted into isolation pens for workers to check and treat.



a fusion of the image neural network and weight-based classification results is used to improve the accuracy of the experiment and obtain the final target classification and recognition results through decision fusion. the id and category of the pig are identified using the image, and its weight is measured using a weighing device. sorting is performed by fusing the historical data of the pig with the new data according to its id and evaluating the growth status of the pig and its growth level in the group. simultaneously, image recognition detects whether there is a possibility of disease in the phenotype of the pig and sorts the pig to the diseased pen when it is detected as having a possible disease or abnormal weight.



the experiments were analyzed and evaluated using simulation tests, and the simulations were conducted in the range according to the actual weight. let the state transfer matrix a be set as a unit array. the system does not influence the external input; u is zero, and h is a unit matrix. the gain matrix k does not need to be initialized, and the error matrix p is initialized as a zero matrix. q and r are the predicted and observed state covariance matrices, respectively, and q and r are set to 0.000015 and 0.008, respectively(wang et al., 2017). a set of typical waveform graphs that can be considered as irregular motion were collected, leading to fluctuations in real-time weight information. referring to the actual scenario using different data between 20 and 100 kg for the experiment, different sets of 20 data points were collected to calculate and compare the average and kalman filtering errors.



deeper cnns are used after applying the visual geometry group(vgg) model. however, it has been experimentally shown that an increase in network depth causes the gradient to explode and disappear, resulting in a system that does not converge(lee et al., 2019). in the vgg model, the network is guaranteed to converge by using stochastic gradient descent(sgd) in backpropagation through a data normalization operation on the input data and intermediate layers; however, when the depth of the model network exceeds a dozen layers, sgd be-



resnet, has been proposed, which allows the network to be as deep as possible. however, it feeds a portion of the input data directly to the output without going through the convolutional network, and retains some of the original information. the resnet network can add deeper convolutional layers to enhance this effect, and the residual block structure plays a key role in its functioning.



in the identity classification experiment, pig identification was performed using the resnet-50-based model pre-trained on the imagenet dataset. after pre-training on the imagenet dataset, the convolutional layer of the resnet-50 model was frozen, and the parameters of the fully connected layer were retrained to obtain the accuracy of the network. the captured images were classified and saved for filtering and cropping, with 6000 images as the training set, 2000 images as the validation set, and 2000 images as the test dataset.



kappa is a statistical coefficient used in evaluation measures to validate results. the kappa values illustrate the consistency of the predicted values with the actual values. the kappa values remain between zero and one, indicating the confidence level of the given rule. lower kappa values indicate no agreement; however, the low agreement obtained in the experiment in this study is informative and within a reasonable interval. kappa is calculated as follows: number of correctly classified samples in each category. supposing that the number of true samples in each category is a1, a2,..., ac, the number of predicted samples in each category is b1, b2,..., bc, and the total number of samples is n, then:



in this study, a low-cost livestock-sorting system for image recognition was designed based on deep learning. using only weights and images as inputs, the proposed system accomplishes functions such as livestock id recognition, automated livestock sorting, disease detection, and data tracking and prediction, through the technical route of deep learning and the industrial internet of things. the following conclusions are drawn from this study.



however, the generalizability of the model to different livestock is worth further investigation because of the significant cost of data collection and tagging, as well as the need for a more robust and transferable model. more extensive data must be collected to train and validate the reliability of the model. the potential of heavy recognition and 3d recognition technologies in the field of livestock sorting based on image recognition has been recognized, which may enable the modeling of livestock body types and improve recognition accuracy. because of the lack of collaboration in the veterinary field at this stage, this study only focuses on the classification and detection of diseases with obvious livestock phenotypes; diseases related to livestock pathology and multiinformation fusion detection should be the focus of future research. furthermore, a collaboration with the institute of animal husbandry and veterinary science on a cross-cutting project targeting livestock pathogenesis, processes, and image recognition is anticipated. moreover, another collaboration with ningxia jinyuhaoxing agriculture and animal husbandry co. ltd. and ningxia yanchi tan sheep industry development group co. ltd. is in the pipeline focusing on collecting data on other livestock, including dairy cows and tan sheep, to realize research and innovation in sorting information management systems for other livestock breeds.



