fast data update propagation from the row-based to the columnbased data stores is essential for real-time analytics. the latency of data update propagation determines the freshness of the analytical data. the process of data update propagation is divided into three steps. the first step is moving the data update from the row-based to the column-based data stores. the second step is translating the row-format data into column-format data. the last step is merging the delta updates into the column-based data store. htap databases optimize one or all of the above steps to improve the freshness of analytical data. for example, tidb preserves only the committed change log and removes redundant information before translating it



htap databases are extreme lack the micro-benchmark because there is no open-source micro-benchmark. we design and implement a micro-benchmark to investigate the distinction between the microbenchmark and the macro-benchmark. we select the state-of-the-art htap benchmark olxpbench as the micro-benchmark comparison object. micro-benchmark is better suited for real-time analytics evaluation because it precisely controls the rate at which fresh data is generated and the granularity of fresh data access. micro-benchmark queries typically consist of a single statement. for instance, the analytical query calculates the number of rows within a specified range. this indicates that the computational intensity of analytical queries can be managed by adjusting their computational range. and the transactional query updates the value of the specified column in a random row.



deploy the transactional and analytical instances on the same server to avoid long turnaround times for delta updates. and other htap databases handle online transactions and analytical queries on separate servers to prevent performance interference. this section studies how htap databases accomplish real-time analytics and performance isolation.



singlestore and oceanbase are well-known distributed htap databases. they all utilize unified storage to facilitate online transactions and analytical queries. oceanbase demonstrates commendable proficiency in resource isolation. polardb-imci also provides effective resource isolation for transactional and analytical queries.



ch-benchmark provides both online transactions and analytical queries. the oltp workloads are the same as the tpc-c transactions which are new-order, payment, order-status, delivery, and stocklevel transactions. the default percentages for the aforementioned five transactions are 44%, 44%, 4%, 4%, and 4%, respectively. order-status and stock-level are read-only transactions, and the remaining three are update-intensive transactions. the 22 analytical queries in chbenchmark are derived from the tpc-h benchmark. analytical queries retain the majority of business semantics but make adjustments based on the ch-benchmark schema.



cbtr provides four online read-update transactions, three online read-only transactions, and four online analytical queries. cbtr utilizes data from actual business scenarios rather than synthetic data generated by data generators. however, cbtr is not widely recognized due to its closed-source nature.



transactions in fibenchmark are read-only. 80% of online transactions in tabenchmark are read-only. in addition, it increases the analytical queries and hybrid transactions based on the semantically consistent schema. the analytical queries consist of complicated analytical statements like aggregation and multi-join. the hybrid transaction incorporates an analytical statement into an online transaction. read-only hybrid transactions make up 60%, 20%, and 40% of the subenchmark, fibenchmark, and tabenchmark, respectively.



hattrick includes both online transactions and analytical queries. it offers three online transactions comparable to the tpc-c benchmark. the transactional workloads consist of 48 percent new-order, 48 percent payment, and 4 percent count orders. the new-order and payment transactions are update-intensive, while the count orders transaction is read-only.



the adapt and hap benchmarks abstract the basic htap operations. however, they contain a limited number of typical htap workloads and are not open-source. the micro-benchmark should provide a variety of scan queries, including point queries, small-range queries, and large-range queries. the variety of scan queries is crucial for the index optimization of htap databases. in addition, microbenchmarks must ensure that the read and write operations access the same columns to evaluate the date update propagation capability.



the server node has two intel xeon e5-2699v4@2.20 ghz cpus, 128 gb memory, and two 2tb ssd. the client node has two intel xeon e5645@2.40 ghz cpus, 48 gb memory, and eight 2tb hdds. the server and client run on ubuntu 20.04 version and are connected by a 10 gbps ethernet network.



this paper involves a thorough introduction of htap database strategies for enhancing performance isolation and real-time analytics. in addition, we compare state-of-the-art and best-practice htap benchmarks in terms of schema model, workloads, and evaluation metrics. the cbtr, olxpbench, hattrick, adapt, and hap benchmarks all use the semantically consistent schema. olxpbench is innovative and provides a hybrid transaction that executes the analytical statement between the online transaction. and hattrick contributes the throughput frontier and freshness metrics.



