assignment of crops to fields and simultaneously accounting for vehicle routing and other constraints for optimized harvest planning has not been discussed in the literature before. such strategic assignment must be conducted once per year and at the beginning of the(yearly) work-cycle, thereby decisively affecting the complete agricultural production-cycle, as the first step within a two-layered framework. the second layer involves coordinations of pus and sus, exploiting all of the aforementioned references, and is to be conducted at the end of the work-cycle during harvest.



the contribution of this paper is a novel method that can(a) assist farm managers in the planning of crop assignments to available fields and(b) simultaneously determines crop-tours, i.e., optimized sequences in which to service fields of the same crop during harvest. eight different integer programs(ips) are formulated corresponding to different problem setups.



the remaining of the paper is organized as follows. problem and notation are formulated in section 2. algorithms are derived in section 3. extensions are discussed in section 4. numerical examples are given in section 5 before concluding with section 6.



problem 1. suppose a setting in which multiple fields, a path network connecting these fields, multiple depots, and potentially multiple harvesters located initially at each depot are given. then, at the beginning of every work-cycle(beginning with planting and ending with harvesting), a crop has to be assigned to all available fields. this entails the following questions: 16.3 km. the path network connecting the fields is curvy and often along rural gravel roads only permitting slow traveling speeds. the overall field coverage area is more than 1700 ha. traveling distances between pairs of fields is between meters up to dozens of km.



assumption 2. a fixed number of harvesters is assigned for the harvest of every crop. then, during the coverage of all fields associated with a crop, harvesters travel as a group. thus, it is assumed that there is no dispatch of individual harvesters to individual fields.



assumptions 1, 2 and cost coefficients(1) are defined for practical considerations discussed below. thus, in the most general sense of problem 1 they are limiting. however, on the other hand, they permit to approach problem 1 based on planning routes for each crop(in the following referred to as crop-tours) similar to the mtsp-framework(bektas, 2006). thus, a route for each crop and the fields correspond to a traveling salesman route and cities to be visited, respectively. note, however, despite this basic analogy, the mtsp-framework is insufficient to address problem 1. in particular, crop assignment, multiple depots and additional constraints are not addressed. therefore, eight customized ips are derived in section 3.2. first, however, it is further elaborated on assumption 2.



proof. the proof is by construction. for the asymmetric case with different fields ripening at different times, a unique optimal working sequence is already implied. for the symmetric case, a cost-minimizing route exists and includes exactly two edges incident to the depot vertex. this is due to nonnegativity of traveling costs and the fact that cost coefficients(1a) and(1b) are invariant to the number of harvesters traveling along inter-field paths(uniform scaling by nharv,k). any other initial distribution of harvesters to fields not connected to the depot vertex along the two aforementioned edges is thus suboptimal and harvester group travel is thus an optimal policy.



several comments are made. first, accumulated inter-field path length minimization(invariant to the number of harvesters traveling along the path) is of interest for minimization of total non-harvesting time. by nonnegativity of edge path lengths there exists a shortest path crop-tour. since harvesters can always work in parallel on fields since they are not constrained by each other, this shortest path should be followed by all harvesters.



eight different ips are formulated for the eight different problem setups considered to be most relevant for harvest planning. first, these problem are stated only literally. relevant constraints are summarized compactly, whereby it is distinguished between constraints used in final numerical simulations and additional constraints. then, for brevity only the two most general ips are stated mathematically. nevertheless, in the final numerical experiments of section 5 all eight ips are evaluated.



ip-3 among d> 1 potential depots, the best depot w.r.t. a cost criterion is selected. then, all available harvesters are assigned to this best depot. note that this problem could also be addressed by separately solving ip-1 for each of the d depots and then selecting the best solution. however, here it is solved by a single ip-formulation. any subset of k crops can be used for planting.



the two most relevant ip formulations, ip-3 and ip-4, are stated. these are most relevant since they can be simplified to all six remaining ips. for ip-1, d= 1 is enforced in ip-3. for ip-2 cost coefficients from ip-1 must be adapted. for ip-5 until ip-8, the inclusion of all k crops is enforced. accordingly, their counterparts ip-1 until ip-4 simplify.



remark 1. it is stressed that for h~< l, because of the clustering step 2, there can be examples constructed in which a hierarchical method that(a) first solves an assignment problem without accounting for any spatial field-proximity, before(b) then computing crop-tours can be more cost-efficient than a corresponding capr-solution. however, this cannot occur for h~= l. this is since the hierarchical solution is a feasible solution of the method coupling crop assignment and vehicle routing. therefore, in practice, to optimize the monetary result the number of clusters must always be increased as much as computational power and available ip-solver permit, ideally, until h~= l.



the focus of this paper was on problem modeling for a broad variety of settings typical in agriculture. for future work the main task is development of an efficient solution method. this is motivated by the fact that the output of capr-n remains heuristic and in general suboptimal for all h~< l due to the clustering step. thus, ip-solution methods must be developed that enable to solve in reasonable time for h~= l and for large l,



reformulations of the secs, for example, in form of mtz-secs(miller et al., 1960), which introduce additional continuous variables for secs and thereby render the problem of mixed integer nature may also be explored. alternatively and secondly, optimization by simulation algorithms, e.g., tabu search heuristics similar to gendreau et al.(1994), may be tested to solve the proposed ip-problems.



