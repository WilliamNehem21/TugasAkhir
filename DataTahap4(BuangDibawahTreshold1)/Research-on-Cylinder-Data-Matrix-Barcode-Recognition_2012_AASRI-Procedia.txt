For the special requirements of recognition the Data Matrix barcode which marked on the cutter cylinder, considering of traditional recognition methods can t solve the problems such as highlight reflection, cylinder distortion, the information incomplete collection, etc., causing low recognition rate. This paper presents a cutter cylinder Data Matrix barcode recognition method based on the sequence images mosaic and fusion. This method through rotating the cutter which is put in the auxiliary device to collect a group of cutter cylinder Data Matrix barcode sequence images, and then corrects the barcode longitudinal displacement to achieve calculating matching degree and image registration based on phase correlation method. At last, in order to ensure the structure of the barcode right, the sequence images are fused into three parts on the basis of the matching degree, and then achieve module division and distortion correction of each part. Finally according to the barcode module relation, three parts are fused into a barcode image which has a correct structure, and recognize the barcode image. The experimental results show that this method can solve the problem of recognition the cutter cylinder Data Matrix barcode, the decoding accuracy achieve 95%, and mosaic the time is less than 200ms.

real-time collection and tracking of the cutter information [1][2]. However, the actual collected DM code marked on cutter cylinder have some outstanding problems, such as the highlight reflection caused by the smooth surface, cylinder distortion caused by cylinder, incomplete information collection caused by the blocked cylinder or the inappropriate collection angle, which make it difficult for recognition DM code marked on cutter cylinder, as shown in Fig.1, and when the cutter diameter is more small, the problems are more serious.

In order to solve all these problems above at once, this paper presents a method that mosaic DM code sequence images to obtain high-quality barcode image, and then recognize it. The key technologies of image mosaic are image registration and image fusion. At present, there are mainly two registration algorithms: the phase correlation method [3][4] and the feature matching method [5][6]. However, comparing with traditional image mosaic, the DM code image mosaic has two significantly different points: (1) the mosaic results has to ensure the right structure of DM code, otherwise the current methods will be easy to cause structure error; (2) the mosaic time has to ensure the real-time requirements of the barcode recognition. These differences make the current image registration algorithms unreliability. Even if there is only one registration error in sequence images, it can cause the overall error of DM code structure. In the meantime the current  correct the cylindrical distortion, and fail to meet the real-time requirements of barcode recognition. Therefore, this paper presents a new algorithm based on sequence images mosaic and fusion to recognition the DM code.

Cutter cylinder DM code image collection system is mainly composed of positioning device, CCD camera, LED array light source, and sealing device, as shown in Fig.2. In the image collection process, cutter is put in the positioning device, and keeps the cutter cylinder DM code in the gap of the positioning device; then rotating the cutter and the CCD camera collect the cutter cylinder images at the same time. After the cutter cylinder DM code is rotated past the crevice completely, the sequence images will completely contain the cutter cylinder DM code information. Cutter cylinder DM code images collect from a small gap with a little cylindrical distortion and no highlight reflection.

The traditional methods locate DM code edge based on geometric shape feature. These methods are vulnerable to be polluted by scratches, noise with high error rate. Therefore, this paper presents a data fitting positioning method based on the image gray projection. Firstly, calculation the image horizontal gray level projection:

As a result of longitudinal displacement has been corrected in 3.1, this  s image registration only exists in direction x. In the range of x, we can get the maximum of the matching function as the optimal matching degree , and this location as the registration location G.

DM code has very strong error correction, as long as the structure of DM code is right, the barcode can be correctly decoded even if some barcode information is error. However, the traditional fusion methods are easily cause barcode structure error, resulting in all the information wrong. In order to ensure the DM code structure right, this paper according to the {n} divides the sequence images into three parts and preliminary fuses into three parts firstly, then corrects distortion. Finally, the three parts are fused into a correct size DM code image, and ensure the right structure.

Through the steps above, the sequence images fuse into three parts. In the first and last part, there contain blank area and module area, and the blank area should be cut. Using the above data fitting method, the algorithm calculates the barcode boundary in the first and last part, and then cut the blank area. After cutting, three parts only contain DM code, set Part0, Part1, and Part2.

{2n*2n|4n12} styles. The references [10] proposed a mean based on DM code boundary gradient projection. By going through all the module division modes, this algorithm uses normal peak characteristic value describe each module division mode results. Based on the DM code boundary properties, the normal peak characteristics value of the correct division mode is greater than the incorrect division mode, which has robustness when DM code boundary is polluted.

Causing by cylindrical curve and rotational motion blurred, the DM code image distortion has breadthwise distortion. The paper takes the max width image form Part0 , Part1 , Part2, then calculates horizontal gradient projection, searches the gradient projection, statistics complete horizontal module number q and its size Mq. The theory barcode module size is Ms=h/P, the actual barcode module size is M=Mq/q, and the DM code distortion ratio is =Ms/M.

Firstly, the image Part0 is put on the left side of the memory area, and the image Part2 is put on the right side. The algorithm scans Part1 by vertical scanning line, and marks the position where scanning line has maximum gradient, then puts Part1 between Part0 and Part2, and moves overlap w column elements with Part0 to the right until overlap one columns element. In the moving process, when the vertical scanning line marked in Part1 overlaps with the memory area mesh dividing line, the algorithm calculates the MSE of overlap region, sets the MMSE position as registration position finally, and cuts overlap area reserves at most 10 column elements, uses above weighted average method to fuse them. At last, using mature decoding algorithm recognizes the DM code in the buffer zone.

In order to confirm the effectiveness of the algorithm above, this paper tests on the cutter cylinder DM code imaging system, using MV-1300UM as the CCD camera, the focal length f=25mm, the image resolution 180*512. Sequence images mosaic on the computer with CPU 2.0GHz, memory 1GB with VC6.0.

We select 80 groups of DM code sequence images, collect ranges include, cutter diameter:  5~ 30, cutter material: high-speed steel and hard alloy, DM size: 4mm~12mm. Using the algorithm to mosaic these images, the accuracy decoding rate of the mosaic results can achieve 95%, and the mosaic time is less than 200ms. Comparisons the experimental results between this novel algorithm and the traditional algorithm are presented in table 1.

As the experimental results shown above, comparing with traditional algorithms, the novel cutter cylinder DM code sequence images mosaic algorithm has great advantages not only in time but also accuracy. Is also convenient to the subsequent decoding, improving the decoding speed. But, the DM code and the cutter axis generally have an angle, when the angle is greater than 15Â°, this mosaic algorithm maybe fail.

In the light of the special requirement of cutter cylinder DM code sequence images, this paper designs a cutter cylindrical DM code sequence images collection system, and focuses on analysis the mosaic method for DM code sequence images. For meet the real-time and reliability requirements of the DM code recognition, this paper proposes a new DM code sequence images mosaic method, discusses the mosaic model, image registration, image fusion, etc. The experimental results show that the algorithm can effectively mosaic cutter cylinder DM code sequence images, keep the DM code structure correct, and raise the barcode mosaic correct rate and decode accuracy.

