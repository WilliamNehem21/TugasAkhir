Large-scale complex system modeling and simulation involves multidisciplinary knowledge. It is usually necessary to create models using different modeling languages and methods. Therefore, a simulation system built by these models has the characteristics of heterogeneous and hierarchical structure. It will be a great challenge in designing and controlling simulation execution. This paper proposed a hierarchical modeling method and designed a synchronous control algorithm based on synchronous points array. Then we implemented a collaborative simulation framework based on distributed computing environment. The result illustrates this framework provides an efficient mechanism to support hierarchical modeling. With the rate of computing load to communication load increasing, the parallelism will be higher, thus the performance of the simulation system can be promoted.

systems [3]. Although some existing simulation tools, to some degree, can solve most analysis and evaluation issues of complex systems in single domain, they lack the support for complex system simulation in multidomain [4]. With the increase of sophistication and complexity within complex systems, it is difficult to solve the problem only use one kind of simulation tools [5]. Therefore, collaborative simulation technology for complex system simulation in multidomain becomes an important trend [6, 7].

Recently, a collaborative simulation system often combines hydromechanics, aerodynamics, mechanical control models to achieve united simulation. It involves various computing models with multidisciplinary knowledge [8]. Besides, each computing model is developed using various modeling languages and simulation tools. As a result, the simulation system composed of those models has the characteristics of heterogeneous and hierarchical [9, 10]. It brings a great challenge in the design and corporative control of simulation systems. To solve this problem, the paper proposed a collaborative simulation framework based on distributed computing environment. The results illustrate this framework provides an efficient mechanism to support hierarchical modeling. Moreover in the distributed computing environment, the performance of the collaborative simulation system can be improved.

The remainder of this paper is structured as follows: in section 2 we explain our collaborative simulation framework in detail. In section 3 we give the analysis with experiment. Finally, our conclusion will be made with an indication of the future work.

This paper has first studied the key technologies of collaborative simulation, then designed and implemented a collaborative simulation framework which is based on distributed computing environment. Computer nodes are classified as a simulation control node and several computing nodes in our framework. Each computing node contains at least one computing model. Computing models run on computing nodes and pass output parameters, status information to the simulation control node though TCP/IP protocol. In the running, the simulation control node receives output parameters and model status from the previous computing model, then passes input parameters to next computing model and schedules it to run. The collaborative simulation framework shows as figure 1.

A collaborative simulation often combines hydromechanics, aerodynamics and mechanical control models to achieve united simulation. It involves multidisciplinary computing models, such as CAE model, engineering algorithm model and unified physical model. In order to implement the distributed developing, debugging and packaging and ensure those models fine-grained and high quality of reliability. Those models are built by experts from different research domains using different modeling languages and methods. For instance, CAE models are usually developed using Fluent, CFX, Ls_Dyna, Nastran, Abaqus. Engineering algorithm models are usually developed using Matlab, Fortran, C and so on. Unified physical models are usually developed using Modelica. Those models can be assembled hierarchically to construct a complex simulation system model.

loop branch will be created to schedule computing models to run. In order to reduce the times of synchronization, only when it runs to a synchronous model (i.e. the last model of a loop branch, such as ModelB, ModelD, ModelG and ModelJ shown in figure 2), the simulation needs to be synchronized.

First, we create a synchronous points array, where the array elements are the multiples of the second small- time step of all the loop branches in a same simulation block. (For example, suppose that a simulation block includes six loop branches, and the time steps of each loop branches are 3, 1, 3, 6, 12 and 1. The end time of all the loop branches in this simulation block is set to 120. Thus the elements of the synchronous points array are (3, 6, 9, 12...120)). Each element of the synchronous points array is a synchronization time. All the loop branches need to be synchronized at each synchronization time.

Next, we set up a waiting queue. The element of this queue is the number of a loop branch whose current simulation time plus the time step exceeds the current synchronization time. We use the waiting queue to control the execution of each loop branch. When the simulation time advanced, if the simulation time of a loop branch in the waiting queue plus the time step less than the current synchronization time, the loop branch will be resume. The collaborative simulation synchronous control algorithm shows as figure 3.

In order to analyze the performance of our simulation framework, we distribute the computing models which compose the system model to different computer nodes in distributed computing environment. There are 15 parameters of average that passed among computing models. The data type is double float. Each loop branch iterative 100 times. The collaborative simulation controlling module runs on one computer node, and the models run on other different computer nodes. The system model is composed of 8 loop branches which includes 16 computing models. The Y-axes means the execution time of one model iterating once. There are 3 circumstances in our experiment: (A) no computing load; (B) the rate of computing to communication is 3:1;

hierarchical modeling approach, and designed a synchronous control algorithm based on synchronous points array. We implemented a collaborative simulation framework based on distributed computing environment. This framework provides an efficient mechanism to realize data sharing among multidisciplinary models. It is an efficient method for complex system simulation. The results of the experiment illustrate that with the rate of computing load to communication load increasing, the parallelism of the simulation system model will be higher, thus the performance can be promoted.

