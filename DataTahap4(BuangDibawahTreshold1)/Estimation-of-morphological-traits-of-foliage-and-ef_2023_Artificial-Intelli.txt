study, two classes, ‘Consumer Product’ and ‘Production_System’ are used for knowledge extraction. The ‘Consumer Product’ class provides an abstract view of the type, growth status, and growth parameters of ready-to-harvest crops in an aquaponics system. Whereas the ‘Production_System’ class provides knowledge on design parameters of the grow channels such as width, length and depth of channel and size of the plant site on the channel (Abbasi et al., 2021b). Fig. A3 in appendix A shows the hierarchical architecture of the ‘Consumer Product’ and ‘Product Quality’ classes with their instances for the ‘Basil’ crop in Protégé2 (an open-source ontology editor and framework developed at Stanford University) environment. The length and width of the channels can be extracted from ontology to be used to determine the plant spacing as well as the production capacity of the aquaponics facility using Eq. 16.

A cloud-based application is developed using Streamlit, where the final versions of both models developed in sections 3.3 and 3.4 are deployed. The layout of the application is shown in Fig. A4 of ap- pendix A. It consists of three tabs: i) Select model, ii) Upload image, and iii) Determine morphological traits and plant spacing. The first and second tabs are user inputs where the model is selected, and the image is uploaded respectively. The third tab activates the crop morphological model and plant spacing model respectively. The on- tology model is also deployed on a cloud-based application through the Owlready2 library. Once, the morphological traits are estimated and effective plant spacing is determined, the length of the channel is extracted from the ontology model to determine plant population and overall yield. Moreover, crop quality can also be assessed by comparing the predicted morphological traits of lettuce and standard

(Reyes-Yanes et al., 2021). Moreover, the images are captured in a sim- ilar fashion as discussed in section 3.1.1. But this time camera module consisting of four ELP 1080P webcams (2.8–12 mm HD Varifocal Lens) is used. All the webcams are attached at a distance of 40 cm and are scheduled to take one picture per day for five weeks. In total, 8 plant

overlap between ground truth and predicted bounding boxes or masks divided by the area encompassed by both the predicted bounding box and the ground-truth bounding box (Yu et al., 2019). For this purpose, the test dataset consisting of 140 images is used. The (IoU) is calculated as follows:

To evaluate the crop morphological model, the length, width, and area of lettuce foliage are computed from masks predicted by the trained model for the test dataset. The actual and the measured values for each morphological trait are compared. The increasing trend in the morphological traits is observed — indicating the growing behavior of the plants (increase in size). The estimation error between manual and masked dimensions for each trait per plant is then measured using root mean squared error (RMSE) using the formula given below.

facility and determine the effective plant spacing between grow channels. The idea is to develop an approach that can lead to a self-adaptive aquaponics system, where based on crop morphological attributes, the grow channels adjust their positions effectively to ensure high crop yield and quality by avoiding occlusions and foliage overlap- ping. The presented work has used the Mask-RCNN algorithm to enable a fine-grained detection of lettuce foliage within the images and the generation of a pixel-wise segmentation mask for each detected instance. The segmentation masks distinguish foliage from the back- ground and provide a mechanism to identify non-foliage classes, such as channel, Rockwool cubes, etc., by considering their high heterogeneity in form and texture.

The manual measurement of morphological traits is time- consuming and labor-intensive. Even for an experienced agriculturalist, it would take a significant amount of time to measure all morphological traits. The proposed approach can automatically estimate the morpho- logical traits of lettuce foliage that vary in size and shape. Plant spacing is one of the key features that impact crop growth. It is dependent on crop type as well as crop morphological traits. In this study, plant spac- ing is automatically measured for each segmented foliage using the mathematical model.

The final model is deployed on a cloud-based application and inte- grated with the ontology model. The ontology model provides informa- tion about crop characteristics and grow bed design parameters for a variety of crops grown in NFT-based aquaponics. The application acts as a decision support system, which analyses the results from the models, compares them with the relevant knowledge from the ontology model and suggests the final action by sending a control signal to the aquaponics facility for automatically adjusting the grow channels based on the value of plant spacing predicted by the proposed model.

While promising results are achieved from the proposed models, there is still scope for improvement. For instance, only one crop is con- sidered in this study for the estimation of morphological attributes and assessing the plant spacing between channels. Considering that, the po- tential solutions for estimating the morphological attributes of multiple crops will be investigated in future work. Subsequently, the dataset will be increased with more image variations and other leafy green crops as

1.5 cm for plant spacing. The final model is then deployed on a cloud-based application and an ontology model is integrated with it. The proposed method is accurate and flexible and hence can easily be applied in real scenarios. This contribution has great significance to the research community as it promotes the implementation of a self- adaptive aquaponics system that can be constantly improved using dynamic data. Moreover, the presented methods offer the opportunity to rely on smart technologies for the application of new concepts such as research on complex relationships between optimal parameters, and detection of nutrient deficiency in crops using computer vision which will pave the way for large-scale implementation of aquaponics farming technology.

