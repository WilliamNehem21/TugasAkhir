The glass tube rotameter is usually used only for site instructions, without remote transmission. In this paper, the inductance sensor detects the float's displacement, with the coil around the inner tube, core installed on the float. As a result, the displacement of the float caused by the flow can reflect the inductor changes. It turns the inductance changes to voltage amplitude changes through the three-point capacitance oscillator circuit, and we can get the DC voltage signal by filtering the sine wave through high-frequency filter circuit. After sampling process in AD converter, the output voltage can be measured. Based on the relationship between voltage and inductance, and inductance and flow, we can program in the MSP430 to get flow. The realization of non-electrify electrometric measurement by transforming float displacement changes to inductance changes improves the measurement accuracy, and achieves the remote transmission by precision current transmitter.

full use of the function between float displacement and inductor, and the function between inductor and measured flow, measures inductor instead of flow rate, and fulfils the non-electrify electrometric. By converting the float displacement measurement for the inductor measurement after a series of circuit which is connected with the inductance sensor, and corresponding to the flow rate through the MSP430 processing, it finally accomplishes the functions of displaying the flow rate in scene and remote transmitting [1]. It also accomplishes the digital and intelligent measurement.

In the system, the inductance sensor is used to measure the float displacement. In the glass tube rotameter, the coil is around the inner tube and the core is installed on the float, so that the inductor can change with the float displacement which is changed by the flow rate. As shown in Fig 1(a).

There are three methods to measure inductor: voltage-current method, alternating current bridge method, and LC resonant circuit method. The first method is easy but imprecise, and the measurement is accurate only when the air-core coil inductance value is great [2]. The second method can improve the measurement accuracy by adjusting the parameters and precision of the various components, but not suitable for dynamic measurement. The third method is used to generate high-frequency sine wave and can get the inductance value by measuring the parameters of the sine wave signal. The three-point LC resonant circuit is most adopted [3]. In this design, the range of the inductance value is 0.1mH~0.8mH and can be for dynamic measurement. To improve the precision it requires minimize the effects of the size and precision of other components as little as possible. Considered three methods, it chooses the LC resonant circuit-Kela Bo oscillation circuit-to measure the inductance, as Fig 1(b) [4].

In the design, there is a certain function between the output frequency and the inductance value theoretically in the Kela Bo oscillation circuit. However, in the experiment, not the output sine wave signal's frequency but the amplitude of output sine wave signal has a large change as the inductance changes. What's more, they have inversely proportional relationship, so we take advantage of the relationship between the amplitude and the inductance to get the flow rate and get verified.

The rectifier circuit which makes full use of the rectifier components with unipolar conductivity rectifies the positive and negative alternating sine wave AC voltage to the pulse voltage in signal direction [5]. However, the unidirectional pulsating voltage tends to have great pulsating components, far from the ideal. The filter, composed of capacitors, inductances and other energy storage devices, can remove the pulse elements as much as possible, so that the output voltage can be relatively smooth.

The rectifier circuit takes advantage of the diodes capability-unidirectional conductivity to turn the AC voltage into unidirectional pulsating voltage. For the least pulse component of the output waveform, we should take single-phase full-wave rectifier circuit in theory; the output frequency is so high that the single- phase half wave rectifier circuit can meet the demand, shown as Fig 2(a). The filter circuit after the rectifier circuit can help get a smoother DC output signal; in actual, the output is small in voltage and current, and we can choose the capacitor filter circuit.

The frequency of the sine wave signal output is about 1MHz, amplitude about 2V~4V; therefore, we choose the diode IN4148ST--a high speed switching diode. Besides, the silicon capacitance component is a dynamic energy storage device so that it has the ability to absorb and release energy [6]; the capacitance together with the load resistor in parallel can make up a first—order low—pass filter circuit which makes use of the function--the capacitance can charge or discharge in the resistance [7]. The actual rectifier filter circuit is as Fig 2(b).The overall measurement circuit is shown in Fig 2(c).

When flow changes, the float makes displacement, resulting the change of the inductance values and the DC voltage; so, there is a certain function between the flow and the DC voltage amplitude. In the experiment, the flowmeter inlet port receives the regulator tank for regulator airflow supply, the outlet of the flowmeter with the bell-type gas flow standards device, and the differential pressure transmitter to the bell-type gas standard device for temperature and pressure compensation. The entire experimental system is shown as Fig 3. In the experiment, all devices are as follow: a bell-type gas flow device (accuracy: 0.5%, pressure fluctuations: 50MPa, nominal capacity: 100L, working pressure: 1.6KPa), LZB-10 model glass tube rotameter, the differential pressure transmitter, the regulator tank, stopwatch, YB4320F/40F oscilloscope, the

Adjust the flow from the buffer tank, and voltage changes correspondingly. According to the voltage range 1.37V~2.34V, we divide every 0.1V into 10 points. When the voltage stabilize at a certain point, the stopwatch records the rise time of 20 small cells in the bell gas flow standard device. Each small grid is on behalf of 0.125L volume flow. The temperature and pressure are recorded by the pressure transmitter. In the end, the gas volume flow under standard conditions can be calculated as equation (1).

In the design, we make use of the capacitance three-point oscillator circuit to achieve the conversion from the inductance to the voltage value and extract the voltage value by the AD conversion in the MSP430 MCU. We get the functional relationship between the voltage value and the gas flow by experiment and accomplish the function calculation by processing. As a conclusion, the method can achieve the remote transmission of the signal of the glass rotameter and improve the measurement accuracy by the correction function. The

