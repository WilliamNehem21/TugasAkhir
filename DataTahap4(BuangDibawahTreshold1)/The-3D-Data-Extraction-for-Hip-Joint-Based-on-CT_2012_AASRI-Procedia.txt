The 3D data can be extracted by measuring healthy hip joint, which is the basis of making proper artificial hip conform to right physiological characteristics. In this paper, firstly, we use adaptive windows directed by neighbouring CT slices for reducing ranges of searching. Secondly, a method based on 2D contour characteristic points matching in multilayer is proposed to effectively correct contours. Thirdly, according to complexity in the primary contours, location and fitting quasi-circular contours femur head with circle are used to adjust contours of femur head. Finally, a projecting method based on distance transform has been used for locating key points of hip joint such as intersection of head and neck, which meets anatomy features, can obtain effective and efficient 3D data. In fact, experiment in this paper shows that the method in paper can accurately extract 3D data on proximal femur in CT Series Images.

Hip joint consists of femur head, neck and backbone. Femur head is the round end between femur and pelvic bone, surrounding by muscles. It looks like circularity in appearance. Femur neck is smaller which connects femur head and femur backbone. Femur below femur neck appears tubular. In order to make artificial hip fit the biological and physical characteristics, and matching the structure of acetabular bone better,

Extracting hip contour is the premise of 3D data extracting. The segmentation of bones is difficult because of the irregular physiology bones structure, fuzziness of the contour line caused by conjunction of femur head and acetabular bone, low contrast and noise etc. No-seed region segmentation is employed in [1], this method is very useful since there are some holes in the region which can be ignored, but it depends on initial value too much. Non parameter Level Set method for image segmentation which proposed in [2] has great adaptability for images with low contrast, however it is complicated to calculate. In [3] the solution is introduced that extracting the dental contours from frame to frame with region growing method combined with radial line method. The new solution can get good segmentation if quasi circular bone parameters are fixed and interactive input is specific, but it seems not adaptive enough to resolve quasi circular femur segmentation with flexible radius, so its level of automation is not high.

The border tracking method [4] is improved to get primary contours, through searching clockwise the border of bone continuously till coming back to beginning position, then recording the subsequence of border points, combined to internal or external situation against border can determine border. However, this method gets more than one external border in a slice. Considering area occupied by required bone is bigger than other bones in ROI, we can pick the right border with calculating the biggest area as the primary contour. Meanwhile, by normalizing the contour point information, the 2-dimensional position data can be reduced to 1-dimensional one.

The first step for adjusting is finding the frame range of femur head. In Fig 2(a), which is a cutaway view for bone, and there exists characters that the line link from top greater trochanter to bottom femur head is horizontal. The position is marked in Fig 2 as Kb , and contour areas change greatly form frame Kb to Kb 1 , we can get Kb through find the biggest difference of contours between neighboring frames. In Fig 2(b) Ke is where femur head disappears, and it is an image projecting on XZ plane. In the top of head, horizontal

We cut the whole bone from top to bottom vertically, which make the section basically lie at the axile line. Due to section is vertical to XY plane, section depend on cut line on the top of bone. In order to find right cut line which evenly cut whole bone, we project all contours in all frames to XY plane as Fig 3(a).

In this experiment, there are some hip joint CT series scanning images from male subjects (512  512 pixel, interlayer distance is 1mm, pixel distance is 0.78125mm). Choose 5 groups of images randomly for detecting of left side and right side in hip. Compared with manual segmentation results, the results of automatic head- neck angle detection (demonstrate in table 1) are evaluated by objective different degree O . It is defined as in (5).

In this paper, an automatic and effective method for hip segmentation and data extraction is proposed. We employ bottom-to-top strategy to process serial images. Meanwhile, this paper also introduces an associated interframe tracing method, and makes full use of contour in known slices to analyze contour of subsequent slices with interframe correlation, and avoid the interference of other contours, improve speed of obtaining. In order to locating head-neck intersection with projecting method based on distance transform, which meets anatomy features, can obtain effective and efficient 3D data. Compared with manual segmentation, the method can segment proximal surface of hip join femur accurately, and prepare a good basis for later study on characteristics of proximal femur.

