Bluetooth wireless network technology is an emerging technology that allows Bluetooth devices to form a multi-hop ad hoc network known as a scatternet. Efficient routing in a scatternet has positive impacts on the performance of a network but the routing for inter-piconet communication has not been standardized yet. Many protocols have been proposed for route optimization but they still need more development. In a previous work, the route request packet was flooded throughout the network in order to find the main route. In this paper a Bluetooth Scatternet Route Optimization Protocol (SROP) is proposed. The SROP gets the information of all the possible paths through flooding. It floods the route request packets to the bridge and master devices and then chooses the appropriate path. After selecting the path, it then performs network restructuring to reduce the number of hop counts between the source and the destination. Simulation results reveal that the proposed protocol has achieved enhancement over the enhanced AODV protocol by increasing the ratio of the data packet delivery, reducing the delay time, minimizing the number of hop counts between the source and the destination. Consequently, it improves the whole network throughput.

Bluetooth technology is a promising wireless technology [1] that permits the moveable devices to make a short ranged network with no more than eight devices or make a multi-hop network with more than eight devices. The Bluetooth network which has a maximum of eight devices or less is called a piconet. The master device concludes the frequency hopping spread sequence and all connected slave devices follow the master device in order to continue synchronizing with the channel [2]. The master device performs the inquiry operation by sending ID packets to the other devices. Devices in the inquiry scan operation receive inquiry

The remaining portion of this paper is structured as follows: the next section is related work which consists of a synopsis of the Bluetooth routing protocols. The proposed Bluetooth Scatternet Route Optimization Protocol is presented in detail in Section 3 and Section 4 discusses the simulation results. Finally, this paper is concluded in Section 5.

Many routing protocols for Mobile Ad hoc Networks (MANETs) have been implemented but these protocols cannot be used directly in Bluetooth networks because of their bandwidth and MAC layer features. Ad hoc routing protocols are supposed to be joined with the functions of the scatternet formation. When ad hoc network protocols are applied for scatternets, ad hoc routing algorithms should be consider for the establishment of a new scatternet [7]. To find the routing paths, the scatternet needs to utilize the routing schemes.

Conventional ad hoc routing protocols can be used for Bluetooth networks. The first attempt for routing in a Bluetooth network was introduced by Bhagwat who proposed the Routing Vector Method [8]. The enhanced AODV routing protocol for a Bluetooth network [7] is a core protocol for scatternet communication; this protocol enhanced the main route discovery process of AODV [9]. The protocol uses two types of

algorithms; one is traffic the intensity calculation algorithm and the other is the power prediction algorithm. It finds the main route by flooding the route request packets to all the devices (slave, master and bridge) in the scatternet. As this protocol floods the route request packets to all the devices in the network, the slave devices consume extra energy and time.

Another problem with this technique is that it chooses the main route from the available routes but it does not use any efficient technique for route optimization. In Fig. 2, suppose device B wants to communicate with the device J. It starts searching for the route by flooding the whole network and waits to get all the possible routes.

In this section, a new Bluetooth Scatternet Route Optimization Protocol, SROP, is proposed. This protocol is designed for a static Bluetooth network in which the main route is established and contains a minimum number of hop counts. Initially, all the connected masters maintain their tables in which they must keep the information about the number of slave devices, device locations, clock off-set, connected bridges and device role. When a device wants to communicate with a device in other piconets, it must inform the master device and send the ID of the destination device. The source's master device broadcasts a route message (rt_msg) to the bridge devices and when they receive this message they also broadcast it to the other connected master devices; this process will continue until they find out the ID of the destination. The device which receives the rt_msg must reply back to the previous device with the information of the other connected devices. In this way the source's master device receives the information of all connected devices and can easily select the shortest path from the source to the destination. The main purpose of SROP is to find the shortest path between a source and a destination. By flooding, it gets the information of all the devices in the scatternet and makes the shortest path. During the path establishment, if it needs to change the device role, it first sends the request message to the master of the device which performs the role switch operation.

Throughout the simulation: fifty Bluetooth devices were scattered in an area of 70m x 70m. Constant Bit Rate (CBR) traffic was used for the application representation. A total of fifty devices were used, varying from fifteen to fifty. There were eighteen pairs of source and destination used and the Round Robin (RR) scheduling algorithm was employed. The data packet types used were DH3 and DH5. The whole simulation execution time was 200 seconds.

Fig. 4 shows the data delivery ratio of both protocols. During the simulation, when the data was routed through SROP, more data packets were received as compared to the enhanced AODV protocol. Whereas, when data was routed through the enhanced AODV protocols, it created more packet loss. Fig. 4 shows that the data delivery ratio of the proposed SROP was higher than the enhanced AODV. Moreover, it was also noticed that when the number of conversation pairs increased, it also increased the delivery ratio but at some points it decreased again. This turnover was due to congestion.

During the simulation, when the data was routed through the enhanced AODV protocol and SROP it was observed that the previous protocol created more end-to-end delay as compared to the proposed SROP. For the communication between any pair of source and destination, SROP made the shortest main link with the minimum hop count, thus resulting in the minimum delay. The comparison of the average end-to-end delay is presented in Fig. 5.

The proposed SROP performs network restructuring in order to reduce the intermediate hops whereas the previous protocol finds the route through flooding. By using the flooding mechanism, the enhanced AODV protocol finds the main route and starts communication but it does not take any action to make the link more efficient. The link with the minimum hop count forwards the data more efficiently; if any problem occurs within the main route then it can be removed easily. In Fig. 6, the comparison results of both protocols prove that the main routing link of the proposed SROP contains the minimum number of hop counts as compared to the enhanced AODV protocol.

In this paper, we have proposed a route optimization protocol for the Bluetooth scatternet. The main purpose of the protocol is to find the shortest path between a source and destination. Firstly, the master of the source device gets the information of the possible paths by flooding the route request message to the bridge and master devices. Next, it selects the route and performs network restructuring to reduce the hop count. It makes the route as short as possible and then transmits data through the shortest path. The problem with the longest route is, as it contains multi-hops and more intermediate devices, it consumes extra resources and time.

