Device-to-Device (D2D) communication underlaying a cellular network is a promising technique, and it has recently been proposed for booming local services, which will greatly improve system capacity by sharing the same resource blocks of cellular users at the same time. However, the mutual interference brought by inappropriate resource reuse will deteriorate the performance of the whole system. In this paper, a mode shifting resource allocation scheme is presented without channel state information (CSI) of D2D link and D2D user to cellular user link. D2D pair traditionally shares resource block of cellular user with the best channel to reduce the relative interference to cellular link. While in the other way, for the same purpose, the D2D user can also reuse the resource block over which its transmitter has the worst channel between itself and base station (BS), in addition a simple strategy is put up to select the reusing mode that provides larger capacity. Numerical results show that our proposed scheme performs significantly better than reference scheme in terms of system capacity and outage probability of cellular link, besides the scheme will not cause any extra complexity.

In recent a couple of years, the scarcity of spectrum have drawn much attention from companies and research institutes, and to provide some additional technique for local service may be a practical way to solve this problem. A researcher from Nokia and his team have firstly brought the conception of device-to-device (D2D) communication mode into LTE cellular network [1]. Different from other techniques based on the infrastructure of cellular network, D2D pair can set up a link and communicate directly as Fig. 1 shows. In cellular network, when D2D users share the same spectral resource blocks (RBs) with some cellular users, the spectral efficiency will be improved. Meanwhile the cellular user will be influenced by the interference from D2D transmitter. To better control the interference, BS will be still in charge of assigning the sharing RBs to D2D devices. Due to its higher spectral efficiency and simple signaling, D2D communication may be an efficient part of future network as a supplement communication. Already existing research mainly contains two parts: power allocation and transmission mode selection. In [2-6], satisfactory results have been obtained in different scenarios on power control and communication mode selection.

Yu et al. proposes a simple power control scheme for D2D transmitters on the condition that signal-to- interference-plus-noise-ratio (SINR) distribution could be derived by statistical methods. So the system can set a certain threshold to control the interference from D2D users [2]. Also, their advanced research includes another power allocation scheme, in which BS dynamically coordinates the interference between the cellular link and D2D link without suspending the cellular link service [3]. Whatâ€™s more, Hakola describes the system throughput by equations to analyze the performance of the system in the cellular network with D2D communication mode [4]. In [5], a mode selection procedure has been concluded which takes into account the link quality and the situation of D2D pair, when D2D users share either cellular uplink or downlink resource, and the working mode of D2D user depends on the values of the two parameters. Furthermore, a more detailed power control scheme for D2D devices is proposed, which changes the D2D transmitter power in dynamic tuning step [6]. In fact, research in field of resource allocation also improves the performance of whole system significantly, and a resource allocation scheme is proposed which allocates appropriate resource for D2D users according to the lowest data rate of cellular user as needed to ensure the QoS of cellular user [7]. All the research requires that the original power allocation and signaling protocols in LTE network need to be changed, and this will affect the compatibility of the algorithm with the original system. Especially when BS needs to know the CSI of those links which are not linked to it directly, the system will pay a lot more for signaling overhead.

In this paper, no power allocation or other relevant protocols in original LTE network will be changed, and we are chiefly concerned with how to exploit the difference of channel state information (CSI) when D2D transmitter occupies different RBs, and then propose a resource allocation scheme that enhances the signal or reduces the interference separately. According to the CSI of cellular users and the CSI of D2D transmitters to BS, the system will properly select out the resource allocation mode with larger capacity. The rest of this paper is structured as follows. Section 2 describes the basic model when D2D communication exists in LTE networks. The detailed proposed resource allocation mechanism is given in Section 3, and Section 4 presents some convincing numerical results. The last section comes to the conclusion.

Suppose the resource allocation process of cellular users has been complete, then the BS collects the CSI of cellular user and D2D transmitter. BS allocates proper resource to D2D users according to the channel information linked to it and maximizes the system capacity. In order to achieve higher throughput, we formulate the problem as an optimization process of allocating appropriate RBs to D2D users. Users in a D2D link enabled network can communicate with each other directly as shown in Fig. 2. C1, C2, C3 and C4 represent cellular users. Moreover, D1, D2, D3 and D4 are D2D users. The SINR of D2D pair d and the cellular user c are calculated as d and c :

Formula (3) is the optimization objective. Conditions in (4) and (5) guarantee the lowest SINR of the cellular link and D2D link, and the constraint in (6) ensures that different cellular users will occupy different RBs and each RB can only be reused by one D2D pair at most. In order to integrate the D2D communication in to LTE network smoothly, the uplink power control has been applied to cellular users and D2D transmitters [8], so here we can ignore the impact of different distances to BS and the receiving power of cellular user and D2D user are equal at BS. However, solving the aforementioned problem seems still impossible within such a short time delay in LTE networks.

performance in terms of the system capacity. The proposed scheme selects out the best several resource blocks of cellular users, and then assigns to D2D pairs in a decreasing order. Through careful observation of the expression of c , we can see that higher channel gain ( gcB ) from cellular user c to BS could obtain higher c . Thus, any cellular user with high channel coefficient can share RBs with the D2D pairs. For each RB selected out, the D2D pair whose channel gain between its transmitter and BS is lowest will reuse it, and that is to make the maximum in expression (7):

In our proposed scheme, we not only follow the scheme that assigns the best RBs for cellular users, but also focuses on the worst resource block for D2D users in the links between D2D transmitters and BS separately to control the interference source. This would be a perfect supplement to the reference scheme without any extra complexity. The scheme can be divided into three steps.

Step 2: BS selects out the resource blocks according to the CSI of one particular D2D pair on each RB that could be reused. If the worst resource block for each D2D pair is different, then BS will update the resource allocation matrix at once. Otherwise the D2D pair that has the lowest channel gain will share resource block, other D2D pairs continue to check its second worst resource block, until each D2D pair has one particular resource block to share as shown in Algorithm 2. Then BS computes the whole capacity as (9):

Repeat the process in every time slot. Actually, the feature of our proposed scheme is considering either the CSI of cellular users first or D2D pair first. In addition, we can figure out that the complexities of the two algorithms are the same. Our scheme is the combination of the two algorithms, so the complexity of our proposed scheme is the same magnitude as the reference one.

