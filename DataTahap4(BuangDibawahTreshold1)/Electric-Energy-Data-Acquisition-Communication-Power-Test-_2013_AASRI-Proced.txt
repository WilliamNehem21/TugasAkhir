More and more communication is used to realize the intelligent electricity-use and the Chinese smart grid. These communication links will likely bring electromagnetic environmental pollution, affect the electric energy meter performance, induces the waste of electric energy. This paper introduces a kind of electric energy data acquisition communication module power testing method, and the development of test equipment.

Smart electricity application and electric energy data acquisition has become an important part of China's smart grid construction. And smart electricity application is physically based on the electricity data acquisition system. It likes an interactive bridge between power supply enterprise and the user.

In the interacting process of electric energy data acquisition system, the remote channel and local channel has to communicate many times. Especially when local channel needs repeaters for network, the communication becomes more frequently. The communication means of smart energy meters applied in power grid, includes a low voltage power line carrier, micro-power wireless communication module, RS485 bus communication, and so on. Communication modules have a variety of products, uneven quality, and different work power consumption.

Testing section provides 3 module testing positions, each for the concentrator carrier module, three-phase meter carrier module, single-phase meter or collector carrier module. In order to reflect the real measured carrier module power characteristics, this system needs a high speed, and high precision sampling. The voltage and current signal can be considered as a continuous signal f (t) . The sampling process can be

The measurement section is controlled by a microcontroller, which measures the current and voltage in real-time. This part is the key part of the measurement apparatus. With the control of the microcontroller chip CS5550, ADR431 and an analog switch 74HC4052, measuring section collects the current, voltage real-time acquisition.

CS5550 Cirrus Logic chip contains two  -  A/D converter (ADC) and a highly integrated serial interface  -  A/D converter. One ADC interface of CS5550 for measuring carrier module current, is connected to the output of 74HC4052. Another ADC interface for measuring carrier module voltage, through the divider resistance means, is connected to power supply of the carrier module. CS5550 serial interface is connected to the SPI of the MCU.

ADR431BR is a high accuracy 2.5V voltage reference source, produced by ANALOG DEVICE company. It has high accuracy, low noise and low temperature drift properties. While CS5550 has a 2.5V benchmark itself, but its accuracy and temperature drift canâ€™t meet the requirements. The ADR431 outputs a 2.5V benchmark for CS5550 precision measurement.

protocol. Connected to the three-phase ammeter carrier module UART is used to simulate of three-phase electricity meter communication protocol. Connected to the collector of the carrier communication module is used to simulate collector acquisition communication protocol. The UART connected to the PC completes the instruction interaction with PC, which control the measurement and reading of the measured data.

The measuring device of MCU uses UC/OS-II system. UC/OS II (Micro Control Operation System Two) is a based on the ROM operation, which can be trimmed, preemptive real-time kernel, with a high degree of portability, particularly suited to the microprocessor and a controller. It has an nice operating system performance for the real-time operating system (RTOS).

The CS5550 task is first configured for a second sampled only 1 time. This can guarantee the updated every second voltage data, but also can give the MCU burden.When high speed sampling, the CS5550 is configured for a second sampled 1000 times, and start the sampling and interrupt. Then, the process goes to interrupt. In the interrupt, data is read and stored in the external memory. When the sampling number specified number, it will stop the interrupt, send a measurement end signal. At the start of high speed sampling, CS5550 task have to wait for the end signal. After getting the signal, it will notify the PC, and CS5550 will be reconfigured as a second sampling time again. After receiving the corrected signal, it will stop the interrupt, and start the calibration. After being read from interrupt, calibration data will be stored in the flash (that is not lost after power off).

PC interaction tasks in serial initialization, by blocking the way for collection of data receive mailbox. In the interrupt, when receiving data, it will judge whether it has a frame header and a tail sign, for combination a complete data packet. After receipt of a complete data packet, it will be sent to a data receive mailbox. When PC interaction task receives a data mail, PC will make a CRC trading, and then parses the command word, finally give the response, sent to PC.

The task simulation concentrator sends the data to concentrator carrier module, and triggers the carrier module in the transmit state, to measure the power characteristics. The way using tasks with interrupt mode is similar and PC interaction task. Collector and meter simulation task is using a similar way to simulation.

