The main contribution of this paper is the development of a generic method for combining effects described by algebras constructed using local functions over effect operations. This method uses the tensor product on complete lattices, featured e.g. in [9,16,28,32]. This operation is a symmetric monoidal product which naturally combines the different notions of truth for the different effects. We show that the tensor product preserves complete distributivity of complete lattices. Complete distributivity is useful for characterising the structure of the tensor of complete lattices.

Take for instance a program which tosses a coin, and on heads will return an 3, and on tails a 6. We want to determine to what degree this program produces an even number. So we take a predicate P which associates to 3 a 0 probability of being even, and to6a1 probability of being even. Then our algebra combines these two results, with the knowledge that the coin is fair. This allows it to determine that the program is expected to produce an even number half of the time.

The reason why we distinguish between linearity and ilinearity is because of a disconnect between the demands on the truth space A, and the demands on how to answer questions using an algebra. Linearity is the inherent property of morphisms in Com which contains our truth spaces, whereas the local functions which will make up our algebras are ilinear, but not linear in general (see the forthcoming examples in Subsection 3.2).

Alternatively, we could also have a global store used for storing natural numbers. In such a case, the lookup operation will have a countably infinite arity, and the set of states is given by S = NLoc. This works out the same way as Boolean store. In the rest of the paper we will, for the sake of clarity, only look at Boolean store.

As can be seen in the examples of Subsection 3.2, local functions are not linear in general, they are ilinear. For example, Exppor(F[0,1], T[0,1])= (0 + 1)/2 /=0= F[0,1]. So we need a method of combining ilinear functions. Luckily, if all the complete lattices concerned are completely distributive, the bijection F given in (2) preserves ilinearity. This allows us to use the same construction to combine ilinear functions.

To illustrate how the above method yields valid interpretations of combinations of effects, we look at a handful of examples. In each case, we add a specific effect to an arbitrary effect description. In Subsection 7.1, we will look at some more specific combinations of effects.

In other cases, extra axioms are needed to describe the interaction between the effects we want to combine. Such axioms, which contain effect operations from both theories, are called interaction laws. The most common interaction law is a commutativity law [14,15].

