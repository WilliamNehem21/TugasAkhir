settings for partiality have been developed on different levels, e.g. in the work by Curien and Obtulowicz on partial cartesian closed categories [10], by E. Robinson and G. Rosolini on P-categories [14], and later by Cockett and Lack on restriction categories [8].

syntactically a bit finer than other versions (which is a must for syntactically sensi- tive aspects, such as rewriting). We introduce some of the theories of interest, and describe briefly the construction of the classifying category of a theory. Particu- lar emphasis is placed on the fact that different notions of natural transformation correspond under the functorial semantics to different notions of homomorphism of partial algebras.

In this section we first rehearse some standard material about categories of partial maps. We then explore the basic theory of unitary categories, develop some basic results about the unitary quotient of a category and investigate its effect on the global sections functor; this will play a key role in section 4.4 where we investigate completions of partial algebras.

Thus, these finite limits are limits in the enriched sense; still, we shall simply speak about terminal objects and products, as there will be no chance of confusion. If a restriction category has a terminal object and binary (hence all finite) products, we say that the category is cartesian. Similarly, a restriction functor preserving all of this structure is called a cartesian functor. Each of the above 2-categories of restric- tion categories has a cartesian variant; e.g., we denote by CartRcatl the 2-category of cartesian restriction categories, cartesian functors and lax total transformations.

The logic we are presenting is a typed logic; atomic types will be written A0, A1,.. ., or A, B, C,.. ., and general types are formed by taking finite products of atomic types, including the empty product type denoted 1.

7 In the universal algebra approach to partial algebras one employs different terminology. What we have called a strict, total homomorphism is called closed in [4], while our lax total homomorphisms are considered the standard notion in loc. cit. and are simply called homomorphisms.

The second way of turning a theory into a total one consists of adding axioms of the form ()|t = () for every term t in the language or, more economically, adding axioms ()|f(x1,...,xn) = () for each function symbol. The result of applying this to a theory T will be denoted by Tot(T).

theory Tot(T); as defined, this is a cartesian restriction category, but the restriction is trivial since we have forced all maps to be total. And the third is the cartesian category C[Erase(T)], the classifying category of the erasure of T. The category C[Tot(T)] should not be confused with the subcategory Tot(C[T]) of total maps in C[T]; these categories are generally very different.

Definition 4.4 [Unitary Theory] A partial theory T is unitary if t|T = s|T implies t|s = s|t for all terms t, s. A model A of a theory T in a category D is unitary when, for every pair of terms t, s in T and every term r we have [t|r]A = [[s|r]A implies that [t|s]A = [[s|t]A.

To illustrate why it may be useful to know that a theory is unitary, we consider the problem of completing a partial model. The following definition can be found, albeit not in this exact wording, in texts on partial algebras (e.g. [4]):

In this section we outline some further results concerning partial combinatory logic and its classifying category. In particular, we investigate the global sections of the generic model. Some of the results rely on the fact that partial combinatory logic has a confluent rewriting presentation. The precise notion of rewriting system on partial terms, as well as an analysis of confluence and normalization in such systems is the subject of a forthcoming paper ([7]), but since some of the applications are closely related to the material presented here we have opted to present these here.

