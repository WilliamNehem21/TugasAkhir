Recent peer-to-peer architectures do not fulfill the idea of a service-oriented architecture to allow the flexible composition of services towards concrete applications. This can be justified by the absence of flexible notations for the composition of services that incorporate the dynamic nature exposed by peer-to-peer architectures. In this work, the peer-to-peer architecture DeEvolve is presented that provides novel ways for the composition of services including the handling of exceptions such as the failure of peers. The intention of this approach is to facilitate even less-skilled end-users to compose and to maintain service-oriented applications.

Software architectures represent software systems as a coherent set of high- level computational elements such as components, objects, or services together with their interactions and dependencies. The merit of an architecture-based development is to drift away from a low-level, code-based development towards a more flexible development focusing on the composition of self-contained building blocks. The structure of software architectures is often specified in a declarative manner by an external, formal notation. Prominent approaches for these notations are architecture description languages (ADLs) or workflow

The notion of a software architecture makes at first no proposition con- cerning the actual organization, distribution, or availability of the constituting building blocks. Therefore, designers usually revert to so-called architectural styles to design software architectures on top of appreciated and established architectural organizations [5]. Well-known architecture styles for instance are the client-server, layered, or pipe and filters style. The selection of a style depends strongly on the intended use of the architecture.

The major contribution of this work is a novel approach for the composition of peer services within a peer-to-peer architecture to overcome the drawbacks of existing architectures and notations. A notation called PeerCAT is pre- sented for the composition of various peer services in a declarative manner. PeerCAT also allows to define exception handlers itemizing resolution plans in the case of exceptions caused for instance by the failure of peers. The structure of peer services is modelled by the composition of components. A component model does thereby prescribe the valid remote and local interaction primitives between services in a unified way. Both the component model and PeerCAT constitute the foundation for the component-based runtime environment DeE-

This rest of this article is structured as follows. In the second chapter, the notion of the peer-to-peer architecture style as assumed in this work and a review of existing peer-to-peer architectures are pointed out. The third chapter presents the DeEvolve component architecture, covering the novel approach for composition management and exception handling. The related work presented in chapter 4 concentrates on the comparison of the illustrated solutions with other issue-related approaches. Chapter 5 finally concludes this paper and gives a brief outlook for future work.

Peer-to-peer computing should enable users to organize in groups without the assistance of a central authority. These self-governed communities can share, collaborate, and communicate, or participate in their own private web. Peer groups can thereby restrict the access of their computer resources to authorized peers. A peer first has to apply for group membership before it can join a group.

Semantic interpretation. The underlying peer group concept has two semantic interpretations. The first intention is to subdivide peers into groups according to common interests or knowledge independent from any given orga- nizational or network boundaries. Only peers that are interested or, moreover, are authorized to a group, are able to receive internal group messages. The second purpose is rather technically funded: the transmission of messages to a restricted number of (interested) peers instead of to all peers does actually reduce the network traffic.

Analyses. There are a plethora of possible analysis that can be conceived for this style. An important task is to schedule all connections or dependencies to other peers. The violation of a dependency to a peer during use time (for instance due to a failed peer) may not only result to local exceptional cases within a single peer, but also to global misbehavior within the entire peer- to-peer architecture. Exception handling therefore is a primary challenge for a peer-to-peer architecture. Exceptions can also occur during the start of an application, if remote peer services belonging to a previously composed application can not be resolved and integrated. This might lead to cases that the respective application cannot be started correctly. Besides, the adaptation of a peer service (for instance the deletion of single ports) can be erroneous, if dependencies from other peer services are violated.

The JXTA framework constitutes the most sophisticated peer-to-peer ar- chitecture due to its generic nature. The framework fulfills the characteristics of a peer-to-peer architecture style remarkably. However, JXTA does not address most of the implementation issues and analysis recommendations as elucidated in Section 2.2:

Specification Advertisement The purpose of the specification advertisement is to provide all information necessary to access a service. There can be multiple specification advertisements for a given class advertisement. The intention is to provide multiple versions of a given peer services.

Implementation Advertisement This advertisement provides the Remote- CAT description of a peer services and, hence, a detailed specification, how to access the peer service. This advertisement is essential, if the peer services should be composed with other peer services (see Section 3.3).

During deployment of the minimal composition, the missing services are substituted by so-called mock services, which are generated by DeEvolve au- tomatically. While running the minimal composition, DeEvolve still tries to resolve the missing services and to deploy them belatedly by replacing the respective mock services. This kind of deployment is indicated as lazy deploy- ment. The Deployment tag indicates, how long the system is instructed to resolve the missing services. After this time, the user himself can use the DeE- volve console to discover an alternative service. The Accessable tag denotes, if a composition that has been advertised as peer service can be accessed by other peers, even if only a minimal composition has been resolved.

The concept of minimal compositions and lazy deployment facilitate the exception handling during the start-up or deployment of a composition. How- ever, these concepts do yet not support the treatment of exceptions during the use time of an application. Exception handling during use time will be the topic of the next section.

For both types of handling exceptions, DeEvolve keeps track to which remote peers a peer has established a connection to consume a service. These peers are pinged in regular intervals. If each ping follows a response from a peer, then the peer is said to be alive. If no response occurs, an exception is assumed. Besides the failure of service or peers, other types of exceptions are supported by DeEvolve, such as the loss of group access rights, the violation of constraints defined on public attributes of services, or the violation of a minimal composition during runtime.

as for the handling of exceptions as intuitive and easy to learn. The instru- mentation of service compositions with exception handlers affords a relatively good understanding of the semantics of the complete composition, for instance the possible exceptions a composition may cause. Although the proposed in- strumentation mechanisms are simple, end-user and, particularly, beginners could be swamped with the composition, instrumentation, and the selection of exception handlers. Similar observation were made in user tests for the first adaptation and compostion environments of the FreEvolve platform [19]. In order to improve the intuitiveness and the ease to learn of DeEvolve, one could think of further developments such as exploration environments, helping systems or wizards.

Exception handling on code-level is integrated in well-known programming languages like Java. The advantage of this method of exception handling is to handle a large number of different low-level types of exceptions for in- stance within a single component. However, developers of components cannot anticipate all situations, in which a distinct component will be deployed by third-parties and, thus, the possible exceptions it will cause. Hence, it is reasonable to integrate exception handlers after all components have been composed to a concrete application. The abstraction towards a more course- grained, declarative exception handling is intended to enable end-users the intuitive instrumentation of PeerCAT structures through appropriate tools.

