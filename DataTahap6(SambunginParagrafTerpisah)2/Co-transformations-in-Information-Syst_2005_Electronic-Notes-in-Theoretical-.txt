Database reengineering consists of deriving a new database from a legacy database and adapting the software components accordingly. This migration process involves three main steps, namely schema conversion, data conversion and program conversion. This paper explores the feasibility of transforming the application programs through code transformation patterns that are automatically derived from the database transformations. It presents the principles of a new transformational approach coupling database and program transformations and it describes a prototype CASE tool based on this approach.

Migrating the application programs is another hard challenge. Indeed, the size and the complexity of the source code of the programs make the lat- ter difficult to migrate while maintaining the readability of the target code. The paper analyzes the problem of data-centered application programs migra- tion following the migration of their databases. It explores the feasibility of transforming the application programs through code transformation patterns that are automatically derived from the database transformations. It presents the principles of a new transformational approach that couples database and programs migration and it describes a prototype CASE tool based in this approach.

The paper is structured as follows. In Section 2, we define the problem of database reengineering, for which we present a disciplined methodology. Sec- tion 3 describes a transformational approach for each step of the reengineering process. In Section 4, we define the concept of co-transformation in the par- ticular context of database applications reengineering. Section 5 describes the architecture of a tool developed to support the reengineering process. Finally, concluding remarks are given in Section 6.

One way to view Information System Reengineering is the reengineering of the database, i.e., deriving a new database from a legacy database, then adapting the software components accordingly. This description encompasses several objectives and strategies. In this paper, we will consider one of them, namely converting a legacy system to a modern database technology, that is, reengi- neering due to a technology change. Typically, this process comprises the following three main steps: the new database instead of the legacy data. In the scenario studied, the functionalities, the programming language and the user interface are kept unchanged. This conversion step is generally a complex process that must rely on the schema conversion of Step 1.

The resulting database is quite obscure, very difficult to evolve and often very inefficient. However program conversion is quite easy and generally auto- mated. As expected, this process is inexpensive, and therefore quite popular. On the long term, however, this technique oftent is a dead end. Indeed, both the database and the application programs are practically impossible to main- tain, due to the poor data structures and to the intricacy of the source code.

The semantic migration approach produces a better quality target database. Through a complex DBRE 6 process, the conceptual schema (i.e., the seman- tics) of the legacy database is recovered. Then, the target database is de- signed from this conceptual schema, using standard database development techniques. Obviously, the semantic approach is more expensive, but it pro- duces a well-designed, fully-documented database that forms a sound basis for both existing and future applications.

DB-MAIN [19] is a data-oriented CASE environment developed by the LIBD of the University of Namur. Its objective is to support most database engineering processes. It helps developers and analysts in the development, reengineering, migration and evolution of data-centered applications. DB- MAIN offers general functions and components that allow the development of sophisticated processors supporting data-centered application renovation.

Experience shows that there is no such thing as two similar reengineer- ing projects. Hence the need for programmable, extensible and customizable tools. DB-MAIN (and more specifically its meta functions) includes features to extend its repository and its functions. In particular, it includes a 4GL (Voyager 2 ) that allows analysts to develop their own customized processors for analyzing and transforming data structures.

The ASF+SDF Meta-Environment [15] is an interactive development envi- ronment for the automatic generation of interactive systems for manipulating programs, specifications, or other texts written in a formal language. It is developed by the SEN1 research group of the CWI. In the context of data reengineering, the ASF+SDF Meta-Environment provides tool generators to support the program conversion step. It allows both defining the syntax of programming languages and specifying transformations of programs written in such programming languages [14].

An important conclusion of the transformation-based analysis of database engineering processes is that most of them, including reverse engineering and database design, can be modelled through compound, semantics-preserving transformations. Database conversion, or reengineering [1], is carried out in two steps, namely database reverse engineering and database design. There- fore, the migration of a database from a technology to another one can be modelled by a complex compound transformation, the structural mapping of which is used to convert the database schema while the instance mapping defines the data conversion rules.

DB-MAIN automatically generates and maintains a history log of all the trans- formations that are successively applied to the legacy DB schema (LDS) to obtain the new DB schema (NDS). This history is formalized in such a way that it can be analyzed and transformed. Particularly, it can be used to de- rive both the forward and backward mappings between the LDS and the NDS.

In the wrapper-based code organization, the migration strategy performs pro- gram conversion in two steps. First a data wrapper that simulates the DML of the legacy DMS on top of the new database is generated. Then, the legacy programs are transformed such that they access the data through the wrapper generated.

Wrapper generators for COBOL-to-SQL and CODASYL-to-SQL data mi- gration have been developed through plug-in of the DB-MAIN tool. These generators take the LDS-to-NDS mapping as an input and generate the code that provides the application programs with a legacy interface to the new database. The wrapper solves three mismatch problems, namely model, API and schema [7].

