Program analysis plays a key part in improving modern software. Static (sound) analyses produce globally correct, but often pessimistic results while dynamic (complete) analyses yield highly precise results but with limited coverage. We present the Fuzzy set abstraction which generalizes previous work based on 3-valued logic. Our abstraction allows for hybrid analysis where static results are refined dynamically through the use of fuzzy control systems.

Being able to combine both kinds of analyzes can greatly improve results, for instance in non-functional verification (e.g. deducing worst-case benefit of com- piler optimizations) when pessimistic assumptions about input state/environment is used. In this case, sound results are interesting at compile-time so that optimiza- tions that are guaranteed to be detrimental is not applied. In contrast, complete results are interesting at run-time where the actual set of inputs are known and hence the benefit of an optimization can be accurately evaluated. The fuzzy data- flow framework[5] showed how program analyzes based on fuzzy logic can uncover optimization opportunities that classical frameworks would not. The generalization to many-valued fuzzy logics allow program properties to be true or false to a certain degree. The truth values are elements of the unit interval 2 and denote bias of the program property. For instance, a result of 0.1875 would indicate that the property tends to false since it is closer to 0 (false) than to 1 (true).

We introduce the Fuzzy Set Abstraction that generalize the three-valued logic abstraction[10]. We present the theoretical foundation of the fuzzy set abstraction and prove soundness for the static analysis (Section 3.1). We also present a dynamic analysis (Section 3.2) where we use an adaptive fuzzy inference system from fuzzy control theory to gradually specialize the analysis results to improve accuracy.

We briefly introduce several concepts from the fuzzy set community. Our static analyses manipulate fuzzy sets using predicate transformers, expressed using fuzzy logic (Section 2.1), and collector functions motivated by possibility theory (Section 2.2). Similarly our dynamic analyses start from the results of the static analysis and iteratively specialize it to increase the accuracy of our results. This process relies on a fuzzy classifier (Section 2.3).

values. We will therefore use their program analysis framework as a basis for our own fuzzy set abstraction which is described in Section 3.1. Although analyzes in our framework are decidable and sound the resulting abstract description could, in the worst-case, be very large. Therefore we also consider cases where the resulting description is kept to a minimum. Analyses in this approximation yield a single interpretation representing the maximum interpretation.

Embeddings was introduced by Sagiv et al.[10] to relate 2-valued and 3-valued inter- pretations. Informally they relate logical structures that conform to an information order. The embeddings cluster individuals and decide the value of their properties in terms of the corresponding values of the members of the cluster. Importantly, the class of embeddings that minimize information loss is termed tight and are used to define the abstract semantics of a flow-graph. Note that although we choose to cluster individuals here it is also possible to cluster predicates[7] as in a predicate abstraction.

We have introduced the Fuzzy Set Abstraction which enables stating properties about programs which are true or false to a certain degree. This opens up new possibilities for speculative optimizations which can now use information about which values, branches, etc. are more likely than others.

We have also shown how to perform hybrid analysis by refining the result of a static analysis online. This has been done using TS-ANFIS, an adaptive fuzzy inference system from control theory. This result paves the way for importing other results from the rich literature of fuzzy control theory.

