Several studies as in [23,10,17,5] show a significant augmentation of energy consump- tion and digital pollution caused by recent expansion of Clouds and Data Centers. More than 1.3% of the global energy consumption is due to the electricity used by data centers. Additionally, one data center server can produce more than 10 kilogram of CO2 per day, rates that are increasing, revealed by surveys conducted in [23,40], saying a lot about the increasing evolution of data centers. Thus, needs for energy saving is emerging to consider a power management strategy face to the energetic problems and digital pollution issues. Data centers are designed to sup- port the expected peak traffic load, however the global load is about 60% of the

Studies like [26,3] show that much of the energy consumed in the data center is mainly due to the electricity used to run the servers and to cool them (70% of the total cost of the data center). Thus, the main factor of this energy consumption is related to the number of operational servers. An important effort was focused on servers and their cooling. Efforts have been made to build low-energy-consumption processors and better components [18], more efficient cooling systems [37], optimized kernels [20], and more efficient energy network [10]. Against this background, com- plementary saving energy approach is to consider a power policy to manage the switching-on/off of servers in a data center to ensure both a better quality of ser- vices offered by these data centers and reasonable energy consumption.

It is known that the size of an MDP is important, and the computation of the optimal policy can be hard even impossible for big models. Indeed, it is crucial to analyze the structural properties of the optimal policy to speed-up the computation. Several works as in [46,29,43,19,38] investigate the structure of optimal policy and give conditions to check double-threshold structure.

The rest of the paper is organized as following. Section 2 shows how the ar- rival jobs can be modeled by discrete distribution obtained from real Google traffic traces [47,41]. We also suggest a method to build a discrete identically indepen- dently distributions. Section 3 models the system by simple queue. Then, Section 4 formulates the optimization problem as discrete time MDP. After that, in Section 5 we prove some structural properties related to the optimal policy. Finally, Section 6

Example 2.1 Assume that, per slot, we have a probability of 0.14 to receive 3 arrival jobs, 0.19 to receive 7 arrival jobs, and 0.67 to receive 11 arrival jobs. In this case, arrivals are modeled by histogram HA = (SA, PA) where SA = {3, 7, 11}, PA(3) = 0.17, PA(7) = 0.19, and PA(11) = 0.67.

A data center is composed of heterogeneous servers grouped essentially into several levels of energy consumption. To simplify we consider the set of the following levels G = {high, med, low} (med for medium). The number of operational servers of type g is denoted by mg and maxg is the maximal number of servers of level g.

(i.e. waiting and loss jobs) and the energy consumption (i.e. number of operational servers). However, as the number of servers changes with time, the system becomes more complex to analyze. The number of servers may vary according to the traffic and performance indexes. More precisely, depending on n, l, and a particular cost function some decisions are taken to change mhigh, mmed, and mlow.

As shown previously, the size of the MDP is important, and the computation of the optimal policy can be hard, and even impossible for a big data center. In fact, it is essential to analyze the structural properties of the optimal policy to make the computation efficient. In particular the double-threshold structure was proved in the case of a homogeneous data center in several models like in [49]. In the following we will be interested in some properties around the optimal policy, and we show in particular that the property of the double-threshold structure does not hold for our heterogeneous data center model.

This case study uses real traffic traces based on the open cluster-data-2011-2 trace [47,41]. As in [7], we model arrival jobs, and additionally service rates, by discrete distributions build from the job/machine events corresponding to the re- quests destined to a specific Google data center for the whole month of May 2011. This traffic trace is sampled with a sampling period that ensure the i.i.d-ness as- sumption. Thus, we consider frames of 136 second to sample the trace and construct empirical distributions.

to write a specification for our MDP model which can be written easily if the system parameters were small, but when we consider real systems with big parameters it will be very hard. As an example the PRISM specification associated with a data center with 10 heterogeneous servers is a file of several thousands of lines, all lines are different from each other. Trying to write our specification without automated generation is time consuming, gives rise to making easily mistakes, forgetting some cases, losing time for updating or maintaining. Indeed, as the specification of our heterogeneous model is huge and not obvious to write (see Section 4), we have coded a tool that helps us to generate automatically the PRISM specification file.

Results show that heterogeneous model saves more energy (12% better then homo- geneous model). However, the size of the three homogeneous models is relatively small compared to the size of the heterogeneous one which is huge. The size of heterogeneous model is due to the large number of different action combinations.

