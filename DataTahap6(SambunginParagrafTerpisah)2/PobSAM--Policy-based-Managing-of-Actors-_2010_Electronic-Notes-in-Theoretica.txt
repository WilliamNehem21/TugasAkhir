Contribution Formal methods are proposed for analysis of adaptive systems, mainly at the low levels of abstraction, and flexible policy-based approaches are proposed for designing adaptive systems without formal foundation. Here, we pro- pose a flexible policy-based approach with formal foundation to support modeling and verification of self-adaptive systems. Policies allow us to separate the rules that govern the behavioral choices of a system from the system functionality giving us a higher level of abstraction; so, we can change system behavior without changing the code or functionality of the system. We are also concerned about the adaptation strategy, to pass the adaptation phase safely and at the right moment. As an ex- ample, we are able to change and reason about the scheduling of jobs using policies independent of the system code. Although our approach can support both structural and behavioral adaptation, in this paper, we focus on the behavioral adaptation. The formal foundation, the modular model, and separation of adaptation rules will help us in developing rigorous analysis techniques.

Structure of the paper This paper is organized as follows. In Section 2 we introduce an example to illustrate our approach. Section 3 introduces the PobSAM model in brief. Sections 4 and 5 introduce the syntax and semantics of PobSAM, respectively. Section 6 presents related work and compares our approach with the existing approaches. In Section 7, we present our conclusions and plans for future work.

In a home automation system, sensors are devices that provide smart home with the physical properties of the environment by sensing the environment. In addition, actuators are physical devices that can change the state of the world in response to the sensed data by sensors. The system processes the data gathered by the sensors, then it activates the actuators to alter the user environment according to the predefined set of policies. Smart homes can have different features. Here, we take into account three features including: (1) The lighting control which allows lights to switch on/off automatically depending on several factors. In addition, the intensity of the lights placed in a room can be adjusted according to the predefined policies.

(2) Doors/Windows management that enable inhabitants to manage windows and doors automatically. In addition, if windows have blinds, these should be rolled up and down automatically too. (3) Heating control which allows inhabitants to adjust the heating of the house to their preferred value. The heating control will adjust itself automatically in order to save energy.

Self-Managed Module (SMM) is the policy-based building block of PobSAM. A PobSAM is composed of a set of SMMs. An SMM, in turn, may contain a number of SMMs structured hierarchically. An SMM is a set of actors which can manage their behavior autonomously according to predefined policies. PobSAM supports interactions of an SMM with the other SMMs in the model. To this aim, each SMM provides well-defined interfaces for interaction with other SMMs. In the smart home case study, we consider three SMMs including LightClModule, TempClModule and DWClModule to manage lighting, temperature and doors/windows respectively.

Example 4.1 In the LightClModule SMM, the managed layer comprises a set of light rebecs controlled by LightMngr. We consider a reactive class named Light to model the lights which contains setIntensity, switchOn and switchOff message servers as well as intensity and status state variables.

P  Q means that intersection of policy sets P and Q is used to direct actors. P-Q reduces policy set P by eliminating all the policies in set Q. P  Q represents the union of P and Q governing the actors simultaneously. p denotes a policy set with the simple policy p as its member. P Q and P Q are commutative and associative.

pn2 d=ef [2 , occpd , true, light1 .setIntensity (d1 )  light2 .setIntensity (d2 )] pn3 d=ef [3 , rccpd , true, light1 .setIntensity (c1 )  light2 .setIntensity (c2 )] pn4 d=ef [4 , unoccpd , true, light1 .switchoff ()  light2 .switchoff ()]

As stated above, PobSAM has decoupled the adaptation layer from the func- tional layer. Thus, we can verify the adaptation layer independently from the actor layer provided that we have a labeled transition system modeling view behavior. This feature can decrease the complexity of verification procedure.

Dynamic adaptation is a very diverse area of research. While structural adapta- tion has been given strong attention in the research community(see [21]), fewer approaches tackle behavioral adaptation as we considered. Due to the lack of space, we restrict ourselves to present related work done on formal modeling of self-adaptive systems in addition to applying policy-based approaches in engineer- ing of self-adaptive systems.

Employing policies as a paradigm to adapt self-adaptive systems has been given considerable attention during recent years. Work in [8,9,10,11,23,25] used policies as the adaptation logic for structural adaptation, while we use policies as a mech- anism for governing as well as adapting system behavior. Furthermore, [23] used policies for a simple type of behavioral adaptation named parameterization, too.

We proposed PobSAM as a formal model to develop self-adaptive systems which uses policies as the main mechanism to govern and adapt the system behavior. To this aim, we model a system as the composition of a set of autonomous components named SMMs. Each SMM contains two types of actors: managed actors that are dedicated to the functional layer of system and autonomous managers that coordi- nate actors to achieve the predefined goals using policies. This model integrates two formal methods including algebra and actor-based model to specify a system. Then, we presented the operational semantics of PobSAM by means of labeled transition systems.

There is much more research to pursue in the area of verification of self-adaptive systems. In this paper, we focused on formal modeling of self-adaptive systems. Verification of different properties of adaptation and functional layers of PobSAM models is an ongoing work. We are going to implement a tool to support our ap- proach too. As our model can support both behavioral and structural adaptations, our future researches will be concentrated on specifying structural adaptations. Ex- tending this model for modeling self-organizing systems in which managers need to coordinate together is considered as a future work, too.

