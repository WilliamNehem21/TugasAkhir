This paper extends previous work on the compilation of higher-order imperative languages into digital circuits [4]. We introduce concurrency, an essential feature in the context of hardware compilation and we re-use an existing game model to simplify correctness proofs. The target designs we compile to are asynchronous event-logic circuits, which naturally match the asynchronous game model of the language.

the proof of correctness. Finally, the third problem is that the semantic model used is essentially asynchronous while, for pragmatic reasons, the circuits which are the target of the compiler are synchronous. This leads to further problems with proofs of correctness, problems which were addressed in a rather ad hoc way. A principled method for the synthesis of synchronous circuits from asynchronous specifications is now studied separately [14].

Any SCI term is an SCC term in which all free identifiers have bound 1. Note that the reverse is not true. The fact that SCI is an instance of SCC means that we can use its fully abstract game semantic model [9] as a basis for our circuit semantics. The SCC game model is constructed from the game model of Idealized Concurrent Algol (ICA) [8], which we present below.

Moves are basic observable actions for some type. The labelling function distin- guishes between Opponent and Proponent moves, as well as Question and Answer moves. Enabling establishes a fundamental causation relation between moves, sub- ject to some conditions: only Opponent Questions can be without an enabler, an enabling move and an enabled move have distinct Opponent/Proponent labels and only Question moves can be enabling moves. For more detailed intuitive explana- tions of game semantic concepts the reader is referred to the literature [3,5].

The basic observable actions for commands are q, running the command, and a, finishing execution. For boolean expression the actions are evaluating the expression q then producing either true t or false f . For variables, we can either query the variable q or write true wt or false wf ; the answers to the query are t true or f false, and for wt, wf an acknowledgement a, respectively.

The game model for SCI can be represented using only the XOR, C, CALL, WIRE and FORK fragment of event logic. We represent arenas as sets of ports, with a distinct port corresponding to each move. An O move is an input and a P move is an output. Constants are

Additionally, we show that taking into account the same assumptions about the behaviour of the environment, the circuit will have no failed traces. This is important because the notion of composition of Def. 3.6 only tells us what correct traces are produced, not that no bad interactions occur.

