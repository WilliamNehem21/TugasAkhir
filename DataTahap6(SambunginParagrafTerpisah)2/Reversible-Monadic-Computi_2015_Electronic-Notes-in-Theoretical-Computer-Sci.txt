This is brought to a head in quantum computing, where any deterministic evo- lution of quantum bits is invertible, unlike the eventual measurement that converts quantum information to classical information. Another novelty in quantum comput- ing is that it is impossible to copy or delete quantum information. This leads to a linear type theory of resources rather than a classical one [47]: quantum computing takes semantics in monoidal categories, rather than Cartesian ones [2].

Led by quantum computing, this article extends the categorical semantics of monadic programming to reversible computing. To allow for a linear type theory we consider monoidal closed categories. To allow for reversible computations, we consider dagger categories; in general these correspond to bidirectional computa- tions rather than invertible ones, which in the quantum case comes down to the same thing. To allow for monadic effects, we introduce Frobenius monads. In the presence of a dagger, any monad gives rise to a comonad; a Frobenius monad is one that interacts with its comonad counterpart via the following Frobenius law : 4 We often need to reason simultaneously about morphisms in a monoidal category and endofunctors on it. Unfortunately there is no sound and complete graphical proof calculus that would handle this yet. Therefore we cannot use the graphical calculus exclusively and also have to use traditional commutative diagrams.

Frobenius monads have been studied before [46,32], and monads have been used as semantics for quantum computing before [15,4,3], but not in a dagger setting, except for [41] that deals with the commutative case abstractly. Conversely, re- versible programming has been modeled in dagger categories [6], but not using monads. Daggers and monads were combined before in coalgebra [20,24], quantum programming languages programming languages [14,45], and matrix algebra [11]. The current work differs by systematically starting from first principles. We intend to fit probabilistic programming in our setup in future work.

Example 3.2 Frobenius monoids in FHilb correspond to finite-dimensional C*- algebras [50, Theorem 4.6]. These play a major role in quantum computing [28], but also as semantics for labelled Markov processes with bisimulations [35,43,30,37] and as operational semantics of probabilistic languages [12,13]. Commutative Frobenius monoids in FHilb therefore correspond to orthonormal bases when special [9].

One of the standard categorical constructions when given a monad T is to consider the category CT of its Kleisli algebras. In monadic programming, this category gives semantics for computations with effects modeled by T , whereas the base category C only gives semantics for pure computations [25]. In this section we show that if T is a Frobenius monad, then CT is a dagger category. In fact we also show the converse, under a natural condition about cooperation with daggers. Thus effects modeled by a monad can be added without leaving the setting of reversible computations precisely when the monad is a Frobenius monad.

