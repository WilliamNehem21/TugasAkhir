

Electronic Notes in Theoretical Computer Science 220 (2008) 115–127
www.elsevier.com/locate/entcs
A Behavioural Pseudometric based on
λ–Bisimilarity 1
Jinjin Zhanga,2 and Zhaohui Zhua,b,3
a Department of Computer Science Nanjing University of Aeronautics and Astronautics
Nanjing, P. R. 210016, China
b State Key Lab of Novel Software Technology Nanjing University
Nanjing, P. R. 210093, China

Abstract
In order to describe approximate equivalence among processes, the notions of λ–bisimilarity and behavioural pseudometric have been introduced by Ying and van Breugel respectively. Van Breugel provides a distance function induced by λ–bisimilarity, and conjectures that his behavioural pseudometric coincides with this function. This paper is inspired by this conjecture. We give a negative answer for van Breugel’s conjecture first. Moreover, we show that the distance function induced by λ–bisimilarity is a pseudometric on states, and provide a fixed point characterization of this pseudometric.
Keywords: Process algebra; λ–bisimilarity; behavioural pseudometric; fixed point characterization


Introduction
The notion of bisimilarity is one of the central concepts in process algebra [9,10]. Roughly speaking, two processes are said to be bisimilar if they can perform same actions to reach bisimilar states. Two bisimilar processes always are thought to be equivalent [9,10]. However, when we consider labelled transition systems whose states or actions contain quantitative data, the notion of bisimilarity seems not to be very suitable for describing the equivalence among processes. For instance, in real time systems, time delays play a key role and there is often a bit differ- ence between time delays. It is too restrictive that time delays can be matched only when they are identical. To overcome this defect, a number of theories have

1 This work received financial support of the National Natural Science of China (No. 60496327, 60573070), the NSF of Jiangsu Province (No. BK2007191) and Fok Ying-Tung Education Foundation.
2 Email: jinjinzhang@nuaa.edu.cn
3 Email: bnj4892856@jlonline.com

1571-0661 © 2008 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2008.11.022

been presented to describe approximate equivalence among processes (for exam- ple, [1,2,3,4,5,6,7,8,11,12,13]). In these papers, two different approaches have been adopted.
One approach is to introduce approximate equivalence relations over processes. For example, Giacalone et al. provide ε–bisimilarity for probabilistic transition systems [5]. In the same framework, Di Pierro et al. introduce a technique for defining approximate versions of various process equivalences [11]. Ying presents λ– bisimilarity [12,13] based on labelled transition system (LTS) and metric spaces over actions. Girard and Pappas introduce δ–approximate bisimulation in the framework of LTS with observations and metrics over observations [6,7,8].
Another approach is based on distance functions over processes (or, states). For instance, Giacalone et al. [5] and Desharnais et al. [3,4] define the pseudometrics on the states of probabilistic transition systems respectively. In the framework of LTS, van Breugel provides three avenues to define behavioural pseudometrics [2]. The behavioural pseudometric is a distance function between states, which is a quantitative analogue of bisimilarity. In the framework of quantitative transition system (QTS), de Alfaro et al. define the distance between traces and lift this trace distance to distances over states [1]. Furthermore, they provide the notion of branching distance, which generalizes the notion of bisimilarity.
Recently, the relationship between these two approaches has been considered in the literature. For example, a relationship between branching distance and δ– approximate bisimulation is established by Girard and Pappas [8]. Van Breugel also presents the following conjecture, which concerns the relationship between his notion of behavioural pseudometric and Ying’s λ–bisimilarity [2]:
d(x, y) = inf{λ : s ∼λ t}
where d is the behavioural pseudometric provided by van Breugel in [2] and s ∼λ t
means that s and t are λ–bisimilar [12,13].
This paper is motivated by the above conjecture. We first give a negative answer for this conjecture. Then we consider the distance function dI defined by dI (s, t) = inf{λ : s ∼λ t} for each states s and t. We show that this distance function is a pseudometric. Furthermore, a fixed point characterization of this distance function is established.
The rest of this paper is organized as follows. In Section 2, we recall related definitions in the literature. In particular, we recall van Breugel’s conjecture and provide a counterexample for this conjecture. Section 3 shows that the distance function dI induced by λ–bisimilarity is a pseudometric. In Section 4, we obtain a fixed point characterization of this pseudometric. Section 5 finally compares our work with related work.

λ–bisimilarity and van Breugel’s conjecture
This section will recall the notion of λ–bisimilarity [12,13] and van Breugel’s con- jecture [2]. The interested reader may refer to [2,12,13] for more information.

Definition 2.1 Let X be a nonempty set. The pair (X, ρ) is a metric space if ρ is a mapping from X × X into [0, ∞] such that for any x, y, z ∈ X,
ρ(x, y) = 0 if and only if x = y,
ρ(x, y) = ρ(y, x),
ρ(x, z) ≤ ρ(x, y)+ ρ(y, z).
If (1) is weakened by
' ρ(x, x) = 0 for each x ∈ X, then ρ is called a pseudometric.
Definition 2.2 ([2]) A metric LTS is a triple (S, A, →) consisting of a pseudometric space S of states, a metric space A of actions and a labelled transition relation
→⊆ S × A × S.
As mentioned in introductory section, the notion of bisimilarity may not be very suitable for describing approximate equivalence. Ying presents the following notion to overcome this defect.
Definition 2.3 ([12]) Let σ = (S, A, {→a : a ∈ A}) be a metric LTS, ρ a metric on A, R ⊆ S × S and λ ∈ [0, ∞]. The relation R is a λ–bisimulation if and only if for each (s, t) ∈ R, for each θ > λ and for each a ∈ A,
whenever s →a  s1 then there exist b ∈ A and t1 ∈ S such that ρ(a, b) < θ,
t →b t1 and (s1, t1) ∈ R; and
whenever t →a  t1 then there exist b ∈ A and s1 ∈ S such that ρ(a, b) < θ,

s →b
s1 and (s1, t1) ∈ R.
As usual, we say that s and t are λ–bisimilar, in symbols s ∼λ t, if (s, t) ∈ R

for some λ–bisimulation R. In other words, λ–bisimilarity ∼λ is defined as ∼λ=def
  {R : R is a λ–bisimulation}.
Clearly, λ–bisimilarity does not always force matched actions to be identical and admits some difference between them. Such difference is depicted by metrics on actions. Moreover, it is easy to see that the usual notion of bisimilarity may be regarded as λ–bisimilarity with the discrete metric (i.e., ρ(a, b) = ∞ for all a /= b and ρ(a, a) = 0 for each a ∈ A).
Proposition 2.4 ([12]) (1) For any λ1, λ2 ∈ [0, ∞], if λ1 ≤ λ2 then ∼λ1 ⊆∼λ2 .
For any λ ∈ [0, ∞], ∼λ is a λ–bisimulation and it is reflexive and symmetric.
As mentioned in the introduction, van Breugel provides three different but equiv- alent characterizations of a behavioural pseudometric: a fixed point, a logical and a coalgebraic characterization [2]. In the same paper, he presents a conjecture concerning the relationship between his behavioural pseudometric and Ying’s λ– bisimilarity. The work of this paper is inspired by this conjecture. In the following, we recall some related definitions in [2].
Definition 2.5 ([2]) The relation ± on pseudometrics on S is defined by
d1 ± d2 if d1(s, t) ≥ d2(s, t) for all s, t ∈ S.

Definition 2.6 ([2]) Let (S, A, →) be a metric LTS, and let d be a pseudometric on S and ρ be the metric on A. The function Δ(d): S × S → [0, ∞] is defined by
Δ(d)(s, t) = max ⎧⎨ sup inf ρ(a, b)+ d(s1, t1), sup inf ρ(a, b)+ d(s1, t1)⎫⎬

⎩ a	b
b	a	⎭

Here, inf ∅ = ∞ and sup ∅ = 0. The distance function df : S ×S → [0, ∞] is defined to be the greatest fixed point of Δ.
It should pointed out that defining a behavioural pseudometric as a greatest fixed point was first done by Desharnais et al. [4]. Van Breugel conjectures that the following equation holds [2]:
df (x, y) = inf{λ : s ∼λ t}.
However, this equation does not always hold. A counterexample is provided below.

.	1	>.	3	>.
s1	s2	s3

.	2	>.	4	>.
t1	t2	s3

Figure 1
Example 2.7 Consider the processes s1 and t1, whose behaviours are depicted in Figure 1. Here, 1, 2, 3 and 4 denote actions and the distance between actions a and b is defined as |a − b|. We set
R = {(s1, t1), (s2, t2), (s3, s3)}.
It is easy to check that R is 1–bisimulation. Further, we get s1 ∼1 t1. Thus, we obtain
inf{λ : s ∼λ t}≤ 1	(2.7.1) Next we will show df (s1, t1) > 1 by proving the following claim.
Claim. df (s2, t2) = 1 and df (s1, t1) = 2.

We compute df (s2, t2) first. Since s2 →3
perform any other action, we get
s3, t2 →4
s3 and s2 and t2 can not

sup
a
inf
b
ρ(a, b)+ df (u, v) = ρ(3, 4) + df (s3, s3).	(2.7.2)

s2→u t2→v
On the other hand, since df is a pseudometric, we have df (s3, s3) = 0. Further, it follows from (2.7.2) and ρ(3, 4) = 1 that

sup inf
a	b
ρ(a, b)+ df (u, v) = 1.

s2→u t2→v

Similarly, we obtain sup
a
inf
b
ρ(a, b)+ df (u, v) = 1. Thus, it follows from Defi-

nition 2.6 that
t2→u s2→v

Δ(df )(s2, t2) = 1.

Since df is the fixed point of Δ, we get df (s2, t2) = 1.
In the following, we will show df (s1, t1) = 2. Since s1 →1
t1 can not perform any other action, it follows that

s2, t1 →2

t2 and s1 and

sup
a
inf
b
ρ(a, b)+ df (u, v) = ρ(1, 2) + df (s2, t2).

s1→u t1→v
Further, since df (s2, t2) = 1 and ρ(1, 2) = 1, we obtain

sup inf
a	b
ρ(a, b)+ df (u, v) = 2.

s1→u t1→v

Similarly, we have sup
a
inf
b
ρ(a, b)+ df (u, v) = 2. Hence, it follows from Defi-

nition 2.6 that
t1→u s1→v

Δ(df )(s1, t1) = 2.

So, df (s1, t1) = 2 follows from the fact that df is the fixed point of Δ.

Hence, by the above claim and (2.7.1), we get df (s1, t1) /= inf{λ : s1 ∼λ t1}. 
This negative answer should be anticipated. In fact, λ–bisimilarity and van Breugel’s behavioural pseudometric df characterize different aspects of approximate equivalence. Roughly speaking, the former describes the similarity of states in terms of the distances between the corresponding actions, while the latter captures the similarity of the behaviour of states based on the total of distances between the corresponding actions. More formally, if s ∼λ t and s can make a sequence of actions a1, a2, ··· an, then for any ε > 0, t can make a sequence of actions b1, b2, ... bn such that ρ(ai, bi) < λ + ε (1 ≤ i ≤ n). In contrast, if df (s, t) = λ and s can make a sequence of actions a1, a2, ... an, then t can make a sequence of actions b1, b2, ... bn such that Σ1≤i≤nρ(ai, bi) ≤ λ.

Behavioural λ–pseudometric
When we consider system approximations, one may argue that the notion of dis- tance, rather than relation (for example, trace equivalence, simulation and bisimu- lation), is particularly useful in the quantitative setting [1]. In this section, we will illustrate that Ying’s approach also provides a simple characterization for distances between states. To this end, the function dI is introduced below. Similarly, in the framework of probabilistic transition systems, Giacalone et al. have provided their pseudometric in terms of ε–bisimilarity [5].
Definition 3.1 (behavioural λ–pseudometric) The function dI : S×S → [0, ∞] is defined as

dI (s, t) = inf{λ : s ∼λ t}
In the following, dI is said to be a behavioural λ–pseudometric.
Clearly, if s ∼λ t then dI (s, t) ≤ λ. Someone may raise the following conjecture: if dI (s, t) = λ then s ∼λ t. The next counterexample illustrates that this does not always hold. A similar example has been considered in [12].


s .
//\
t .
//\ 

1	//1 \ 1
1	//1 \ 1	0

// − \ −
// − \ − 

. /	2	n	/	2	\n

s11
/
s21
./ . . .
1
\. . . .
n1 1
t11
./
t21
./ . . . 
1
.
tn1
. .  . t01



s12
1
.	.
s22
−2
. . .

.
sn2
—
n
. . . 



t12
1
.	.
t22
−2
. . . 

.
tn2
—
n
. . . 
0
.
t02

Figure 2
Example 3.2 Consider the processes s and t, whose behaviours are depicted in Figure 2. Here, 1/n and 0 denote actions for any positive integer n. The distance between actions a and b is defined as |a − b|.
Let λ > 0. We set
Rλ = {(s, t)}∪ {(si1, ti1) : i > 0}∪ {(si1, t01) : 1/i > λ}
∪ {(si2, ti2) : i > 0}∪ {(si2, t02) : 1/i > λ}
It is easy to check that Rλ is a λ–bisimulation. Thus, s ∼λ t. It follows that
dI (s, t) ≤ λ. Since λ is arbitrary, we get {λ: s ∼λ t} = {λ : λ > 0}. So, dI (s, t) = 0.
On the other hand, it is clear that si1 /∼0 t01 for each i > 0 4 . So, there is not
u ∈ S such that
s →a u and u ∼0 t01 for some action a.
Further, by t →0 t01, we get s /∼0 t. Thus, dI (s, t) = 0 and s /∼0 t.	 
In the rest of this section, we will show that dI is a pseudometric over states.
Before showing it, we first prove two preliminary results.
Lemma 3.3 Let s, t ∈ S and k ∈ [0, ∞). Then
if dI (s, t) < ∞ then for any ε > 0, s ∼dI (s,t)+ε t; and

if dI (s, t) < k and s →a
ρ(a, b) < k and dI (s1, t1) < k.
s1 then there exist b ∈ A and t1 ∈ S such that t →b
t1,

Proof. We show that (i) holds first. Assume that
s /∼dI (s,t)+ε t for some ε > 0.
Then it follows from (1) in Proposition 2.4 that s /∼k t for any k ≤ dI (s, t)+ ε .
So we obtain



4 Let i > 0 and θ = 1/2i. Then t01 0
and si1
can not perform an action a with ρ(0, a) < 1/2i. Thus

by Definition 2.3, si1 /~0 t01.

dI (s, t) = inf{λ : s ∼λ t}≥ dI (s, t)+ ε > dI (s, t).
This is a contradiction.

Next we prove that (ii) holds.  Let dI (s, t) < k and s →a
(k − dI (s, t))/2. Clearly, ε > 0. Then
inf{λ : s ∼λ t} = dI (s, t) < k − ε.
So there is λ ∈ [0, ∞) such that
s ∼λ t and λ < k − ε.
By (2) from Proposition 2.4, it follows from s ∼λ t and s →a
b ∈ A and t1 ∈ S such that
s1.  We set ε =





s1 that there exist

t →b t1, ρ(a, b) < λ + ε and s1 ∼λ t1.
This together with λ < k − ε implies ρ(a, b) < k and dI (s1, t1) ≤ λ < k.	 
Lemma 3.4 Let k ∈ [0, ∞). Then
Rk =def {(s, t) : dI (s, u)+ dI (u, t) < k for some u ∈ S}
is a k–bisimulation.

Proof. Let (s, t) ∈ Rk and s →a
t1 ∈ S such that ρ(a, b) < k, t →b
s1. It is enough to show that there exist b ∈ A and
t1 and (s1, t1) ∈ Rk

Since (s, t) ∈ Rk, we get dI (s, u)+ dI (u, t) < k for some u ∈ S. It follows that there exists ε > 0 such that
dI (s, u)+ dI (u, t)+ 4ε < k.
By Lemma 3.3, we have s ∼dI (s,u)+ε u. Then by (2) from Proposition 2.4, for some b ∈ A and u1 ∈ S, we obtain
u →b u1, ρ(a, b) < dI (s, u)+ 2ε and s1 ∼	u .
dI (s,u)+ε  1
Similarly, by Lemma 3.3, we get u ∼dI (u,t)+ε t. Then by (2) from Proposition 2.4,

it follows from u →b
that
u1 and u ∼
dI (u,t)+ε
t that there exist c ∈ A and t1 ∈ S such

t →c t1, ρ(b, c) < dI (u, t)+ 2ε and u1 ∼	t .
dI (u,t)+ε 1
Since ρ is a metric, we have
ρ(a, c) ≤ ρ(a, b)+ ρ(b, c) < dI (s, u)+ dI (u, t)+ 4ε < k.
Moreover, it follows from s1 ∼dI (s,u)+ε u1 and u1 ∼dI (u,t)+ε t1 that
dI (s1, u1)+ dI (u1, t1) ≤ dI (s, u)+ dI (u, t)+ 2ε < k.
So, (s1, t1) ∈ Rk.	 
In the following, we will show that the function dI is indeed a pseudometric on
S. In other words, the notion of λ–bisimilarity also can induce a natural distance function between processes.

Theorem 3.5 dI is a pseudometric on S.
Proof. Let s, t, u ∈ S.  It follows from s ∼0 s that dI (s, s) = 0. Moveover, by
(2) from Proposition 2.4, ∼λ is symmetric for each λ ∈ [0, ∞) and therefore dI (s, t) = dI (t, s). It remains to show that dI (s, t) ≤ dI (s, u)+ dI (u, t). We consider the following two cases.

Case 1 dI (s, u)+ dI (u, t) = ∞. Then dI (s, t) ≤ dI (s, u)+ dI (u, t) holds trivially.

Case 2 dI (s, u) + dI (u, t) < ∞. Let ε > 0. Then it follows from Lemma 3.4 that


Then
s ∼dI (s,u)+dI (u,t)+ε t.


dI (s, t) ≤ dI (s, u)+ dI (u, t)+ ε.

Since ε is arbitrary, we get dI (s, t) ≤ dI (s, u)+ dI (u, t) 5 .	 

The fixed point characterization of dI
In [1,2,4], distance functions are defined in terms of fixed points (see Definition 2.6 in this paper, Definition 4 in [1] and Definition 3.5 in [4]). In the following, we will demonstrate that behavioural λ–pseudometric dI also has a fixed point character- ization. To this end, we introduce the operator F below. This operator has been mentioned in the conclusion of [2].
Definition 4.1 Let (S, A, →) be a metric LTS, and let d be a pseudometric on S
and ρ be the metric on A. The function F (d): S × S → [0, ∞] is defined by

F (d)(s, t) = max ⎧⎨ sup inf
⎫⎬
max{ρ(a, b), d(s1, t1)}, sup inf max{ρ(a, b), d(s1, t1)}

⎩ a	b
b	a	⎭


This section aims to prove that dI is the greatest fixed point of F . Before showing it, we prove a series of auxiliary results.
Lemma 4.2 Let k ∈ [0, ∞). Then
Rk =def {(s, t) : dI (s, t) < k or F (dI )(s, t) < k}
is a k–bisimulation.

Proof. Let (s, t) ∈ Rk and s →a
t1 ∈ S such that ρ(a, b) < k, t →b
s1. It is enough to show that there exist b ∈ A and
t1 and (s1, t1) ∈ Rk. Since (s, t) ∈ Rk, we get

either dI (s, t) < k or F (dI )(s, t) < k.

5 Otherwise, we set ε = (dI (s, t) − dI (s, u) − dI (u, t))/2. Then dI (s, u)+ dI (u, t)+ ε = (dI (s, t)+ dI (s, u)+ dI (u, t))/2 < dI (s, t), a contradiction. In the rest of this paper, similar arguments will be omitted.

By (ii) from Lemma 3.3, it is enough to consider the nontrivial case where
F (dI )(s, t) < k. From the definition of F , we have
sup inf max{ρ(a1, b1), dI (u, w)} < k.
a1	b1

s→u t→w
Further, it follows from s →a

s1 that

inf max{ρ(a, c), dI (s1, v)} < k.	(4.2.1)
c
t→v

Thus, since inf ∅ = ∞, we obtain {v : t →c
exist b ∈ A and t1 ∈ S such that 6
v for some c ∈ A} /= ∅. Then there

ρ(a, b) < k, t →b t1 and dI (s1, t1) < k.
So, (s1, t1) ∈ Rk, as desired.	 
Lemma 4.3 Let s, t ∈ S and λ ∈ [0, ∞). If s ∼λ t then F (dI )(s, t) ≤ λ.

Proof. Let s ∼λ t, s →a
s1 and ε > 0. Then by (2) from Proposition 2.4, there exist

b ∈ A and t1 ∈ S such that
t →b

t1, ρ(a, b) < λ + ε and s1 ∼λ t1.

It follows that max{ρ(a, b), dI (s1, t1)} < λ + ε. Thus
inf max{ρ(a, c), dI (s1, v)} < λ + ε.
c
t→v
Since a and s1 are arbitrary, we get
sup inf max{ρ(a1, b1), dI (u, w)}≤ λ + ε.
a1	b1
s→u t→w
Furthermore, since ε is arbitrary, we obtain
sup inf max{ρ(a1, b1), dI (u, w)}≤ λ.
a1	b1

Similarly, sup
b1
inf
a1
s→u t→w
max{ρ(a1, b1), d(s1, t1)}≤ λ. So, F (dI )(s, t) ≤ λ.	 

t→t1 s→s1
Lemma 4.4 Let d be any ﬁxed point of F and k ∈ [0, ∞). Then
Uk =def {(s, t) : d(s, t) < k}

is a k–bisimulation.
Proof. Let (s, t) ∈ Uk and s →a
t1 ∈ S such that ρ(a, b) < k, t →b


s1. It is enough to show that there exist b ∈ A and
t1 and (s1, t1) ∈ Uk.

Since d is a fixed point of F , we have
F (d)(s, t) = d(s, t) < k.
By the definition of F , we get

6 Otherwise, for each b ∈ A and each t1 ∈ S such that t → t1, we have either ρ(a, b) ≥ k or dI (s1, t1) ≥ k.
Then inf max{ρ(a1, b1), dI (u, w)} ≥ k, which contradicts (4.2.1).
b1
t→w

sup inf max{ρ(a1, b1), d(u, w)} < k.
a1	b1

It follows from s →a
s→u t→w
s1 that
inf max{ρ(a, c), d(s1, v)} < k.
c
t→v

Similar to Lemma 4.2, we have {v : t →c
b ∈ A and t1 ∈ S such that
v for some c ∈ A} /= ∅. Then there exist

t →b t1, ρ(a, b) < k and d(s1, t1) < k.
It follows that (s1, t1) ∈ Uk.	 

Now we arrive at the main result of this section, which provides a fixed point characterization of the behavioural λ–pseudometric dI .
Theorem 4.5 dI is the greatest ﬁxed point of F.
Proof. We will demonstrate the following three claims in turn.

Claim 1. F (dI ) ± dI .
Let s, t ∈ S. If F (dI )(s, t) = ∞ then F (dI )(s, t) ≥ dI (s, t) holds trivially. In the following, we consider the other case where F (dI )(s, t) < ∞. Let ε > 0. It follows from Lemma 4.2 that
s ∼F (dI )(s,t)+ε t.
Thus F (dI )(s, t)+ ε ≥ dI (s, t). Further, since ε is arbitrary, we obtain
F (dI )(s, t) ≥ dI (s, t).
So F (dI ) ± dI , as desired.

Claim 2. dI ± F (dI ).
Let s, t ∈ S. F (dI )(s, t) ≤ dI (s, t) holds trivially if dI (s, t) = ∞. In the following, we deal with the nontrivial case where dI (s, t) < ∞. Let ε > 0. By Lemma 3.4, we get s ∼dI (s,t)+ε t. So it follows from Lemma 4.3 that
F (dI )(s, t) ≤ dI (s, t)+ ε.
Since ε is arbitrary, we get
F (dI )(s, t) ≤ dI (s, t).
Then we have dI ± F (dI ), as desired.

Claim 3. Let d be any fixed point of F . Then d ± dI .
Suppose d is a fixed point of F . Let s, t ∈ S. If d(s, t) = ∞ then d(s, t) ≥ dI (s, t) holds trivially. Thus, we only need to consider the case where d(s, t) < ∞. Let ε > 0. By Lemma 4.4, we obtain
s ∼d(s,t)+ε t.

So d(s, t) + ε ≥ dI (s, t). Since ε is arbitrary, we get d(s, t) ≥ dI (s, t).  Thus
d ± dI .	 
By Theorem 3.5, the function dI is indeed a distance function. Moreover, by Theorem 4.5, it also has a fixed point characterization. We provide an example below to illustrate the difference between dI and df .


.  1 >.
3 >.
5 >.

>  ... 
2n−1
	>.	>.

s0	s1	s2	s3	sn−1 sn


.  2 >.
4 >.
6 >.

>  ... 
>. 2n>.

t0	t1	t2	t3	tn−1 sn


Figure 3
Example 4.6 Consider the processes s0 and t0, whose behaviours are depicted in Figure 3. Here, n > 0 and positive integer i (1 ≤ i ≤ 2n) denotes an action. The distance between actions a and b is defined as |a − b|.
In the following, we will show dI (s0, t0) = 1 and df (s0, t0) = n.  We show
dI (s0, t0) = 1 first. Since dI is a pseudometric, we have
dI (sn, sn) = 0.
In order to compute dI (s0, t0), we demonstrate the following claim.

Claim. dI (sn−k, tn−k) = 1 for each k such that 1 ≤ k ≤ n. We proceed by induction on k.
Let k = 1. Since sn−1 2n→−1 sn, tn−1 →2n sn and sn−1 and tn−1 can not perform
any other action, we obtain
sup	inf	max{ρ(a, b), dI (u, v)} = max{ρ(2n − 1, 2n), dI (sn, sn)}.
a  t	b
sn−1→u n−1→v
Further, since ρ(2n − 1, 2n) = 1 and dI (sn, sn) = 0, we get

sup	inf
a  t	b
max{ρ(a, b), dI (u, v)} = 1.

sn−1→u n−1→v

Similarly, we have	sup
tn−1 a
inf
b
sn−1→v
max{ρ(a, b), dI (u, v)} = 1.	So, by Defini-

tion 4.1, we obtain
F (dI )(sn−1, tn−1) = 1.
Since dI is a fixed point of F , we get
dI (sn−1, tn−1) = F (dI )(sn−1, tn−1) = 1.
Suppose k = m +1 ≤ n and dI (sn−m, tn−m) = 1. Let l = n − m. It is enough to show that dI (sl−1, tl−1) = 1.

Since sl−1 2→l−1 sl, tl−1 →2l
we have
tl and sl−1 and tl−1 can not perform any other action,

sup	inf max{ρ(a, b), dI (u, v)} = max{ρ(2l − 1, 2l), dI (sl, sl)}.
a  t	b
sl−1→u l−1→v
By induction, we obtain dI (sl, tl) = 1. Further, since ρ(2l − 1, 2l) = 1, we get
sup	inf max{ρ(a, b), dI (u, v)} = 1.
a  t	b

sl−1→u l−1→v
Similarly, we may show	sup
a  t

inf
b

max{ρ(a, b), dI (u, v)} = 1. So, by Defini-

tion 4.1, we have
sl−1→u l−1→v


F (dI )(sl−1, tl−1) = 1.

Since dI is a fixed point of F , we obtain dI (sl−1, tl−1) = 1, as desired.

Thus by the above claim, we get
dI (s0, t0) = 1.
Similar to the proof of dI (s0, t0) = 1, we can show 7
df (s0, t0) = n.
Hence, dI (s0, t0) /= df (s0, t0) if n > 1.	 
The above example illustrates that the function dI measures distances between states in terms of maximal distances between corresponding actions of states, while df measures distances between states using the total of distances of corresponding actions.

Comparison with related work
The work of Girard and Pappas [8] is relevant to ours. They introduce the notion of LTS with observations, which contains a set of observations and maps states to observations. In this framework, a labelled transition system may have more than one initial state. Based on this framework and metrics over observations, Girard and Pappas define the notion of δ–approximate bisimulation. Further, they intro- duce a bisimulation metric d over systems as follows: d(T1, T2) = inf{δ : T1=δT2}, where T1=δT2 means that there is a δ–approximate bisimulation relation R between systems T1 and T2 such that for each initial state s of a system, there exists an initial state t of another system with (s, t) ∈ R.
The difference between their bisimulation metric and our behavioural λ– pseudometric lies in the following. The behavioural λ–pseudometric is defined based on the actions performed by states, while the bisimulation metric is pre- sented in terms of observations of states. Such a difference comes from the differ-

7 It is enough to show df (sn, sn)=0 and df (sn−k, tn−k)= k for each k such that 1 ≤ k ≤ n. Their proofs are similar to the above. We leave them to the interested reader.

ence between λ–bisimilarity and δ–approximate bisimulation. Rough speaking, λ– bisimilarity admits some difference between corresponding actions of states, whereas δ–approximate bisimulation forces matched actions to be identical and admits some difference between observations of states. Thus, λ–bisimilarity is quite different from δ–approximate bisimulation, and this brings some drastic differences between proofs in this paper and ones in [8].
On the other hand, the difference between the bisimulation metric and the be- havioural λ–pseudometric leads to different applications of these two notions. For example, the behavioural λ–pseudometric can be used to analyze approximate im- plementations of real time systems, while the bisimulation metric may be helpful to simplify safety verification of continuous and hybrid systems [8].
Acknowledgement
The authors are grateful to the anonymous referees for their valuable suggestions, which have helped us to improve the presentation of the paper.

References
L. de Alfaro, M. Faella, and M. Stoelinga. Linear and branching metrics and branching metrics for quantitative transition systems, In Proceedings of the 31st International Colloquium on Automata, Languages and Programming, Turku, Springer–Verlag, LNCS 3142 (2004), pp. 97–109.
F. van Breugel. A behavioural pseudometric for metric labelled transition systems, In Proceedings of the 16th International Conference on Concurrency Theory, San Francisco, Springer–Verlag, LNCS 3653 (2005), pp. 141–155.
J. Desharnais, V. Gupta, R. Jagadeesan, and P. Panangaden. Metrics for labeled Markov systems, In Proceedings of the 10th International Conference on Concurrency Theory, Eindhoven, Springer-Verlag, LNCS 1664 (1999), pp. 258–273.
J. Desharnais, V. Gupta, R. Jagadeesan, and P. Panangaden. The metric analogue of weak bisimulation for probabilistic processes. In Proceedings of the 17th Annual IEEE Symposium on Logic in Computer Science, Copenhagen, 2002, pp. 413–422.
A. Giacalone, C.-C. Jou and S.A. Smolka. Algebraic reasoning for probabilistic concurrent systems. In Proceedings of the IFIP WG 2.2/2.3 Working Conference on Programming Concepts and Methods, Sea of Gallilee, 1990, pp. 443–458.
A. Girard and G. J. Pappas. Approximate bisimulations for constrained linear systems. In Proceedings of the 44th IEEE Conference on Decision and Control and European Control Conference, Seville, 2005,
pp. 4700–4705.
A. Girard and G. J. Pappas. Approximate bisimulations for nonlinear systems. In Proceedings of the 44th IEEE Conference on Decision and Control and European Control Conference, Seville, 2005,
pp. 684–689.
A. Girard and G. J. Pappas. Approximation metrics for discrete and continuous systems. IEEE Transactions on Automatic Control 52(5) (2007), pp. 782–798.
R. Milner. Communication and concurrency. Prentice Hall, New York, 1989.
D. Park. Concurrency and automata on infinite sequences. In Proceedings the 5th GI-Conference on Theoretical Computer Science, Karlsruhe, Springer–Verlag, LNCS 104 (1981), pp. 167–183.
A. Di Pierro, C. Hankin, and H. Wiklicky. Quantitative relations and approximate process equivalences. In Proceedings of 14th International Conference on Concurrency Theory, Marseille, Springer–Verlag, LNCS 2761 (2003), pp. 498–512.
Mingsheng Ying. Bisimulation indexes and their applications. Theoretical Computer Science 275
(2002), pp. 1–68.
Mingsheng Ying. Topology in Process Calculus: Approximate Correctness and Infinite Evolution of Concurrent Programs. Springer–Verlag, New York, 2001.
