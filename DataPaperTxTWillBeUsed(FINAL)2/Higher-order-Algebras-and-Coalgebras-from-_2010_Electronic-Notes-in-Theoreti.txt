

Electronic Notes in Theoretical Computer Science 264 (2010) 141–154
www.elsevier.com/locate/entcs

Higher-order Algebras and Coalgebras from Parameterized Endofunctors
Jiho Kim1
Department of Mathematics Indiana University Bloomington, Indiana, USA

Abstract
The study of algebras and coalgebras involve parametric description of a family of endofunctors. Such descriptions can often be packaged as parameterized endofunctors. A parameterized endofunctor generates a higher-order endofunctor on a functor category. We characterize initial algebras and final coalgebras for these higher-order endofunctors, generalizing several results in the literature.
Keywords: higher-order, algebras, coalgebras, parametric endofunctor


Introduction
Often, families of endofunctors with interesting algebras and coalgebras are defined by first fixing some parameters. More specifically, the definitions of endofunctors are usually related by having the same (multi-ary) functorial form. For instance, stream coalgebras arise from the bifunctor × : Set × Set → Set, where the first coordinate is fixed to be a particular set. This paper follows the lead of Kurz and Pattinson
[7] and unify these definitions in the notion of a parameterized endofunctor.
A parameterized endofunctor generates a higher-order endofunctor on a functor category. For two categories C and D, the functor category [C, D] consists of functors from C to D as objects and natural transformation among them as morphisms. While we treat the most general case, the two cases of particular interest in this paper are the category of endofunctors End(C) = [C, C] and the arrow category
C→ ∼= [2, C].
The main result of this paper is to characterize when such a construction will yield higher-order initial algebras and final coalgebras. The result is inspired by

1 Email: jihokim@indiana.edu

1571-0661 © 2010 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2010.07.018

work done with initial algebras on arrow categories by Chuang and Lin [5], and also by another restricted case pertaining to iteratable functors given by Aczel, Ada´mek, Milius, and Velebil [1]. More constrained notions of parameterized endofunctors are presented in the literature, e.g. actions [4] and parameterized monads [9,2]. The work here, however, follows a relatively unconstrained approach. Initial algebras for higher-order endofunctors have been used to model the semantics of dependent types
[5] and generalized algebraic data types (GADT’s) [6]. Coalgebraically, higher-order endofunctors can be used to define higher-order, generic functions such as map on streams and other coinductive data-types.
The rest of the paper is organized in the following manner. Section 2 intro- duces the notion of parameterized endofunctors, making observations about some examples. Section 3 sets the stage for the main result by defining a certain com- pleteness (and co-completeness) conditions on parameterized endofunctors which we call suitability. Section 4 states the main results and provides a detailed proof for the algebraic case. We also provide a sampling of how the theorems may applied in several disparate situations. We end with Section 5, providing some summarizing conclusions.

Functor categories and parameterized endofunctors
We begin with the definition of a parameterized endofunctor.
Definition 2.1 A B-parameterized endofunctor on C is a bifunctor F : B× C → C.
Alternatively, by the usual adjunction, the definition could be given as a functor from the parameter category B to the category of endofunctors End(C). While the description B-parameterized becomes explicit in this modified form, the given definition will suffice for the sake of notational simplicity.
Given a parameterized endofunctor F : B× C → C, every object x ∈ B restricts
F to a C-endofunctor which can be denoted as F (x, ): C → C. Moreover, for

any morphism
F (f,  )
f
x −→ y
in the parameter category, there is a natural transformation

F (x, ) ====⇒ F (y, ) given component-wise as F (f, )c = F (f, c) for an object
c ∈ C.
There are many concrete examples of parameterized endofunctors, few of which are examined briefly here.
Example 2.2 For a non-empty set A, consider the Set-endofunctor 1 + A × . The initial (1 + A × )-algebra is A∗, the set of words on A. This endofunctor is “parameterized” by making A an argument to the bifunctor F : Set × Set → Set given by F (A, X) = 1 + A × X for A, X ∈ Set.
Example 2.3 For non-empty sets A and B, consider the Set-functor (B × )A.

The (B × )A-coalgebra where
X is the state space,
f
X −→
(B × X)A corresponds to an automaton (X, A, B, f )

A and B are the sets of input and output symbols, respectively, and
f determines the automaton’s output and transition functions.
For a given state x ∈ X and an input symbol a ∈ A, the output symbol b ∈ B and the next state y ∈ X is given by the pair ⟨b, y⟩ = f (x)(a). Automata of this type are often called Mealy machines.
Let B = Setop × Set and C = Set. The parameterized endofunctor for this example is F : (Setop × Set) × Set → Set, given by

F (⟨A, B⟩, C) = (B × C)A.

for sets A, B, and C. F is contravariant in A and covariant in B (and C).

Example 2.4 Let 2 = {0 ←−!
1} be the 2-object category with a single non-identity

morphism. For two endofunctors G0, G1 : C → C and a natural transformation

G1 =⇒θ
G0, let F : 2 ×C → C be the parameterized endofunctor given by
F (i, x) = Gix	F (!, x) = θx


for i ∈ 2 and x ∈ C. In short, F is the natural transformation θ.
Example 2.5 For a C-endofunctor H and an object c ∈C consider the C-endofunctor FH,c given by FH,c(x) = c + Hx. The corresponding parameterized endofunctor is F : (End(C) × C) ×C → C given by
F (⟨H, c⟩, x) = c + Hx.

Suitability
Ultimately, the interest in parameterized endofunctors here is to consider their relationship to the theory of algebras and coalgebras. In this vein, we introduce the notion of suitability.
Definition 3.1 A B-parameterized endofunctor F : B× C → C is initially suitable if for every object x ∈ B, the endofunctor F (x, ): C → C admits an initial algebra. Dually, F is ﬁnally suitable if for every object x ∈ B, the endofunctor F (x, ) admits a final coalgebra.
Suppose F : B× C → C is initially suitable. For each x ∈ B, let F (x, RF x) rx
RF x be the initial F (x, )-algebra. RF extends to a functor RF : B → C by mapping

a B-morphism
f
x −→ y
to the unique algebra morphism, denoted RF
f , induced by

initiality in the following commutative diagram:

F (x, RF x) 	rx	 R F x


(1)

F (x,RF f )
F (f,RF f )=F ( ,RF )f
RF f

J	z˛	J 

F (x, R y)
F (f,RF
y)  F (y, RF y)	ry	 R F y

Dually, suppose F is finally suitable. Then for x ∈ B, let
s
SF x −→ F
(x, SF x)

be the final F (x, )-coalgebra. SF extends to a functor SF : B → C by mapping a
B-morphism x −→ y to the unique coalgebra morphism, denoted SF f , induced by finality in the following commuting diagram:


S x 	sx	 F (x, S x)  F (f,SF x)  F (y, S x)
(2)

SF f
F (  ,SF )f =F (f,SF f )
F (y,SF f )

J	z˛J 
SF y	sy	 F (y, SF y)

The structure morphisms from the initial algebras and final coalgebras above collectively form two natural transformations:
F (  , RF ) 	r	 zR F	SF 	s	 zF (  , SF )	(3)

The naturality condition is evidently satisfied through the dotted arrows in (1) and (2). Furthermore, both of these natural transformations are isomorphisms by Lambek’s Lemma applied to each component.
The definition of initial and final suitability generalizes a collection of common concepts in the theory of algebras and coalgebras. Free monads, completely iterative monads, and their duals are in fact based on initial or final suitability conditions for certain parameterized endofunctors. The following examples clarify the nature of how initial and final suitability generalizes and unifies these notions.
Example 3.2 Given an endofunctor H on a category C with binary coproducts, we have the parameterized endofunctor F : C× C → C given by

F (c, x) = c + Hx.	(4)

If F is initially suitable, then RF is called the free monad generated by H [3]. If F is finally suitable, then H is called iteratable, and SF is called the completely iterative monad generated by H [1].
Example 3.3 Given an endofunctor H on a category C with binary products, we have the parameterized endofunctor F : C× C → C given by

F (c, x) = c × Hx.	(5)
If F is initially suitable, RF is called cofree recursive comonad generated by H. If
F is finally suitable, SF is called the cofree comonad generated by H [10].
The monadic and comonadic structures in Examples 3.2 and 3.3 are artifacts of the particular shapes the parameterized endofunctors take in (4) and (5). RF and SF will not have an obvious monad or comonad structure in general.
For further examples, we elaborate on Examples 2.3 and 2.4.

Example 3.4 A stream function	ω f
ω is causal if it is non-expanding in the

A  −→ B
usual metric on streams given by

d(σ, τ ) =	0	if σ = τ
2−i	if σ /= τ

where i is the length of the longest common prefix of σ and τ . Intuitively, two streams are close together if they share a long prefix. If two streams share a common prefix, then their images under a non-expansive function share a prefix of the same (or greater) length. For this reason, if f is non-expansive, hd(f (a:σ)) = hd(f (a:τ )), regardless of the choice of σ and τ .
The final (B×  )A-coalgebra is carried by the set ΓA,B of causal stream functions

from Aω to Bω [8]. The structure map of the final (B × )A-coalgebra Γ (B × ΓA,B)A is given by
γA,B(f )(a) = ⟨hd ◦ f ◦ ca, tl ◦ f ◦ ca⟩
γA,B A,B −−−→


Here ca is the mapping σ '→ a:σ. (Recall also that for a set A, the pairing of the

head and tail maps on streams, i.e. A
⟨hd,tl⟩
−−−−→ A×A
ω , is the final (A×  )-coalgebra.)

Per the observation in the previous paragraph, hd ◦ f ◦ ca is constant to B since
f is causal. By abusing notation, the first coordinate of γA,B(f )(a) is written as a function Aω → B for the sake of symmetry.
Example 3.5 The parameterized endofunctor F from Example 2.4 is initial suit- able (resp. finally suitable) if both G0 and G1 admit initial algebras (resp. final

coalgebras). If F is initially suitable, then let
r
Giai −→ ai
be the initial Gi-algebra

carried by ai = R i for i ∈ 2. By initiality of	1 1 r1
1, there is a unique

F
G1-algebra morphism ζ so that
G a −→ a



G1a1 	r1	 a1 
(6)

F (1,ζ)=G1ζ
J 
G1a0


θa0
F (!,a0)
ζ
G0a0 	 aJ 

commutes. In this case, the functor RF : 2 → C can be identified with the C- morphism ζ.

Higher-order algebras and coalgebras
The study of algebras and coalgebras often depend heavily on the choice of the base category. Generally speaking, it is often fruitful to fix a category and consider interesting families of endofunctors, which either admit algebras or coalgebras or both. The proposal in this research is to consider functor categories as an appealing option for the fixed category.

In sequel, we refer to algebras and coalgebras defined via endofunctors on functor categories as higher-order algebras and coalgebras.
Any study of higher-order algebras and coalgebras are inevitably subsumed in the general theory since we are only fixing some particular class of categories to focus on. However the higher-order approach also extends the general theory in the following sense. Given any category C, an endofunctor F : C → C can be embedded as an endofunctor on the functor category [1, C], where 1 is the terminal category. By allowing different categories in the place of 1, richer structures may be discerned and utilized.

Higher-order endofunctor generated by a parameterized endofunctor
There is no doubt that characterizing higher-order endofunctors and their alge- bras and coalgebras in full generality is an insurmountably difficult task. We take a much more modest approach of investigating a particular class of higher-order endofunctors which arise naturally from parameterized endofunctors.
Definition 4.1 Let F : B × C → C be a parameterized endofunctor. Define an
higher-order endofunctor F^ : [B, C] → [B, C] by F^X = F (  B,X) for a functor
F λ is given component-wise by F (  , λ)b = F (b, λb) for b ∈ B.
We say F is the higher-order endofunctor generated by the parameterized endo- functor F .
Example 4.2 Given an endofunctor H : C → C, we can produce a higher-order endofunctor H ◦  : [B, C] → [B, C] by post-composition. H ◦  can be generated by parameterized endofunctor F : B× C → C given by F (x, y) = Hy. In this case, F is initially (resp. finally) suitable if and only if H admits an initial algebra (resp. a final coalgebra).
Example 4.3 Given an endofunctor G : B → B, we can produce a higher-order endofunctor  ◦ G : [B, C] → [B, C] by pre-composition. This higher-order endofunc- tor cannot be generated by a parameterized endofunctor in general.
Example 4.4 We continue here with Example 3.5. The parameterized endofunctor
→ ∼
F : 2 × C → C generates an endofunctor F^ on the arrow category C	= [2, C].


of C-morphisms m =

mx	'

my	'

so that the square
x −→ y


x 	a	 y 

mx	my
J	J'



commutes.
x'	a'	 y 

The image of a C→-object x −→ y under F^ is the composition

G x 	G1a	 G y 	θy	 G y	or	G x 	θx	 G x 	G0a	 G y.

1	F (1,a)
1	F (!,y)	0
1	F (!,x)
0	F (0,a)	0



which are equal by the naturality of θ. For a C→-morphism m =
mx	'	my	' ,

we have F^m = ⟨G1mx, G0my⟩.


Algebra and coalgebra of higher-order endofunctors
⟨x −−→ x ,y −−→ y ⟩

In this section we discuss the necessary and sufficient conditions for higher-order endofunctors generated by parameterized endofunctors to admit initial algebras or final coalgebras.
As noted earlier, for a parameterized endofunctor F : B × C → C, which is
initially (resp. finally) suitable, there is a natural transformation F (  , RF ) =⇒r RF
s
(resp. SF =⇒ F (  , SF )). In the context of the higher-order endofunctor F generated by F , the natural transformation r is an F^-algebra and s is a F^-coalgebra:


F^RF
	r	 zR F	SF
F^SF


When F is initially suitable, (RF , r) will be the initial F -algebra, and dually when
F is finally suitable, (SF , s) will be the final F -coalgebra.
Theorem 4.5 Let C be a locally small category with powers. For a higher-order endofunctor F : [B, C] → [B, C] generated by a parameterized endofunctor F : B×C → C, the following are equivalent:
F is initially suitable.
F admits an initial algebra.
r

In fact, given an initially suitable F, the initial algebra of F^
is F RF
α
=⇒ RF .

Conversely, given an object x ∈ B and an initial F -algebra F A =⇒ A, the initial
F (x, )-algebra is just (F A)x = F (x, Ax) −→ Ax.
Proof. For (i)=⇒(ii), suppose F is initially suitable. We will show that (RF , r) is an initial F^-algebra. To that end, let F^G =⇒ G be an F^-algebra. For every x ∈ B,
	



F (x, RF x) 	rx	 R F x
(7)

F (x,ϕx)
F (

ϕx
J 	 J 

x, Gx)	gx	Gx

commute because rx is the initial F (x, )-algebra.  We need to show that ϕ is

natural. For a morphism
f
x −→ y
, consider the following diagrams:

F (x, RF
F (x,ϕx)
	rx	 R x
ϕx

F ( J 	 J 
x, Gx)	g	Gx
¸¸¸¸¸	x

F (x,Gf )
J 
F (f,Gf¸)¸¸¸¸	Gf

F (x, Gy)
F (f,Gy)
 F (y, Gy)
y
 G y



F (x, R
	rx	 R x


F (x,RF f )
F  ¸¸¸¸¸
F (f,RF f¸¸)¸¸¸
F
RF f

J 
F (x, RF y)
F (f,RF y)
z˛	ry
F (y, RF y)
J 
RF y


F (x,ϕy )
¸¸¸¸¸
F (f,ϕy¸)¸¸¸


F (y,ϕy )	ϕy

J 
F (x, Gy)

F (f,Gy)
¸z˛J 
 F (y, Gy)
y
J 
G y

The triangles all commute trivially. The squares commute by definition of ϕ (7), and the trapezoids commute because both g and r are natural. These diagrams above show that Gf ◦ ϕx and ϕy ◦ RF f are both F (x, )-algebra morphisms from an initial algebra rx to the algebra gy ◦ F (f, Gy). By initiality these morphisms must be equal, showing that ϕ is indeed natural. The uniqueness of ϕ as an F - algebra morphism follow directly from the uniqueness of each component of ϕ as an F (x, )-algebra morphism.
Conversely, for (ii)=⇒(i), suppose F admits an initial algebra. Then there is a functor A : B → C and a natural transformation
	α	 z 
F (  , A) = F A	A
αx
so that (A, α) is initial among all F -algebras. We will demonstrate that F (x, Ax) −→ Ax is an initial F (x, )-algebra.
For x ∈B and y ∈ C, we define a functor Jx,y : B → C given by Jx,ya =  B(a,x) y

for a ∈ C. Given a B-morphism
f
a −→ b
, the C-morphism 
Jx,yf
B(a,x) y −−−→

B(b,x)
y is

given by Jx,yf = ⟨πg◦f ⟩g∈B(b,x), or equivalently,
πg ◦ Jx,yf = πg◦f	(8)
for g ∈ B(b, x). For any functor S : B → C parallel to Jx,y, there is a bijective correspondence


Nat(S, J	)
(−)b
z 
Sx, y)

(9)

x,y¸¸


(−) 
Hom(

(From a broader perspective, this bijective correspondence is the consequence of Jx,y
being the right Kan extension RanXY of the functor Y : 1 → C along X : 1 → B 

which are constant on y ∈C and x ∈B respectively.) For a natural transformation

S =⇒λ
Jx,y
, the C-morphism
λb
Sx −→ y
is given by the composition


Sx	λx	 Jx ,yx =  


B(x,x)

y	πidx	 y. 

(10)



Conversely, given a morphism Sx −→u
y, the components of the natural transforma-

tion S ==u 
is given by


u = ⟨u ◦ Sg⟩


(11)

b	g∈B(b,x)
πg ◦ u = u ◦ Sg	(12)

for g ∈ B(b, x). We can see that


(u )b (=10) π
u (=11) π
⟨u ◦ Sg⟩
= u ◦ S(id
) = u	(13)


and for b ∈ B,
idx	x
idx
g∈B(x,x)	x



(λb) (=11) ⟨λb ◦ Sg⟩
(=10) ⟨π
λ ◦ Sg⟩

b	g∈B(b,x)
idx	x
g∈B(b,x)

(∗)
idx	x,y	b g∈B(b,x)
(8)
g	b g∈B(b,x)	g g∈B(b,x)	b	b

The equality marked (∗) is due to the naturality of λ.

Let F (x, y) −→u
we have
y be an arbitrary F (x, )-algebra. Composing with F (x, πidx ),


F (  , Jx,y)(x) = F (x, Jx,yx) = F (x,  

B(x,x)
y)	F (x,πidx )  F (x, y)	u  y 


which is of the form Sx → y, for the functor S = F (  , Jx,y). By the bijective correspondence (9), we obtain an F -algebra
(u◦F (x,πidx ))	zJ 

F (  , Jx,y) = F Jx,y

ψ
x,y ,

Then, we have an F -algebra morphism A =⇒ Jx,y so that the diagram
F (  , A) 	α	 zA 


(14)

F (id,ψ) 
F (  cz
ψ
	 zJ cz

, Jx,y)
(u◦F (x,πidx )) 
x ,y


commutes by the initiality of (A, α). Note that the natural transformation ψ here depends on u. Recalling that ψb = πidx ◦ψx (10), consider the following commutative

diagram:

F (x, Ax) 	αx	 A x
J˜	`\

F (x,ψx)
J 

(u◦F (x,π
ψx
))	J 

F (x,ψb)
F (x, Jx,yx) 	idx  x	 Jx ,yx ψb

F (x,πidx )
 F ( J 

πidx

yJ ,

 x, y)	u	 ¸ ,
The top square commutes due to the initiality of α (14), and the bottom square

 
is the identity f = πidx ◦ f
(13), where f = u ◦ F (x, πidx
). Therefore, ψb is an

F (x, )-algebra morphism.
Next, suppose Ax −p y is an F (x, )-algebra morphism from F (x, Ax) αx
→
to F (x, y) −→u  y. For uniqueness, we must verify that ψb = p. To that end, consider
the following diagram.
F (b, Ab) 	αb	 A b









F (b,p )
¸¸¸¸
F (g,Ag¸)¸
z˛
F (x, Ax)
F (x,p)
J 
 F¸(x,, y)
    
 Ag
Ax
p
J	 
.¸,,¸,	b

,	.....
,,,

F (g,πg )
F (x,πidx ) .u..◦F (x,π
F (x, Jx,yx)
,,
F (g,Jx,yg)
idx )
,,,,
πg,,
,,,
,,

F (	J  )
F (b, J	b)
 J J 

b, Jx,yb
x,y
(u◦F (x,πidx
)) 
x ,yb

Here g is an arbitrary morphism in B(b, x). The center square commutes by assump- tion that p is an algebra morphism. The region above it commutes by naturality of α; the region to the right is an instance of (12); the region to the left consequently commutes by bifunctoriality of F . The triangle below the center square commutes trivially. The region below the triangle is another instance of (12), because the arrow
F (b, J	b) 	F (g,Jx,yg)	 F (x, J	x)

is just
Sg
Sb −→ Sx
for S = F (  , Jx,y
). Finally, the region to the left of the triangle

commutes by the definition of Jx,y on morphisms (8). Therefore, for any b ∈B and
g ∈ B(b, x):


πg ◦ (p ◦ α)b = πg ◦  p ◦ αb 
= πg ◦  (u ◦ F (x, πid


)) ◦ F (b, p ) 

= πg ◦ ((u ◦ F (x, πidx )) ◦ F (id, p ))b.

These calculations show that (p ◦ α)b = ((u ◦ F (x, πid )) ◦ F (id, p ))b, and conse-
quently, that the following diagram of natural transformations commutes.
F (  , A) 	α	 zA 

F (id,p ) 
F (  cz

p 
	 zJ cz

, Jx,y)
(u◦F (x,πidx )) 
x ,y


That is to say, p is an F -algebra morphism. By initiality, we conclude that p = ψ. Therefore, ψb = (p )b (=13) p, as required for uniqueness of the F (x, )-algebra morphism from (Ax, αx) to any other F (x, )-algebra.	 
Theorem 4.6 Let C be a locally small category with copowers. For a higher-order endofunctor F : [B, C] → [B, C] generated by a parameterized endofunctor F : B×C → C, the following are equivalent:
F is ﬁnally suitable.
F^ admits a ﬁnal coalgebra.



in this case

Nat(Kx,y, Q)
¸¸
z 
Hom(y, Qx)

(15)

will come from the left Kan extension LanXY = Kx,y which is formed by copowers:

Kx,ya =	y.
B(x,b)
The details can be gleaned from proof of Corollary 4.7 first proven in Aczel, Ada´mek, Milius, and Velebil [1].	 
Corollary 4.7 For an endofunctor H : C → C on a locally small category C with copowers, the following are equivalent:
H is iteratable.

The higher-order endofunctor admits a ﬁnal coalgebra.
H^ : [C, C] → [C, C] given by
H^ X =  + HX

Proof. Invoke Theorem 4.6 on the parameterized endofunctor F : C× C → C given by F (x, y) = x + Hy.	 

map as a higher-order coalgebra morphism
In this section, we continue Examples 2.3 and 3.4. Let F : (Setop × Set) × Set → Set be the parameterized endofunctor given by F (⟨A, B⟩, C) = (B × C)A. It generates a higher-order endofunctor F^ on [Setop × Set, Set] so that

for a functor X : Setop × Set → Set.
As noted in Example 3.4, F is finally suitable, and produces a functor Γ =
SF : Setop × Set → Set which is given by Γ⟨A, B⟩ = ΓA,B, the set of causal functions
from Aω to Bω. Theorem 4.6 yields a final F -coalgebra
	γ	 z	

Γ
given by γ⟨A,B⟩ = γA,B.
F^Γ = F ( , Γ)

Fix a functor H : Setop × Set → Set, given by H⟨A, B⟩ = Hom(A, B) = BA. We
define a higher-order F -coalgebra H =⇒ F (  ,H) by specifying its components
e⟨A,B⟩ : BA → (B × BA)A
with e⟨A,B⟩(f )(a) = ⟨f (a),f⟩. Finality of the higher-order F -coalgebra (Γ, γ) pro- duces an F -coalgebra morphism (i.e. a natural transformation) H =⇒ Γ so that
γ ◦ m = F (  , m) ◦ e.
The function m⟨A,B⟩ : BA → ΓA,B can be given as
m⟨A,B⟩(f )(α0, α1, α2,.. .) = (f (α0),f (α1),f (α2),.. .).
for f : A → B and α = (α0, α1, α2,.. .) ∈ Aω. More succinctly, m⟨A,B⟩ is more commonly known as map, the morphism mapping of the Set-endofunctor ω . Here we have derived map as a higher-order coalgebra morphism induced by the finality of (Γ, γ).

Algebras in arrow categories
In this section, we conclude the discussion of arrow categories from Examples 2.4, 3.5, and 4.4.
An F^-algebra u = ⟨ux, uy⟩ and F^-coalgebra v = ⟨vx, vy⟩ make the diagrams


G x  G1z  G y  θy  G y
x	z	 y 
(16)

1	1	0
ux	uy	vx	vy

xJ 
 yJ 
J	 	 J 

z	G1x θx
G0x G0z
G 0y

commute. For the sake of brevity, we will only continue with the algebraic aspect; the coalgebraic perspective is completely parallel. Consider the diagrams for F - algebras (16). From another perspective, an F -algebra F z −→ z can be viewed as a G1-algebra morphism f from ux to uy ◦ θy:


G1x 	ux	 x 
(17)

G1z
z
 	 y 

G1y  θy
G0y  uy

An F -algebra morphism from (z, u) to (z', v) is a pair of C-morphisms m = ⟨mx, my⟩
so that

G x' 	vx	 x' 
(18)

1 ¸,¸¸¸
G m¸¸
cccc ,

¸	ccc x
G1x 	ux	 xc 

G1z'
G1z
z	z'
 	 y 

G1y
   
G 1my
θy	G0y	uy
G0my
,,,
my,,,

J' , 		J'	zJ'z 

G1y

θy'
G 0y
vy	 y 

commutes. This diagram can be characterized by the following facts:
(z, u) and (z', v) are F -algebras.
The pair m = ⟨mx, my⟩ is a C→-morphism from z to z'.
mx is a G1-algebra morphism from ux to vx.
my is a G0-algebra morphism from uy to vy.
θ is natural.
It is natural to ask how the initial F -algebra might be characterized. Due to the fact that F -algebra morphisms consist of Gi-algebra morphisms, it is reasonable to assume that the initial F -algebra is related closely to the initial Gi-algebras. In fact, the F^-algebra (ζ, r) from (6) is initial.

which admit initial algebras. Let F : 2 ×C → C be the parameterized endofunctor given by F (i, ) = Gi and F (!, ) = θ, and let F^ be the C→-endofunctor generated
  
given in (6). Then the initial F -algebra is (ζ, r).
This result follows as an application of Theorem 4.5. It is the simplest case where the parameter category B is not discrete. The direct proof is given by Chuang and Lin and applied to give inductive semantics to dependent types [5].

Conclusions and future work
For a higher-order endofunctor F^ that is generated from a parameterized endo-
functor F , the existence of an initial F -algebra (resp. coalgebra) coincides exactly with F being initially (resp. finally) suitable. With the weakest of assumptions, this result generalizes and synthesizes several disparate observations made in the literature. It leads to the conclusion that effort should be focused on systemat- ically studying algebraic and coalgebraic properties of higher-order endofunctors. Future work includes identifying other useful instances of higher-order algebras and coalgebras.

Acknowledgement
The author gratefully acknowledges the helpful discussions with Jan-Li Lin who made him aware of the work on the arrow category [5]. Comments from the anony- mous referees also improved this paper.

References
Peter Aczel, Jir´ı Adamek, Stefan Milius, and Jiri Velebil. Infinite trees and completely iterative theories: a coalgebraic view. Theor. Comput. Sci., 300(1-3):1–45, 2003.
Robert Atkey. Parameterized notions of computation. In MSFP 2006, July 2006.
Michael Barr and Charles Wells. Toposes, Triples and Theories. Springer-Verlag, 1985.
Richard Blute, J. R. B. Cockett, and R. A. G. Seely. Categories for computation in context and unified logic. Journal of Pure and Applied Algebra, 116:49–98, 1997.
Tyng-Ruey Chuang and Jan-Li Lin. An algebra of dependent data types. Technical Report TR-IIS- 06-012, Institute of Information Science, Academia Sinica, 2006.
Patricia Johann and Neil Ghani. Foundations for structured programming with gadts. In POPL, pages 297–308, 2008.
Alexander Kurz and Dirk Pattison. Coalgebras and modal logic for parameterised endofunctors. Technical report, CWI (Centre for Mathematics and Computer Science), Amsterdam, The Netherlands, The Netherlands, 2000.
J. J. M. M. Rutten. Algebraic specification and coalgebraic synthesis of mealy machines. Technical report, In: Proceedings of FACS 2005. ENTCS, 2006.
Tarmo Uustalu. Generalizing substitution. ITA, 37(4):315–336, 2003.
Tarmo Uustalu and Varmo Vene. Comonadic notions of computation. Electron. Notes Theor. Comput. Sci., 203(5):263–284, 2008.
