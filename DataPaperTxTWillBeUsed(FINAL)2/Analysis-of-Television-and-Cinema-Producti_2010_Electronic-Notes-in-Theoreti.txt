

Electronic Notes in Theoretical Computer Science 261 (2010) 91–108
www.elsevier.com/locate/entcs

Analysis of Television and Cinema Productions using Mean Field Models
P. Piazzolla 1 M. Gribaudo 2
Dipartimento di Informatica Universit`a di Torino Torino, Italy

Abstract
Television and cinema productions have a critical influence in today’s economy, but performance evaluation techniques are rarely used in these contexts. Both kind of productions share a similar key feature: the spectator. It is in fact the final user who determines the success of a production by deciding to spend his or her money for it. In this paper we use Mean Field techniques to model the behavior of the users, of the production and of the distribution. We use Generalized Stochastic Petri Nets as an upper level formalism to simplify the description of the proposed models. Finally we present comparisons with real data (where
available) to prove the validity of the Mean Field approach.
Keywords: Mean field, Generalized Stochastic Petri Nets, Media Production, User Models.


Introduction
Television and cinema productions have a critical influence in today’s economy, but performance evaluation techniques are rarely used in these contexts. Both kind of productions share a similar key feature: the spectator. It is him in fact, as the final user of the product, who determines the economic success of a production by deciding to gain access to it, in one form or another, usually spending his money or time in doing so. However, modelling the behavior of the users is not an easy task: the actual success of a TV or cinema production is determined by the behavior of a large number of users.
To accurately address the problem, each user must be modelled individually, since it is the choice of the majority of the users that determines the final behavior of the entire population. We imagine, through this paper, a sort of ideal spectator, well informed about the existence and the features of the product he or she is going

1 Email: piazzolla.pietro@di.unito.it
2 Email: marcog@di.unito.it

1571-0661 © 2010 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2010.01.007

to buy. This is to exclude other sorts of influence to his or her behavior not explicitly part of our model.
The necessity of studying systems composed by several interacting objects is not new, and already emerged in several other applications like sensor networks, rich internet applications, social networks and molecular biology. However, the well
known state space explosion problem has prevented most of the previously devel-
oped compositional techniques from being applied. For this reason new approximate analytical techniques have been introduced. For example Fluid Process Algebra [10]
is an extension of the PEPA stochastic Process Algebra, that considers the num- ber of components as continuous variables, and studies their evolution using ODE (Ordinary Differential Equations). Mean Field Analysis provides approximation of
the counting process of objects described by both Discrete [7] and Continuous [6] Markov chains. Markovian Agents [9] instead considers a continuous population of entities (the agents) spread over a space that communicates by sending and receiving
messages.
All the aforementioned techniques are based more or less on the same assump- tions: a continuous (or fluid) approximation of counting process that computes the number of objects in each of the possible states. Although all these techniques are approximate, they provide very accurate solution as the population increases. A detailed study on the accuracy of such approximations as function of the population size can be found in [5] and [6].
In this paper we will use Mean Field Analysis to study the behavior of the users in two different contexts: cinema and television. We will use Generalized Stochastic Petri Nets (GSPN) [4] to specify the behavior of different agents involved in the models. For what concerns cinema, in Section 3 we will focus on the evolution of the number of spectators and seats available in theaters after the release date of a new movie. In Section 4 we will focus on the evolution of the audience of a TV Series, depending on the improvements effected by the production.
Preliminaries
In this work we will mainly use results from the mean field analysis [6] to consider a very large number of interacting components. In order to simplify the presentation of the agents involved in the models, we will describe their behavior using GSPN instead of Continuous Time Markov Chains (CTMC). A detailed description of a procedure that transforms a GSPN in a CTMC can be found in [4]. In our case however, the computation of the transition matrix of the CTMC associated to the GSPN must be done symbolically, in order to preserve the dependency on the state of the system.

Mean Field Analysis
Mean Field Analysis is a technique that approximates the counting process of sets of partially dependent similar objects. All the entities have the same behavior, which might depend either on their local state, or on the counting process of the

whole system. In particular, if there are N identical objects, each one described by m states, the evolution of the entire system can be approximated by its counting process N(τ ) = Ni(τ ). Here Ni(τ ) counts the number of entities in state i, and is
such that Σm  Ni(τ ) = N 6τ ≥ 0. If we call X(τ ) the state of a given (tagged)
object, following [6] we can define:
Kij(N(τ )) =




(1)
⎧ lim
Δ→0
⎪⎪⎨ 0
⎪

Pr{X(τ + Δ) = j|X(τ ) = i, N (τ )} Δ
i /= j, Ni(τ ) > 0
i /= j, Ni(τ ) = 0 

—	Kil(N(τ ))	i = j
l/=i
We can then compute the (approximate) transient evolution of the counting process by defining a matrix K(N(τ )) = [Kij(N(τ ))], and by solving the following ODE:

(2)
dN(τ ) = N(τ )K(N(τ ))
dτ

Note that Kij(N(τ )) corresponds to the transition rate from state i to state j of one object in isolation when there is at least one entity in state i, and conditioned to the counts of the number of objects in each state. If the model is specified by a GSPN, this corresponds to the (symbolic) infinitesimal generator of the underlying CTMC. The approximation converges to the exact solution as N → ∞.
Mean Field Analysis has also other interesting properties. Let us consider a sys- tem composed by C different types of entities, each one characterized by a different number of states m(c), c = 1..C, a counting vector N(c)(τ ), and a different transi- tion matrix K(c)(N(τ )). Each matrix K(c)(N(τ )) can depend on the whole state of the system N(τ ) = (N(1)(τ ),..., N(C)(τ )). The evolution of the entire system can be computed by solving C independent ODEs, coupled only by the dependency on the entire vector N(τ ). Moreover, following [5], it is possible to add a vector of h additional Measures M(τ ), that are computed on the state space. Measures evolve following a function ł that can depend both on the states of the objects, and on the previous value of the measures. In particular, the complete solution of the system can be computed by solving:


(3)
dN(c)(τ )


dτ
dM(τ )
= N(τ
)K(N(τ
), M(τ

))	c = 1..C

⎪⎩

Notations
= ł(N(τ ), M(τ ))
dτ

In the specification of the models, we will use the graphical notation proposed in Figure 2. In particular, all the object classes considered in the model will be represented by big boxes. Each box will contain inside it a GSPN that describes

the behavior of the objects of that class. At the top-right corner of each box, we will write in a cell the multiplicity of the object: that is the number of objects of that kind that composes the system. In both the examples, Measures will be used to simulate a controller that guides the production or the distribution of a content. In particular, vector M(τ ) will be used to store the state distribution of a CTMC that describes the behavior of the controller. This behavior, will be visualized by another GSPN that is not included into a box.
When specifying the state dependent transition rate, we will use r(Ti) to denote the rate of transition Ti. We will call n(P) the number of objects that are char- acterized by marking P, and in particular n(Pi) will denote the number of agents that have place Pi marked. When expressing dependencies from the controller, we will call #(Pi), the number of tokens in place Pi (in this case Pi must be a place of the GSPN of the controller).

Cinema production
The first considered model aims at analyzing the behavior of the spectators of a newly released movie. Firstly we present some statistical data that characterizes this system, and then we describe the proposed model. Finally we compare the results and the data to discuss the effectiveness of the proposed model.

Spectators and Movies
We start investigating the income data of some of the most well known movie trilogies in their first 12 weeks at box offices across United States. The income data can be considered directly proportional to the number of spectators to the show, and thus can be a significant parameter of the considered system. The data we used are available through the net or specialized literature. In particular we used a data set from the Swivel web site [3]. Figure 1 shows the temporal evolution in earned USA dollars per week of 4 famous trilogies: X-Men, Lord of The Rings, Mission Impossible and Shrek. We believe that they can be a good representative of the main evolution tendencies seen among the movies. We observed 3 main ways in which the income may vary.
The first tendency, (which is also the most frequent one), is the one that charac- terizes the third episode of the top two film in Figure 1. We will refer to it through the paper as the A tendency. It displays a fast, nearly exponential, decay in income after the first days of film release. This behavior in our model is explained by a quick drop in the number of spectators wanting to see the movie because they are satisfied by the availability of cinemas screening it. As shown in Table 1, half of the total income is gained in the first week by films following this behavior.
The tendency somehow typical of the second episode of a trilogy is the one we will label as the B through the paper. In this case the number of people going to watch the film doesn’t drop as quickly as in the first case, and remains almost constant for the first few weeks. Then, it drops down at a very fast rate (that can be even faster than in case A). The motivation for the initial constant rate













	












Fig. 1. Examples of typical spectator (y axis) distributions per week (x axis)

Table 1
Percentage of spectators in the first week

can be justified by the limited cinemas’ capacity because all the available seats are saturated in the first weeks. However, as soon as the initial batch is over, the number of subsequent spectators drops down quickly. This is what we believe a typical ”second episode effect”: people who have enjoyed the first episode may have a great expectation toward the second one, wanting to see it as soon as it becomes available, thus saturating the cinemas’ capacity. However, probably due to the lack of originality that most of the sequels seems to have, people tend to drop down quite quickly after the first few weeks of screening.
In the last tendency, that we called C, there is a reprise in the income after the usual initial decay. This can be justified by the positive feedback received from those who watched the film. Many people, who are not initially interested in the movie, change their mind and may decide to watch it thanks to the positive comments heard about it. We believe that this reprise is a form of positive enforcement due to the unexpected great matching of the movie features with the audience expectations.

This is for example the case of the first Shrek or the first Impossible Mission in the plots provided in Figure 1.
Model description
The considerations given in the previous section, can help us in defining the model. The model of the whole system is presented in Figure 2, and it is composed by three different entities: the spectators, the cinemas and the distribution. The last model is used as a control of the entire process and is implemented using the Measure vector M(τ ) as a measure of the controllers’s probability of being in a specific state. The matrix with which measures are computed ł(N(τ ), M(τ )) corresponds to the infinitesimal generator of the CTMC associated with the controller process.
We imagined a number N of potential spectators that can be either interested in the new film or not. Negative feedback received from those who already watched the film may affect the behavior of those interested. Those uninterested may become interested thanks to the positive feedback received from other satisfied spectators. For each week, only a limited number of people can really watch the movie, because of the limited capacity (in term of ‘seats-per-day’) of the cinemas. As the time passes, less people are interested in watching the film, for different reasons. Cinemas does tend to change their screenings, reducing the number of seats available for the considered movie. Each week the society in charge of the distribution of the film can decide to stop its screening in all cinemas.

P1  Seats available
P2  Seats no longer available P3  Spectator not interested P4  Spectator interested
P5  Spectator who watched the movie
P6  Distributor idle
P7  Distributor deciding P8  Distributor choosing P9  Screening stopped

T0  Restore Seat
T1  Remove Seat
T2  Decide to watch
T3  Do watch
T4a Loosing interest T4b Loosing interest T5  Wait
T6  Choose
t 1  Stop screening
t 2  Continue screening

Fig. 2. A model of: (a) the audience, composed by N movie spectators; (b) the theaters, capable of serving
C customers; and (c) the distributor of the movie.

Figure 2a shows the behavior of the potential N spectators of the movie: they can be interested (if place P4 is marked), or not (place P3) to the new movie. Those

interested are, as said before, those who intend to watch the movie. P5 is the place that represents those who watched the movie. Transition T3 models the action of
watching the movie, and it rate r(T3) = K2 n(P1) is expressed as a constant K2
(which represents the number of people a ‘seat’ can serve per week) multiplied by the number of available seats (n(P1)) and divided by the number of spectator that are competing to watch the movie (n(P4)). Transition T2, between P3 and P4, is based on the positive feedback received from those who already watched the movie. It’s rate is r(T2) = αLn(P5)αw 1(n(P3) > θr), meaning that it is proportional to the αw power of the number of spectators who have already watched the movie n(P5), by a constant αL that represents how much a positive feedback does modify a person’s decision. The exponent αw has been introduced to allow non-linear effects on the customers feedbacks. The guard 1(n(P3) > θr), is an indicator function that is equal to 1(·) when the associated condition is verified. It is used to enable the reinforcement feedback only when the number of spectators that have seen the movie exceeds a threshold θr. The people interested (or not) to the film may also become definitely uninterested to it (by exiting the system) if they receive too much negative feedback. This is modelled by transitions T4a and T4b, whose rate is r(T4a) = r(T4b) = βDn(P5). Constant βD defines how much negative feedbacks modify a person’s decision.
Figure 2b shows the behavior of cinemas screening the movie. Each cinema is capable of serving a given number of spectators each day it shows the movie. We used the concept of ‘seats’ as a measure of a cinema capacity, and we modelled the state of a ‘seat’. The maximum number of possible ‘seats’ available in all cinema screening the film is C. When the distribution of the movie starts all tokens are in P1. Tokens are moved then in P2 by the firing of T1 at rate:


(4)
T = ⎧ K1	if n(P4) > θN n(P1)
n(P )

⎩ K2
1
n(P4)
otherwise

Place P2 represents the seats no longer available to those interested in the movie: after some weeks from the film release, less people are interested to watch it and thus more cinemas stop showing it. The rate of transition r(T1) considers two possible cases: when the number of spectators wanting to see the movie is greater than a fraction θN of the number of seats, the seat reduction takes place at a (small) constant rate K1. This is used to model the fact that cinemas do not reduce (or do it at a very slow rate) their capacity when there is a large number of people still wanting to watch the movie compared to the available seats. When however less people are interested in the movie, cinemas stops showing it at a rate proportional with constant K2 to the ratio between cinemas’ seats and people still liking to see the film. Positive reinforcement can induce cinemas to increase again the number of available seats. This is modelled by transition T0, that fire with rate r(T0) = αCn(P5)αw , that is with a rate proportional to the intensity of the feedback as defined by transition T2.
The controller in this example (Figure 2c) models the behavior of the distributor of the movie. Its purpose is to decide if the film is to be stopped from screening

through cinemas. When place P6 is marked, the distributor is idle for W1. This is represented by transition T5, whose firing rate is r(T5) =  1  . In place P7 the distributor decides after a W2 time, moving the token to place P8 (firing of T6 transition, with rate r(T6) =  1  ). The decision is performed by two immediate transitions t1 and t2, whose weighting is


(5)
w(t ) = min  1, Kan(P1)+ Kbn(P5) 

1	n(P3)+ n(P4)
and w(t2) = 1 — w(t1). In Equation 5, Ka and Kb are two constants that define the importance given by the decision of stopping the screening respectively to the number of ‘seats’ still free and to the number of people who have already watched the movie. Ka represents the importance of keeping the movie in a cinema even if there is a large number of ’free’ seats compared to number of people who already watched it. Ka takes into account how many people are going to see the film using the same seat and should be proportional to the number of expected screenings per week. If there are a lot of cinemas (i.e.: high number of seats compared to the n(P3)+n(P4)) showing a film no longer requested by many people, is not convenient for a cinema to screen it. This is taken into account by Kb, that represents the importance to keep a movie in cinemas considering how many people have already seen the movie, compared to those who haven’t yet. Both constants are a positive real numbers and they are scaled by a factor that indicates the reactivity of the production. In our examples we used 0 ≤ Ka, Kb ≤ 1.
Figure 3, compares the distribution of the N people (interested to the movie, not interested and who have seen it) to the distribution of the C available seats during 60 days of film screening. To make the comparison possible, Mean Field solutions are normalized by dividing them by the corresponding total population. We set N , the total number of potential spectators, to 80000 people, and C to 2000 free seats for the first week. Half of the N spectators started in P3 and half in P4, while all C seats started in P1. Of course the Distributor started with place P6 marked. W1 is 6 days and W2 is 1 day. We assumed only 1 screening per day in each cinema, and a rate of T1 of about 2 weeks. The film being distributed is a very good one, so αL is higher than βD by a 100 factor, meaning that for every 100 persons liking the movie, just 1 disliked it. Figure 3 does not take into account the decision of the Distributor. The number of people interested in watching the movie, n(P4), raises rapidly in the first week. Because many of them do watch the movie, their number decrease in the following weeks. The audience raise almost constantly, ending around over 40% more the starting percentage of interested N . The number of cinema screening the movie, on the other hand, is fated to decrease until no more seats are available. Figure 4 shows the probability that the Distributor stops the screening of the movie through the cinemas according to several values of Ka and Kb = 0.01 as per Equation (5). At the beginning we have a fast increase of the probability to stop the movie because of the low number of people in P5. After the first week the stabilization of the curve means that the distributor is satisfied by the number of people watching the film. Toward the end of the curve, the rapid raising of the probability represents the fact that the number of interested people





1

0,9

0,8

0,7

0,6

0,5

0,4

0,3

0,2

0,1

0
Seats & Audience Distribution

0	7	14	21	28	35	42	49	56
Days




Fig. 3. Transient state distribution of the audience and of the cinema ‘seats’ models.
and the number of seats have radically dropped. Even if in Figure 3 we observe that 90% of people will potentially watch the movie, we have to take into account the probability that the distributor stops the screening before the deadline. To simplify the Mean Field model we have not included the feedback from the production in the spectator and cinemas components. Instead we will consider the production’s decision during performance indexes computation. If we call T the random variable that represents the probability of ending the screening at a given time, we have that T (τ ) = Pr{T < τ} = #(τ, P9). We can use this distribution to compute the distribution of the number of spectator S, noting that δ(s — n(τ, P5)) = Pr{S = s|T = τ} (where δ(x) is the Dirac’s delta function). We can then compute the mean audience E[S] as:
(6)	E[S] = ∫ E[n(τ, P5)]d#(τ, P9)
Figure 5 shows E[S] considering different values for Ka and Kb. It can be important to stop the screening when it is convenient to do it, it term of a costs - benefits ratio. In this case, the revenue is obtained by multiplying the mean audience by a factor representing the ticket cost cs. The cost sustained by the cinemas instead is obtained by multiplying the mean number of seats needed to satisfy the demand by a constant representing an hypothetical sum expended for each seat ct. The profit ξ of course, is obtained by subtracting costs from revenues, that is ξ = cs ·E[S]—ct ·E[T ]. ξ as function of different Ka and Kb is shown in Figure 6 we show different profit






0,8

0,7

0,6

0,5

0,4

0,3

0,2

0,1

0
Distributor decision if Kb = 0,01

0	7	14	21	28	35	42	49	56
Days




Fig. 4. Transient state distribution of the production.

levels obtained with different parameters influencing the Distributor’s decisions.

Model Validation
It is very hard in practice to determine the values of the various parameters of the proposed model. However, we can compare the results that can be obtained playing with the model parameters in a ‘reasonable’ way with the data measured from the income of a real production. Figure 7 shows these results, comparing the three cases identified in Section 3.1 with the solution of the Mean Field model obtained choosing suitable parameters. In case A, we have set the reinforce parameters αL = αC = 0, and the threshold until which cinemas do not reduce the number of available seats θN = ∞. For case B, we have lowered threshold θN = 5, and put the reduction rate
when the number of potential spectator is high at very low values K1 =  1 (1 seat
every 20 weeks). This should model the fact that in case B cinema are saturated for the first weeks. Finally, in case C we have enabled the enforcement feedback,

setting α
= 1, α  =  4  and α  = αL . Results have then been scaled to convert

w	L	Nαw	C	2
the number of spectator to the actual income. As we can see, results show some reasonable match. Some problems are visible in the beginning of the curves. We believe these are connected with the non-Markovian nature of most of the considered transitions that the exponential approximation (even if non-homogenous) is not able to capture.





27000
26500
26000
25500
25000
24500
24000
Mean Audience Distribution

0	0,1	0,2	0,3	0,4	0,5	0,6	0,7	0,8	0,9	1
Ka




Fig. 5. Distribution of the mean number of spectators as function of the production decision parameters.
Television production
Let us consider the analysis of the audience of a TV series. Every D time, a new episode is produced. In this example N spectators can decide to watch the next broadcasted episode of the series based on three factors: quality, advertisement and other spectators feedback. The production can decide after each episode, to change their investments, focusing either on improving the quality or on increasing the advertisement of the series. We measured the direction of the production with a variable αqL. If αqL = 0 then the production will put all its resource on adver- tising. If instead αqL = 1, all the resources will be put on quality improvements. Intermediate values of αqL represent an appropriate mixture of the two possible directions.

The spectator model
The behavior of one spectator is modelled by the GSPN in Figure 8a. The Quality of the episode, intended as a measure of how much the show contents matches with the needs/expectancies of a given spectator, is modelled by places P1 and P2. In particular, n(P2) represents the number of people satisfied by the Quality of the episode, while n(P1) represents those with a low matching between the show con- tents and their expectancies. The Advertise Level is the second factor: an abstract measure that quantifies effectiveness of the cost sustained by the Production to




Fig. 6. Profits as function of the Distributor parameters.

convince the spectators to watch the next episode. This is modelled by places P5 and P6. The number of entities with the tokens in (P6) is the number of people reached by the advertising of the episode, while tokens in (P5) represents those not influenced by the advertising. Finally, the decision of the user to watch or not to watch the episode is modelled by places P3 and P4. In this way, the number of people watching the episode is n(P4), while n(P3) represents those who don’t. They also represent the third factor that can influence the behavior of the spectators: the positive and the negative feedbacks. As time passes, people not watching the series might eventually exit the system. Their number is represented by n(P0).
The timed transition firing rate r(T1) is equal to VQαqL, where VQ is a constant representing the speed of user decision based upon the Quality of the episodes. The firing rate of r(T2) is equal to VQ(1 — αqLQmin). The introduction of constant Qmin is to reflect that production will always ensure a minimum level of Quality per episode. In this way the minimum rate at which a spectator will be attracted by the Quality of the show will be VQ(1 — Qmin).  Transition T3 and T4, with
firing rate r(T3) = Vpp n(P3) and r(T4) = Vpp n(P4) , are both influenced by Vpp, a 
constant representing the word-of-mouth importance - that is the feedback from other spectators. The firing rates for transitions T5 and T6 are r(T5) = VL(1 — αqL) and r(T6) = VL[αqLLmin + (1 — Lmin)].  VL represents the speed at which
the Advertise Level influences user decisions. As for the Quality, production will always ensures a minimum Advertise level for each episode and we expressed this






















							




Fig. 7. Validation of cinematographic Data: A = ”X-Men: The Last Stand ”, B = ”Lord of the Rings: The Two Towers”, C = ”Mission Impossible I”
by the constant Lmin. The firing rate of transition T0 is equal to a constant Vdis
representing the speed of the user disaffection to the show.

The production model
The goal of the Production is to maximize the number of spectators of each single episode constituting the series n(P4). The behavior of the Production is modelled by the DSPN (Deterministic Stochastic Petri Net) depicted in Figure 8b. The Pro- duction can allocate its resources to improve either the Quality or the Advertising level of the show. The marking of Place P7 represents the number of resources allocated to the production’s Quality, while the marking of Place P8 the resources allocated to Advertising. They are initially set respectively to Q and L tokens. When the number of entities with P1 marked falls below a given thresholds Qth, the production at the beginning of the next episode (after a deterministic time D) decides to transfer some resources from Advertising to Quality (firing of transition t4). Conversely, if the n(P5) falls below a threshold Lth, the production transfers resources from Quality to Advertising (firing of transition t5). In case both levels fall below the threshold, a policy to resolve situation is established. This policy sim- ply gives priority to one of the two levels. The total number of resources remains constant (that is #(P7)+ #(P8) = Q + L), and t6 represents the case in which no




P0  Not interested
P1  Quality unsatisfied P2  Quality satisfied P3  Not watching
P4  Watching
P5  Not influenced by Adv.
t4	P6  Influenced by Adv.
P7  Resources for Quality
P8  Resources for Adv.
P9  Idle
P10 Choosing


T0  Stop watching
T1  Perceive bad Quality
T2  Perceive Quality T3  Negative feedback T4  Positive feedback
T5  Not reached by Adv.
T6  Reached by Adv.


t 1  Do watch
t 2  Not watch
t 4  Increase Adv. t 5  Increase Quality t 6  Keep going
D  Take the decision

b)	a)

Fig. 8. A model of a television production and N TV-show spectators

Table 2
Weights of immediate transition of the model in Figure 8

change to resource allocation is needed. Table 2 shows how the weight of t1, t2 and t3 changes according to the chosen policy. The level of resources αqL (used to define the transition rate of the transitions modelling the spectators) is defined as:

(7)

αqL
= 	n(P8)	
n(P7)+ n(P8)


Model analysis
The controller of the model proposed in Figure 8 has a deterministic clock of dura- tion D. This could also be implemented as a Measure for the corresponding Mean Field Model. However, to simplify the presentation and avoid the introduction of Dirac’s delta functional rate, we propose a slightly different approach. If we call πu the vector that describes the state of the controller when u · D ≤ τ < (u + 1) · D,

and with C(N(τ )) = |cij(N(τ ))| a transition Matrix that encodes the evolution of πu when the deterministic transition fires (that is cij(N(τ )) is the probability of jumping from state i to state j conditioned to the state of the Mean Field Part of the model N(τ )), we can compute the evolution of the complete process by solving:



(8)
⎧ πu = πu−1C(N(τ ))	τ = u · D dN(τ )

⎪⎩	= N(τ )K(N(τ ), πu) τ /= u · D
Note that πu is an approximation to the vector of the state probabilities of the DSPN at time u.
In Figure 9 and 10 we presented the evolution of a system for the two considered policies evaluated with Mean Field analysis. The Production policy in Figure 9 is aimed toward maximizing the effects of Advertising, while in the second the Quality is maximized. In both cases we assumed a TV series composed by 25 episodes broadcasted every 7 days. The potential audience is made of 20000 people. The minimum Quality level parameter is Qmin = 0.8, while the minimum Advertise level parameter is Lmin = 0.92. The thresholds Qth and Lth are set, respectively, to 0.65 and 0.45.  We set Q + L = 10 levels to represent the current state of
the production decision. Parameter αqL can be determined by the marking of place P8 (that is L), ranging from 0 (Production allocating every possible resource in Quality improvement) to 10 (Production allocating every possible resource in
Advertise improvement). We also assumed that about every 6 days people decide if their Quality expectancy can be satisfied by the next episode (VQ = 6days), about every 3 days the advertising of the show can influence their decision (VL = 3days) and about every day the word-of-mouth influence can persuade them (Vpp = 1day). After the 60% of the total number of episodes, a given spectator is presumed to became disaffected to the show.
We called G = n(P3) the number of people who actually watched the show. Please note that the curves labelled ”Decision” in both figures are step functions since they represent the state of the television production that is a discreet time stochastic process. In particular this curve is proportional to the marking of place P8 and it rises if the production aims to Advertise while it lowers if the focus is on Quality.
For the plot in Figure 10 the initial production decision level (marking of place P8) is equal to 2, meaning a strong interest in promoting the Quality of the show. For the plot in Figure 9 the initial level (place P8) is set to 8, because the interest is in promoting the show using the Advertise. In both cases we normalized the curve representing the decision level to fit in the graph with the other curves.
In Figure 10 the initial Quality level is moved toward the Advertise investment because of the great number of spectators already attracted by the quality. When the reduced Quality starts to become a problem in terms of Audience, the change in decision level counters this tendency. Toward the end of the series, given the fact that an high number of N ended in P0, the Audience seems to have a rising bent. The audience curve of Figure 9 doesn’t show the same leaning, suggesting that an


Advertise-Oriented Policy

20000
18000
16000
14000
12000
10000
8000
6000
4000
2000
0
Episodes (every 7 days)



Fig. 9. Audience and system behavior when priority is given to advertizement.

investment in quality is more convenient in the long period.

Model Validation
As a validation for our first model, we used audience data taken from the web site[1] of Mediaset, the second greatest TV broadcaster group in Italy. The statistical data displayed on this site were gathered by Auditel, the leading Italian survey agency for TV. The Mediaset site displays daily the audience and share of the group’s three channels, divided by different time slots. The age of people involved in the survey is between 15 and 64 years old, permitting a number of different approaches to the use of the data. No gender distinctions were also taken in account.
The data considered in our validation are those showing the audience in the month of February 2009, for Canale 5, the main channel of the Mediaset group. It was impossible for us to collect data for every day, given the fact that their publication on the site is suspended on Sundays.
We choose to focus on the 6.00pm to 8.30pm time frame, just before the starting of the primetime in Italy[2]. Being the primetime a period of strong competition between networks[11][12], the audience data are less dependent on the outcome of a single channel.
In Figure 11 the curve representing the audience evolution of the dataset (la- belled ”Data”) is compared with the curves representing the audience obtained from






20000
18000
16000
14000
12000
10000
8000
6000
4000
2000
0
Quality-oriented Policy

Episodes (every 7 days)






Fig. 10. Audience and system behavior when priority is given to quality.

our model, when priority is given either to quality (Gq) or advertisement (Gl). The results provided in the previous section have been adapted to take into account days instead of weeks. In both cases we assumed an evolution time for the system of 28 days.
The curves Data and G in Figure 11 are very similar in tendency, suggesting that our system models the situation properly, if set on the Quality policy. This fact can be explained probably because [8] in that particular time frame people are more likely to watch television attracted by programs not strongly advertised, but matching mainly on their expectations. TV networks prefers to invest strongly in advertising those programs taking place during the prime time when the competition for audience is hardest to win.

Conclusions
In this paper we have used Mean Field Analysis to study the behavior of the audi- ence of a movie, or of a television series. Measures defined for Mean Field models have been used in both cases to encode the behavior of a controller acting on the distribution or on the production of the content. Although a proper validation would have been really hard to obtain and outside the scope of this work, we have shown that the model’s results are in line with measured data of the audience for both kind of media.






7000
Television Model Validation



6000



5000


4000
	 Da ta
	 G_q
	 G_l



3000


2000


1000


0
0	5	10


15	20	25	30



References
Fig. 11. Validation of television Data.

The mediaset web site. http://www.tv.mediaset.it/auditel/ascolti.shtml.
The prime time definition on wikipedia. http://en.wikipedia.org/wiki/Prime_time.
The swivel web site. http://www.swivel.com/data_sets/spreadsheet/1006807.
M. Ajmone Marsan, G. Balbo, G. Conte, S. Donatelli, and G. Franceschinis. Modelling with Generalized Stochastic Petri Nets. John Wiley & Sons, 1995.
M. Benaim and J.-Y. Le Boudec. A class of mean field interaction models for computer and communication systems. Performance Evaluation, 65(11-12):823–838, 2008.
A. Bobbio, M. Gribaudo, and M. Telek. Analysis of large scale interacting systems by mean field method. In 5th International Conference on Quantitative Evaluation of Systems - QEST2008, St. Malo, 2008.
J.Y. Le Boudec, D. McDonald, and J. Mundinger. A generic mean field convergence result for systems of interacting objects. In 4th International Conference on Quantitative Evaluation of Systems - QEST2007, Edinburgh, 2007.
F. Di Chio and G. P. Parenti. Manuale del telespettatore. Bompiani, Milano, 2008.
M. Gribaudo, D. Cerotti, and A. Bobbio. Analysis of on-off policies in sensor networks using interacting markovian agents. In 4th International Workshop on Sensor Networks and Systems for Pervasive Computing - PerSens 2008, Hong Kong, 2008.
J. Hillston. Fluid flow approximation of pepa models. In 2nd International Conference on Quantitative Evaluation of Systems - QEST2005, Turin, 2005.
V.A. Link Magazine. RTI, Milano, 2002.
V.A. Link Magazine. RTI, Milano, 2005.
