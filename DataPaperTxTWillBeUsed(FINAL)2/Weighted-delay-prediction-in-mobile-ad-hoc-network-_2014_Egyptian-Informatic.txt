
ORIGINAL ARTICLE
Weighted delay prediction in mobile ad hoc network using fuzzy time series

Jyoti Prakash Singh a,*, Paramartha Dutta b, Amlan Chakrabarti c

a Dept. of Computer Science and Engineering, National Institute of Technology Patna, Bihar, India
b Dept. of Computer and System Sciences, Visva-Bharati University, WB, India
c A.K. Chaudhury School of Information Technology, Calcutta University, WB, India

Received 17 September 2013; revised 18 January 2014; accepted 2 March 2014
Available online 28 March 2014

Abstract Several parameters like routing protocol, mobility pattern, average speed of mobile nodes, path length from source to destination, previous delay, etc., affect the end-to-end packet delay in mobile ad hoc network. But the nature of relationship between end-to-end delay and those parameters is still unclear. In this article, we have tried to establish a relationship among end-to-end delay, path length and previous delay. A regression equation is established between path length and end-to-end delay. The end-to-end delay is also represented as a fuzzy time series. The current end- to-end delay is then obtained by combining delay predicted by path length regression equation and fuzzy time series. The suitable weights of these two predicted delays are also experimentally deter- mined. To the best of our knowledge, comprehensive analysis for packet delay estimation using var- ious network parameters along with fuzzy time series has not been explored earlier. Based on various performance evaluation criterion, we found that by combining the predicted values of delay using path length regression and fuzzy time series gives satisfactory packet delay prediction in ad hoc network.
© 2014 Production and hosting by Elsevier B.V. on behalf of Faculty of Computers and Information,
Cairo University.


Introduction





* Corresponding author. Tel.: +91 8521159014.
E-mail addresses: jps@nitp.ac.in (J.P. Singh), paramartha.dutta@gmail. com (P. Dutta), acakcs@caluniv.ac.in (A. Chakrabarti).
Peer review under responsibility of Faculty of Computers and Information, Cairo University.


The nodes in Mobile Ad Hoc Network (MANET) are mobile and continuously changing locations. They do not have any fixed infrastructure like base station, etc. They can relay pack- ets to another node without using any base stations. Each node in MANET has a transmission range within which the signals received from that node are strong enough to extract meaning- ful information by other nodes. If two nodes happen to be within the transmission range of each other, they can commu- nicate directly otherwise they use a number of links involving one or more intermediate nodes to communicate with each other. This mode of communication is called multi-hop

1110-8665 © 2014 Production and hosting by Elsevier B.V. on behalf of Faculty of Computers and Information, Cairo University. http://dx.doi.org/10.1016/j.eij.2014.03.001



communication. This is why MANET is called as multi-hop wireless network also. A path is the ordered list of links be- tween a source and destination pair. The total number of links between a source-destination pair defines the path length be- tween that pair. MANETs are often configured with smaller transmission ranges to avoid interference. Hence, path length happens to be greater than one for most of the time.
MANETs are highly appealing for a lot of applications like deep space communication, disaster relief, battlefield commu- nication, outdoor mining, etc., due to their flexibility and dis- tributed nature. To provide Quality of Service (QoS) for these applications, understanding the fundamental delay perfor- mance of such networks is of great importance [1]. The end- to-end delay is the time taken by a packet to reach its destina- tion after it is generated at its source. Because of multi-hop nature and continuous movement of nodes, end-to-end delay in MANET is higher compared to other infra-structured network. However, the end-to-end delay modeling in MANETs is still a challenge for network research community. One of the primary reasons is very dynamic behavior of MANETs, like node mobility, interference, wireless channel/ traffic contention, packet distributing, packet queueing pro- cess in a node and the complicated packet delivering process among mobile nodes. Still there does not exist any theoretical framework to efficiently depict the complicated network state transitions under these network dynamics. By now, the avail- able works on end-to-end delay analysis in MANETs mainly focus on deriving upper bounds or approximations for such delay.
Narasimhan and Kunniyur [2] identified three main sources of delay in MANET. They are (i) multi-hop nature of network,
(ii) channel access delay, and (iii) queuing delays at intermedi- ate nodes. To reach the intended destination, each packet in MANET may traverse multiple hops where the packet is enqueued by a node for further processing and forwarded to other node if the node is not the intended destination. With each hop the delay keeps on increasing as the transmission and processing delay increases. But the exact nature of rela- tionship between path length and delay is not known so far. For contention based Medium Access Protocol (MAC), the waiting time of the node increases exponentially for each col- lision. The channel access delay enhances the total delay even for low path length. The load on each node, the node density or the number of nodes in the network and the transmission power affects the channel access delays. At each node, the re- ceived messages are kept on a queue for further processing by the node. The length of the queue is a function of the load on the network and the routing protocols used. Queuing delay is a function of queue length. Although Narasimhan and Kun- niyur [2] pointed out the main sources of delay in MANET but they did not quantified the effect of individual parameters on end-to-end delay.
Along with the causes suggested by Narasimhan and Kun- niyur, node mobility pattern [3] also has a major role in overall packet delay in MANET. The node movement patterns in MANET vary depending on the applications and locations of network deployment. Like the movement of the soldiers will be influenced by the commander hence the nodes will also fol- low same pattern in a battlefield MANET. The movement of vehicles is restricted by obstacles or maps in a city-wide MAN- ET. Widely varying mobility characteristics surely have an im- pact on the end-to-end delay.
In this article, we have tried to predict the future values of delay between a source destination pair based on the previous delays and current path length. We have proposed a weighted delay prediction mechanism using regression on path length and fuzzy time series on previous delays. We have used trape- zoidal fuzzy numbers in the fuzzy time series. The reason using trapezoidal fuzzy number is that Liu [4] proved through exten- sive experiments that trapezoidal numbers give better predic- tion results than triangular fuzzy numbers used for the same purpose. To compare the performances of prediction models, we define several performance evaluation criteria (PEC) such as Root Mean Squared Errors RMSEs, correlation coefficient R, and Efficiency E. The results of models are compared with actual data and the best-fit model structure is determined according to criteria. In our opinion, this work will help the re- search community to analyze and model the delay parameter for MANET in a more comprehensive way.
The rest of the paper is organized as follows. A brief survey of works done related to network delay is given in Section 2. Fuzzy times series is explained in Section 3. We describe simulation environment in Section 4. The model development based on path length and fuzzy time series model is given in Section 5. The discussions on the results obtained are discussed in Section
6. We summarize our work and conclude in Section 7.

Related works

Gupta and Kumar proved in [5] that the optimal network throughput is obtained at the lowest transmission power that allows connectivity. The interference between simultaneous transmissions will be very low with smaller transmission ranges helping more nodes to communicate simultaneously. This however, increases the delay as the number of hops required to reach the destination increases. Sharma and Mazumdar
[6] and Gamal et al. [7] ascertained the trade-off between the delay experienced and the throughput possible in the network. However, the channel access mechanism and the effect of col- lisions on delay were not considered in both the analyses. The relationship between the MAC delay and the neighbor number in mobile ad hoc networks, and an estimation method of the MAC delay is analyzed by Sheu and Chen in [8]. Sun and Hughes used two dimension finite-state Markov models to analyze the queuing delay [9]. They proposed that the end- to-end delay of a path can be estimated by adding all the node delays and link delays in the path.
Guo at el. [10] presented a scheme for predicting mean per- packet one-hop delays using neural network. They modeled the mean delays as a time series using (i) tapped-delay-line Multi-Layer Perceptron (MLP) network and (ii) tapped-de- lay-line Radial Basis Function Network (RBFN). The inputs used by them are (i) the mean delay time series itself only,
(ii) the mean delay time series together with the corresponding traffic loads. They ignored the effect of any other parameter on delay as well as their scheme predict only one hop delay not the complete end-to-end packet delay. Hongyan et al. [11] used autoregressive models and neural network to predict Internet time delay. Tabib and Jalali [12] used feed-forward multilayer perceptron to predict Internet time delays. Both Hongyan et al. and Tabib et al. considered only internet time delay. They have not considered any other network types and their characteristics.




Lee et al. in [13] proved experimentally that the processing delay of a packet at node increases as its number of neighbors increases. They defined a metric called cumulative processing delay based on the active neighbors of a node and used that metric to propose an enhancement to Dynamic Source Rout- ing (DSR) [14] algorithm. Tickoo and Sikdar [15] presented an analytic model to evaluate the performance of the IEEE
802.11 MAC in terms of its delays and queue lengths and eval- uate its capability to support delay sensitive traffic. A key observation from their queueing model is that the primary contributor to the delay is the channel access and reservation time associated with each packet transmission. However, they fail to address the issues of the multi-hop transmissions and hidden and exposed nodes problems. Bisnik and Abouzeid
[16] derived an analytic model for multi-hop wireless ad hoc networks based on open G/G/1 queuing networks. They used the diffusion approximation to solve open queuing networks and derived a closed form expression for the average end-to- end packet delay in MANET. They also obtained an expres- sion for the maximum achievable throughput. But they have not given any consideration to node mobility patterns and routing protocols which are vital parameters in MANET.
Guo et al. [17] proposed a delay prediction mechanism and integrated that prediction mechanism with a proactive ad hoc network routing protocol called Optimal Link State Routing (OLSR). They used queuing delay only and showed that queu- ing delay can be modeled as a non-stationary time series. They used Multi-Layer Perceptron (MLP) and Radial Basis function to predict from the non-stationary time series model of queu- ing delay in MANET. The delay prediction mechanism pro- posed by them is distributed and independent and uses only
Ghiasian et al. [23] established a relation between network topology and delay of maximum weight link scheduling algo- rithm for ad hoc network. They derived an upper bound for the average delay of packets analytically in terms of edge chromatic number of the network graph under 1-hop interfer- ence model. Further, they extended those results to general interference model and derived an upper bound for delay as a function of chromatic number of conflict graph. But, they have not given much consideration to node mobility pattern and routing algorithm of the network in their work. Gao et al. [24] used Quasi-Birth-and-Death (QBD) theory to mod- el end-to-end delay in MANETs. They applied the QBD the- ory to develop an efficient theoretical framework for capturing the complex dynamics in MANETs. Then with the help of this framework, they derived a closed form models to analyze the exact end-to-end delay and also per node throughput capacity in MANETs. But for the whole analysis they assumed two-hop relay routing with random walk and Random Way Point mobility models.
All the models proposed so far are applicable for a specific type of network with specific mobility pattern and specific routing protocols only. That motivated us to build a model for end-to-end delay in MANET which will be equally useful for any mobility patterns and routing protocol.

Fuzzy time series

Let U be the universe of discourse, where U = u1; u2; ... ; un. A fuzzy set A on U is defined by

previous delay values to predict the future delay value. But they have not considered the effect of any other parameter ex- cept previous delays to predict next delay.
A = lA(u1) + lA(u2)
u1	u2
l (u )
... 
n
(1)

Singh et al. [18,19] identified the parameters influencing
the end-to-end packet delay in MANET. They found that path length is most influencing parameter. They also build neural network based model to predict packet delay in MANET using path length as input. They found experimen- tally that Generalized Regression Neural Network (GRNN) and Radial Basis Function Network (RBFN) models are better predictor of end-to-end packet delay in MANET across all mobility pattern and routing protocols. Singh et al. [20] developed a trapezoidal fuzzy numbers based model to predict the end-to-end delay of data packets in mobile ad-hoc network environment. They used the model on network using Ad hoc On Demand Distance Vector (AODV) routing protocol only.
Ciullo et al. [21] considered the impact of correlated mobil- ity models on throughput and delay in MANET. They have considered a simplified group mobility model that is flexible enough to explore various degrees of correlation in the nodes mobility process and found that the existence of a wide range of correlated node movements that can lead to significant bet- ter performance than the one achievable under independent nodes movements. Gupta and Shroff [22] analyzed the delay performance of a multihop wireless network with a fixed route between each source destination pair with arbitrary interfer- ence constraints on the set of links. They derived a fundamen- tal lower bound on the system wide average queuing delay of a packet in multi-hop wireless network for any scheduling policy used.
where lA is the membership function of A; lA : U → [0; 1]. lA(ui) denotes the membership value of ui in A; lA(ui)∈ [0; 1] and 1 6 i 6 n. A time series with fuzzy data is referred to as fuzzy
time series F(t). A fuzzy time series is defined as a sequence of fuzzy variables F(t) ordered over time T, at which T is a finite set of equidistant points in time. Fuzzy time series may be re-
garded as realizations of fuzzy random processes. Song and Chissom [25,26] defined fuzzy time series as
Let Y(t) (t = ... 0; 1; 2; .. .) ⊂ R be the universe of dis- course for fuzzy sets Ai(t) (i = 1; 2; 3; .. .). A collection of Ai(t) is denoted as F(t). F(t) is called fuzzy time series on Y(t) (t = ... 0; 1; 2; .. .). Let F(t) and F(t — 1) be fuzzy time
series on Y(t) and Y(t — 1) (t = .. . 0; 1; 2; .. .).
For any Aj(t)∈ F(t), there exists an Ai(t — 1)∈ F(t — 1) such that there exists a first order relation R(t; t — 1) and Aj(t)= Ai(t — 1)oRij(t; t — 1) then F(t) is said to be caused by F(t — 1) only. This is denoted by F(t — 1)—→F(t).
If F(t) is caused by F(t — 1) or F(t — 2) or .. .or F(t — m)(m > 0) then the resulting model is called first order model. If F(t) is caused by F(t — 1) only and F(t)= F(t — 1)oR(t; t — 1). If R(t; t — 1) is independent of t then F(t) is regarded as time invariant fuzzy time series.
The time-invariant models of Song and Chissom [25,27]
were simplified by Chen [28]. The forecasting results of Chen’s method are also found to be better than those of Song and Chissom [25,27]. The procedure to forecast using fuzzy time series by Chen’s method used the following major steps:



Defining the universe of discourse U.
Dividing U into some equal-length intervals.
Defining fuzzy sets on U to fuzzify the historical data.
Deriving the fuzzy logical relationships.
Classifying the derived fuzzy logical relationships into groups.
Defuzzifying to calculate the forecast values.

Liu [4] redefined discrete fuzzy sets with trapezoidal mem- ber functions and called that trapezoidal fuzzy numbers. According to Liu, a trapezoidal fuzzy number A is defined as
A = (a; b; c; d).
8> 0	:  x < a
movement pattern is used for node movement by NS-2. The reason for discarding first 3600 s of movement data is that nodes exhibit a higher probability of being near the center of the simulation area in Random Way Point mobility model in general but initially they are uniformly distributed over the simulation area. In Manhattan Grid mobility model, nodes start from (0, 0) and then they get distributed over the simula- tion area. So, we skip 3600 s at the beginning to mitigate the boundary effects of node movement simulation. The maximum speed Vmax and the minimum speed Vmin of a node is set to 10 m/s and 0.5 m/s respectively. The Vmin was set to a positive value to prohibit decreasing the average speed of the nodes and eventually becoming zero [31]. IEEE 802.11 with distributed
coordination function is used as the Medium Access Control

x—a
< b—a
:  a 6 x 6 b
(MAC) layer by every node. Ad hoc On Demand Distance

lA(x)= 
1	:  b 6 x 6 c
(2)
Vector routing (AODV) is the routing protocol used by each

d—x
> d—c
:  c 6 x 6 d
node of the network. Each node generates constant bit rate

0	:  x > d

where muA(x) is the membership function of A. Graphically a trapezoidal fuzzy number is represented as given in Fig. 1.
Liu extended addition operation and scalar multiplication operation on the trapezoidal fuzzy numbers to compute the forecast values. The addition and scalar multiplication opera- tion of the trapezoidal fuzzy numbers are given in Eqs. (3) and
(4) respectively. Assume A = (a1; b1; c1; d1); B = (a2; b2; c2; d2),
and S > 0. Thus,
A + B = (a1 + a2; b1 + b2; c1 + c2; d1 + d2)	(3)
S · A = (Sa1; Sb1; Sc1; Sd1)	(4)
Based on trapezoidal fuzzy numbers, Liu proposed the follow-
ing algorithm to forecast based on historical data. First of all, the historical data Dvt are collected and the universe of dis- course U for that data set is defined. The appropriate length of interval l is determined to fuzzify the given data Dvt. The fuzzy logical relationship is determined. Based on those rela- tionships, the future values are calculated. Our proposed pre- diction of delay is based on the forecasting algorithm proposed by Liu.
Simulation environment

with 40 nodes moving in an area of 1000 m × 1000 m. The Network Simulator (NS-2) [29] is used for simulating MANET movement patterns are generated using Bonn-Motion software
[30]. The first 3600 s of movement is ignored while generating the movement patterns with Bonn-Motion. Next 1000 s of














Fig. 1	A trapezoidal fuzzy number.
traffic for 1000 s with 1 packet/s per source. The traffic is gen-
erated using cbrgen tool, which is a part of NS-2 distribution. The number of sources and destinations were chosen randomly by cbrgen tool. The data packet transmission and reception is simulates using NS-2 simulator. The traces of the transmis- sions and receptions are stored in new trace format. The end-to-end delay is calculated from those trace files using AWK scripts. The computed values of delays are then taken to Matlab for further analysis. We studied the delay under three different mobility models: (i) Manhattan Grid mobility model, (ii) Gauss Markov and (iii) Random Way Point mobil- ity model. For each scenario, we have performed 10 simula- tions in NS-2. After that the statistical properties of all the data sets were calculated. The dataset showing maximum ran- domness (standard deviation,xmin and xmax) was selected for model building process. The reason for choosing the data set showing maximum randomness is that if the prediction model is yielding good results with that data set then it will be giving better results with any other data set.

Proposed delay prediction technique

The weighted delay prediction is composed of two stages. In the first stage, a regression is done with path length as indepen- dent variable and delay as dependent variable. In the second phase, the historical data are fuzzified to trapezoidal fuzzy numbers and are used to predict delay. The obtained predicted delay using regression and time series is then combined in proper proportion to give the final predicted delay.

Delay prediction using path length regression

The delay is found to be directly affected by the total number of hops a packet has to traverse. The hop count (path length) between any specific source-destination pair keeps on changing with time unlike other parameters like routing protocol, num- ber of nodes mobility patterns, etc., which can be fixed for spe- cific network deployment. The end-to-end packet delay increases with increase in path length as the propagation delay and queuing delay increases with each intermediate node. When we tested the correlation between path length and pack- et delay, we found that they have a strong correlation between them. Since the path length and delay are highly correlated, we tried to fit a regression line through that data. We found a




1
A1 =
1
0.5	0	0
+	+  +
2	3	4
0	0
+  + .. . + 
5	m

0.5	1	0.5	0	0	0
A =	+  +	+  +  + ... + 
u1	u2	u3	u4	u5	um

0	0.5	1	0.5	0	0
A3 =  +	+  +	+  + ... + 
1	2	3	4	5	m


... 

... 

A



0	0	0.5	1
=  +  + ... +	+
0.5
+

straight line fit to most of the cases. The regression equation is of the form
m—1
u1	u2

0	0
um—2
0
um—1	um
0.5	1

delay = a + b × path	(5)
Am =
1
+  + ... +
2
m—2
+	+ 
m—1	m

where a and b are real number coefficients. The values of a and
b are evaluated by experimental results. The different values of
a and b are given in Table 1.

The values of b is mostly in the range of 6 × 10—3 to 7 × 10—3. The value of a shows one interesting pattern. It is al- ways positive for DSR routing algorithm while it is negative
for AODV routing protocol. So if the path length is known, one can easily approximate the delay using above formulae.

Delay prediction using fuzzy time series modeling

The node mobility, routing protocol, link congestion, etc., are the parameters which make delay estimation very difficult. Some of these parameters are themselves difficult to measure quantitatively. The effect of these parameters is not confined to just one packet but a series of packets passing through those nodes at that moment. Hence we have put the delay in frame- work of time series to get the effect of other parameters. The consecutive packet delay measure between a source destination
The fuzzy logical relationships are derived using the historical packet delay data. The fuzzy logical relationships look like
Aj → Ak denoting ‘‘if the data value of time t — 1 is Aj, then that
of time t is Ak’’. Based on the same fuzzy numbers on the left-
hand sides of the fuzzy logical relationships, the derived fuzzy logical relationships are grouped together to generate fuzzy logical relationship groups. The forecast value at time t, is determined by the following rules.

empty, i.e. Aj → U, then the forecast value is also Aj, which is        (dj—1,    dj,    dj+1,    dj+2). Rule 1: If the fuzzy logical relationship group of Aj is
to-one, i.e. Aj → Ak, then the forecast value is Ak, which is (dk—1,     dk    ,     dk+1,     dk+2). Rule 2: If the fuzzy logical relationship group of Aj is one-
to-many, i.e. Aj → Ak1, Aj → Ak2, .. . , Aj → Akp, and then the Rule 3: If the fuzzy logical relationship group of Aj is one- forecast value is calculated as follows:
Ak1 + Ak2 + ... + Akp

pair can be viewed as a time series data. The end-to-end delay data is represented using trapezoidal fuzzy numbers. Liu’s
forecast =
p	(6)

trapezoidal fuzzy numbers time series method is used to fore- cast end-to-end packet delay in mobile ad hoc network for dif- ferent mobility models. Let there are m intervals which are
u1, u2, ... um defined as
u1 = [d0, d1, d2, d3]
u2 = [d1, d2, d3, d4]
u3 = [d2, d3, d4, d5]
u4 = [d3, d4, d5, d6]
... 
um—3 = [dm—4, dm—3, dm—2, dm—1 ]
um—2 = [dm—3, dm—2, dm—1, dm]
um—1 = [dm—2, dm—1, dm, dm+1]
um = [dm—1, dm, dm+1, dm+2]
Then, the fuzzy sets A1, A2, ... , Am are defined by
where	Ak1 = (dk1—1, dk1, dk1+1, dk1+2 , Ak2 = dk2—1, dk2, dk2+1, dk2+2, ...		and Akp = (dkp—1, dkp, dkp+1, dkp+2). The details of the results ob- tained are given in Section 6.


Weighted delay prediction

The forecast delay obtained by path length method and fuzzy time series method is combine to obtain better delay predic- tion. The weighted delay is computed by
wgtdelay = a × path + b × fuzzy	(7) where a and b are constants and a + b = 1, 0 6 a, b 6 1 The values of a and b are evaluated experimentally and found that
0.7 6 a 6 0.9 and 0.1 6 b 6 0.3.

Results and discussion

The prediction results of path length based regression, fuzzy time series and weighted method is given in the following sub- sections. The statistical parameters of the actual delay data is




shown in Table 2. Xmin represents the minimum delay value of the sample data, Xmax represents the maximum delay value of the sample data, X represents the average delay value of the sample data and Sx represents the standard deviation of the sample data.
Correlation coefficient (R), Nash–Sutcliffe coefficient (E), Index of agreement (IOA), Root Mean Squared Error (RMSE) and Mean Absolute Error (MAE) are used as perfor- mance evaluation criterion (PEC) to compare various models.
Eqs. (8)–(12)define how these performance evaluation criterion computed.
Pn (O — O)(P — P) 
where n is the total number of data sets; Oi the observed delay for ith period; Pi the predicted delay for ith period; O the mean of observed delay; P is the mean of predicted delay.
Correlation coefficient (R) measures how well the predicted
value fits with actual data. The value of R closer to 1 implies a
Sutcliffe coefficient (E) represents the initial uncertainty ex- better fit between the predicted value and actual value. Nash– model performance. Index of agreement (IOA) is an adapta- plained by the model. The E value closer to 1 indicates better tion of the Nash–Sutcliffe coefficient E. The alteration to the
denominator seeks to penalize differences in the mean pre- dicted and mean observed values. Again the IOA values closer

qPﬃﬃﬃﬃﬃﬃnﬃﬃﬃﬃﬃ(ﬃﬃOﬃﬃﬃﬃﬃ—ﬃﬃﬃﬃﬃOﬃﬃﬃﬃ)ﬃﬃ2ﬃPﬃﬃﬃﬃﬃﬃnﬃﬃﬃﬃﬃ(ﬃﬃPﬃﬃﬃﬃﬃ—ﬃﬃﬃﬃﬃPﬃﬃﬃ)ﬃﬃ2ﬃ
(8)
to 1 indicates better model performance. The Root Mean
Squared Error (RMSE) is the most popular measure of error

i=1
Pn
i
(Oi — Pi)2
i=1  i
and has the advantage that large errors receive much greater attention than small errors. RMSE can give a quantitative

i=1 n
2
(Oi — O)
tity. It indicates the discrepancies between the observed and predicted values. An RMSE value close to zero indicates better

n (Oi — Pi)2
2
i=1 [|Pi — O|+ |Oi — O|]
s1ﬃﬃﬃﬃXﬃﬃnﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ2ﬃﬃ
performance of the model. Mean Absolute Error (MAE) uses
absolute value of the error terms rather than square of the
terms. MAE values closer to 0 are indicator of good model per- formance. We have grouped the prediction results of our sys-

RMSE =	n
1 Xn

 

i=1
(Oi — Pi)
(11)
tem the mobility pattern followed the nodes of network to
simplify the discussion. For every mobility pattern, we have gi-
ven the graphical representation of predicted values vs. actual values for different algorithm. A table containing different





0.1
0.09
0.08
0.07
0.06
0.05
0.04
0.03
0.02
0.01
0
0	10	20	30	40	50
Packet Id
0.09

0.08

0.07

0.06

0.05

0.04

0.03

0.02

0.01

0
0	10	20	30	40	50
Packet Id



Fig. 2	Actual vs. predicted delay for network following GM mobility pattern with AODV routing protocol.
Fig. 3	Actual vs. predicted delay for network following GM mobility pattern with DSR routing protocol.





0.06


0.05


0.04


0.03


0.02


0.01


0 0	10	20	30	40	50
Packet Id

Fig. 4 Actual vs. predicted delay for network following MG mobility pattern with AODV routing protocol.


0.06


0.05


0.04


0.03


0.02


0.01


0 0	10	20	30	40	50
Packet Id

Fig. 5 Actual vs. predicted delay for network following MG mobility pattern with DSR routing protocol.



algorithm for end-to-end packet delay prediction. The best re- sults are represented bold faced in the corresponding table.

Delay prediction for gauss markov mobility

Fig. 2 shows the actual vs. predicted end-to end packet delay of a MANET whose nodes follow GM mobility pattern and uses AODV routing. It can be observed from Fig. 2 that predicted value are close to the actual values for all three algorithms. The graphical representation of actual vs. predicted delay of a

MANET following GM mobility pattern using DSR routing is given in Fig. 3. The predicted values are close enough to ac- tual values for all three algorithms is evident from Fig. 3.
It is very difficult to quantify which algorithm gives better result by just examining Figs. 2 and 3. To prove the quantita- tive supremacy of our algorithm, we have computed different statistical measures of goodness. The PEC measures like corre-
lation coefficient R, Efficiency E, IOA, RMSE, and MAE for
predicted delay of a MANET using GM mobility pattern un- der AODV and DSR routing is presented in Table 3. The re- sults in the table is grouped according to the routing protocol. In case of AODV routing, the path length regression based algorithm yields better results compared to other two strategies. Although the R value of weighted algorithm is slightly better than path length based regression algorithm. So, we can say that path length based regression itself is good alone to predict the end-to-end delays in MANET whose nodes follow GM mobility pattern and uses AODV as routing algorithm. On the other hand, weighted algorithm is better op- tion for end-to-end delay prediction for a MANET whose nodes follow GM mobility pattern and use DSR as routing algorithm as all PEC values of weighted algorithm are better compared to other two algorithms.

Delay prediction for manhattan grid mobility

The graphical representation of actual vs. predicted delay of a MANET following Manhattan Grid mobility pattern and using AODV routing is given in Fig. 4. The predicted values are found close enough to actual values for all three algorithms evident as from Fig. 4. Fig. 5 shows the actual vs. predicted end-to end packet delay of a MANET whose nodes follow Manhattan Grid mobility pattern and use DSR routing proto- col. It can be seen from Fig. 5 that predicted value are close to the actual values for all three algorithms.
To check which of the three algorithms is the best, we have computed different statistical measures of goodness. The PEC measures  like  correlation  coefficient  R,  Efficiency
E, IOA, RMSE, and MAE for predicted delay of a MANET
using Manhattan Grid mobility pattern under AODV and DSR routing are given in Table 4. The results in the table is grouped according to the routing protocol. In case of AODV routing, the path length regression based algorithm produces better results compared to other two strategies. Although the R value of weighted algorithm is slightly better than path length based regression algorithm. So, we can say that path length based regression itself is good enough to predict the end-to-end delays in MANET whose nodes follow Manhattan





0.05

0.045

0.04

0.035

0.03

0.025

0.02

0.015

0.01

0.005


0	10	20	30	40	50
Packet Id
Grid mobility pattern and use AODV as routing algorithm. On the other hand, weighted algorithm is better option for end-to-end delay prediction for a MANET whose nodes follow Manhattan Grid mobility pattern and use DSR as routing algorithm as all PEC values of weighted algorithm is better compared to other two algorithms.

Delay prediction for RPGM mobility

Fig. 6 shows the actual vs. predicted end-to end packet delay of a MANET whose nodes follow RPGM pattern and use AODV routing. It can be seen from Fig. 6 that predicted val- ues are close to the actual values for all three algorithms. The graphical representation of actual vs. predicted delay of a

Fig. 6	Actual vs. predicted delay for network following RPGM pattern with AODV routing protocol.



0.03


0.025


0.02


0.015


0.01


0.005 0	10	20	30	40	50
Packet Id

Fig. 7	Actual vs. predicted delay for network following RPGM pattern with DSR routing protocol.
MANET following RPGM pattern under DSR routing is gi- ven in Fig. 7. The predicted values are close enough to actual values for all three algorithms as evident from Fig. 7.
To quantify which algorithm performs better, we have com- puted different statistical measures of goodness. The PEC mea- sures like correlation coefficient R, Efficiency E, IOA, RMSE and MAE for predicted delay of a MANET using RPGM pat-
tern under AODV and DSR routing are given in Table 5. The results in the table is grouped according to the routing proto- col in use. In case of AODV routing, the weighted algorithm gives better results compared to other two strategies. The RMSE and MAE values of path length based regression algo- rithm is slightly better than weighted algorithm. So, we can say that weighted algorithm can be used to predict the end-to-end delays in MANET whose nodes follow RPGM pattern and use AODV as routing algorithm. Similarly, weighted algorithm is better option for end-to-end delay prediction for a MANET whose nodes follow RPGM mobility pattern and use DSR as routing algorithm as all PEC values of weighted algorithm is better compared to other two algorithms.





0.1
0.09
0.08
0.07
0.06
0.05
0.04
0.03
0.02
0.01
0


0	10	20	30	40	50
Packet Id
and use DSR routing. It can be seen from Fig. 9 that predicted values are close to the actual values for all three algorithms.
It is very difficult to quantify which algorithm gives better result by just examining Figs. 8 and 9. we have computed dif- ferent statistical measures of goodness to prove quantitatively that our algorithms are performing well. The PEC measures
like correlation coefficient R, Efficiency E, IOA, RMSE,
and MAE for predicted delay of a MANET using RWP mobil- ity pattern under AODV and DSR routing is presented in Ta- ble 6. The results in the table is grouped according to the routing protocol used by the network. In case of AODV rout- ing, the path length regression based algorithm gives better re- sults compared to other two strategies. However the R value of weighted algorithm is slightly better than path length based regression algorithm. So, we can say that path length based

Fig. 8 Actual vs. predicted delay for network following RWP mobility pattern with AODV routing protocol.


0.08

0.07

0.06

0.05

0.04

0.03

0.02

0.01

0
0	10	20	30	40	50
Packet Id

Fig. 9 Actual vs. predicted delay for network following RWP mobility pattern with DSR routing protocol.



Delay prediction for RWP mobility

The graphical representation of actual vs. predicted delay of a MANET following RWP mobility pattern and using AODV routing is given in Fig. 8. The predicted values are close en- ough to actual values for all three algorithms as evident from Fig. 8. Fig. 9 shows the actual vs. predicted end-to end packet delay of a MANET whose nodes follow RWP mobility pattern
regression itself is quite convincing to predict the end-to-end delays in MANET whose nodes follow RWP mobility pattern and use AODV as routing algorithm. Similarly, path length based regression algorithm is better option for end-to-end delay prediction for a MANET whose nodes follow RWP mobility pattern and use DSR as routing algorithm as all PEC values except correlation coefficient R of path length algorithm is better compared to other two algorithms.

Conclusion

In this article, we compute the end-to-end delay experienced by data packets in an ad-hoc network. We evaluated the correla- tion of path length with the packet delay and found that they are highly correlated. This high correlation motivated us to establish a regression equation for delay as dependent variable and path length as an independent variable. The regression is linear in nature and fits well as the predicted values by using regression equation is found to be quite good. Since, path length is known whenever a route to destination is calculated, hence, we can derive the approximate value for the packet de- lay whenever a route has been decided for a source destination pair. Further we have represented end-to-end packet delay in the framework of fuzzy time series. Using trapezoidal fuzzy numbers our fuzzy time series gives promising results but infe- rior to path length based regression. We proposed a weighted algorithm by combining these two algorithms which gives bet- ter results compared to both algorithms. We found that for MANET using AODV as routing protocol, path length based regression gives almost as good result as the weighted algo- rithm. Whereas for DSR routing protocol, weighted algorithm gives better results across all mobility patterns.







References

HanzoII L, Tafazolli R. A survey of qos routing solutions for mobile ad hoc networks. IEEE Commun Surv Tutor 2007;9(2):50–70.
Narasimhan S, Kunniyur SS. Effect of network parameters on delay in wireless ad-hoc networks. Tech rep. School of engineering and applied science; June 2004.
Camp T, Boleng J, Davies V. A survey of mobility models for ad hoc network research. Wireless Commun Mobile Comput (WCMC): Special Issue Mobile Ad Hoc Network: Res Trends Appl 2002;2(5):483–502.
Liu H. An improved fuzzy time series forecasting method using trapezoidal fuzzy numbers. Fuzzy Optimiz Decis Mak 2007;6:63–80.
Gupta P, Kumar PR. The capacity of wireless networks. IEEE Trans Inform Theor 2000;46(2):388–404.
Sharma G, Mazumdar RR. On achievable delay/capacity trade- offs in mobile ad hoc networks. In: Workshop on modeling and optimization in mobile ad hoc and wireless networks; 2004.
Gamal A, Mammen J, Prabhakar B, Shah D. Throughput-delay trade-off in wireless networks. In: INFOCOM 2004, vol. 1; 2004. p. 464–75. http://dx.doi.org/10.1109/INFCOM.2004.1354
518.
Sheu S-T, Chen J. A novel delay-oriented shortest path routing protocol for mobile ad hoc networks. In: IEEE international conference on communications (ICC 2001), vol. 6; 2001. p. 1930–
4.
Sun H, Hughes H. Adaptive qos routing based on prediction of local performance in ad hoc networks. In: IEEE WNCN 2003, vol. 2; 2003. p. 1191–5.
Guo Z, Malakooti B. Delay prediction for intelligent routing in wireless networks using neural networks. In: IEEE intl conf on networking, sensing and control (ICNSC ’06); 2006. p. 625–30. http://dx.doi.org/10.1109/ICNSC.2006.1673218.
Hongyan L, Hong W, Chao G. Internet time-delay prediction based on autoregressive and neural network model. In: Intl conf on communications, circuits and systems. IEEE; 2006. p. 1758–61.
Tabib SS, Jalali AA. Modelling and prediction of internet time- delay by feed-forward multilayer perceptron neural network. In: 10th Intl conf on computer modeling and simulation. IEEE; 2008.
p. 611–6, http://dx.doi.org/10.1109/UKSIM.2008.93.
Lee BS, San MN, Lim TM, Yeo CK, Seet BC. Processing delay as a new metric for on-demand mobile ad hoc network routing path selection. In: International conference on wireless communica- tions, networking and mobile computing; 2006. p. 1–4. http:// dx.doi.org/10.1109/WiCOM.2006.210.
Johnson DB, Maltz DA. Dynamic source routing in ad hoc wireless networks. Mob Comput 1996;353:153–81.
Tickoo O, Sikdar B. Modeling queuing and channel access delay in unsaturated ieee 802.11 random access mac based wireless networks. IEEE/ACM Trans Network 2008;16(4):878–91.
Bisnik N, Abouzeid A. Queuing network models for delay analysis of multihop wireless ad hoc networks. Ad hoc Netw 2009;7(1):79–97.
Guo Z, Sheikh S, Al-Najjar C, Kim H, Malakooti B. Mobile ad hoc network proactive routing with delay prediction using neural network. Wireless Netw 2010;16:1601–20. http://dx.doi.org/ 10.1007/s11276-009-0217-7.
Singh JP, Dutta P, Chakrabarti A. Delay prediction in manet using artificial neural network. International Transactions on Systems Science and Applications Pending Revisions.
Singh JP, Dutta P, Pal A. Delay prediction in mobile ad hoc network using artificial neural network. In: Intl conf on computer communication control and information technology (C3IT-12). Hooghly, India: Elsevier; 2012. p. 201–6.
Singh JP, Kumar P, Singh SK. Delay prediction in mobile ad hoc network using trapezoidal fuzzy numbers. In: Ninth international joint conference on computer science and software engineering (JCSSE’12). Thailand: IEEE; 2012. p. 60–4, http://dx.doi.org/ 10.1109/JCSSE.2012.6261926.
Ciullo D, Martina V, Garetto M, Leonardi E. Impact of correlated mobility on delay-throughput performance in mobile ad hoc networks. IEEE/ACM Trans Network 2011;19(6):1745–58. http:// dx.doi.org/10.1109/TNET.2011.2140128.
Gupta G, Shroff N. Delay analysis for multi-hop wireless networks. In: INFOCOM 2009. IEEE; 2009. p. 2356–64, http:// dx.doi.org/10.1109/INFCOM.2009.5062162.
Ghiasian A, Saidi H, Omoomi B, Amiri S. The impact of network topology on delay bound in wireless ad hoc networks. Wireless Netw 2013;19(2):237–45. http://dx.doi.org/10.1007/s11276-012-0462-z.
Gao J, Shen Y, Jiang X, Takahashi O, Shiratori N. End-to-end delay modeling for mobile ad hoc networks: a quasi-birth-and- death approach; 2013. ArXiv e-prints, 1-28arXiv:1312.7201.
Song Q, Chissom BS. Fuzzy forecasting enrolments with fuzzy time series – Part 1. Fuzzy Sets Syst 1993;54:1–9.
Song Q, Chissom BS. Fuzzy time series and its models. Fuzzy Sets Syst 1993;54:269–77.
Song Q, Chissom BS. Fuzzy forecasting enrolments with fuzzy time series – Part 2. Fuzzy Sets Syst 1994;62:1–8.
Chen S. Forecasting enrollments based on fuzzy time series. Fuzzy
Sets Syst 1996;81:311–9.
McCanne S, Floyd S. ns Network Simulator. <http://www.i- si.edu/nsnam/ns/>.
U. of Bonn. Bonnmotion – amobility scenario generation and analysis tool. <http://www.cs.uni-bonn.de/IV/bomonet/BonnMotion.htm>.
Yoon J, Liu M, Noble B. Random waypoint considered harmful. In: INFOCOM 2003; 2003. p. 1312–21.
