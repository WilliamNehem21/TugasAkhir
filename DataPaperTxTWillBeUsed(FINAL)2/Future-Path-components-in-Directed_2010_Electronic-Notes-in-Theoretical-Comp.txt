

Electronic Notes in Theoretical Computer Science 265 (2010) 325–335
www.elsevier.com/locate/entcs

Future Path-components in Directed Topology
Eric Goubault, Emmanuel Haucourt, Sanjeevi Krishnan1
CEA, LIST, Modelling and Analysis of Systems in Interaction, Bote 65, Gif-sur-Yvette, F-91191 France

Abstract
The global states of complex systems often form pospaces, topological spaces equipped with compatible partial orders reflecting causal relationships between the states. The calculation of tractable invariants on such pospaces can reveal critical system behavior unseen by ordinary invariants on the underlying spaces, thereby sometimes cirumventing the state space problem bedevilling static analysis. We introduce a practical technique for calculating future path-components, algebraic invariants on pospaces of states and hence tractable descriptions of the qualitative behavior of concurrent processes.
Keywords: concurrency, directed topology, future equivalence, path components


Introduction
Subtle design flaws in large, critical systems of simultaneously executing processes - such as the internet, modern microprocessors, and national air traffic networks - can induce catastrophic consequences. Researchers typically recast the behavior of such a system as traversals inside a directed graph or some other discrete“state space.” As the scales of time shrink and the numbers of processes increases, the sizes of these directed graphs explode. This combinatorial explosion renders industrial validation of critical systems incomplete in practice; system designers often must accept either a certain level of risk or reduced performance from a simplified design. A directed space, a topological space equipped with some structure of time, represents the limit of ever more intricate directed graphs representing ever finer observations in time. Classical algebraic topology gives effective methods for classifying reasonable spaces, irrespective of size, typically up to continuous deformation. Recent research [2] has shown that critical behavior corresponds to properties of directed spaces invariant under continuous deformation respecting time flow. Directed algebraic topology, an

1 email: sanjeevi.krishnan@gmail.com

1571-0661 © 2010 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2010.08.019

adaptation of algebraic topology for directed spaces, thus provides the natural set- ting for circumventing combinatorial explosion in designing and validating complex systems.
In such a passage from discrete to continuous models of state spaces, a geomet- ric intepretation to the semantics of concurrent processes emerges: discrete steps of program executions become continuous paths respecting the causal structure, and sequences of steps yielding equivalent results correspond to such paths which can be “deformed” into one another. Consider a system of two persons concurrently performing transactions on a shared bank account. In particular, suppose that the first person decides to withdraw the entire account balance, while the second person decides to withdraw a fixed sum of $40.00. The order in which a centralized bank decides to execute both instructions plays a crucial role in the amount of money that the first person receives. We can think of the global state space as some product of two linear state spaces minus some forbidden regions corresponding to constraints on performing conflicting transactions simultaneously. Figure 1 illustrates how dis- crete models of this two-person system, after finer and finer sampling, leads to a topological state space.
A technique for capturing tractable algebraic information from an uncountably large space X is to translate some of the topological structure of X into an algebraic but uncountable form and then use algebraic operations to extract the tractable and salient data. As a first step, we can convert a space X into its fundamental groupoid, a groupoid (=undirected graph equipped with extra structure) whose: vertices are the points of X; edges are “deformation classes” of paths on X; and extra structure corresponds to the concatenation of adjacent paths. Fundamental groupoids of spaces are uncountable yet admit unique (up to isomorphism) smallest equivalent fundamental groups, groupoids with only one vertex, or equivalently, sets equipped with suitable multiplications. Fundamental groups detect 1-dimensional holes in spaces; for example, the fundamental groups of a circle and torus are the respective groups Z of integers and Z × Z.
We calculate an analogue of fundamental groups for pospaces in order to capture the essential schedules and non-determinism exhibited in concurrent systems. As a first step, we can first convert the geometric data of a pospace X into its fundamental category Π1X, a category (=digraph equipped with extra structure) whose: vertices are the points of X; edges are “deformation classes” of monotone paths on X; and extra structure corresponds to the concatenation of paths. As a second step, we


Fig. 1. From discrete to continuous. As we make finer and finer samples of posets of states, we arrive at a pospace of states; execution chains become monotone paths. Two monotone paths continuously “de- formable” represent executions resulting in identical computations.



,, ¸,
¸• ,•,, ¸,
¸• ,
•¸,,,¸,

,,,,
,,,,
,,,
cccc
cccc
cccc
,,,,
,, ¸,
,,
cccc
cc
cc¸,
c
cccc
cccc
cccc
,,,,
,,,,
,,,

c	, c
•
•c	•


Fig. 2. We can regard directed graphs, as above, as presentations of small free categories. The first two corresponding categories are future equivalent to one another but not to the third category. None of the categories are equivalent to one another in the classical sense.

•	/•  /	/•  /	/· ·/· 
Fig. 3. The free category presented by the above digraph admits no future-minimal model.
wish to collapse Π1X into a tractable form that nonetheless captures the qualitative behavior of the system associated to X. A future equivalence [6] is a generalization of an equivalence of groupoids which identifies categories which model similar “flows through time”; see Figure 2 for some intuition. A complete “future invariant” on a category C would be a future-minimal model, a “smallest” future-equivalent subcategory M ⊂ C from which every future equivalence is an embedding; for example, the first category is a future-minimal model for the second category in Figure 2. Not all categories admit future-minimal models (see Figure 3), even if all categories admit skeletal subcategories.
Our main result suggests a technique for collapsing fundamental categories to tractable sizes (adapting techniques [3], [4], [9] developed by the first two named authors and others for quotienting categories while preserving their essential shape) directly from the order-topological data of pospaces, after which brute-force can then yield future-minimal models (see Figure 4 for some sample calculations); in particular, the theorem proves that such future-minimal models exist for pospaces
such as ordered hypercubes minus open isothetetic hyperrectangles of constraints on the simultaneous access of resources - built as certain unions of topological sup- semilattices. For a partial order ≤X on a set X and subset A ⊂ X, we write ↓X A for the set of all x ∈ X for which there exists a ∈ A such that x ≤X a.
Theorem 5.1	Consider the following data.
A compact order-dense metrizable pospace X.
A ﬁnite cover O of X consisting of compact, order-convex subpospaces forming topological sup-semilattices such that for all A, B ∈ O,
(A ∩ B), A ∩ ↓X (A ∩ B) ∈ O.

There exists a strong future deformation retraction from Π1X to the full subcategory whose objects are the maxima of the pospaces in O.

We recall basic definitions and properties of pospaces in §2 and fundamental


				


	z•, ,
 /•,,¸/,,,
•,,







	z•, ,

¸,¸¸¸ 


¸• ,
  
•	•,,/•,/,
 
// //


(a)	(b)	(c)	(d)	(e)

Fig. 4. Categories of future path-components. The top row illustrates non-interleaving yet uncountably large models X of concurrent processes. The bottom row gives tractable descriptions π0X of their dynamics. Examples (b) and (c) illustrate the sensitivity of π0 to the relative locations of holes. Examples (d) and (e) illustrate how π0 measures exactly 0-dimensional changes in topology through time.
categories in §3. In §4, we recall the definition of future equivalences from [6] and define future-minimal models. In §5, we present our theorem and elaborate on some of the calculations in Figure 4. In §6, we conclude with an outline of future goals for our theory.

Pospaces
A pospace is a poset X topologized (not necessarily in the weakest possible way) so that the graph of the partial order, which we write as ≤X , on X is closed in the standard product space X × X. We refer the reader to [5] and [10] for the basic theory of pospaces. Pospaces are automatically Hausdorff [10, Theorem 2]. Compact pospaces exhibit special order-theoretic properties.
Lemma 2.1 Compact pospaces are directed complete.
Proof. Fix a compact pospace K. Consider a monotone map ν : D → K from a directed poset D to K. There exists a directed subposet D' of D such that every point in D lies below a point in D' and the restriction ν' of ν to D' converges to a unique point p because K is compact Hausdorff. Thus ν(d) ≤K p for each d ∈ D because graph(≤K) is closed.
Suppose there exist another point q such that ν(d) ≤K q for each d ∈ D. Let κ be the constant function D' → K assuming the value q. Then p = lim ν ≤K lim κ ≤K= q because ν(d) ≤K κ(d) for each d ∈ D' and graph(≤K) is closed.  2
A topological sup-semilattice, a sup-semilattice topologized so that the binary supremum operator is jointly continuous, is a pospace if it is Hausdorff. We re- gard Euclidean space Rn as a topological sup-semilattice whose binary supremum operator is the coordinate-wise max function Rn × Rn → Rn. An order arc is a compact connected pospace A such that A contains more than one point and ≤A is a total order (for each pair x, y ∈ A, either x ≤A y or y ≤A x). We regard the unit




Fig. 5. The state pospace of two processes accessing a binary semaphore. The arrows indicate the flow of time. Hazard stripes indicate an unsafe region, points from which the machine is doomed to deadlock.
interval I as equipped with its standard total order. A subpospace of a pospace X
is a subposet A of X equipped with the subspace topology.
Example 2.2 Every connected compact subpospace of I is a singleton or an order arc.
A monotone map is a continuous monotone function between pospaces. An example is a dipath, a monotone map of the form
I → X.

We adopt the following non-standard terminology throughout the note.
Definition 2.3 Fix a pospace X. We call X ... 
. . . path-ordered if for each pair x ≤X y, there exists a dipath x ~ y on X.
. . . order-dense if for each pair x ≤X z of distinct points in X, there exists
y ∈ X distinct from x and z such that x ≤X y ≤X z.
A subset A ⊂ X is order-convex in X if y ∈ A whenever x, z ∈ A and x ≤X y ≤X z.
Example 2.4 For each pospace X and subset A ⊂ X, the subset




is order-convex in X.
↓X A

Consider a pospace X. A well-known characterization of I as the unique separa- ble order arc and an observation [5, Proposition VI-5.6] that compact order-dense pospaces are “arc-wise connected” yields the following straightforward consequence.
Lemma 2.5 Compact order-dense metrizable pospaces are path-ordered.

Fundamental categories
Fix a pospace X. For each pair α, β of dipaths on X, we write α ~ β if there exists a monotone map h : I × I → X such that h(−, 0) = α, h(−, 1) = β, and h(0, −), h(1, −) are constant. We write x for the equivalence relation on dipaths generated by ~ and [γ] for the x-class of a dipath γ on X, thus introducing an analogue [6] of the classical “homotopy relation” for pospaces.




Fig. 6. The state pospace of three concurrent processes, subject to certain constraints in the simultaneous access of shared resources. This pospace is order-dense and metrizable.
Lemma 3.1 For each topological sup-semilattice L, all monotone paths
α, β : I → L
starting and ending at the same points are x-equivalent.
Proof. Write ∨ for the continuous binary supremum operator L×L → L. Consider dipaths α, β on L. The rule h(x, t) = α(x) ∨ β(tx) defines a homotopy relative endpoints from α to α ∨ β monotone in x and t. Thus α ~ α ∨ β and similarly β ~ α ∨ β. Moreover, all morphisms which factor endomorphisms in Π1L are constant because ≤L is antisymmetric.	2
Lemma 3.2 For each pospace X and dipaths α, β on X,

if α and β share the same image.
α x β

Proof. In the case α(I) = β(I) a singleton, α, β are both constant and hence α(I) = α(0) = β(0) = β(I). It suffices to consider the case α(I) not a singleton. We can assume α is surjective, and hence a quotient map because I is compact and X is Hausdorff, without loss of generality. Hence X is an order arc. Lemma 3.1 implies the result because order arcs are examples of topological sup-semilattices.	2
Example 3.3 An analogous statement in classical homotopy theory does not hold. Two paths “winding” (e.g. e2iπ(−) and e4iπ(−)) a different number of times around a circle have the same image but do not both belong to a single family {ht}t∈[0,1] of such paths continuous in t.
The fundamental category, written Π1X, of a pospace X is the category having the points of X as objects, x-classes [α] of dipaths α on X as morphisms, and source, target, identity, and composition maps

s : [α] '→ α(0),	t : [α] '→ α(1),	id : x '→ [t '→ x],	[β] ◦ [α] = [α ∗ β],
where α ∗ β denotes the concatenated path defined on [0, 1 ] by t '→ α(2t) and ( 1 , 1]
2	2
by t '→ β(2t − 1). Following the terminology of [3], we call a category C loop-free if
in C , the only morphisms which factor endomorphisms are identity morphisms.

Example 3.4 Fundamental categories of pospaces are loop-free [3].
Example 3.5 Lemma 3.1 amounts to saying that the hom-sets of fundamental categories of topological sup-semilattices consist of singletons or empty sets.

Future equivalences
We recall the definition of a future equivalence, a symmetric version of an adjunction investigated in [7], [6] and a strong future deformation retraction, a categorical analogue of a strong deformation retraction and a special case of a split future equivalence from [6].
Definition 4.1 A future inverse to a functor F : C → D is a functor
G : D → C

such that there exist natural transformations η : idC → GF and η' : idD → F G, which we call units to the pair F, G, satisfying Fη = η'F and Gη' = ηG. A future equivalence is a functor admitting a future inverse. A strong future deformation retraction is a future equivalence which is a retraction R to a future inverse I such that the unit of R, I of the form id → IR = id is the identity natural transformation.
Future equivalences and strong future deformation retractions are both closed under composition. A reflection is a left adjoint to an embedding of categories.
Example 4.2 Categorical equivalences and reflections are future equivalences.
Example 4.3 Strong future deformation retractions are reflections.
The ultimate categorical invariant preserved by future equivalences is a future- minimal model. Recall that a functor is an embedding if it never identifies distinct morphisms.
Definition 4.4 A category M is future-minimal if every future equivalence
M → C

is an embedding. A future-minimal category M is a future-minimal model for a category C if there exists a future equivalence C → M.
Example 4.5 For a category C , the functor

C → 

to the terminal category is a future equivalence if and only if C contains a terminal object.
Example 4.6 Finite categories have future-minimal models.
Example 4.7 Loop-free categories C have future-minimal models if ob C is finite.

Future path-components
We now state our main result, a practical tool for recognizing when future-minimal models of fundamental categories exist and calculating such models.
Theorem 5.1 Consider the following data.
A compact order-dense metrizable pospace X.
A ﬁnite cover O of X consisting of compact, order-convex subpospaces forming topological sup-semilattices such that for all A, B ∈ O,
(A ∩ B), A∩ ↓X (A ∩ B) ∈ O.

There exists a strong future deformation retraction from Π1X to the full subcategory whose objects are the maxima of the pospaces in O.
Proof. Each L ∈O is a compact sup-semilattice and hence has a unique maximum by Lemma 2.1. Let C be the fundamental category of X, M be the full subcategory whose objects are the maxima of the pospaces in O, and I be the inclusion

M ‹→ C .

Consider x ∈ X. There exists a unique smallest pospace, which we write as M (x), in O containing x because O is closed under intersections. We can let ωx be a choice of dipath, unique up to x by Lemma 3.1, on M (x) from x to max M (x) by Lemma 2.5. Consider a dipath γ : x ~ y on X. There exist minimal n such that im γ = im(γ1 ∗ ··· ∗ γn), and hence [γ] = [γ1 ∗ ··· ∗ γn] by Lemma 3.2, and there exist L0, ··· , Ln ∈ O for which γ0([0, 1]) ⊂ Li, ..., γn([0, 1]) ⊂ Lm because I is compact. We show by induction on n that we can choose a dipath Q(γ) on X such that γ ∗ ωy x ωx ∗ Q(γ).
Consider the base case n = 1. The paths ωx and ωy lie in L1 by the minimality of M (x). Then x ∈≤−1 [M (y)], hence M (x) ⊂≤−1 [M (y)] by minimality of M (x),
L1	L1
and hence max M (x) ≤X max M (y). The base case then follows from Lemmas 2.5 and 3.1. Assume n > 1 and there exist dipath Q(γ1 ∗ ··· ∗ γn−1) on X such that
(γ1 ∗· · · γn−1) ∗ ωγn−1(1) x ωx ∗ Q(γ1 ∗· · · ∗ γn−1).
We have γn ∗ ωy x ωγn−1(1) ∗ Q(γn) by our base case and hence
Q(γ) = Q(γ1 ∗ ··· γn−1) ∗ Q(γn)
is our desired dipath. We can thus define a functor [Q] : C → M as sending each morphism [γ] to [Q(γ)] and a natural transformation η : idC → I[Q] by the rule ηx = [ωx] for each x ∈ X. For each x ∈ X, [Q]ηx = [Q][ωx] = idx because Q(ωx) : Qx ~ Qx, ≤X is antisymmetric, and hence Q(ωx) is constant. Thus [Q] is a strong future deformation retraction.	2

Example 5.2 Ordered hypercubes minus finite unions of open isothetic hyper- rectangles admit such covers and hence their fundamental categories admit future- minimal models because loop-free categories with finite object set admit future- minimal models.
We now demonstrate how the theorem allows us to make calculations.
Example 5.3 [Annulus] Let X be the subpospace of R2 having points
[0, 3]2 \ (1, 2)2.
Applying the theorem to the cover consisting of the subsets
I2, I × [0, 3] ∪ [0, 3] × [2, 3], [0, 3] × I ∪ [2, 3] × [0, 3], [2, 3]2,
	 z•, ,
π0X	=
 	
Example 5.4 [Higher versions] Let X be the subpospace of Rn having points
[0, 3]n \ (1, 2)n,	n = 3, 4,... 
The category Π1X has as a terminal object (3,..., 3) and hence we can conclude
π0X = •.
Example 5.5 Let X be the subpospace of Rn having points
[0, 5]2 \ (1, 2) × (3, 4) ∪ (3, 4) × (1, 2).
Applying the theorem to the smallest cover containing the subsets
I × [0, 5] ∪ [0, 5] × [4, 5], [0, 5] × I ∪ [4, 5] × [0, 5], [0, 3]2, [2, 5]2
and closed under the binary operations (A, B) '→ A ∩ B and (A, B) '→ A ∩ ↓X (A ∩ B), we can reduce Π1X to the category on the left hand side of (1) and hence conclude π0X is the category on the right hand side of (1).

(1)
•,,
/•,/,





•,,
 

•
 

 •,,¸,,	•


/• /



,,,,
,,,,


,
    
   
 

Example 5.6 [2-Semaphore] Let X be the subpospace of R2 having points
[0, 5]2 \ (2, 4) × (1, 4) ∪ (1, 4) × (2, 4).

Applying the theorem to the smallest cover containing the subsets
[0, 2]2, I × [0, 5] ∪ [0, 5] × [4, 5], [0, 5] × [4, 5]
and closed under the binary operations (A, B) '→ A ∩ B and (A, B) '→ A ∩ ↓X
(A ∩ B), we can conclude







Future work


π0X	=	•,,
 
•

	 •, ,

/•,/,

/• /

Our note illustrates how to extract tractable, algebraic information about the qual- itative behavior of complex systems from certain state spaces - when the systems do not loop through identical states and when those state spaces admit suitable finite covers of compact topological sup-semilattices. Firstly, we seek general point-set cri- teria for pospaces X to admit categories π0X of future-path components. Secondly, we expect that Theorem 5.1 generalizes to versions of state spaces where time travel is possible; future-minimal models of fundamental categories for local pospaces of- ten give concise descriptions of looping processes. Thirdly, we plan to generalize π0 to higher πn by considering “future-minimal models” of higher homotopy cat- egories. Fourthly, we hope to relate our invariant π0 with other “0-dimensional” homotopical invariants on state spaces of concurrent processes. For example, the covers described in Theorem 5.1 should roughly correspond to suitable generaliza- tions of “Yoneda systems” [3], [4], [9] on small categories. For another example, we expect the objects of trace categories [11] to coincide with future path-components on a large class of pospaces.

Acknowledgement
The authors greatly thank the anonymous referees for numerous and helpful comments, corrections, and suggestions.

References
	P.J. Ehlers, T. Porter, Ordinal subdivision and special pasting in quasicategories, Advances in Math., 2007, vol. 214, no. 2, pp. 489-518.
	L. Fajstrup, E. Goubault, M. Raußen, Algebraic topology and concurrency, Theoret. Comput. Sci, vol 357(1-3), 2006, pp. 241-278.
	L. Fajstrup, E. Goubault, E. Haucourt, M. Raußen, Components of the fundamental category, Appl. Categ. Structures, vol 12, 2004, no. 1, pp. 84-108.
E. Goubault, E. Haucourt, Components of the fundamental category II, Appl. Categ. Structures 2007.


	G. Gierz, K. Hofmann, K. Keimel, J. Lawson, M. Mislove, D. Scott, Continuous lattices and domains, Cambridge University Press, Encyclopedia of Mathematics and its Applications, vol 93, 2003, xxxvi+591 pp.
	M. Grandis, Directed homotopy theory. I., Cah. Topol. G´eom. Diff´er. Cat´eg, vol 44(4), 2003, pp. 281-316.
	M. Grandis, Directed algebraic topology, categories, and higher categories, Appl. Categ. Struct. 15 (2007), 341-353.
	M. Grandis, Quotient models of a category up to directed homotopy, Theory Appl. Categ. 16 (2006), No. 26, 709-735.
	E. Haucourt, Categories of components and loop-free categories, Theory and Applications of Categories, vol 16, no. 27, 2006, pp. 736-770.
	L. Nachbin, Topology and order, translated from the Portugese by Lulu Bechtolsheim, Van Nostrand Mathematical Studies, no. 4, D. Van Nostrand Co., Inc., Princeton, N.J.-Toronto, Ont.-London, 1965, vi+122.
	M. Raussen, Trace spaces in a pre-cubical complex, Topology and its Applications, vol. 156, (9), 2009, pp 1718-1728.
R. Thomason, Cat as a closed model category, Cahiers Topologie G´eom. Diff´erentielle 21, no. 3, 1980,
pp. 305324.
