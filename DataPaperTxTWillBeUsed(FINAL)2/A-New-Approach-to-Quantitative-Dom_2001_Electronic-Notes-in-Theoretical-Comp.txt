Electronic Notes in Theoretical Computer Science 45 (2001)
URL: http://www.elsevier.nl/locate/entcs/volume45.html 11 pages


A New Approach to Quantitative Domain Theory

Lei Fan 1,2
Department of Mathematics Capital Normal University Beijing 100037, P.R.China


Abstract
This paper introduces a new approach to the theory of Ω-categories enriched by a frame. The approach combines ideas from various areas such as generalized ul- trametric domains, Ω-categories, constructive analysis, and fuzzy mathematics. As the basic framework, we use the Wagner’s Ω-category [18,19] with a frame instead of a quantale with unit. The objects and morphisms in the category will be called L-Fuzzy posets and L-Fuzzy monotone mappings, respectively. Moreover, we intro- duce concepts of adjoints and a kind of convergence in an L-Fuzzy poset that makes the theory “constructive” or “computable”.



1	Introduction
Quantitative Domain Theory has attracted much attention [4], [15], [17], and [18]. Amongst these developments, K.Wagner’s theory of Ω-categories is most general, and J.J.M.M.Rutten’s theory of generalized ultrametric domains is closest to the standard domain theory. So it is natural to think that some of the properties about the latter, especially those that closely connected with the operational and topological properties of the unit interval [0,1], may not be generalized to the theory of Ω-categories without restricted conditions on the valued quantale. Of course this is right in general, but it is not always true as K.Wagner’s work shows. In this paper we provide more examples to further support this observation.
In section 2, we review some materials essential for this paper. As the basis we use Wagner’s Ω-category [18] with a frame instead of a commutative quantale with unit. However, the method used in this paper applies to the

1 This work is supported by China National Natural Science Foundations
2 Email: fanlei63@hotmail.com
◯c 2001 Published by Elsevier Science B. V. Open access under CC BY-NC-ND license.


general case. The objects and morphisms in the category will be called L- Fuzzy posets and L-Fuzzy monotone mappings respectively because we hope to stress the fuzzy view that this paper takes. We then prove a representation theorem which shows that every L-Fuzzy preordered set can be represented by a family of preorders on that set properly glued together. In the end of the section, we propose a theory of adjoint pairs on L-Fuzzy monotone mappings which is a generalization of Rutten’s theory of metric adjoint pairs. In section 3, we introduce a theory of convergence in L-Fuzzy posets. The theory is based on a simple idea from constructive analysis, that is, replacing the arbitrary ϵ > 0 with a proper “computable” sequence such as {1/n}. So our work can be seen as a constructive version of Wagner’s theory of liminf convergence. In the final section, we develop a theory for recursive domain equations in the category of L-Fuzzy posets and L-Fuzzy adjoint pairs, following the methods of J.J.M.M.Rutten [15].

2	LF -posets and LF -monotone mappings
First, we review some basic concepts from the theory of Ω-categories in a slightly different form, see [19] for details. Note that we use a frame instead of a commutative quantale with unit.
In what follows, (L, ≤) will denote a fixed nontrivial frame (or complete Heyting algebra) with maximal element 1 and minimal element 0. For a, b ∈ L, the meet, union and implication in L will be denoted by a ∧ b, a ∨ b and a → b respectively.
Definition 2.1 Let X be a non-empty set, e : X × X −→ L a mapping. e is called an L-Fuzzy preorder on X if it satisfies the following conditions:
for all x ∈ X, e(x, x)= 1,
for all x, y, z ∈ X, e(x, z) ∧ e(x, y) ≤ e(y, z).
The pair (X, e) or X is called an L-Fuzzy preordered set. If e satisfies the additional condition
for all x, y ∈ X, e(x, y)= e(y, x)=1 ⇒ x = y,
then it is called an L-Fuzzy partial order on X and (X, e) is called an
L-Fuzzy partial ordered set (abbreviated as L-Fuzzy poset or LF-poset ).
Let (X, eX) and (Y, eY ) be L-Fuzzy preordered sets, f : X −→ Y a mapping. f is called an L-Fuzzy monotone mapping if for all x, y ∈ X,
eY (f (x),f(y)) ≥ eX(x, y).
The category of LF -preordered sets (LF -posets) and LF -monotone map- pings will be denoted by LF-Pre (LF-POS).

Remark 2.2 (1) If L = {0, 1}, then the category LF-Pre (LF-POS) can be identified with the category Pre (POS) of ordinary preordered sets

(partially ordered sets) and monotone mappings.
(2) If L = [0, 1], then the category LF-Pre (LF-POS) can be identified with the category Gums (Qums) of Rutten’s generalized ultrametric spaces (quasi ultrametric spaces) and non-expansive mappings through the relation defined below:
e(x, y)=1 − d(x, y), x,y ∈ X.
Intuitively, e(x, y) is interpreted as the degree of x ≤ y. This partially justifies the term L-Fuzzy. Of course, there are other reasons for that. See the following Example 2.3(2),[10], [11], and [13] for more information.
Example 2.3  (1) Let (X, ≤) be a preordered set. For x, y ∈ X, let
e≤(x, y)=1 ⇐⇒ x ≤ y.
Then (X, e≤) is an L-Fuzzy preordered set. Moreover, (X, e≤) is an L- Fuzzy poset when ≤ is a partial order on X.
(2) Let A : X −→ L be an L-Fuzzy set on X. For x, y ∈ X, let
eA(x, y)= A(x) → A(y).
Then (X, eA) is an L-Fuzzy preordered set. In particular, every frame L
can be seen as an L-Fuzzy preordered set by letting X = L and A = idL.
Let (X, eX) and (Y, eY ) be L-Fuzzy preordered sets, and
Y X = [X → Y ]= {f | f : X −→ Y is L-monotone}.
We can make Y X as an L-Fuzzy preordered set by defining
EY X (f, g)=  {eY (f (x), g(x)) | x ∈ X}, f,g ∈ Y X.
Moreover, we define the noise between f and g as
δ⟨f, g⟩ = EXX (idX,g ◦ f ) ∧ EY Y (f ◦ g, idY ).
Let (X, e) be an L-Fuzzy preordered set and x, y ∈ X, a ∈ L. Define a relation ±a on X as follows: x ±a y ⇐⇒ e(x, y) ≥ a. Then it is easy to check that ±a is a preorder on X for all a ∈ L. In fact we have:
Theorem 2.4 (The decomposition theorem) Let (X, e) be an L-Fuzzy pre- ordered set. Then
If a ≤ b, then ±b⊆±a.
For all S ⊆ L, if a =  S, then ±a=  {≤s| s ∈ S}.
For all x, y ∈ X, e(x, y)=  {a ∈ L | x ±a y}.

Moreover, if f : X −→ Y is a mapping between L-Fuzzy preordered sets, then f is L-monotone if and only if for all a ∈ L, f : (X, ±a) −→ (Y, ±a) is monotone, that is, x ±a y =⇒ f (x) ±a f (y).	✷
Theorem 2.5 (The representation theorem) Let X be a set and F = {Ra |
a ∈ L} a family of preorders on X with the following properties:
if a ≤ b, then Rb ⊆ Ra;
for all S ⊆ L, Ra =  {Rs | s ∈ S} when a =  S.
Then (X, eF ) is an L-Fuzzy preordered set, where
eF (x, y)=  {a ∈ L | (x, y) ∈ Ra}, x,y ∈ X.
Moreover, suppose that X, Y are sets with F = {Ra | a ∈ L}, G = {Ta | a ∈ L} satisfying properties (1) and (2) above, and f : X −→ Y a mapping such that for all a ∈ L, f : (X, Ra) −→ (Y, Ta) is monotone. Then f : (X, eF ) −→ (Y, eG) is an L-monotone mapping.	✷
The proof of above Theorems are routine.
It is interesting to note that Theorem 2.4 and Theorem 2.5 can be rephrased in the language of (pre-)sheaves as follows. Recall that a presheaf on L is a contravariant functor F : L −→ Set from L (seen as a category) to the cate- gory Set of sets and mappings. One obtains a C -presheaf if one replaces Set with a more general category C with proper structures.
Let PO(X) denote the poset (so a category) of all preorders on set X with subset inclusion as the order. Then it is easy to see that condition (1) in Theorem 2.5 is equivalent to saying that F = {Ra | a ∈ L} is a PO(X)- presheaf on L and condition (2) is exactly the sheaf condition.
It is well know that the theory of adjoint pairs plays an essential role in domain theory. J.J.M.M.Rutten [15] and F.Alesi et al. [2] established a truly quantitative version of the classical theory of adjoints. We will now set up a theory of adjoints about LF - monotone mappings that is a generalization to Rutten’s.
For a, b, η ∈ L, set a ∗ b = (a → b) ∧ (b → a) and a ≈η b ⇔ a ∗ b ≥ η. In informal fuzzy logic terms, a ∗ b is the “degree” of equivalence of propositions a and b, whereas a ≈η b means that a and b are equivalent “up to degree η” at least.
Definition 2.6 Let (X, eX) and (Y, eY ) be LF -preordered sets, f : X −→ Y
and g : Y −→ X LF -monotone mappings and η ∈ L. If for all x ∈ X, y ∈ Y ,
eY (f (x), y) ≈η eX(x, g(y)),
then f, g is called an η-adjoint pair, and denoted by f Eη g.
Theorem 2.7 Let (X, eX) and (Y, eY ) be LF -preordered sets, f : X −→ Y
and g : Y −→ X LF -monotone mappings and η ∈ L. Then the following

conditions are equivalent:
f Eη g;
δ⟨f, g⟩ ≈η 1;
for all x ∈ X, y ∈ Y , ϵ ≤ η, f (x) ≤є y ⇔ x ≤є g(y);
idX ±η g ◦ f, f ◦ g ±η idY .	✷
The essential part of the proof is a simple result from frame theory as below.
Lemma 2.8 Let L be a frame and a, b, η ∈ L. The the following conditions are equivalent:
a ≈η b;
a ∧ η = b ∧ η;
a → η = b → η;
for all ϵ ∈ L, ϵ ≤ η, ϵ ≤ a ⇔ ϵ ≤ b.

3	A Theory of Convergence in LF -posets
In this section, we introduce a theory of convergence in LF -posets. It is based on a very simple and intuitive idea from constructive analysis, that is, we replace arbitrary ϵ > 0 with a computable sequence decreasing to 0 (such as
{1/n}) for all practical purposes, see [3] for example. We generalize the idea to LF -posets. In fact, the resulting theory is a special case of Wagner’s liminf theory of convergence.
Definition 3.1 Let η = (ηn)n∈ω be an increasing sequence in L and  {ηn |
n ∈ ω} = 1. Then η is called a testing sequence.
Example 3.2  (1) Let L = {0, 1} and for all n ∈ ω, ηn = 1. Then η = (ηn) is a testing sequence in L. This corresponds to the classical theory based on preordered sets.
Let L = [0, 1] and for all n ∈ ω, ηn = 1 − (1/n).  Then η = (ηn) is a testing sequence in L. This corresponds to Rutten’s generalized ultrametric theory.
Let L = ω ∪ {ω} and for all n ∈ ω, ηn = n. Then η = (ηn) is a testing sequence in L. This corresponds to Monteiro’s theory of sfe (sets with families of equivalence), see [14] for the details.
Definition 3.3 Let (X, e) be a non-empty LF -poset, (xn)n∈ω a sequence in
X.
(xn) is said to be converging to x with respect to η (η-converges to x, briefly) and denoted by x = η- lim xn if there exists an x ∈ X such that

for every N ∈ ω and a ∈ X,
   e(xn, a) ≈ηN e(x, a).
n≥N
(xn) is called a (forward) Cauchy sequence with respect to η (η-Cauchy sequence, briefly) if for every N ∈ ω and m ≥ n ≥ N , e(xn, xm) ≥ ηN , or equivalently, e(xn, xn+1) ≥ ηN for all n ≥ N .
(X, e) is called η-complete if every η-Cauchy sequence in X converges.
The category of η-complete LF -posets and LF -monotone mappings will be denote by η-CPO.
Remark 3.4 An anonymous referee points out to the author that the con- vergence w.r.t η is a special instance of the notion of weighted-(co)limit from enriched category theory, see [5]. For the case of metric spaces see [16].
Example 3.5 Let L = {0, 1}, and η is the testing sequence in Example 3.2(1). Then a sequence (xn) in X has the limit x w.r.t η if and only if that x is the least upper bound of the set {xn | n ∈ ω}. Moreover, (xn) is η-Cauchy if and only if it is an increasing sequence in X. So we have:
Theorem 3.6 Let X be a poset seen as an LF -poset as in Example 2.3(1) and η be the testing sequence defined in Example 3.2(1). Then X is η-complete if and only if it is an ω-dcpo.	✷
Theorem 3.7 Let (X, e) be an LF -poset, (xn) a sequence in X and x ∈ X. Then x = η- lim xn if and only if the following conditions hold:
n≥N e(xn, x) ≥ ηN ,N ∈ ω;
n≥N e(xn, a) ≤ e(x, a),N ∈ ω, a ∈ X.	✷
Corollary 3.8 Let (xn) be a sequence in X and x ∈ X. If x = η- lim xn then:
n ≥ N, e(xn, x) ≥ ηN ,N ∈ ω;
If x' ∈ X such that the condition (1) holds then e(x, x')= 1.	✷
The conditions (1) and (2) in Corollary 3.8 can be interpreted in order- theoretic terms as follows:
(1’) for all N ∈ ω, n ≥ N , xn ±ηN x,
(2’) If x' ∈ X such that the condition (1’) holds, then x ±η	x'.
In other words, x is the least upper bound of set {xn | n ∈ ω, n ≥ N } at the level ηN for all N ∈ ω.
Theorem 3.9 Let L be a frame seen as an LF -poset as in Example 2.3(2) and let η be a testing sequence in L. If (xn) is an η-Cauchy sequence in L,

then
η- lim xn =
    {xn | N ∈ ω, n ≥ N }.

In particular, L is η-complete as an LF -poset.	✷

Definition 3.10 Let (X, eX), (Y, eY ) be LF -posets and f  : (X, eX) −→
(Y, eY ) be an LF -monotone mapping.
f is called η-continuous if for every convergent sequence (xn) in X, (f (xn)) is a convergent sequence in Y , and
f (η- lim xn)= η- lim f (xn).
The set C(X, Y ) of all η-continuous mappings from X to Y is an LF - poset too when it is seen as a subset of Y X = [X → Y ].
f is called η-approximate if for all x, y ∈ X, N ∈ ω,
e(x, y) ≥ ηN =⇒ e(f (x),f(y)) ≥ ηN+1.
The term “approximate” was coined by L.Monteiro in [14]. It is a con- structive form of contraction mapping in the theory of metric spaces.
Remark 3.11 It is well know that every contraction mapping is continuous in the standard metric space. But it is not true in the present case. In fact, η-continuous and η-approximate mappings are incomparable.
Theorem 3.12 Suppose X, Y  are LF -posets and Y  is η-complete.  Then
C(X, Y ) is also η-complete.	✷
Theorem 3.13 (Fixed Point Theorem) Let (X, e) be an η-complete LF- poset and f : X −→ X an LF -monotone mapping.
If f is η-continuous and there exists an x ∈ X such that e(x, f (x)) = 1, then f has a fixed point.
If f is η-continuous and η-approximate and there exists an x ∈ X such that e(x, f (x)) ≥ η0, then f has a fixed point.	✷
The proof of Theorem 3.13 is similar to the corresponding result of gener- alized ultrametric spaces, see Theorem 6.3 in [15].

4	Domain Equations in the category η-CPO
In this section, we develop a theory for solving domain equations in the cate- gory of η-complete LF -posets and LF -adjoint pairs following the methods of J.M.Rutten [15]. Proofs of results in this section are similar to the cases of generalized ultrametric spaces, see [6] for details.
As basic framework we use the category η-CPOP (P stand for pairs) of η-complete LF -posets and η-continuous LF -adjoint pairs, that is, objects in η- CPOP are η-complete LF -posets and morphisms in η-CPOP are pairs ⟨f, g⟩ : X −→ Y , where f : X −→ Y and g : Y −→ X are η-continuous mappings. The composition of morphisms is defined as usual: if ⟨f, g⟩ : X −→ Y , ⟨h, k⟩ : Y −→ Z are morphisms in η-CPOP , then ⟨f, g⟩◦ ⟨h, k⟩ = ⟨h ◦ f, g ◦ k⟩.

Definition 4.1  (1) A sequence


⟨f0,g0⟩
X0 −→ X1
⟨f1,g1⟩
−→ · · ·

in η-CPOP is called an η-Cauchy chain if for every N ∈ ω and n ≥ N , fn EηN gn, or equivalently, δ⟨fn, gn⟩ ≈ηN 1.
Let

⟨f0,g0⟩
X0 −→ X1
⟨f1,g1⟩
−→ · · ·

be an η-Cauchy chain in η-CPOP . A cone of the chain is a sequence
{⟨αk, βk⟩ : Xk → X} of morphisms in η-CPOP such that
⟨αk, βk⟩ = ⟨αk+1, βk+1⟩◦ ⟨fk, gk⟩
for every k ∈ ω.
A cone {⟨αk, βk⟩ : Xk → X} is a colimit if it is initial, that is, for
every other cone {⟨α' , β' ⟩ : Xk → X'}, there exists an unique morphism
k	k
⟨f, g⟩ : X −→ X' such that
⟨α' , β' ⟩ = ⟨αk, βk⟩◦ ⟨f, g⟩
k	k
for every k ∈ ω.
We will use the following conventions. For all k, l ∈ ω, k < l, fkl = fl−1 ◦· · · fk+1 ◦ fk, gkl = gk ◦ gk+1 ··· gl1 .
Note that fk,k+1 = fk, gk,k+1 = gk.
Theorem 4.2 Let

⟨f0,g0⟩
X0 −→ X1
⟨f1,g1⟩
−→ · · ·

be an η-Cauchy chain in η-CPOP and {⟨αk, βk⟩ : Xk −→ X} a cone of the chain. Then {⟨αk, βk⟩} is a colimit if and only if the following conditions hold:
βk ◦ αk = η- liml>k(gkl ◦ fkl) for every k ∈ ω.
η- lim(αk ◦ βk)= idX.	✷
Theorem 4.3 Every η-Cauchy chain in η-CPOP has an unique colimit cone.✷
Definition 4.4 Suppose F : LF − POS −→ LF − POS be a functor and
FXY : Y X −→ F (Y )F (X)
denote the mapping f '→ F (f ) for LF -posets X, Y .
F is said to be local LF -monotone if FXY is LF -monotone for any LF - posets X, Y .
F is said to be local η-continuous if FXY is η-continuous for any LF - posets X, Y .

F is said to be local η-approximate if FXY is η-approximate for any LF - posets X, Y .
Every functor F : LF − POS −→ LF − POS can be extended to a func- tor FP : η-CPOP −→ η-CPOP as follows: FP (X)= F (X) for every object X in η-CPOP and FP (⟨f, g⟩) = ⟨F (f ),F (g)⟩ for every morphism ⟨f, g⟩ in η-CPOP . The functor FP : η-CPOP −→ η-CPOP is said to be local LF- monotone (local η-continuous, local η-approximate, respectively) if the corre- sponding functor F is.
Theorem 4.5 Let FP : η-CPOP −→ η-CPOP be the functor defined as above. Then:
If F is local LF -monotone, then
δ(FP (⟨f, g⟩)) = δ⟨F (f ),F (g)⟩ ≥ δ⟨f, g⟩
for every morphism ⟨f, g⟩ in η-CPOP .
If F is local η-approximate, then
δ⟨f, g⟩ ≥ ηN =⇒ δ⟨F (f ),F (g)⟩ ≥ ηN+1
for every morphism δ⟨f, g⟩ in η-CPOP and N ∈ ω.	✷
As the case of generalized ultrametric spaces, we can now give a categorical version of the Theorem 3.13.
Theorem 4.6 (The fixed point theroem, categorical version) Let F P : η- CPOP −→ η-CPOP be a functor.
If F is local η-continuous and there exists an object X and a morphism
⟨f, g⟩ : X −→ F (X) of η-CPOP such that f E g. Then there exists an object Y of η-CPOP satisfying that F (Y ) ∼= Y .
If F is local η-continuous and η-approximate and there exists an object
X and a morphism ⟨f, g⟩ : X −→ F (X) of η-CPOP such that f Eη g.
Then there exists an object Y of η-CPOP satisfying that F (Y ) ∼= Y . ✷

Acknowledgement
The author is grateful to Professors M. Mislove, G.-Q. Zhang, and referees for their invaluable help to correct numerous errors, improve the presentation and make comments.

References
Abramsky, S., A. Jung, Domain theory, in S.Abramsky, D.Gabbay, T.Maibaum, editors, “Handbook of Logic in Computer Science”, vol.3, pp.1-168, Oxford University Press, 1995.


Alesi, F., P. Baldan, G. Belle and J.J.M.M. Rutten, Solutions of functorial and non-functorial metric domain equations, Electronic Notes in Theoretical Computer Science 1 (1995). URL: http://www.elsevier.nl/ locate/entcs/volume1.html.
Bishop, E., D. Bridges, “Constructive Analysis”, Springer-Verlag 1985.
Bonsangue, M.M., F.van Breugel, J.J.M.M.Rutten, Generalized Ultrametric spaces: completion, topology, and powerdomains via the Yoneda embedding, Theoretical Computer Science 193 (1998), pp.1-51.
Borceux, F., G. M. Kelly, A notion of limit for enriched categories, Bull. Austral. Math. Soc. 12 (1975), pp.49-72.
Fan, L., Some Questions in Domain Theory, Ph.D Thesis, Capital Normal University 2001. (In Chinese)
Flagg, B., R. Kopperman, Continuity Spaces: Reconciling Domains and Metric Spaces, Theoretical Computer Science 177 (1997), pp.111-138.
Flagg, B., R. Kopperman, Fixed points and reflexive domain equations in categories of continuity spaces, Electronic Notes in Theoretical Computer Science 1 (1995). URL: http://www.elsevier.nl/locate/entcs/ volume1.html.
Flagg, B., P. Su¨nderhauf and K. Wagner. A Logical Approach to Quantitative Domain Theory. Preprint Submitted to Elsevier, 1996.
Grayson, R. J., Heyting-valued semantics, in G.Lotti et al., editors, Logic Colloquium’ 82, pp.181-208, Elservier Science 1983.
Ho¨hle, U., Fuzzy sets and subobjects, in A. Jones et al., editors, “Fuzzy Sets and Applications”, pp.69-76, D.Reidel Publishing Company 1986.
Lawvere, F. W., Metric Spaces, Generalized Logic and Closed Categories, Rend. Sem. Mat. e. Fisico di Milano 43 (1973), pp.135-166.
Lowen, R., Mathematics and Fuzziness, in A.Jones et al., editors, “Fuzzy Sets and Applications”, pp.3-38, D.Reidel Publishing Company 1986.
Monteiro,  L.,  Semantic  domains  based  on  sets  with  families of equivalences, Electronic Notes in Theoretical Computer Science 11(1996). URL: http://www.elsevier.nl/locate/entcs/volume11.html.
Rutten, J.J.M.M., Elements of generalized ultrametric domain theory, Theoreotical Computer Science, 170(1996), pp.349-381.
Rutten, J.J.M.M., Weighted colimits and formal balls in generalized metric spaces, Topology and its Applications 89 (1998), pp.179-202.
Smyth, M. B., Quasi-Uniformities: Reconciling Domains with Metric Space, Mathematical Foundations of Programming Language Semantics, Lecture Notes in Computer Science, Springer-Verlag 1987.


Wagner, K., Solving Recursive Domain Equations With Enriched Categories, Ph.D Thesis, Carnegie Mellon University 1994.
Wagner, K., Liminf convergence in Ω-categories, Theoretical Computer Science, to appear.
Zheng, Chongyou, L. Fan, H. B. Cui, “Frame and Continuous Lattices”(2nd edition), Capital Normal University Press, Beijing 2000. (In Chinese)
