Available online at www.sciencedirect.com



Electronic Notes in Theoretical Computer Science 276 (2011) 159–170
www.elsevier.com/locate/entcs
Multi-Linear Iterative K-Σ-Semialgebras
Z. E´sik1,2
Dept. of Computer Science University of Szeged
A´rp´ad t´er 2
6720 Szeged, Hungary

Abstract
We consider K-semialgebras for a commutative semiring K that are at the same time Σ-algebras and satisfy certain linearity conditions. When each finite system of guarded polynomial fixed point equations has a unique solution over such an algebra, then we call it an iterative multi-linear K-Σ-semialgebra. Examples of such algebras include the algebras of Σ-tree series over an alphabet A with coefficients in K, and the algebra of all rational tree series. We show that for many commutative semirings K, the rational Σ-tree series over A with coefficients in K form the free multi-linear iterative K-Σ-semialgebra on A.
Keywords: Semialgebra, Σ-algebra, rational tree-series, free algebra, unique fixed points.


Introduction
In an iterative algebra [1,9,23,20], certain finite systems of fixed-point equations have unique solutions. It was first pointed out in [20] that iterative algebras form a quasi-variety, hence all free iterative algebras exist. Clearly, the same holds for the subclass of iterative algebras in any variety or quasi-variety of algebras. However, it is usually a nontrivial task to find a concrete description of the free algebras in a certain class of iterative algebras.
Free algebras in the class of all iterative algebras may be represented as alge- bras of regular (finite or infinite) trees, cf. [23]. A characterization of the free iterative idempotent semirings by regular word languages is implicit in Salomaa’s axiomatization of regular languages [21]. Extensions of Salomaa’s axiomatization to rational power series (or rational weighted languages) are given for fields in [19], for commutative rings in [16], and for commutative “proper semirings” (including

1 Partially supported by the project TA´MOP-4.2.1/B-09/1/KONV-2010-0005 “Creating the Center of Ex- cellence at the University of Szeged”, supported by the European Union and co-financed by the European Regional Fund, and by grant no. K 75249 from the National Foundation of Hungary for Scientific Research.
2 Email: ze@inf.u-szeged.hu

1571-0661 © 2011 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2011.09.020

all finite commutative semirings and commutative rings) in [12]. It follows from these results that in certain classes of iterative semirings or iterative semialgebras, the free algebras may be represented as algebras of rational power series. (Some results along this line are claimed in the papers [4,24], but the proofs are incom- plete, as pointed out in the MR review of the second paper.) As an important consequence of the concrete representation, one can derive several decidability and undecidability properties of the corresponding equational theories and use automata theoretic arguments to establish the validity of equations. For example, it follows that the equational theory of the iterative algebras of [23,20] is decidable in poly- nomial time, whereas the equational theory of iterative idempotent semirings is PSPACE-complete, cf. [22].
The aim of the present paper is to extend some results from [12] to “itera- tive multi-linear K-Σ-algebras”, which are both Σ-algebras and K-semialgebras for a fixed commutative semiring K, satisfying certain natural linearity conditions. The main result shows that when K is proper, the free iterative multi-linear K-Σ- algebras may be described by rational tree series [8]. The result applies to the semir- ing N of natural numbers, all finite commutative semirings, all commutative rings, all Noetherian commutative semirings and in fact to all commutative semirings K such that every finitely generated subsemiring of K is contained in a Noetherian subsemiring.
The unique fixed point rule has been the basis of several complete axiomatiza- tion results in Computer Science. In addition to automata and languages, it has frequently been used in concurrency, see [17,18,5], for example. Our freeness result yields a family of such completeness results for rational tree series (regular weighted tree languages) [8,11].

Iterative multi-linear algebras
A semiring S = (S, +, ·, 0, 1) consists of a commutative monoid (S, +, 0) and a monoid (S, ·, 1) such that product distributes over all finite sums including the empty sum, so that x · 0=0=0 · x for all x ∈ S. Examples of semirings include all rings, the semiring N of natural numbers and the Boolean semiring B over the set {0, 1} whose sum operation is disjunction and whose product operation is conjunction. A commutative semiring is a semiring whose product is commutative.
Suppose that K = (K, +, ·, 0, 1) is a commutative semiring and Σ is a ranked set. A multi-linear K-Σ-algebra B is both a Σ-algebra with operations σB : Bn → B, for all σ ∈ Σn, n ≥ 0, and a K-semimodule (B, +, 0) with left K-action K ×B → B subject to the usual laws, where x, y, z ∈ B and k, kj ∈ K:
(x + y)+ z = x + (y + z)
x + y = y + x
x +0 = x
(k + kj)x = kx + kjx
0x =0 

k(x + y)= kx + ky
k0=0 
(kkj)x = k(kjx)
1x = x
Moreover, the following identities hold for all σ ∈ Σn, i ∈ [n] = {1,..., n}, n > 0 and k ∈ K:
σ(x1,..., xi + yi,..., xn)= σ(x1,..., xi,..., xn)+ σ(x1,..., yi,..., xn)
σ(x1,..., kxi,..., xn)= kσ(x1,..., xn).
Morphisms of multi-linear K-Σ-algebras are both Σ-algebra morphisms and K- semimodule morphisms. Below we will often denote the operations σB of an algebra B by just σ.
In the sequel, we will be considering systems of fixed point equations with two sorts of variables, namely variables that occur on the left sides of the equations and possibly on the right sides, and variables that only occur on the right sides of the equations. We will call the latter as parameters.
The set of all K-Σ-algebra terms over the set X = {x1,..., xn} of variables and the set A of parameters is given by the context-free grammar
t ::= xi | a | 0 | t + t | kt | σ(t,..., t)
where k ranges over the semiring K, xi is a variable and a is a parameter. When
σ ∈ Σ0, we identify the term σ() with the letter σ.
An interpretation of a set A of parameters in a multi-linear K-Σ-algebra B assigns an element of B to each parameter a in A, usually also denoted a. Given a multi-linear Σ-algebra B together with an interpretation of the parameters A as elements of B, each term t over {x1,..., xn} in the parameters A induces a polynomial function tB : Bn → B defined in the usual way.
With respect to the axioms of multi-linear K-Σ-algebras (1) – (11), each term
t over the variables in X and parameters A is equivalent to a term of the form

m i=1
kiti, where each ki is a nonzero element of K and each ti is a term not

containing any occurrence of +, 0 and the K-action, i.e., each ti is a Σ-term. (When
m = 0, this term is 0.) We may as well assume that the ti are all different, in which
case the term Σm  kiti is unique up to a permutation of the summands. Below
we will usually identify terms that are equivalent under the axioms of multi-linear
K-Σ-algebras.
Definition 2.1 Suppose that X is a set of variables and A is an alphabet of pa- rameters. We call a term t over X in the parameters A proper (or guarded), if it is either 0, or a letter a in A, or a term of the form σ(t1,..., tn), σ ∈ Σn, n ≥ 0, where t1,..., tn are any terms over X in the parameters A, or a term of the form kt or t1 + t2, where t, t1, t2 are proper terms and k ∈ K.
Since for any term t, the term 0t can be identified with 0, we could as well allow proper terms of the form 0t, where t is any term.
When t is a proper term, it is equivalent to a term Σm  kiti where each ki is a

nonzero element of K and each ti is a Σ-term that is not a single variable in X.
Definition 2.2 Suppose that B is a multi-linear K-Σ-algebra. We say that B is an iterative multi-linear K-Σ-algebra if for each sequence t1,..., tn of proper terms over a set X = {x1,..., xn} of variables and a set A of parameters interpreted as elements of B, the finite system of proper fixed point equations
x1 = t1
(12)	.
xn = tn
has a unique solution over B. Morphisms of iterative multi-linear K-Σ-algebras are just multi-linear K-Σ-algebra morphisms.
Thus, if B is an iterative multi-linear K-Σ-algebra, then for any system of fixed point equations (12) there is a unique n-tuple (b1,..., bn) ∈ Bn with bi = tB(b1,..., bn) for all i. When E denotes the system (12), we denote the unique solution (b1,..., bn) by |E|B.
We end this section with an example. Suppose that A is a set. A Σ-tree over A
is just a Σ-term generated from the letters in A by the context-free grammar
t ::= a | σ(t,..., t)
where a ranges over A and σ ∈ Σn, n ≥ 0. Let TΣ(A) denote the collection of all Σ- trees over A. Then TΣ(A) is naturally a Σ-algebra, the free Σ-algebra over A. A Σ- tree series [11] over A with coefficients in a semiring K is a function s : TΣ(A) → K, sometimes denoted as a formal sum  t∈TΣ(A)(s, t)t, where (s, t) = s(t) ∈ K. Let
K⟨⟨TΣ(A)⟩⟩ denote the set of all series. We may equip K⟨⟨TΣ(A)⟩⟩ by the pointwise
sum operation and the pointwise action, so that it becomes a K-semimodule with neutral element the constant zero series, denoted 0. For each σ ∈ Σn, n ≥ 0 and for each n-tuple of series s1,..., sn, let us define s = σ(s1,..., sn) by

,⎨  n
(si, ti) if t = σ(t1,..., tn)

, 0	otherwise.
We identify each Σ-tree t with the series mapping t to 1 and all other trees to 0. When K is commutative, K⟨⟨TΣ(A)⟩⟩ becomes a multi-linear K-Σ-algebra, and in fact an iterative multi-linear K-Σ-algebra, see e.g., [7].
The above construction may be generalized. Call a Σ-algebra B ﬁnitely de- composable if for any σ ∈ Σn, each b ∈ B can be written only a finite number of different ways as b = σ(b1,..., bn), where b1,..., bn ∈ B. Then K⟨⟨B⟩⟩, the set of all series B → K may be equipped with the pointwise sum and K-action, and the Σ-operations
(σ(s1,..., sn), b)=	Σ	  (si, bi)
b=σ(b1,...,bn) i=1
for all σ ∈ Σn, n ≥ 0. When K is commutative, K⟨⟨B⟩⟩ is a multi-linear K- semialgebra. However, K⟨⟨B⟩⟩ need not be an iterative multi-linear K-semialgebra.

Call a Σ-algebra B saturated if there is function ϕ : B → N such that for all σ ∈ Σn and b1,..., bn, ϕ(σB(b1,..., bn)) > max{ϕ(bi): i ∈ [n]}. Clearly, TΣ(A) is saturated by the usual height function.
Proposition 2.3 For any commutative semiring K and saturated ﬁnitely decom- posable Σ-algebra B, K⟨⟨B⟩⟩ is an iterative multi-linear K-Σ-algebra.
Proof outline. Suppose that E is a finite system of proper polynomial fixed point equations over X = {x1,..., xn} in the parameters A as in (12). Suppose further that each parameter a ∈ A is interpreted as an element of B. We can write the
right side ti of each equation as tj + tjj, where the term tjj does not contain any
i	i	i
variable. Each term tjj evaluates to a series ri in K⟨⟨B⟩⟩.
Suppose that (s1,..., sn) is a solution of E over K⟨⟨B⟩⟩. Then for each b ∈ B, each (si, b) is the sum of (ri, b) with an element of K that is completely determined by the (sj, bj) with ϕ(bj) < ϕ(b). Thus the solution is unique. Also, since each (si, b) depends only on (ri, b) and the values (sj, bj) with ϕ(bj) < ϕ(b), we can define the (si, b) by induction on ϕ(b) so that (s1,..., sn) becomes a solution.	2
When A is a set, let RelA denote the semiring of binary relations on A whose sum operation is union and whose product operation is composition of relations. The constants 0 and 1 are the empty relation and the identity relation on A. Since RelA is idempotent, we may view it as a B-Σ-semialgebra, where Σ consists of just the symbol · for multiplication and the constant 1. However, it is not iterative, since fixed point equations may have many solutions.

Some constructions
Let K denote a commutative semiring. In this section we define descriptions denot- ing “rational” elements of an iterative K-Σ-algebra. Flat descriptions will corre- spond to weighted tree automata. Then we provide several (standard) constructions on descriptions and derive from these constructions the fact that the rational ele- ments of an iterative K-Σ-algebra themselves form an iterative K-Σ-algebra.
Definition 3.1 Suppose that D is a finite system of proper polynomial fixed point equations over the variables X = {x1,..., xn} and the parameters A. Moreover, suppose that v = (v1,..., vn) ∈ Kn. Then we call the pair (v, D) a description over Xn in the parameters A. A description (v, D) is called flat if the right side of each equation of D is (equivalent to) a finite sum of subterms of the form kt where t is of the form σ(xj1 ,..., xjm ) or ka, for some k ∈ K, k /= 0, σ ∈ Σm, m ≥ 0, j1,..., jm ∈ [n] and a ∈ A. (We usually also assume that if kt and ktj are both summands, then t /= tj.) When B is an iterative multi-linear K-Σ-algebra together with an interpretation of the parameters in A as elements of B, then the
behavior of (v, D) over B is |(v, D)|B = Σn	vi|D|B ∈ B, where |D|B denotes the
ith component of |D|B, for all i ∈ [n]. Two descriptions are equivalent over B if they have the same behavior over B under each interpretation of the parameters. Moreover, two descriptions are equivalent, if they are equivalent over all iterative multi-linear K-Σ-algebras.

Proposition 3.2 For each description (v, D) there is an equivalent description (w, E) such that the ﬁrst component of w is 1 and all other components are 0. When (v, D) is flat, then so is (w, D).
Proof. When D is a finite system of fixed point equations over X = {x1,..., xn}
in the parameters A and if v = (k1,..., kn), then let the first equation of E be

n i=1
kiti, where t1,..., tn respectively denote the right sides of the equations

for x1,..., xn and z is a new variable. The other equations of E are those of D.
When (v, D) is flat, (w, E) can be turned into an equivalent flat description by using the axioms of K-semimodules.	2
A flat description (v, D) over X = {x1,..., xn} in the parameters A may be seen as the weighted tree automaton whose set of states is {q1,.	, qn}, say, where
qi corresponds to xi, for all i ∈ [n], which has a transition
(qi1 ,.	, qim ) → qi
labeled σ ∈ Σm of weight k iff kσ(xi1 ,..., xim ) is a summand of the right side of the ith equation of D. When ka is a summand of this term, then qi is a-initial with weight k. Finally, each state qi such that vi /= 0 is final with weight vi, the ith component of v.
Let us interpret each parameter a ∈ A as the series in K⟨⟨TΣ(A)⟩⟩ associated with a that maps a to 1 and all other trees to 0. Then the behavior of (v, D) over K⟨⟨TΣ(A)⟩⟩ is just the usual behavior of the corresponding weighted tree automaton, cf. [8].
In the rest of this section we provide some constructions on descriptions that will be used later in the sequel. Suppose that (v, D) and (w, E) are descriptions over the disjoint sets of variables X = {x1,..., xm}, Y = {y1,.  , yn} in the parameters A.
Then we define (v, D)+ (w, E) to be the description ((v, w), (D, E)) over X ∪ Y in the parameters A. Moreover, for each k ∈ K, we define k(v, D) to be the description (kv, D) over X.
Proposition 3.3 For any iterative multi-linear K-Σ-algebra B with an interpreta- tion of each parameter in A as an element of B, we have
|(v, D)+ (w, E)|B = |(v, D)|B + |(w, E)|B
|k(v, D)|B = k|(v, D)|B
If (v, D) and (w, E) are flat, then so are (v, D)+ (w, E) and k(v, D).
Suppose now that σ ∈ Σn, and let (v1, D1),..., (vn, Dn) be descriptions over the pairwise disjoint (ordered) sets of variables X1,..., Xn in the parameters A. Without loss of generality we may assume that the first component of each vi is 1 and the other components of each vi are 0. Then we let σ(D1,.  , Dn) denote the
system of fixed point equations whose first component is z = σ(x11,.  , xn1), where
each xi1 is the first variable of Xi and z is a new variable. The remaining equations are those of the Di, i = 1,..., n. Finally, we define σ((v1, D1),..., (vn, Dn)) to
be the description (v, σ(D1,..., Dn)) over  n	Xi in the parameters A, where the
first component of v (corresponding to the variable z) is 1 and its other components

are all 0. Note that if each (vi, Di) is flat, then so is σ((v1, D1),..., (vn, Dn)). In particular, when σ ∈ Σ0, then the corresponding description is (vσ, Dσ), where Dσ consists of the single equation z = σ, and the unique component of vσ is 1. In a similar way, we can associate a description (over the empty set of variables) (v0, D0) with 0, and a description (va, Da) with each a ∈ A.
Proposition 3.4 In any iterative multi-linear K-Σ-algebra B with an interpreta- tion of the parameters A as elements of B it holds that
|σ((v1, D1),..., (vn, Dn))|B = σB(|(v1, D1)|B,..., |(vn, Dn)|B)
|(v0, D0)|B =0 
|(va, Da)|B = a
Definition 3.5 Suppose that B is an iterative multi-linear K-Σ-algebra with an interpretation of the parameters A as elements of B. Then we let RatB(A) denote the set of all b ∈ B that are the behavior of some description in the parameters A over B with respect to the given interpretation of the parameters.
In particular, when B is K⟨⟨TΣ(A)⟩⟩ and each parameter is interpreted as the corresponding series, then we denote RatB(A) by Krat⟨⟨TΣ(A)⟩⟩. In Section 5, we will characterize Krat⟨⟨TΣ(A)⟩⟩ as the free iterative K-Σ-semialgebra on A, for various commutative semirings K.
Proposition 3.6 Suppose that B is an iterative multi-linear K-Σ-algebra with an interpretation of the parameters A as elements of B. Then for each b ∈ RatB(A) there is a flat description in the parameters A whose behavior over B under the given interpretation is b.
Proof. Suppose that b = |(v, D)| and write each term on the right side of an
equation of D in the form Σm kiti where the terms ti do not contain any occurrence
of +, 0 ora K-action and ki /=0 for all i and no ti is a single variable. If some ti is of the form σ(s1,..., sn) where some si is not a variable, then we replace si with a new variable z, say, and introduce the equation z = si. By continuing this process, we end up with an equivalent flat description, where the weights corresponding to the newly introduced variables are all 0.
For example, when the initial description is
((k1, k2), (x1 = kσ(σ(a, x1), x2)+ kjσ(x1, x2), x2 = σ(b, x1)),
then the equivalent flat description is
((k1, k2, 0, 0), E)
where E is the following system of equations:
x1 = kσ(x3, x2)+ kjσ(x1, x2) x2 = σ(x4, x1)
x3 = σ(x5, x1) x4 = b

x5 = a.
2
Theorem 3.7 For every iterative multi-linear K-Σ-algebra B with an interpreta- tion of the parameters A as elements of B, RatB(A) is an iterative multi-linear K-Σ-algebra. It is the least iterative multi-linear K-Σ-subalgebra of B containing A.
Proof. Without loss of generality we may assume that A ⊆ B and each param- eter in A is interpreted by itself.
The fact that RatB(A) is a multi-linear K-Σ-algebra is clear from Proposi- tions 3.3 and 3.4. We prove that it is an iterative multi-linear K-Σ-algebra. For this reason, suppose that Aj is a set of parameters with an interpretation as elements of RatB(A) and (v, D) is a description over X = {x1,..., xn} in the parameters Aj whose behavior over B is b, say. Without loss of generality we may assume that each parameter a ∈ Aj is in fact in B and is interpreted by itself. For each a ∈ Aj

there exists a description (va, Da) over some set Xa = {xa,..., xa
} of variables in

1	na

the parameters A with |(va, Da)|B = a. For each a ∈ Aj, let va = (va,..., va
) and

1	na
let Dj be the system of equations obtained from D by replacing each occurrence of
a parameter a ∈ Aj by Σna  vata, where for each i, ta denotes the right side of the
ith equation of Da. Finally, let a1,..., ak be all the parameters that occur in D, and consider the description
((v, 0,..., 0), (Dj, Da ,..., Da )).
The behavior of this description (in the parameters A) over B is clearly b.
The fact that RatB(A) is the least multi-linear K-Σ-subalgebra of B containing the interpretations of the parameters in A is clear by definition.	2
Simulations
In this section, following and [6,10,14], we introduce simulations between descrip- tions, and show that descriptions that can be connected by a sequence of simulations are equivalent. Let K denote a commutative semiring.
Suppose that D and E are finite systems of proper polynomial fixed point equa- tions over X = {x1,..., xm} and Y = {y1,.  , yn} in the parameters A. Let xi = si
and yj = tj, i ∈ [m],j ∈ [n] denote the equations of D and E, respectively. When M ∈ Km×n, we define DM to be the system of equations obtained by replac- ing each occurrence of each variable xi on the right side of an equation of D by Mi1y1 +  + Minyn:
x1 = s1(M11y1 + ... + M1nyn,..., Mm1y1 +	+ Mmnyn)
.
xm = sm(M11y1 + ... + M1nyn,..., Mm1y1 +	+ Mmnyn)

Moreover, we let ME denote the system of equations:
x1 = M11t1 + ... + M1ntn
.
xm = Mm1t1 + ... + Mmntn
Definition 4.1 Suppose that (v, D) and (w, E) are descriptions over X  =
{x1,..., xm} and Y = {y1,..., yn} in the set of parameters A. A simulation (v, D) → (w, E) is given by a matrix M ∈ Km×n such that vM = w and the right side of each equation of DM is equivalent to the right side of the corresponding equation of ME with respect to the axioms of multi-linear K-Σ-algebras.
Ordinary weighted (word) automata connected by a simulation are called con- jugate in [2,3].
Theorem 4.2 Suppose that (v, D) and (w, E) are descriptions over X  =
{x1,..., xm} and Y = {y1,..., yn} in the set of parameters A as above. More- over, suppose that M is a simulation (v, D) → (w, E). Then (v, D) and (w, E) are equivalent.
Proof. Suppose that B is an iterative multi-linear K-Σ-algebra with an inter- pretation of each parameter in A as an element of B, and suppose that (c1,..., cn) is the unique solution of E over B. Define b1,..., bm by bi = Mi1c1 + ... + Mincn for each i ∈ [m]. Then
sB(b1,..., bn)= sB(M11c1 + ... + M1ncn,..., Mm1c1 + ... + Mmncn)
i	i
= Mi1tB(c1,..., cn)+ ... + MintB(c1,..., cn)
1	n
= Mi1c1 + ... + Mincn
= bi,
for all i ∈ [m]. Thus (b1,..., bm) ∈ Bm is a solution D over B, showing that
|D|B = M|E|B. Using this, |(v, D)|B = v|D|B = vM|E|B = w|E|B.	2
Definition 4.3 We say that a commutative semiring K is proper if for all flat (v, D) and (w, E) over X and Y in the parameters A, if (v, D) and (w, E) are equivalent over K⟨⟨TΣ(A)⟩⟩ when each parameter a is interpreted as the correspond- ing tree series, then there is a sequence of simulations connecting them, i.e., there is a sequence (v1, D1),.  , (vk, Dk) of descriptions in the parameters A and simula-
tions Mi : (vi, Di) → (vi+1, Di+1) or (vi+1, Di+1) → (vi, Di), i = 1,.  ,k − 1 such
that (v1, D1)= (v, D) and (vk, Dk)= (w, E).
In [14], it is shown that all commutative rings are proper. More generally, let us call a (commutative) semiring Noetherian, if for every finitely generated K- semimodule M , every subsemimodule of M is finitely generated. It is shown in [14] that if K is Noetherian, or every finitely generated subsemiring of K is contained in a Noetherian subsemiring, then K is proper. In particular, every locally finite 3 (commutative) semiring and thus every bounded distributive lattice is proper. There
3 A semiring is locally finite if its finitely generated subsemirings are finite.

exist proper semirings that are not Noetherian, for example the semiring N, cf. [3,14]. An example of a semiring that is not proper is the “tropical semiring”, cf. [13].
Corollary 4.4 Suppose that K is proper. Then for any flat (v, D) and (w, E) over X and Y in the parameters A, if (v, D) and (w, E) are equivalent over K⟨⟨TΣ(A)⟩⟩ when each parameter a is interpreted as the tree series corresponding to a, then (v, D) and (w, E) are equivalent.

Freeness
In this section we prove our main result:
Theorem 5.1 Suppose that K is proper commutative semiring. Then for each set
A, Krat⟨⟨TΣ(A)⟩⟩ is the free iterative multi-linear K-Σ-semialgebra on A.
Proof. We already know (cf. Theorem 3.7) that Krat⟨⟨TΣ(A)⟩⟩ is an iterative multi-linear K-Σ-algebra. Let η denote the map (interpretation) that assigns to each a ∈ A the corresponding series, also denoted a, that maps a to 1 and all other trees in TΣ(A) to 0. Each series in Krat⟨⟨TΣ(A)⟩⟩ is the behavior of a (flat)
description in the parameters A under this interpretation. Since morphisms of multi-linear K-Σ-algebras preserve unique solutions of proper polynomial fixed point equations, it follows that for any iterative multi-linear K-Σ-algebra B and function h : A → B, there is at most one morphism h : Krat⟨⟨TΣ(A)⟩⟩ → B extending h. Indeed, when s = |(v, D)|Krat ⟨TΣ(A) ⟩ for a description (v, D) in the parameters A under the interpretation η, we are forced to define h (s) as the behavior |(v, D)|B of (v, D) over B with respect to the interpretation that maps each parameter a to h(a).
In the rest of the proof, we show that an extension exists. So let h : A → B. When s ∈ Krat⟨⟨TΣ(A)⟩⟩, there is a flat description (v, D) in the parameters A whose behavior over Krat⟨⟨TΣ(A)⟩⟩ with respect to the interpretation η is the series s. We define h (s) := |(v, D)|B, the behavior of the same description over B with respect to the interpretation h.
Since K is proper, if (w, E) is another flat description whose behavior over Krat⟨⟨TΣ(A)⟩⟩ with respect to η is s, then by Corollary 4.4, |(v, D)|B = |(w, E)|B. Thus, the definition of h (s) does not depend on the choice of the flat description (v, D) whose behavior over Krat⟨⟨TΣ(A)⟩⟩ with respect to η is s.
By these facts, and the constructions given above, it follows now that h is a morphism. We only show that h preserves the Σ-operations. To this end, let σ ∈ Σn, where n ≥ 0, and let s1,..., sn ∈ Krat⟨⟨TΣ(A)⟩⟩, s = σ(s1,..., sn). For each i, let (vi, Di) be a flat description whose behavior over Krat⟨⟨TΣ(A)⟩⟩ with respect to η is si. Let (v, D) = σ((v1, D1),..., (vn, Dn)), so that (v, D) is also flat. Then the behavior of (v, D) over Krat⟨⟨TΣ(A)⟩⟩ is s. By definition, h (si) = |(vi, Di)|B, for all i ∈ [n], and h (s) = |(v, D)|B (with respect to the interpretation h). But by Proposition 3.4, |(v, D)|B = σB(|(v1, D1)|B,..., |(vn, Dn)|B), so that h (s) = σB(h (s1),..., h (sn)).	2

Theorem 5.1 applies to N and to all commutative semirings K such that every finitely generated subsemiring of K is included in a Noetherian subsemiring. In particular, Theorem 5.1 applies to all commutative rings and to all locally finite commutative semirings including B. When K is B, Theorem 5.1 implies the axiom- atization of regular Σ-tree languages by the unique fixed point rule [15], and when additionally Σ consists of unary letters and A is a singleton set, then Theorem 5.1 implies Salomaa’s axiomatization [21] of regular word languages by the unique fixed point rule.
With some obvious modifications, Theorem 5.1 may be extended to commutative iterative multi-linear K-Σ-algebras satisfying the identity
σ(x1,..., xn)= σ(x1π,..., xnπ)
for all σ ∈ Σn and for all permutations π : [n] → [n]. One needs to replace Σ-trees by “unordered” Σ-trees.
Conclusion
We may consider each set Σ as a ranked set all of whose letters have rank 1. Con- sequently, we may identify a word u ∈ Σ∗ with a tree t ∈ TΣ({a}), where a is a fixed parameter. Under this identification, regular languages in Σ∗ correspond to regular tree languages in TΣ({a}), and vice versa. Salomaa’s axiomatization of regular word languages may be formulated as the assertion that for any (finite) set Σ, Brat⟨⟨TΣ({a})⟩⟩ is freely generated by the letter a in the class of all iterative B-Σ-algebras. In our main contribution, Theorem 5.1, we have extended Salomaa’s characterization to K-Σ-algebras Krat⟨⟨TΣ(A)⟩⟩, where K is a proper commuta- tive semiring, Σ is any ranked set and A is any set of free generators. Proper commutative semirings include N, all locally finite commutative semirings and all commutative rings.

References
J. Ad´amek, S. Milius and J. Velebil, Iterative algebras at work. Math. Structures Comput. Sci., 16(2006), 1085–1131.
M.-P. B´eal, S. Lombardy, J. Sakarovitch, On the equivalence of Z-automata. In: Proc. ICALP 2005, LNCS 3580, Springer, 2005, 397–409.
M.-P. B´eal, S. Lombardy and J. Sakarovitch, Conjugacy and equivalence of weighted automata and functional transducers. In: Proc. CSR 2006, LNCS 3967, Springer, 2006, 58–69.
D. Benson and I. Guessarian, Iterative and recursive matrix theories. J. Algebra, 86(1984), 302–314.
J. A. Bergstra and J. W. Klop, A complete inference system for regular processes with silent moves. In: Proceedings, Logic Colloquium 1886, (F. R. Drake and J. K. Truss, Eds.), North-Holland, Amsterdam, 1988, 21–81.
S. L. Bloom and Z. E´sik, Iteration Theories, Springer, 1993.
S. L. Bloom and Z. E´sik, An extension theorem with an application to formal tree series, J. of Automata, Languages and Combinatorics, 8(2003), 145–185.
M. Droste, W. Kuich, H. Vogler (eds.), Handbook of Weighted Automata, Springer, 2009.


C. C. Elgot, Monadic computation and iterative algebraic theories. In: Logic Colloquium ’73, (Bristol, 1973), Studies in Logic and the Foundations of Mathematics, Vol. 80, North-Holland, Amsterdam, 1975, 175–230.
Z. E´sik and W. Kuich, A generalization of Kozen’s axiomatization of the equational theory of the regular sets, in: Words, Semigroups, and Transductions, M. Ito, Gh. Paun, Sheng Yu, eds., World Scientific, 2001, 99–114.
Z. E´sik and W. Kuich, Formal tree series, J. Automata, Languages and Combinatorics, 8(2003), 219– 285.
Z. E´sik and W. Kuich, Free iterative and iteration K-semialgebras, Alg. Universalis, to appear.
Z. E´sik and A. Maletti, Simulation vs. equivalence. In: Proc. 6th Int. Conf. Foundations of Computer Science, FCS 2010, (Las Vegas, Nevada), CSREA Press, 119–122.
Z. E´sik and A. Maletti, Simulations of tree automata. In: Proc. 15th Int. Conf. Implementation and Application of Automata, Winnipeg, Canada, 2010, LNCS, Springer, to appear.
T. Ito and S. Ando, A complete axiom system of super-regular expressions. In: Information processing 74 (IFIP Congress, Stockholm), North-Holland, Amsterdam, 1974, 661–665.
D. Krob, Rational expressions over a ring. In: Topics in Invariant Theory (Paris, 1989/1990), Lecture Notes in Math., 1478, Springer, Berlin, 1991, 215–243,
R. Milner, A complete inference system for a class of regular behaviours. J. Comput. System Sci., 28(1984), 439–466.
R. Milner, A complete axiomatisation for observational congruence of finite-state behaviours. Inform. and Comput., 81(1989), 227–247.
M. Morisaki and K. Sakai, A complete axiom system for rational sets with multiplicity. Theoret. Comput. Sci., 11(1980), 79–92.
E. Nelson, Iterative algebras. Theoret. Comput. Sci., 25(1983), 67–94.
A. Salomaa, Two complete axiom systems for the algebra of regular events. J. Assoc. Comput. Mach., 13(1966), 158–169.
L. J. Stockmeyer and A. R. Meyer, Word problems requiring exponential time. In: proc. STOC ’73, ACM, 1973, 1–9.
J. Tiuryn, Unique fixed points vs. least fixed points. Theoret. Comput. Sci., 12(1980), no. 3, 229–254.
W. Wechler, Iterative nondeterministic algebras. Studia Automat., 13(1989), 35–44.
