Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 301 (2014) 189–202
www.elsevier.com/locate/entcs
Tω as a Stable Universal Domain 1
Haoran Zhao, Hui Kou2
School of Mathematics Sichuan University Chengdu 610064, China

Abstract
In the seventies, G. Plotkin noticed that Tω, the cartesian product of ω copies of the 3 elements flat domain of Boolean, is a universal domain, where “universal” means that the retracts of Tω in Scott’s continuous semantics are exactly all the ωCC-domains, which with Scott continuous functions form a cartesian closed category. As usual “ω” is for “countably based”, and here “CC” is for “conditionally complete”, which essentially means that any subset which is pairwise bounded has an upper bound. Since Tω is also an ωDI-domain (an important structure in the stable domain theory), a problem arises naturally: Is Tω a universal domain for Berry’s stable semantics? The aim of this paper is to answer this question. We investigate the properties of stable retracts and introduce a new domain named a conditionally complete DI-domain (a CCDI-domain for short). We show that, (1) a dcpo is a stable retract of Tω if and only if it is an ωCCDI-domain; (2) the category of ωCCDI-domain (resp. CCDI-domains) with stable functions is cartesian closed. So, the problem above has an affirmative answer.
Keywords: universal domain, stable retract, ωCCDI-domain, cartesian closed category


Introduction
Domain theory is a general framework for defining program data domains. In this theory, Tω, the cartesian product of ω copies of the 3 elements flat domain of Boolean, is a very interesting structure, which can be used as a model to give mathematical semantics for program languages as Pω presented by D. Scott [11]. In [10], G. Plotkin showed that, Tω is a universal domain in the sense that the retracts of Tω in Scott’s continuous semantics form a cartesian closed category. Particularly, its continuous function space [Tω → Tω] is a retract of Tω. R. Kanneganti [8] also investigated Tω in detail. The results of them are all based on the Scott continuous functions.
In domain theory, there is another class of important functions called stable func- tions, which is introduced firstly by Berry [4]. In 1990, P. Taylor [12] showed that,

1 Research Supported by NSF of China (No. 11371262).
2 Email: kouhui@scu.edu.cn

http://dx.doi.org/10.1016/j.entcs.2014.01.016
1571-0661 © 2014 Elsevier B.V. Open access under CC BY-NC-ND license.

all continuous (resp. algebraic) L-domains with stable functions form a cartesian closed category, its finite products are cartesian ones and its exponentials are stable function spaces. It leads many authors to study those categories for Berry’s stable semantic, for example, see R. Amadio [2], Y.X. Chen and A. Jung [5], M. Droste [6], P-A Melli`es [9], G.Q. Zhang [13,14], and so on. The theory based on stable functions is called the stable domain theory. In this theory, DI-domains are one of the most important class of stable domain structure. Each DI-domain is equivalent to a stable event structure and the category of DI-domains (resp. ωDI-domains) with stable functions is cartesian closed [13].
One see that Tω is also an ωDI-domain. So a problem arises naturally: Is Tω a stable universal domain in the sense that the category of all stable retracts of Tω with stable functions is cartesian closed? The aim of this paper is to answer this question. Since a stable retract is different to a continuous retract, we first investigate the properties of stable retracts. We introduce a new domain called a conditionally complete DI-domain and show that, (1) a dcpo is a stable retract of Tω if and only if it is an ωCCDI-domain, where “ω” is for “countably based” as usual, and “CC” is for “conditionally complete”, which essentially means that any subset which is pairwise bounded has an upper bound. i.e., a CCDI-domain with a countable base; (2) the category of ωCCDI-domain (resp. CCDI-domains) with stable functions is cartesian closed. So, the problem above has an affirmative answer.
The paper is organized as follows. Section 1 is a introduction. Section 2 in- troduces some notions and definitions we need. Section 3 discusses the properties of stable retracts. Section 4 investigate the category of ωCCDI-domain (resp. CCDI-domains). Section 5 investigate the stable retracts of Tω. A pair of stable retract-stable embedding between Tω and an ωCCDI-domain will be constructed in this section.

Preliminaries
We do assume some knowledge of basic domain theory, as in, e.g., [3,1,7]. A nonempty set P endowed with a partially order is called a poset. For A ⊆ P , we set ↓ A = {x ∈ P : ∃a ∈ A, x ≤ a} and ↑ A = {x ∈ P : ∃a ∈ P, a ≤ x}, and A is called a lower or upper set, if A =↓ A or A =↑ A respectively. For an element a ∈ P , we use ↓ a or ↑ a instead of ↓ {a} or ↑ {a}, and we say it a principal ideal or a principal filter, respectively. A subset D of P is called directed if it is nonempty and every nonempty finite subset of D has an upper bound in D. Particularly, we say that P is a dcpo if every directed subset D of P has a least upper bound
(denoted by W D) in P .
For x, y ∈ P , we say that x is way-below y, denoted by x  y, if for any directed subset D of P , y ≤  D implies x ≤ d for some d ∈ D. P is continuous if
{a ∈ P : a  x} is directed and x = {a ∈ P : a  x} for all x ∈ P . A k ∈ P is called compact if k   k. Let K(P ) be the set of all compact elements of P . P is
called algebraic if K(P )∩ ↓ x is directed and x = W(K(P )∩ ↓ x) for all x ∈ P . A

subset B ⊆ P is called a basis of P if B ∩ ↓x is directed and x =  (B ∩ ↓x) for all x ∈ P . A dcpo is called ω-continuous (resp. ω-algebraic) if it has a countable basis (resp. the set of all compact elements is a countable basis).
Definition 2.1 Let P and E be two dcpos.
A function f : P −→ E is called Scott continuous if it is monotone and preserves the suprema of all directed subsets of P .
The continuous function space, denoted by [P → E], is the set of all Scott continuous functions from P into E ordered by the pointwise order, i.e., f ≤ g iff f (x) ≤ g(x) in E for all x ∈ P .
Let DCPO be the category of all dcpos with Scott continuous functions. Then DCPO is cartesian closed. Moreover, a full subcategory of DCPO is cartesian closed iff it is closed under continuous function spaces and finite products [1,7].
Next, we give the definition of a stable function.
Definition 2.2 Let P and E be two dcpos.
A function f : P −→ E is called a stable function if it is Scott continuous and satisfies the following condition: for all (x, y) ∈ P × E, y ≤ f (x) implies that there exists an element m ∈↓ x such that
y ≤ f (m),
∀d ∈↓ x, y ≤ f (d) ⇒ m ≤ d. Particularly, we denote m = m(f, x, y).
Let [P →st E] be the set of all stable functions from P into E. The stable order ≤st on [P →st E] is defined as follows: for all f, g ∈ [P →st E], f ≤st g if and only if
f ≤ g,
∀(x, y) ∈ P × E, y ≤ f (x) ≤ g(x) ⇒ m(f, x, y)= m(g, x, y).
From now on, [P →st E] is always endowed with the stable order, and we say that it is the stable function space.
Lemma 2.3 [3] Let P and E be two dcpos. Then
[P →st E] is dcpo and for a ≤st-directed subset {fi : i ∈ I} of [P →st E], the supremum of {fi : i ∈ I} in [P →st E] is the pointwise supremum, i.e., ( i∈I fi)(x)=  i∈I fi(x) for all x ∈ P .
If E is algebraic, then a Scott continuous function f : P −→ E is stable if and only if k ≤ f (x) implies m = m(f, x, k) exists for x ∈ P and k ∈ K(E).
Generally, the category of all dcpos with stable functions is not cartesian closed. Only some kinds of special domains can form cartesian closed categories, for exam- ples, continuous (algebraic) L-domains (see P. Taylor [12]), DI-domains (see G.Q. Zhang [13]), and so on.
In the end of this section, we introduce Tω.
Definition 2.4 Tω is the cartesian products of denumerable many copies of T, where T is the truthvalue domain {0, 1, ⊥} ordered as: ⊥ < 0, 1 and 0, 1 are not

consistent.
An element x in Tω is a vector:
⟨x1, x2,..., xn,.. .⟩.

The order on Tω is inherited from T and hence is pointwise. For x ∈ Tω, set (x)0 = {i : i ∈ N & πi(x)= 0}, (x)1 = {i : i ∈ N & πi(x)= 1}. It is easy to see that Tω is a Scott domain and
K(Tω)= {x ∈ Tω : |(x)0 ∪ (x)1| < ω}
is countable.

Stable retracts
In this section, we investigate the property of stable retracts. At first, let’s see (continuous) retracts.
Definition 3.1 Let P be a dcpo. A dcpo E is called a retract of P if there exist two Scott continuous functions i : E −→ P and j : P −→ E such that j ◦ i = idE, where (j, i) is called a retraction-embedding pair.
It is well known that a retract of a continuous (resp. ω-continuous) dcpo (with a least element) is also a continuous (resp. ω-continuous) dcpo (with a least element) [1,7]. Next, we introduce the notion of a stable retract.
Definition 3.2 Let P be a dcpo. A dcpo E is called a stable retract of P if there exist two stable functions i : E −→ P and j : P −→ E such that j ◦ i = idE, where j (resp. i) is called a stable retraction (resp. a stable embedding).
Obviously, every stable retract is a retract. For investigate the special properties of stable retracts, we need the following notions.
Definition 3.3 Let P be a dcpo.
A subset A of P is said to be bounded or consistent if A has an upper bound in P . Especially, for A = {a, b}, we denote by a ↑ b when A is consistent; Conversely, we denote by a b when A is not consistent.
We say that P is bounded complete if it has a least element (denoted by ⊥) and every nonempty bounded subset has a least upper bound; equivalently, every nonempty subset of P has an infimum in P . Particularly, a bounded complete algebraic dcpo is called a Scott domain.
If P is bounded complete, then P is said to be distributive if every principle ideal of P is a distributive lattice under the induced order, i.e., for a, b, c ∈↓ d ⊆ P , a ∧ (b ∨ c)= (a ∧ b) ∨ (a ∧ c).
When P is algebraic, we say that P has property I if ↓ k is finite for all
k ∈ K(P ).

We say that P is a DI-domain if P is a distributive Scott domain with property
I.
Comparing with retracts, stable retracts have the following special property.
Theorem 3.4 Let P be an algebraic dcpo and let E be a stable retract of P .
If K(P ) =↓ K(P ), then E is algebraic with K(E) =↓ K(E).
If P has property I, then so E is.
If P is a distributive bounded complete domain, then so E is.
Proof. (1) Since a stable retract is also a continuous retract, E is a continuous dcpo. It is sufficient to show that x  y implies x is compact for all x, y ∈ E. Suppose x  y in E. Then x  j(i(y)). Since P is algebraic and j is stable, there exist k ∈ K(P ) and m ∈ P such that
m ≤ k ≤ i(y) and x ≤ j(m),
∀d ∈ P , x ≤ j(d) ⇒ m ≤ d.
As K(P ) =↓ K(P ), we have m ∈ K(P ). As x = j(i(x)) and i(x) ≤ i(y), we have m ≤ i(x). Notice that since m is compact and E is continuous, there exists z  x such that m ≤ i(z) ≤ i(x). Hence,
x ≤ j(m) ≤ j(i(z)) = z ≤ j(i(x)) = x,
i.e., x = j(m) ≤ z   x. Therefore, x is compact in E, i.e., E is algebraic and
K(E) =↓ K(E).
Suppose that P has property I. Then K(P ) =↓ K(P ). Hence, E is algebraic with K(E) =↓ K(E) by (1). Pick k ∈ K(E). From the proof of (1), there exists m ∈ K(P ) such that
k = j(m) and m ≤ i(k),
for all mj ∈ K(E), mj ≤ m and k ≤ j(mj) imply mj = m.
Hence, for any kj < k = j(m), there exists mj < m such that kj = j(mj). So, if
↓ k is infinity, then ↓ m is also infinity. Therefore, E has property I when P has property I.
Suppose that P is a distributive bounded complete domain. Then E is a bounded complete domain. Pick a, b, c, d ∈ E with a, b, c ≤ d. Then i(a), i(b), i(c) ≤
i(d). Thus,
i(a) ∧ (i(b) ∨ i(c)) = (i(a) ∧ i(b)) ∨ (i(a) ∧ i(c)).
Since
a ∧ (b ∨ c)= j(i(a)) ∧ (j(i(b)) ∨ j(i(c)))
≤ j(i(a)) ∧ j(i(b) ∨ i(c))
= j(i(a) ∧ (i(b) ∨ i(c))) (for j is stable)
= j((i(a) ∧ i(b)) ∨ (i(a) ∧ i(c)))
= j(i(a ∧ b) ∨ i(a ∧ c)) (for i is stable)

≤ j(i((a ∧ b) ∨ (a ∧ c)))
= (a ∧ b) ∨ (a ∧ c),
it follows that a ∧ (b ∨ v)= (a ∧ b) ∨ (a ∧ c). Hence, E is distributive, too. 2
The following result is straight from the above theorem and the definition of
DI-domains.
Corollary 3.5 The class of DI-domains (resp. ωDI-domains) is closed under all of the stable retracts.
The category of conditionally complete DI-domains
In this section, we introduce a new domain called a conditionally complete DI- domain and investigate the categories formed by these new domains. In the next section, we will show that conditionally complete ωDI-domains coincide with the stable retracts of Tω.
Definition 4.1 Let P be a dcpo.
A nonempty subset S ⊆ P is called pair bounded if a ↑ b for all a, b ∈ S.
P is said to be conditionally complete if it has a least element and every pair bounded nonempty subset of P has a least upper bound.
P is said to be a CC-domain if it is a conditionally complete continuous dcpo. In this case, P is called an ωCC-domain if it has a countable basis.
A conditionally complete DI-domain is called a CCDI-domain. In this case,
P is called an ωCCDI-domain if it has a countable basis.
Notes that in [10], a conditionally complete dcpo is called coherent. However, the word “coherent” in domain theory [1] is used as a topological notion: the intersection of two compact saturated sets is compact. So here we use the word “conditionally complete”.
It is easy to see that a dcpo with a least element is conditional complete if and only if every pair bounded finite nonempty subset of P has a least upper bound.
As shown in [10], Tω is an algebraic ωCC-domain and every retract of Tω is an ωCC-domain. For any x ∈ K(Tω), (x)0 ∪ (x)1 is finite. It means that ↓ x is finite. Hence, Tω has property I. As Tω is distributive, Tω is distributive, too. Therefore, we have the following result.
Proposition 4.2 Tω is an ωCCDI-domain.
The following result is straight from Theorem 3.4 and the above proposition.
Corollary 4.3 The class of ωCCDI-domain (resp. CCDI-domains) is closed un- der stable retracts and includes all stable retracts of Tω.
Next, we definition the category of ωCCDI-domain (resp. CCDI-domains).
Definition 4.4 The category ωCCDI (resp. CCDI) is given by:
objects are all ωCCDI-domains (resp. CCDI-domain),

morphisms are all stable functions.
To investigate the category ωCCDI (resp. CCDI), we need the following result quoted from [3,13].
Theorem 4.5 The category ωDI (resp. DI) of ωDI-domains (resp. DI-domains) with stable functions is cartesian closed. Moreover, a full subcategory of ωDI (resp. DI) with a terminal object is cartesian closed if and only if it is closed under stable function spaces and finite cartesian products.
As shown in [10] that the category of ωCC-domains (resp. CC-domains) with Scott continuous functions is cartesian closed, we will show that both ωCCDI and CCDI are also cartesian closed. To do this, we need the following notions.
Definition 4.6 Let P be a bounded complete dcpo.
An element p ∈ P is said to be a prime if p /= ⊥ and for any nonempty bounded subset A of P , p ≤  A implies p ≤ a for some a ∈ A. We denote Pr(P ) to be the set of all primes of P .
P is said to be a prime algebraic domain if x = W(Pr(P )∩↓ x) for all x ∈ P .
Notes that a prime is compact and in standard lattice theory, e.g. [7], it is called a completely coprime. However, since in [3,14,13] this type of elements is called a prime, so we also call it this name. The following result is quoted from [3,14].
Theorem 4.7 A DI-domain is exactly a prime algebraic domain with property I.
Proposition 4.8 Let P, E be two DI-domains and let f : P −→ E be a Scott continuous function. Then we have
the following conditions are equivalent:
f is stable;
a ↑ b implies f (a ∧ b)= f (a) ∧ f (b) for all a, b ∈ P ;
p ≤ f (x) implies that m = m(f, x, p) exists for x ∈ P and p ∈ Pr(E).
For two stable function g, h : P −→ E, g ≤st h iff g ≤ h and m(g, x, p) = 
m(h, x, p) for all x ∈ P and p ∈ Pr(E).
The following is the main result of this section.
Theorem 4.9 The class of ωCCDI-domains (resp. CCDI-domain) is closed under stable function spaces and nonempty finite cartesian products. Hence, ωCCDI (resp. CCDI) is cartesian closed.
Proof. Let P, E be two ωCCDI-domains. Then [P →st E] is an ωDI-domain by Theorem 4.5. It is sufficient to show [P →st E] is conditionally complete. Suppose f1, f2,..., fn ∈ [P →st E] such that for all 1 ≤ i, j ≤ n, there exist fij ∈ [P →st E] satisfying

fi, fj ≤st fij.

Then, for any a ∈ P , {fi(a):1 ≤ i ≤ n} is pair bounded in E and hence has a least
Wn

upper bound
i=1
fi(a) in E. We define a map f : P −→ E as follows: ∀x ∈ P ,

f (x)=  fi(x).
i=1

Then f is well defined and monotone. Easily one see that f is also Scott continuous. Next, we will show f is stable. Suppose p ≤ f (x) for a prime p of E. Then there exists at least one i ∈ {1, 2,..., n} such that p ≤ fi(x). Set
I = {i :1 ≤ i ≤ n & p ≤ fi(x)}.
Then I /= ∅. Pick i ∈ I. Since fi is stable, there exists mi ∈↓ x such that mi = m(fi, x, p). For all i, j ∈ I, since fi, fj ≤st fij, we have m(fi, x, p)= m(fij, x, p)= m(fj, x, p). Thus, mi = mj for all i, j ∈ I. Set m = mi for all i ∈ I. We claim m = m(f, x, p). Suppose that p ≤ f (d) for some d ∈↓ x. Then we can find one i ∈ {1, 2,..., n} such that p ≤ fi(d). Since d ≤ x, we have i ∈ I. Hence, mi ≤ d, i.e., m ≤ d. Therefore, m = m(f, x, p) and hence f is a stable function by Proposition
4.8 (1).
Next, we have to show fi ≤st f for all 1 ≤ i ≤ n. Suppose p ≤ fi(x) for x ∈ P and p ∈ Pr(E). By the above proof, we have m(fi, x, p) = m(f, x, p). Hence, fi ≤st f by Proposition 4.8 (2). Therefore, f is the least upper bound of all fi. Hence, [P →st E] is an ωCCDI-domain.
It is easy to show that a nonempty finite cartesian product of ωCCDI-domains is also an ωCCDI-domain. Therefore, ωCCDI (resp. CCDI) is cartesian closed by Theorem 4.5. 2
In the end of this section, we give a characterization of an ωCCDI-domain, which is crucial for investigating the stable retracts of Tω in the next section.
Let P be an algebraic dcpo with a least element, F ⊆fin K(P ), where A ⊆fin B
means that A is a finite subset of B. Let
mub(F )= {a ∈ P : a is a minimal upper bound of F}.
Then mub(F ) ⊆ K(P ). We say that P has property M if for any finite F ⊆ K(P ),
mub(F ) is finite and  k∈F ↑ k =↑ mub(F ) [1]. Now suppose that P has property
M. We set



and
MD(F )= K(P )∩↓ (	 
F′⊆finF
mub(Fj))

MD∞(F )=   MDn(F ),
n=1
where MD0(F ) = F , MD1(F ) = MD(F ) and MDn(F ) = MD(MDn—1(F )) for
all n ≥ 1.

Theorem 4.10 For an ω-algebraic dcpo P with a least element ⊥, the following conditions are equivalent:
P is a CCDI-domain;
P has property M and for any finite F ⊆ K(P ), MD∞(F ) is a finite CCDI- domain.
There exists a sequence p1, p2,..., pn of stable functions of [P →st P ] such that
pn ≤st pn+1 for all n ∈ N, and idP =	n∈N pn,
pn(D) is a finite CCDI-domain for n ∈ N.
Tω as a stable universal domain
In this section, we will show that the stable retracts of Tω are exactly the class of all ωCCDI-domains.
In [10], G. Plotkin shows that the (continuous) retracts of Tω are exactly all of the ωCC-domains. Given an ωCC-domain D, let e1, e2, e2... be an enumeration of a countable basis of D, Plotkin constructs an embedding f : D → Tω as follows:
∀d ∈ D,
⎧ 0, if en  d, πn(f (d)) =	1, if en  d,
⎪⎪⎩ ⊥, otherwise.
In the following, we give an example to show that f is not stable.
Example 5.1 Let D = {⊥, e1, e2, e3, e4}, ordered as: ⊥ < e1, e2, e3, e4; e1, e2 < e4; e3 does not be consistent with any other element except for ⊥. From the definition of f we have:
f (e1)= ⟨1, ⊥, 0, ⊥, ⊥,.. .⟩
f (e2)= ⟨⊥, 1, 0, ⊥, ⊥,.. .⟩
Then f (e1) ∧f (e2)= ⟨⊥, ⊥, 0, ⊥, ⊥,.. .⟩ /= f (⊥)= f (e1 ∧e2). Hence, f is not stable.
The reason for the above embedding f failing to be stable, is that the n’th coordinates of two different elements e1 and e1 are all defined to be 0 when en is not consistent with e1 and e2. In the following, we will modify Plotkin’s embedding to make it into a stable function, and then we show that every ωCCDI-domain is a stable retract of Tω. Because the tectonic process is more complicated than the continuous case, some details of the relative proof in this section will be omitted.
Theorem 5.2 A dcpo D is a stable retract of Tω if and only if it is an ωCCDI- domain.
From Corollary 4.3, every stable retract of Tω is an ωCCDI-domain. So we only need show the other direction. To do this, we consider two cases that D is finite or infinite. Generally, we require that D is not trivial, i.e., D\{⊥} /= ∅.
Case 1: D is a finite CCDI-domain.

At first, all elements of Pr(D) are enumerated as follows:
p1, p2,..., pn0 ,
where Pr(D) is the set of all primes of D.
We define a map f∗ : Pr(D) → Tω as follows: for 1 ≤ i ≤ n0,
⎧ 1, (i − 1)n0 +1 ≤ n ≤ i × n0, πn(f∗(pi)) =	0, ∃j < i, pj  pi & n = (j − 1)n0 + i,
⎪⎪⎩ ⊥, otherwise.
The intuition of the definition of f∗ is that, (1) all coordinates 1 of f∗(p) are at the definitely locations to indicate the location of p in the enumeration of all primes;
(2) if a prime p is ahead of two consistent prime p1, p2, and p is not consistent with p1, p2, then there are two different locations to put 0 in f∗(p1) and f∗(p2), while the coordinates of f∗(p) are 1 at the two locations. This strategy avoids the predicament of Plotkin’s embedding that it is not stable as shown in the above example.
Next we define a map f : D → Tω based on f∗ as follows: for any x ∈ D, f (x)=  {f∗(p): p ∈ Pr(D) & p ≤ x}.
One see that f : D −→ Tω is well defined and Scott continuous.
Proposition 5.3 The function f has the following properties:
f (d) is compact in Tω for all d ∈ D.
For any n ≤ n0 × n0, there exists a p ∈ Pr(D) such that πn(f (p)) = 1 and for all d ∈ D, πn(f (d)) = 1 iff d ≥ p.
If there exist n ∈ N and d ∈ D with πn(f (d)) = 0, then there exists a prime
p ∈↓ d such that πn(f (p)) = 0 and for all dj in D, πn(f (dj)) = 0 iff dj ≥ p.
For all d1, d2 ∈ D, d1  d2 in D iff f (d1)  f (d2) in Tω.
For all d1, d2 ∈ D, d1 ≤ d2 in D iff f (d1) ≤ f (d2) in Tω.
We omit the proof of the above result. Next, we show that f is stable.
Pick x ∈ Pr(Tω) and d ∈ D with x ≤ f (d). Then |(x)0 ∪ (x)1| = 1. For the case of (x)0 = ∅, there exists n ∈ n ≤ n0 × n0 such that πn(x)=1 and πm(x)= ⊥ for m /= n. Hence, πn(f (d)) = 1. By (2) of Proposition 5.3, there exists a prime p ∈ Pr(D) such that πn(f (p)) = 1 and for all dj ∈ D, πn(f (dj)) = 1 iff dj ≥ p. Hence, p = m(f, d, x). For the case of (x)1 = ∅, it can be show analogously that there exists p ∈↓ d such that p = m(f, d, x) by (3) of Proposition 5.3. Therefore, f is stable by Proposition 4.8 (1).
Next, we define a function g : Tω −→ D such that g is stable and g ◦ f = idD.

For all x ∈ Tω, let

g(x)=  {d ∈ D : f (d) ≤ x}.

Since f (⊥) = ⊥, {d ∈ D : f (d) ≤ k} is nonempty. By (4) of Proposition 5.3,
{d ∈ D : f (d) ≤ k} is pair bounded. Hence, g is well defined and monotone. Since f (d) is compact for any d ∈ D, it follows that f is Scott continuous. Suppose p ≤ g(x) for p ∈ Pr(D) and x ∈ Tω. Then there exists d ∈ D such that p ≤ d and f (d) ≤ x. Thus, f (p) ≤ x. It means that p ≤ g(y) iff f (p) ≤ y for any y ∈ Tω. Therefore, f (p) = m(g, x, p) and g is stable by Proposition 4.8 (1). Moreover, for any k ∈ D, g(f (k)) ≥ k by the definition of g. Suppose kj ≤ g(f (k)) for kj ∈ D, then f (kj) ≤ f (k). Thus, kj ≤ k by (5) of Proposition 5.3. Therefore, g(f (k)) = k, i.e., g ◦ f = idD.
The above process show that D is a stable retract of Tω if D is a finite CCDI- domain. Next, we will show that Theorem 5.2 also holds when D is infinite.
Case 2: D is an ωCCDI-domain with |K(D)| = ℵ0.
In this case, Pr(D) is countably infinite. It is difficult to construct a concrete stable embedding on D, because we have no idea to define an injective stable func- tion from D to Tω such that it preserves all compact elements as in the finite case. In the following, we will use Theorem 4.10 and construct a stable embedding successfully through a rather complicated technical process.
From Theorem 4.10, there exists a sequence r1, r2,..., rn, rn+1,... of stable func- tions in [D →st D] such that
rn ≤st rn+1 for all n ∈ N, and idD = Wn∈N rn,
rn(D) is a finite CCDI-domain for n ∈ N. Set Dn = rn(D) for all n ≥ 1. Then
Dn =↓ Dn ⊆ Dn+1 =↓ Dn+1, where the lower sets are taken in D;
∞


n=1
Dn = K(D);
∞

Pr(Dn)= Dn ∩ Pr(D) and
n=1
Pr(Dn)= Pr(D)

We use D1 to replace D in Case 1 and then we have defined a stable embedding f1 : D1 −→ Tω (it just is the function f in Case 1). In the following, we will extend f1 to D2 and then obtain a stable embedding f2 : D2 −→ Tω such that f1 ◦ r1 ≤st f2 ◦ r2. Then, by induction, we will define fn : Dn −→ Tω for all n ≥ 2, such that n∈N fn ◦ rn is a stable embedding from D into Tω, where all rn’s are regarded as stable function from D to Dn.
Set F = D2 \ D1 /= ∅. Set Pr(F ) = F ∩ Pr(D2) and let |Pr(F )| = s0. Then
Pr(D2)= Pr(F )∪Pr(D1) and |Pr(D2)| = n0+s0. We enumerate Pr(F ) as follows:
v1, v2,..., vs0 .

Like Case 1, we will define a map f∗ : Pr(D2) → Tω. For pi ∈ Pr(D1), let
π (f∗(p )) = ⎧⎨ 1,	(i − 1)s0 +1 ≤ n − n0 × n0 ≤ i × s0,

n  2	i
⎩ πn(f∗(pi)), otherwise.

For vi ∈ Pr(F ) (here 1 ≤ i ≤ s0), let

π (f∗(v )) = ⎪⎨ 0, ∃j ≤ n0, pj  vi & n = n0 × n0 + s0(j − 1) + i,

n  2	i
0, ∃j < i, vj  vi & n = (n0 + j − 1)(n0 + s0)+ n0 + i,
⎪⎪⎩ ⊥, otherwise.

As in Case 1, we extend f∗ to the whole domain D2 in the same way: ∀x ∈ D2, f2(x)=  {f∗(p): p ∈↓ x ∩ Pr(D2)}.
By induction, we can define a function fn : Dn −→ Tω for all n ≥ 2 such that the following result holds.
Proposition 5.4 For each n ∈ N, fn : Dn −→ Tω is a stable embedding satisfying all properties of Proposition 5.3 (the number n0 in 5.3 is replaced by the cardinal of Pr(Dn)) and the following one:
∀d ∈ Dn, i ≤ |Pr(Dn)|× |Pr(Dn)|⇒ πi(fn(d)) = πi(fn+1(d)).
The corresponding stable retraction gn : Tω −→ Dn¯+n is defined as follows: ∀x ∈
Tω,
gn(x)=  {d ∈ Dn : fn(d) ≤ x}.
Recall that, the sequence r1, r2,..., rn, rn+1,... is a ≤st-ascending chain of stable
∞
functions on D such that rn(D)= Dn for all n ≥ 1 and idD =	rn. Each rn can
1
be regarded as a stable function from D to Dn. Set
hn = fn ◦ rn.
Then hn is a stable function from D into Tω for all n ≥ 1. Moreover, we have the following result.
Proposition 5.5 fn ◦ rn ≤st fn+1 ◦ rn+1 for all n ≥ 1.
So, the sequence f1 ◦ r1, f2 ◦ r2,..., fn ◦ rn,... is a ≤st-ascending chain of stable functions in [D → Tω]. Let
h =   fn ◦ rn.
n∈N
Then h : D −→ Tω is a stable function. Particularly, h has the following properties.
Proposition 5.6 The following holds:
d1 ≤ d2 in D iff h(d1) ≤ h(d2) in Tω.

d1  d2 in D iff h(d1)  h(d2) in Tω.
Next, we define a function g : Tω −→ D as follows: ∀x ∈ Tω,
g(x)=  {d ∈ D : ∃n ∈ N,d ∈ Dn & fn(d) ≤ x}.
Using Proposition 5.4 and 5.6, we can show that g is a stable function and g◦h = idD. Thus, Theorem 5.2 holds. So we obtain the main result of this paper.
Theorem 5.7 Tω is a stable universal domain: its stable retracts are exactly all of the ωCCDI-domains and the category of ωCCDI-domains with the stable functions is cartesian closed.
Remark 5.8 In the definition of the function g above, fn can not be replaced by
h because it may lead g not to be Scott continuous.
We have given a pair of stable retraction-stable embedding between Tω and an ωCCDI-domain, but the structure of this stable embedding is nuclear and not concrete. So, a problem being worthy of considering is: construct a concrete stable embedding between [Tω →st Tω] and Tω (it can help to take Tω as a stable semantics model of LAMBDA languages).
Acknowledgment
The authors are grateful to the referee for his/her many invaluable suggestions which help to improve this paper significantly.

References
Abramsky, S., A. Jung, “Domain theory, Handbook of Logic in Computer Science, S. Abramsky et al.,” Oxford University Press, 1994.
Amadio, R., Bifinite domains: Stable case. In Proc. Category Theory in Comp. Sci.91, Springer Lect. Notes in Comp. Sci. 530(1991), 16-33.
Amadio, R., P-L. Curien, ”Domains and Lambda-calculi”, Cambridge University Press, 1998.
Berry, G., Stable models of typed lambda-calculi , In Proc. ICALP, Springer Lecture Notes in Computer Science 62, 1978.
Chen, Y.X., A. Jung, A logical approach to stable domains, Theoretical Computer Science 368 (2006), 124-148.
Droste,M., R. G¨obel, Universal domains and the amalgamation property, Mathematical Structures in Coputer Science 3 (1993),137-160.
Gierz,G.,et al., ”Continuous Lattices and Domains”, Cambridge University Press, 2003.
Kanneganti,R., ”Universal domains for sequential computation”, Ph.D. thesis, Rice University, Houston, 1995.
Melli`es P-A, Sequential algorithms and strongly stable functions, Theoretical Computer Science 343
(2005), 237-281.
Plotkin,G., Tω as a universal domain, J. of Computer and System Science, 17 (1978), 209-236.
Scott,D., Date types as lattices, SIAM J. Computing, 5 (1976), 452-487.

Taylor,P., An algebraic approach to stable domains, J. of Pure and Applied Algebra, 64 (1990), 171-203.
Zhang,G.Q., The largest cartesian closed catergory of stable domains, Theoretical Computer Science,
166(1995), 203-219.
Zhang,G.Q. DI-domains as prime information system, Information and Computation, 100, 1992.
