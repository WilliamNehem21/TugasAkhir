

Electronic Notes in Theoretical Computer Science 256 (2009) 5–18
www.elsevier.com/locate/entcs

Peirce’s Rule in a Full Natural Deduction System
Vaston G. Costa1
Departamento de Ciˆencia da Computac¸a˜o Universidade Federal de Goia´s-Catalao Catal˜ao-GO
Brasil

Wagner Sanz2
Departamento de Filosofia Universidade Federal de Goia´s Goiania-GO
Brasil

Edward H. Haeusler3
Departamento de Informa´tica
Pontif´ıcia Universidade Cato´lica do Rio de Janeiro Rio de Janeiro-RJ
Brasil

Luiz C. Pereira4
Departmento de Filosofia
Pontif´ıcia Universidade Cato´lica do Rio de Janeiro Rio de Janeiro-RJ
Brasil

Abstract
Natural deduction (ND) for first order classical logic is obtainable from the intuitionist system by the addition of Peirce rule. In a previous paper [4], it was presented a normalization strategy for the implicational fragment with Pierce rule. The end normal form is divided in two parts: an intuitionist subdeduction followed by a series of Peirce rule applications, maybe empty. Here, we extend this normalization process to
the system for first order classical logic NP system. NP normal derivations also present the same structure. This structure is the basis on which many properties for ND derivations can be presented. In particular, we present a form of Glivenko’s theorem for the conjunction-implication fragment. Unfortunately, NP lacks strong normalization, although ND with classical absurdity rule doesn’t lack it, as it’s well-known.
Keywords: Natural Deduction, Peirce Rule, Normalization


1571-0661 © 2009 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2009.11.002

Introduction
The natural deduction system constituted only by rules for →I and →E is not complete with respect to the implicational fragment of classical propositional logic. A natural way to complete the system is through the addition of a new natural deduction rule corresponding to Peirce’s formula (((A → B) → A) → A):

[(A →.
.
A
A
B)]

The addition of this new rule creates a new kind of detour that destroys the sub- formula principle: a formula can be at the same time the conclusion of an application of Peirce’s rule and the major premiss of an application of →E. This new detour is similar to a traditional detour for systems containing classical ⊥-rule: a formula can be at the same time the conclusion of an application of ⊥-rule and major premiss of an elimination rule.
E. Zimmermann [11] has showed how to extend Prawitz’ normalization strategy to Peirce’s rule such that applications of Peirce’s rule can be restricted to certain atomic cases. In [4] it is showed that the implicational fragment added with Peirce’s
rule can be transformed into a derivation Π' such that no application of Peirce’s rule
in Π' occurs above applications of →I and →E. This strategy follows what is know as Seldin’s strategy for normalizing classical proofs [10]. An interesting corollary of this normalization procedure is the Glivenko’s theorem for Classical implicational logic. This is presented in [4]. Unfortunately, the implicational fragment is not strongly normalizable.
This paper extends results presented in [4] showing that the normalization pro- cess obtained for the implicational fragment works for first order classical logic. It also shows that a form of Glivenko’s theorem can be obtained for the {∧, →}- fragment with Peirce rule.

The natural deduction system NP
The system NP is a natural deduction system for the classical logic. The language of NP contains variables for predicates, propositions and individuals; individual parameters; signs for material implication, conjunction, disjunction, absurd (⊥), existential, right parenthesis and left parenthesis. The grammar is defined in the usual way. The natural deduction system NP is defined by the rules for {∨, ∧, ∃, →}- introduction, {⊥, ∨, ∧, ∃, →}-elimination, and a new rule of inference corresponding to Peirce’s formula. This new rule is called P-rule as in [4]:

1 Email:vaston@inf.puc-rio.br. Thanks CNPq of Brazil for a postdoctoral grant (152645/2007-1 PDJ).
2 Email:wsanz@uol.com.br
3 Email:hermann@inf.puc-rio.br. Thanks CNPq of Brazil for a personal research grant.
4 Email:luiz@inf.puc-rio.br



The first three rules above we have constitute the implicational fragment, de- noted by NP-Imp. The system NP-{∧, →} results from the addition of ∧I and ∧E to NP-Imp. Negation is defined as ¬α := α → ⊥. Natural deduction for first order classical logic usually also presents rules for universal quantification. However it can be defined by means of existencial and absurd. The reduction operations to be defined below can not be applied to the universal introduction rule.
We shall use the notation r(Π) to denote the last rule applied in a derivation Π.







Normalization for NP-Imp

As said in the introduction, addition of P-rule creates a new form of detour that destroys sub-formula principle: a formula can be at the same time conclusion of an application of Peirce’s rule and major premiss of an elimination rule.
In [4] normalization was proved for NP-Imp. The main idea behind the strategy is to push down applications of P-rule by means of reductions permuting applications of P-rule with applications of the remaining rules.
The first reduction, RED1, permutes an application of P-rule with an application
of →I.



The second reduction, RED2, permutes an application of P-rule with an appli- cation of →E whose derivation of minor premiss contains no application of P-rule.

The third reduction, RED3, permutes an application of P-rule with an applica- tion of →E whose derivation of major premiss contains no application of P-rule.


Definition 3.1 [P-proof] A derivation Π of α from Γ is said to be a P-proof if and only if Π has the following form:
Γ Π1
α
α
. n P-rules,n ≥ 0
α α
where Π1 contains no application of P-rule. Π1 is called the intuitionistic part of Π.
The fourth reduction, RED4, permutes an application of a P-rule with an appli- cation of →E such that both premises of this application are conclusions of P-rule’s, and the derivation of the minor premiss is a P-proof.

Besides the usual reductions for intuitionistic logic, the four reductions above are sufficient to prove that the implicational fragment admits normalization and to

prove a form of Glivenko’s theorem.
Definition 3.2 [P-Normal form] A P-proof Π is said to be in P-Normal form (PNF for short) if and only if its intuitionistic part is in normal form.
Theorem 3.3 (NP-imp normalization) If Π is a derivation of α from Γ in NP- Imp, then Π reduces to a PNF derivation Π' of α from Γ.
Theorem 3.4 (Glivenko) Let {p1,..., pn} be the set of propositional variables occurring in a propositional formula α. Then, ▶NP −Imp α if and only if ▶Imp (α → p1) → ((α → p2) ... ((α → pn) → α) .. .).
The proofs of this two results are presented [4].

NP-Imp strong normalization counter-example
It is well-known that Strong Normalization (SN) holds for classical as well intuition- istic Natural Deduction. Prawitz [7] and Gandy [2] proved SN. Gandy provided a more direct one. Of course, the implicational fragment has SN. This section shows a counter-example to SN wheb Peirces rule is added to the implicational fragment. Therefor, NP-Imp is not SN. In fact, if derivations are not prepared for the appli- cation of RED4, the reduction procedure becomes infinitely long.
Consider the following derivation Π of α → α.



[α]1∗
	α → α	
p∗

[α]1
(α → α) → (α → α) [((α → α) → (α → α)) → α] 1
α	[α → α]p∗

α → α  [(α → α) → α]p
α	[α → α]p1


  α p1
α → α 1


α  ∗
α  ∗
α → α	
(α → α) → (α → α)
	 p∗

α → α

α → α
(α → α) → (α → α) 1

Notice that derivation of the minor premiss of r(Π) there is an →I rule appli- cation between two Peirce’s rule applications. The correct strategy for normalizing derivations apply RED4 after RED1. However, if we apply RED2 and RED3 in an alternating way we produce derivation Π' depicted below.



Γ1	Γ2
∗	Π	∗	Π2

[α → α]2 (α → α) → (α → α)
[α]1
α → α  [(α → α) → α]p3

α → α	[(α → α) → α]p4 	α → α	α	

[α]1
3
	α	 2∗	 (α → α) → (α → α) ((α → α) → (α → α)) → α

α → α
(α → α) → α
α	[α → α]

α	[α → α]p1	α  ∗
α	α

 	p1
α → α 1


α → α p3 α → α p4 α → α
α → α 1∗
(α → α) → (α → α)


Γ1 Π1
Where (α → α) → (α → α), for Γ1 = {(α → α), (α → α) → α} is as follow:
[α → α]2∗  [(α → α) → (α → α)]3∗

[α]1∗
	α → α	
(α → α) → (α → α)




Γ2 Π2
α → α	[(α → α) → α]p3


	α	 3∗
((α → α) → (α → α)) → α
α	[α → α]p∗
α  ∗
α  ∗
α → α	
(α → α) → (α → α)

And (α → α), for Γ2 = {(α → α) → (α → α), (α → α) → α} is:
[α → α]2 [(α → α) → (α → α)]3
α → α	[(α → α) → α]p4

[α]1
α → α


	α	
2
(α → α) → α

α	[α → α]p1


α p
α  1
α → α


[(α → α) → (α → α)]3



(α → α)
Observe that Π' has more than four P-rule applications above r(Π'). If we proceed by applying RED1 to permute down only one P-rule from each branch, we can apply RED2 and RED3 again in order to produce a derivation with four P-rules above the lowest →E. Evolving this way, the reduction process does not terminate.
NP Reductions
This section presents the remaining reductions for the NP system.
The fifth reduction, RED5, permutes an application P-rule with an application of ∧E.

The sixth reduction, RED6, permutes applications of P-rule with an application of ∧I. This reduction can be easily adapted when P-rule occurs only in the left (or

right) branch of the ∧I.

RED7 permutes an application of P-rule with an application of ∨I (the other case for left disjunction introduction is similar).

RED8 permutes an application of P-rule with an application of ∨E.



RED9 permutes an application of P-rule with an application of ∨E whose deriva- tion of the minor premiss contains no application of P-rule.

If there are occurrences of a P-rule over the major premiss and also over at least one of the minor premisses of ∨E, first use RED8 to permute all the P-rules occurring over the minor premisses and then RED9 to permute all the P-rules occurring over the major premiss.
RED10 permutes an application of P-rule with an application of ∃E.


Remark 5.1 A natural way to think in a reduction for the ∃E is:

[α(a)]q	[γ → δ]p
Π1
[α(a)]q	[γ → δ]p
Π1

γ
∃xα(x)	γ p
∃xα(s)	γ
q

γ

	 q	  p
γ	D	γ
However, it doesn’t work for the following derivation:
[γ → β(a)]p	[(γ → β(a)) → γ)]q
γ
∃x((γ → β(x)) → γ)	γ p
	 q
γ
But Sanz in [8] has presented an example where such reduction does not work.
RED11 permutes an application of P-rule with an application of ∃E whose derivation of the minor premiss contains no application of P-rule.

RED12 permutes an application of P-rule with an application of ∃I.

RED13 takes a deduction whose conclusion of P-rule is ⊥ and gives a derivation in which this P-rule does not occur anymore.




NP Normalization
In this section we prove normalization for NP.
Definition 6.1 [Critical derivation] A derivation Π is called critical iff it satisfies the following conditions:
r(Π) is not an application of a P-rule.
The derivation(s) of the premiss(es) of r(Π) is (are) a P-proof(s).
Lemma 6.2 (Critical Lemma) Let Π be a critical derivation of α from Γ. Then
Π can be transformed into a P-proof Π' of α from Γ.
Proof. By iterated application of reductions presented above and bounded by the number of P-rules occurring in the critical derivation. Cautions must be taken when we work with derivations presenting applications of →E, since we do not have strong normalization (see section 4). If, in such derivations, both deductions of the minor and the major premisses contains P-rules, first reduce the deduction over major premiss and then reduce the deduction over minor premiss.	 
Theorem 6.3 (Normalization) If Π is a derivation of α from Γ in NP, then Π
reduces to a PNF derivation Π' of α from Γ.
Proof. Using lemma 6.2, we transform Π into a P-proof Π1, a PNF derivation Π' of α from Γ can be obtained by the usual reduction technique applied to the intuitionistic part of Π1.	 
Lemma 6.4 Let Π bea PNF proof of α from Γ such that r(Π) is an application of P-rule discharging α → (β → γ) or α → (β ∨ γ) or α → ∃xβ or α → (β ∧ γ). Then Π can be transformed into a (new) PNF proof Π' of α from Γ such that r(Π') is an application of P-rule that discharges, respectively, α → γ or α → β or α → β(a) or α → β and α → γ. 5

5 This transformation affects only the last application of P-rule in Π.

Proof. Just apply the following reductions.



[α → (β → γ)]p
Π
α p


[α]q	[α → γ]p γ


β → γ	q
α → (β → γ) Π
α p

α	D	α

[α]q	[α → β]p β


[α → β ∨ γ]p
Π
α p
α	D

β ∨ γ	q

α → β ∨ γ
Π
α p
α



[α]q	[α → β(a)]p β(a)

[α → ∃xβ]p
Π
α p
α	D

∃xβ	q
α → ∃xβ
Π
α p
α




[α]q	[α → β]p1 β
[α]q	[α → γ]p2 γ


[α → β ∧ γ]p


Π
α p
α	D

β ∧ γ	q

α → β ∧ γ
Π
α p1
α p2
α





Theorem 6.5 Any Π proof of α from Γ can be transformed into a PNF proof of α from Γ such that every assumption discharged by an application of P-rule has the form α → β, with β atomic.

Proof. Directly from theorem 6.3 and lemma 6.4	 

A PNF derivation Π in which every application of a P-rule discharging assump- tions with atomic succedent is said to be an atomically expanded PNF (AEPNF for short).

Glivenko’s Theorem for NP-{∧, →}
In this section we will show that for the {∧, →}-fragment a form of Glivenkos’s theorem holds.
The reduction presented below collapses all the P-rules occurrences at the end of the derivation into only one occurrence.

Proposition 7.1 Let Π be a AEPNF proof of α in the fragment {∧, →}. Let α → β be a formula, occurring in Π, discharged by a Peirce rule application. Then β is a propositional variable occurring in α.
Proof. Since Π is an AEPNF, then β is a propositional variable. Consider α → β occurring in a main branch of Π. Thus, it is major premise of an →E having β as conclusion and minimal formula of this main branch. We remind the reader that above the sequence of Peirce’s rule applications there is an intuitionistic normal derivation of α from not yet discharged formulas α → δ, for some δ. Thus, by the sub-formula principle applied to this intuitionistic derivation β is a subformula of α, the last formula in this main branch.
Consider α → β occurring in a secondary branch. In this case it is the first formula of a branch concluding γ1, minor premise of an →E having γ1 → γ2 as major premise. By the sub-formula principle, γ1 → γ2 cannot be in a branch having α → δ, for some δ, as first-formula. So, γ1 → γ2 is sub-formula of a formula discharged by an →I rule, and hence it is sub-formula of α. γ1 is sub-formula of γ1 → γ2. As δ is the minimal formula of the secondary branch, it is sub-formula of γ1, which is the conclusion of this branch. Therefore, δ is sub-formula of α.
We have shown that in the case α → β is major premise of an →E the lemma holds. It could also be a premise of either an ∧I or →I rule. In both cases, an analysis based on the sub-formula principle for intuitionistic proofs would lead us to the conclusion that α → β is a sub-formula of α. Considering that it cannot be premise of a ∧E, it remains the case it is minor premise of an →E. Finally, the case when α → β is minor premise of an → rule application is similar to the case of the introduction rules. It lead to the conclusion that a formula having α as proper sub-formula will be sub-formula of α itself.	 
Thus we have the following form of Glivenko’s theorem.

Proposition 7.2 Let α ∈ NP-{∧, →} be classically valid and δ be the conjunction of the propositional variables occurring in α. Then (α → δ) → α is intuitionistically valid.
Proof. The interesting case is when α is not an intuitionistic tautology. Let Π be the AEPNF of α. From proposition 7.1, for each discharged formula of the form α → β, in Π, β is a sub-formula of α. By iterated application of reduction RED14 we obtain a proof of α with only one Peirce rule application discharging α → δ, where δ is the conjunction of propositional letters α.
In proposition 7.1, δ can be taken as the conjunction of all propositional letters occurring in α. Consider δmax as being such conjunction. So, from α → δmax we intuitionistically derive α → δ, where δ is as in the proposition 7.1. Hence, we have an intuitionistic proof of (α → δmax) → α.	 
Final Considerations
We extended normalization procedure for NP-Imp to the full system NP. Our work shows how Seldin’s strategy of normalization for classical proofs can be further enhanced. Since the proofs obtained can be splitted into an intuitionistic part and a Peirce part, some properties can be extracted from this division. In some sense, we were able to obtain a subformula principle for classical derivations form it as well as a form of Glivenko’s theorem. We also remarked how subtle is the ordering of applications the reductions. Further work on local/global confluence of the set of reductions are under investigation.

References
Haskell B. Curry. Foundation of mathematical logic. McGraw-Hill Book Company, 1963. (Dover Edition 1977).
R.O. Gandy. Proofs of Strong Normalization. In “To H.B. Curry: Essays on Combinatory Logic, Lambda calculus and Formalism”, eds J.R.Hindley and J.P.Seldin, Academic Press, 1980, pp. 457.
Lev Gordeev. On cut elimination in the presence of peirce rule. Archive for Mathematical Logic, 26(1):147–164, 1987.
Luiz Carlos Pereira, Edward Hermann Haeusler, Vaston G. Costa, and Wagner Sanz. Normalization for the implicational fragment of classical propositional logic. Submited to a Journal, 2008.
Luiz Carlos Pereira, Edward Hermann Haeusler, and Maria da Paz Medeiros. Alguns resultados sobre fragmentos da l´ogica proposicional cl´assica. O que nos faz pensar, 23, 2008. To appear.
Dag Prawitz. Natural Deduction, A proof-theoretical study. Almqvist & Wiksell, 1965.
Dag Prawitz. Ideas and Results of Proof Theory. In “Proceedings of the second scandinavian logic symposium”, ed. J.E. Fenstad. North-Holland, Amsterdam, 1971, pp. 235–307.
Wagner Sanz. Uma Investigac¸a˜o Acerca das Regras para a Negac¸a˜o e o Absurdo em Deduc¸a˜o Natural. PhD thesis, Universidade Estadual de Campinas, 2006.
Jonathan P. Seldin. On the proof-theory of the intermediate logic MH. Journal of Symbolic Logic, 51(3):626–647, 1986.
Jonathan P. Seldin. Normalization and excluded middle I. Studia Logica, 48(2):193–217, 1989.
Ernst Zimmermann. Peirce’s rule in natural deduction. Theoretical Computer Science, 275(1-2):561– 574, 2002.
