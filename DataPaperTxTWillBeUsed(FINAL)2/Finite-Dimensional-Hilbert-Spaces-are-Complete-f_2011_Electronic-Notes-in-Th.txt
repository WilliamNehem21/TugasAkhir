

Electronic Notes in Theoretical Computer Science 270 (1) (2011) 113–119
www.elsevier.com/locate/entcs

Finite Dimensional Hilbert Spaces are Complete for Dagger Compact Closed Categories
(Extended Abstract)

Peter Selinger1
Department of Mathematics and Statistics Dalhousie University, Halifax, Nova Scotia, Canada


Abstract
We show that an equation follows from the axioms of dagger compact closed categories if and only if it holds in finite dimensional Hilbert spaces.
Keywords: Dagger compact closed categories, Hilbert spaces, completeness.


Introduction
Hasegawa, Hofmann, and Plotkin recently showed that the category of finite dimen- sional vector spaces over any fixed field k of characteristic 0 is complete for traced symmetric monoidal categories [2]. What this means is that an equation holds in all traced symmetric monoidal categories if and only if it holds in finite dimensional vector spaces. Via Joyal, Street, and Verity’s “Int”-construction [3], it is a direct corollary that finite dimensional vector spaces are also complete for compact closed categories. The present paper makes two contributions: (1) we simplify the proof of Hasegawa, Hofmann, and Plotkin’s result, and (2) we extend it to show that fi- nite dimensional Hilbert spaces are complete for dagger traced symmetric monoidal categories (and hence for dagger compact closed categories).

1 Email: selinger@mathstat.dal.ca. Research supported by NSERC.

1571-0661 © 2011 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2011.01.010

Statement of the main result
For a definition of dagger compact closed categories, their term language, and their graphical language, see [1,4]. We also use the concept of a dagger traced monoidal category, which is a dagger symmetric monoidal category [4] with a trace operation

[3] satisfying TrX
(f )† = TrX
(f †). We note that every dagger compact closed

category is also dagger traced monoidal; conversely, by Joyal, Street, and Verity’s
“Int” construction, every dagger traced monoidal category can be fully embedded in a dagger compact closed category.
We will make use of the soundness and completeness of the graphical represen- tation, specifically of the following result:
Theorem 2.1 ([4]) A well-typed equation between morphisms in the language of dagger compact closed categories follows from the axioms of dagger compact closed categories if and only if it holds, up to graph isomorphism, in the graphical language.
An analogous result also holds for dagger traced monoidal categories. The goal of this paper is to prove the following:
Theorem 2.2 Let M, N : A → B be two terms in the language of dagger compact closed categories. Suppose that [[M ]] = [[N ]] for every possible interpretation (of object variables as spaces and morphism variables as linear maps) in ﬁnite dimen- sional Hilbert spaces. Then M = N holds in the graphical language (and therefore, holds in all dagger compact closed categories).

Reductions
Before attempting to prove Theorem 2.2, we reduce the statement to something simpler. By arguments analogous to those of Hasegawa, Hofmann, and Plotkin [2], it suffices without loss of generality to consider terms M, N that satisfy some additional conditions. The additional conditions are:
We may assume that M, N : I → I, i.e., that both the domain and codomain of M and N are the tensor unit. Such terms are called closed. The restriction to closed terms is without loss of generality, because given general M, N : A → B, we can extend the language with two new morphism variables f : I → A and g : B → I, and apply the theorem to the terms M j = g ◦ M ◦ f and N j = g ◦ N ◦ f . Since g, f are new symbols, g ◦ M ◦ f = g ◦ N ◦ f in the graphical language implies that M = N in the graphical language.
It suffices to consider terms M, N in the language of dagger traced monoidal categories. Namely, by Joyal, Street, and Verity’s “Int”-construction [3], ev- ery statement about dagger compact closed categories can be translated to an equivalent statement about dagger traced monoidal categories. This is done by eliminating occurrences of the ∗-operation: one replaces every morphism variable such as f : A∗ ⊗ B ⊗ C∗ → D∗ ⊗ E by an equivalent new morphism variable such as f j : B ⊗ D → A ⊗ C ⊗ E that does not use the ∗-operation.

It suffices to consider terms whose graphical representation does not contain any “trivial cycles”. Trivial cycles are connected components of a diagram that do not contain any morphism variables, such as the ones obtained from the trace of an identity morphism. The restriction is without loss of generality because if M , N have different numbers or types of trivial cycles, they can be easily separated in Hilbert spaces [2]. We say that a diagram is simple if it contains no trivial cycles.


Informal outline of the result
The formal statement and proof of Theorem 2.2 requires a fair amount of notation, and will be given elsewhere. Nevertheless, the main idea is simple, and we informally illustrate it here.


Signatures, diagrams, and interpretations
We assume given a set of object variables, denoted A, B etc., and a set of morphism variables, denoted f, g etc. A sort A is a finite sequence of object variables. We usually write A1 ⊗ ...⊗ An for an n-element sequence, and I for the empty sequence. We assume that each morphism variable f is assigned two fixed sorts, called its domain A and codomain B respectively, and we write f : A → B. We further require a fixpoint-free involution (−)† on the set of morphism variables, such that f † : B → A when f : A → B.
The collection of object variables and morphism variables, together with the domain and codomain information and the dagger operation is called a signature Σ of dagger monoidal categories.
Graphically, we represent a morphism variable f : A1 ⊗ ... ⊗ An → B1 ⊗ ... ⊗ Bm
as a box




.

The wires on the left are called the inputs of f , and the wires on the right are called its outputs. Note that each box is labeled by a morphism variable, and each wire is labeled by an object variable.
A (closed simple dagger symmetric traced monoidal) diagram over a signature Σ consists of zero or more boxes of the above type, all of whose wires have been connected in pairs, such that each connection is between the output wire of some box and the input wire of some (possibly the same, possible another) box. Here is an example of a diagram N over the signature given by f : B → A ⊗ A, g : A ⊗ B →

B ⊗ A.



N =




In the illustration, we have numbered the wires 1 to 5 to aid the exposition below; note that this numbering is not formally part of the diagram.
An interpretation of a signature in finite-dimensional Hilbert spaces consists of the following data: for each object variable A, a chosen finite-dimensional Hilbert space [A ], and for each morphism variable f : A1 ⊗ ... ⊗ An → B1 ⊗ ... ⊗ Bm, a chosen linear map [f ]] : [[A1]] ⊗ ... ⊗ [[An]] → [[B1]] ⊗ ... ⊗ [[Bm ], such that [f †]] = [[f ]]†.
The denotation of a diagram M under a given interpretation is a scalar that is defined by the usual “summation over internal indices” formula. For example, the denotation of the above diagram N is:


[[N ]] =	Σ
[[g]]a1 ,b2 · [[f ]]b3
· [[f †]]a5 ,a4 .	(4.1)

a1,b2,b3,a4,a5
b3 ,a1
a5,a4	b2


Here a1, a4, a5 range over some orthonormal basis of [A]], b2, b3 range over some
orthonormal basis of [B]], and [[f ]]b3	stands for the matrix entry ⟨a5 ⊗a4 | [[f ]](b3)⟩.
As is well-known, this denotation is independent of the choice of orthonormal bases.


Proof sketch
By the reductions in Section 3, Theorem 2.2 is a consequence of the following lemma:

Lemma 4.1 (Relative completeness) Let M be a (closed simple dagger traced monoidal) diagram. Then there exists an interpretation [[−]]M in ﬁnite dimensional Hilbert spaces, depending only on M, such that for all N, [[N ]]M = [[M ]]M holds if and only if N and M are isomorphic diagrams.

Clearly, the right-to-left implication is trivial, for if N and M are isomorphic diagrams, then [N ]] = [[M ] holds under every interpretation; their corresponding summation formulas differ at most by a reordering of summands and factors. It is therefore the left-to-right implication that must be proved.
The general proof of this lemma requires quite a bit of notation, as well as more careful definitions than we have given above. A full proof will appear elsewhere. Here, we illustrate the proof technique by means of an example.

Take the same signature as above, and suppose M is the following diagram:



M =
B




Again, we have numbered the wires from 1 to 5, and this time, we have also num- bered the boxes x, y, and z.
We must now construct the interpretation required by the Lemma. It is given as follows. Define [A]]M to be a 3-dimensional Hilbert space with orthonormal basis
{A1, A2, A4}. Define [B]]M to be a 2-dimensional Hilbert space with orthonormal basis {B3, B5}. Note that the names of the basis vectors have been chosen to suggest a correspondence between basis vectors of [A]]M and wires labeled A in the diagram M , and similarly for [B]]M .
Let x, y, and z be three algebraically independent transcendental complex num- bers. This means that x, y, z do not satisfy any polynomial equation p(x, y, z, x¯, y¯, z¯)= 0 with rational coefficients, unless p ≡ 0.
Define three linear maps Fx : [[B]]M → [[A]]M ⊗[[A]]M , Fy : [[A]]M ⊗[[A]]M → [[B]]M , and Fz : [[A]]M ⊗ [[B]]M → [[B]]M ⊗ [[A]]M as follows. We give each map by its matrix representation in the chosen basis.


(F )i
= ⎧⎨ x	if i = B5, j = A2, and k = A1,

x jk
⎧⎩ 0	else,

(F )ij = ⎨ y	if i = A2, j = A1, and k = B3,
⎩ 0	else,
(F )ij = ⎨ z	if i = A4, j = B3, k = B5, and l = A4,

z kl
⎩ 0	else.

It is hopefully obvious how each of these linear functions is derived from the diagram M : each matrix contains precisely one non-zero entry, whose position is determined by the numbering of the input and output wires of the corresponding box in M .
The interpretations of f and g are then defined as follows:
[[f ]]M = Fx + F †,	[[g]]M = Fz.

Note that we have taken the adjoint of the matrix Fy, due to the fact that the corresponding box was labeled f †. This finishes the definition of the interpretation [[−]]M . It can be done analogously for any diagram M .

To prove the condition of the Lemma, we first observe that the interpretation [[N ]]M of any diagram N is given by a summation formula analogous to (4.1). More- over, from the definition of the interpretation [—]]M , it immediately follows that the scalar [N ]]M can be (uniquely) expressed as a polynomial p(x, y, z, x¯, y¯, z¯) with in- teger coefficients in the variables x, y, z and their complex conjugates. We also note that this polynomial is homogeneous, and its degree is equal to the number of boxes in N .
We claim that the coefficient of p at xyz is non-zero if and only if N is isomorphic to M . The proof is a direct calculation, using (4.1) and the definition of [—]]M . Essentially, any non-zero contribution to xyz in the summation formula must come from a choice of a basis vector Aψ(w) of [A]]M for each wire w labeled A in N , and a choice of a basis vector Bψ(w) of [B]]M for each wire w labeled B in N , together with a bijection φ between the boxes of N and the set {x, y, z}; moreover, the contribution can only be non-zero if the choice of basis vectors is “compatible” with the bijection φ. Compatibility amounts precisely to the requirement that the maps ψ and φ determine a graph isomorphism from N to M . For example, in the calculation of [N ]]M according to equation (4.1), the only non-zero contribution to xyz in p comes from the assignment a1 '→ A4, b2 '→ B3, b3 '→ B5, a4 '→ A1, and a5 '→ A2, which corresponds exactly to the (in this case unique) isomorphism from N to M .
In fact, we get a stronger result: the integer coefficient of p at xyz is equal to the number of different isomorphisms between N and M (usually 0 or 1, but it could be higher if M has non-trivial automorphisms).

Generalizations
Other fields
The result of this paper (Theorem 2.2) can be adapted to other fields besides the complex numbers. It is true for any field k of characteristic 0 with a non-trivial involutive automorphism x '→ x¯. (Non-trivial means that for some x, x¯ /= x).
The only special property of C that was used in the proof, and which may not hold in a general field k, was the existence of transcendentals. This problem is easily solved by first considering the field of fractions k(x1,... , xn), where the required transcendentals have been added freely. The proof of Lemma 4.1 then proceeds without change. Finally, once an interpretation over k(x1,... , xn) has been found such that [M ]] /= [[N ], we use the fact that in a field of characteristic 0, any non-zero polynomial has a non-root. Thus we can instantiate x1,... , xn to specific elements of k while preserving the inequality [M ]] /= [[N ]. Note that therefore, Theorem 2.2 holds for k; however, Lemma 4.1 only holds for k(x1,... , xn).

Bounded dimension
The interpretation [—]]M from Section 4.2 uses Hilbert spaces of unbounded dimension. One may ask whether Theorem 2.2 remains true if the dimension of the Hilbert spaces is fixed to some n. This is known to be false when n = 2. Here is

a counterexample due to Bob Par´e: the equation tr(AABBAB) = tr(AABABB) holds for all 2 × 2-matrices, but does not hold in the graphical language. Indeed, by the Cayley-Hamilton theorem, A2 = μA + νI for some scalars μ, ν. Therefore
tr(AABBAB)= μ tr(ABBAB)+ ν tr(BBAB), tr(AABABB)= μ tr(ABABB)+ ν tr(BABB),
and the right-hand-sides are equal by cyclicity of trace. It is not currently known to the author whether Theorem 2.2 is true when restricted to spaces of dimension 3.

Acknowledgments
Thanks to Gordon Plotkin for telling me about this problem and for discussing its solution. Thanks to Bob Par´e for the counterexample in dimension 2.

References
Abramsky, S. and B. Coecke, A categorical semantics of quantum protocols, in: Proceedings of the 19th Annual IEEE Symposium on Logic in Computer Science, LICS 2004, IEEE Computer Society Press, 2004, pp. 415–425.
Hasegawa, M., M. Hofmann and G. Plotkin, Finite dimensional vector spaces are complete for traced symmetric monoidal categories, in: Pillars of Computer Science: Essays Dedicated to Boris (Boaz) Trakhtenbrot on the Occasion of His 85th Birthday, Lecture Notes in Computer Science 4800 (2008),
pp. 367–385.
Joyal, A., R. Street and D. Verity, Traced monoidal categories, Mathematical Proceedings of the Cambridge Philosophical Society 119 (1996), pp. 447–468.
Selinger, P., Dagger compact closed categories and completely positive maps, in: Proceedings of the 3rd International Workshop on Quantum Programming Languages, Electronic Notes in Theoretical Computer Science 170 (2007), pp. 139–163.
