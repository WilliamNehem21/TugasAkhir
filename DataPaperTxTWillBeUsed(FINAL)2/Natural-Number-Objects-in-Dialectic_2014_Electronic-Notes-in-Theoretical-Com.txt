Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 305 (2014) 53–65
www.elsevier.com/locate/entcs

Natural Number Objects in Dialectica Categories
Valeria de Paiva1,2
NLU Research Lab Nuance Communications, Inc.
Sunnyvale, CA, USA

Charles Morgan3
Department of Mathematics University College London London, United Kingdom

Samuel G. da Silva4
Departamento de Matem´atica Universidade Federal da Bahia Salvador, BA, Brazil


Abstract
This note sets down some facts about natural number objects in the Dialectica category Dial2(Sets). Natural number objects allow us to model G¨odel’s System T in an intrinsically logical fashion. G¨odel’s Dialectica Interpretation is a powerful tool originally used to prove the consistency of arithmetic. It was surprising (but pleasing) to discover, in the late eighties, that studying the Dialectica Interpretation by means of categorical proof theory led to models of Girard’s Linear Logic, in the shape of Dialectica categories. More recently Dialectica Interpretations of (by now established) Linear Logic systems have been studied, but not extended to System T. In this note we set out to to consider notions of natural number objects in the original Dialectica category models of the Interpretation. These should lead to intrinsic notions of linear recursitivity, we hope.
Keywords: categorical logic, linear logic, natural numbers object, dialectica categories



1 We gratefully acknowledge support from CNPq for a visit of Valeria de Paiva to the Depto of Matematica of the Universidade Federal da Bahia that allowed us to collaborate in this work.
2 Email: valeria.depaiva@gmail.com
3 Email: charles.morgan@ucl.ac.uk
4 Email: samuel@ufba.br

http://dx.doi.org/10.1016/j.entcs.2014.06.005
1571-0661/© 2014 Elsevier B.V. All rights reserved.

Introduction
This short note describes alternative notions of natural numbers objects in the Dialectica categories. Dialectica categories arose from an internal characterization of G¨odel’s Dialectica Interpretation, which uses System T, a prototypical system for primitive and (generally) recursive functions. There has been much work recently on analyzing the process of computation through the “linear logic perspective”. This has produced a body of interesting work investigating concepts such as “linear recursivity”, “linear System T” and “linear primitive functions” ([1,2]), but we think that more work is needed, if these notions are to truly represent an extension of the Curry-Howard paradigm. The calculations below can be seen as a preparatory steps for the discussion of primitive recursion in general monoidal categories, following the work of [3].
A Natural Numbers Object (or NNO) is an object in a category equipped with structure giving it properties similar to those of the set of natural numbers N in the category of Sets. This means that for each prospective natural numbers object N we need to associate a morphism that plays the role of the constant zero in the natural numbers and we need to describe a morphism from N to N that plays the role of the successor function. Moreover these morphisms for zero and successor need to help us define iterators.
Natural numbers objects have been extensively studied, particularly in the con- text of toposes, starting with the work of Lawvere ([7]). 5 However, the definition makes sense in any category with finite products, a cartesian category. The def- inition also makes sense even in categories with less structure than products, i.e. in monoidal (closed or not) categories we can define a natural numbers object e.g. [9,8]. Mackie, Rom´an and Abramsky have the following definition:
Definition 1.1 [8] Let C be a monoidal (closed) category with unit I,a weak natural numbers object (NNO) is an object N of C together with morphisms zero : I −→ N and succ : N −→ N such that for any object B of C and morphisms b : I −→ B and g : B −→ B there exists a morphism h : N −→ B such that the diagrams below commute:
I	zero ) N	succ ) N
 
 
h	h
b
v	v
B 	) B
g
If the morphism h : N −→ B is unique we say that N is a strong NNO or simply a NNO. If the morphism is not necessarily unique we talk about a weak natural numbers object.
The paradigmatic example goes as follows: Let N be the usual natural numbers

5 Lawvere writes, on introducing an axiom asserting that NNOs exist, “This [axiom] plays the role of our axiom of infinity”.

in the category Sets. Then 1, the singleton set ∗ and N together with the usual zero and successor functions (written “ζ” and “+1” with ζ(∗) = 0 and +1(n) = n +1 for all n ∈ N) form a natural number structure over 1 in Sets. Given f :1 −→ X and g : X −→ X we have the map h given by h(n)= gn(f (∗)) makes the following diagram commute and is the unique map doing so.
1	ζ	) N	+1 ) N
 
 
h	h
f
v	v
X 	) X
g
Dialectica Categories
Dialectica categories were introduced by de Paiva in her thesis [4]. They were conceived as an internal model of G¨odel’s Dialectica Interpretation [6], but turned out to be also a model of Linear Logic, then a new logical system introduced by Jean-Yves Girard.
Definition 2.1 Objects of the Dialectica category Dial2(Sets) are triples, A = (U, X, R), where U and X are sets and R ⊆ U ×X is a (usual, set-theoretic) relation. Given elements u in U and x in X, either they are related by R, R(u, x) = 1 or they are not and R(u, x) = 0, hence the 2 in the name of the category.
A morphism from A to B = (V, Y, S) is a pair of functions f : U −→ V and
F : Y −→ X such that uRF (y) =⇒ f (u)Sy. We depict morphisms in this note as
X (	F	Y
/	/
R /	/
/	/
/	/ S
/	/
U 	) V
f
The category Dial2(Sets) has a symmetric monoidal closed structure, which makes it a model of (exponential-free) intuitionistic multiplicative linear logic. We recall the definition of this symmetric monoidal closed structure below.
Definition 2.2 Let A = (U, X, R) and B = (V, Y, S) be objects in Dial2(Sets). The tensor product of A and B is given by
A ⊗ B = (U × V, XV × Y U ,R ⊗ S)
where the relation R ⊗ S is given by (u, v) R ⊗ S (f, g) iff uRf (v) and vSg(u). In particular the unit for this tensor product is the object IDial, (1, 1, =), where 1= {∗} is a singleton set and = is the identity relation on the singleton set.

The internal-hom is given by
[A, B]= (V U × XY ,U × Y, [R, S])

where (f, F )[R, S](u, x) iff uRF (y) implies f (u)Sy. The tensor product is adjoint to the internal-hom, as usual
HomDial(A ⊗ B, C) ∼= HomDial(A, [B, C]) There is an auxiliary tensor product structure given by
A ◦ B = (U × V, X × Y, R ◦ S)

where (u, v)R ◦ S(x, y) iff uRx and vSy. This simpler tensor structure is not the adjoint of the internal-hom. The unit for this tensor product is also IDial.
The cartesian product is given by A × B = (U × V, X + Y, ch) where X + Y = X × 0 ∪ Y × 1 and the relation ch (short for ‘choose’) is given by (u, v)ch(x, 0) if uRx and (u, v)ch(y, 1) if vSy. The unit for this product is (1, ∅, ∅), the terminal object of Dial2(Sets) . 
The category Dial2(Sets) also has coproducts given by the dual construction to the one above, namely A + B = (U + V, X ×Y, ch) and an initial object 0= (∅, 1, ∅).

Natural Numbers Objects in Dial2(Sets)
To investigate iteration and recursion in dialectica categories we would like to define a natural numbers object in Dial2(Sets). First we need to decide with respect to which one of the monoidal structures in Dial2(Sets) we will define our prospective natural numbers object. In principle, we can use either the cartesian structure of Dial2(Sets) or any one of its tensor structures.

Using the cartesian structure
The first candidate monoidal structure is the cartesian product in Dial2(Sets). This means that we would require a map corresponding to zero from the terminal object (1, ∅, ∅) in Dial2(Sets) to our natural numbers object candidate, say a generic object like (N, M, E).
Reading from Definition (1), (N, M, E) is a NNO with respect to the carte- sian structure of Dial2(Sets)if there are maps (z, Z) : (1, ∅, ∅) −→ (N, M, E) and (s, S) : (N, M, E) −→ (N, M, E) such that for any object (X, Y, R) and any pair of morphisms (f, F ) : (1, ∅, ∅) −→ (X, Y, R) and (g, G) : (X, Y, R) −→ (X, Y, R) there exists some (unique) (h, H): (N, M, E) −→ (X, Y, R) such that the following diagram, which we refer to below as the ‘main diagram,’ commutes.



∅ (	Z	M (	S	M

/	` 
∅ /	  F
/	ˆ	/	ˆ
E / H	/

/	/	/
/	/	/ E
/	/	/

1 	) N
z
 
	) N	H
s
 

h

h	Y (		G	Y
f	/	/
/	/
/	/
/ R	/ R
v/	v/
X 	) X
g


Proposition 3.1 The category Dial2(Sets) has a (trivial) NNO with respect to its cartesian structure, given by (N, ∅, ∅).
Proof. It is clear that demands on the first co-ordinate of a NNO in Dial2(Sets) are exactly those as for sets. Consequently, any possible NNO for Dial2(Sets) is of the form N = (N, M, E) for some set M and some relation E ⊆ N × M , where N is the usual natural numbers object in Sets, with the usual zero constant and the usual successor function on natural numbers.
Since we are using the cartesian structure of Dial2(Sets), then there must exist a morphism in Dial2(Sets) zero = (z, Z): 1 → N with two components, z : 1 → N (as in Sets) and Z : M → 0. But since the only map into the empty set in the category of Sets is the empty map, we would conclude that M is empty and so is E as this is a relation in the product N × ∅.
This trivial NNO works, because given any object B of Dial2(Sets) and any maps f : 1 → B and g : B → B, we can find a unique map h : N → B making all the necessary NNO diagrams commute. In the first coordinate h is given by the map that exists for N as a NNO in Sets and in the second coordinate this is simply the empty map.	2
Note that the existence of the map 1 → B in Dial2(Sets) means that B the generic object of the form (X, Y, R) has Y equal to the empty set as its second coordinate and hence R is also the empty relation.
This triviality result is expected, since the ‘main’ structure of the category Dial2(Sets) is the tensor that makes it a symmetric monoidal closed category, not its cartesian structure. This we discuss next.

Using a monoidal (closed) structure
Tensor products, unlike cartesian products, are not unique up to isomorphism and the category Dial2(Sets) has (at least) two prominent tensor products, besides categorical products and coproducts. These tensor products (in Definition 3) share a common unit, the object (1, 1, =), which we could use to obtain a natural number object, as in the monoidal generalization of NNO in Definition 1. Instead of doing this, which in principle would mean investigating all possible tensor products in Dial2(Sets), we will instead go back to the notion of a Peano-Lawvere category, as introduced by Burroni in [3].
Burroni reminds us that the existence of a NNO in a topos E , corresponding to Lawvere’s “infinity axiom”, only requires the ambient category to possess a terminal object, but the full force of the axiom comes about from the other structure of the topos as well. There are many reasons to formulate a notion of “infinity axiom” in a category where we do not make any other assumptions other than that the ambient is a category E. One of these reasons is that the notions of integer, of recursiviness, of program, of machine, etc.. are notions that one should be able to develop in a uniform way in any mathematical ‘universe’ E, without assuming other properties of E, because these other properties are not supposed to have any infinitary meaning. Another reason is that there are categories that are very far from being a topos, but that nonetheless satisfy the Peano-Lawvere axiom, or better, a form of this axiom adapted to the absence of hypotheses about the existence of a final object and of cartesian products .
From our part we interested in categories where the main logical structures are monoidal, instead of cartesian, signifying a logic that is resource conscious, but we agree with Burroni that the axiom about infinity should be independent from whether the basic logic is cartesian or monoidal.
Definition 3.2 [3] The axiom of Peano-Lawvere says that for any object X in a category E, there is a diagram of the form
X	zX ) NX	sX ) NX 

with the universal property that for any diagram of the form
X	f	) Y	g	) Y

there exists h : NX → Y such that the following diagram commutes
X	zX ) NX	sX ) NX 
 
 
h	h
f
v	v
Y 	) Y
g

If a category satisfies this axiom, we say the category is a Peano-Lawvere (PL) category. Is Dial2(Sets) a PL-category?
Reading from the definition above, Dial2(Sets) is a PL-category if given any object (A, B, C) of Dial2(Sets) there is an object of Dial2(Sets) (N, M, E) and maps (z, Z) : (A, B, C) −→ (N, M, E) and (s, S) : (N, M, E) −→ (N, M, E) such
that for any object of Dial2(Sets) (X, Y, R) together with a pair of morphisms (f, F ) : (A, B, C) −→ (X, Y, R) and (g, G) : (X, Y, R) −→ (X, Y, R) there exists some (unique) map in Dial2(Sets) (h, H) : (N, M, E) −→ (X, Y, R) such that the following diagram commutes.






B (	Z	M (	S	M
/	ˆ
/
/

A 	) N
z
 
	) N	H
s
 

h

h	Y (		G	Y
f	/	/
/	/
/	/
/ R	/ R
v/	v/
X 	) X
g







Trying to simplify this picture for the case where the main tensor structure of Dial2(Sets) as well as its unit (1, 1, =) are used, we obtain: If N = (N, M, E) is a proposed NNO in Dial2(Sets) then there must exist morphisms zero = (z, Z): (1, 1, =) → (N, M, E) and succ = (s, S): (N, M, E) → (N, M, E) such that the diagrams below commute.




1 (	Z	M (	S	M

/	` 
= /	  F
/	ˆ	/	ˆ
E / H	/

/	/	/
/	/	/ E
/	/	/

1 	) N
z
 
	) N	H
s
 

h

h	Y (		G	Y
f	/	/
/	/
/	/
/ R	/ R
v/	v/
X 	) X
g


Proposition 3.3 The category Dial2(Sets) has a (trivial) weak NNO with respect to its monoidal closed structure described, given by (N, 1, N × 1).


Proof. As before, the demands on the first co-ordinate of a NNO in Dial2(Sets) are exactly those as for sets. Consequently, any possible NNO for Dial2(Sets) is of the form N = (N, M, E) for some set M and some relation E ⊆ N × M , where N is the usual natural numbers object in Sets, with the usual zero constant and the usual successor function on natural numbers.
Given that we are using as the unit for the tensor the object (1, 1 =) the mor- phism zero has two components, z : 1 → N (as in Sets) and Z : M → 1 on the top of the diagram. The map Z has to be the unique map !M : M → 1 sending all m’s in M to the singleton set ∗, as this is what it means to say that 1 is the terminal object in Sets. The morphism succ : N → N in Dial2(Sets) also has two compo- nents (s, S), where s : N → N is the usual successor function in N, and S : M → M is to be determined, satisfying some equations.
We need to consider the objects B of Dial2(Sets) for which there are maps (f, F ): I → B and (g, G): B → B. Every object B in Dial2(Sets) has at least one map to itself, namely the identity, but not every object in Dial2(Sets) has a map (f, F ): I → B.
Fact 1. If there is a map (f, F ): I → B in Dial2(Sets) for a generic object B
of the form (X, Y, R) then there exists x0 in X such for all y in Y we have x0Ry.

Proof. By definition of maps in Dial2(Sets), we must have
1 (	=	1
ˆ
f	F =!
v
X (	 Y R
where the map in the left f simply picks up an element of X and the map on the right
F is the unique terminal map, hence ∀∗ ∈ 1, ∀y ∈ Y , ∗ = ∗ implies x0 = f (∗)Ry. 2
Fact 2. If there is a NNO in Dial2(Sets) of the form (N, M, E), where M is the singleton set 1, then S : 1 → 1 is the identity on 1 and E relates every n in N to ∗.

Proof. If N = (N, 1, E) is a NNO in Dial2(Sets) then the map zero = (z, Z): I → N has to be the zero map in N together with the terminal map in 1 and the succ = (s, S): N → N consists of the usual successor function on the integers and S : 1 → 1 has to be the identity on 1.
The fact that (z, Z) is a map of Dial2(Sets) gives us the diagram
1 (	=	1
ˆ
0	Z = id1
v
N (	 1
E
and the condition says for all ∗ in 1, if ∗ = Z(∗) then 0(∗)E∗. Hence E must be such that 0E∗.
The fact that (s, S) is map of Dial2(Sets) gives us the diagram
N (	E	1
ˆ
s	S
v
N (	 1
E
and the condition on morphisms says for all n in N and for all ∗ in 1, if nES∗ then n +1 = s(n)E∗. But S is the identity on 1, ie S∗ = ∗, so if nES∗ ⇒ n + 1E∗, which is just what we need to prove that E relates every n in N to ∗.	2
Back to the proof of the proposition we now have:

The object of Dial2(Sets) of the form (N, 1, E), where E relates every n in N to ∗, together with morphisms zero = (0, id1): I → N and succ = (+1, id1): N → N is a weak NNO in Dial2(Sets).
Let B be an object (X, Y, R) of Dial2(Sets) such that there are maps (f, F ): I → B and (g, G): B → B. To prove N = (N, 1, E), where nE∗ for all n in N is a weak NNO, we must be able to define a map (h, H): N → B such that the main NNO diagram commutes.
It is clear that h : N → X can be defined using the fact that N is a NNO in Sets. It is clear that we must take H : Y → 1 as the terminal map on Y . We need to check that all the required conditions are satisfied.
The required conditions amount to showing that
the map (h, H) is a map of Dial2(Sets);
the triangle commutes, and
the square commutes in the diagram that we repeat again below to facilitate the reading of this note.

1 (	Z = id1	1 (	S = id1	1

/	` 
= /	 

F =!Y
/	ˆ	/	ˆ
E / H	/

/	/	/
/	/	/ E
/	/	/

1 	) N 	) N
H =!Y

z =0 
s = +1
h


h	Y (		G	Y
f	/	/
/	/
/	/
/ R	/ R
v/	v /
X 	) X
g

We deal with item (i) last as it is more involved.
Commutativity of the triangle diagram (ii) in Dial2(Sets) is easy. Note that the diagram in Dial2(Sets)
1	zero ) N
 
 
h
f
v
B

corresponds to two triangles in Sets and in our main diagram:


1	0	) N
1 ( id1	1

`	ˆ
 
h		H =!
f	F =!
v
X	Y


The left triangle is satisfied because N is a NNO in Sets and the right triangle is trivially satisfied, because 1 is a terminal object.
The Dial2(Sets) condition on morphisms is also satisfied:

1 (	=	1
ˆ
0	id1
v
N (	 1
E	ˆ
h	!
v
X (	 Y R


The first square says that for all ∗∈ 1, ∗∈ 1, if ∗ = ∗ then 0(∗)E∗ or 0E∗ which is true. The second square says for all n ∈ N, for all y ∈ Y if nE ∗ (y) then h(n)Ry, the condition on (h, !) being a map in Dial2(Sets). If both squares commute then the rectangle says for all ∗ in 1 and for all y ∈ Y , if ∗ = ∗ then f (∗)Ry, which we know.
The square relating the successor function to the function defined by iteration
h (item (iii)) commutes.

N	succ ) N

h	h
v	v
B 	) B
g

This corresponds to the squares:
N	+1 ) N


1 (S = id1	1

ˆ	ˆ
h	h	!	!
v	v

X 	) X
g
Y (		 Y G

As before the left square is true by definition of NNO, we choose h so that this commutes and the right square commutes because we are using the terminal map. Now to show that the proposed map (h, H) is a map in Dial2(Sets) we have to work a little. The map (h, H) is a map in Dial2(Sets) if the condition for all m in N, for all y in Y , if mEH(y) then h(m)Ry is satisfied. Since H(y) = ∗ and we
know mE∗ for all m in N, we need to show h(m)Ry for all m ∈ N and all y in Y .
If m = 0 we need to show h(0)Ry for all y ∈ Y . But since N is the NNO in Sets
we know that
1	0	) N	+1 ) N
 
 
h	h
f
v	v
X 	) X
g
commutes, hence h(0) = f (∗) and h(m + 1) = g(h(m)). But since B = (X, Y, R) is an object that has a map (f, F ): I → B we know (Fact 1) that there exists x0 = f (∗) such that f (∗)Ry for all y in Y and hence h(0) = f (∗)Ry for all y ∈ Y .
If m is not zero, then m = n + 1 and h(n + 1) = g(h(n)) by the definition of h in Sets. But B is an object of Dial2(Sets) equipped with a map (g, G): B → B, which means that there exist g : X → X and G : Y → Y in Sets such that for all x ∈ X and for all y ∈ Y , if xRG(y) then g(x)Ry. To show that h(n)Ry, since we know that h(0)Ry we need to show that if h(n)Ry for all y ∈ Y then h(n + 1)Ry for all y ∈ Y .
But if h(n)Ry for all y ∈ Y , then in particular h(n)RG(yj) for all y’s that happen to be in the range of G, that is if y happens to be Gyj. In this case g(h(n))Ryj, that is h(n + 1)Ryj.	2
Summing up: We obtain a degenerate weak NNO, where in the first coordinate we have business as usual in Sets and in the second coordinate we have simply the singleton set 1 and terminal maps.
4	Conclusions
We expected to find a NNO in the dialectica categories, with iteration and recursion as usual in the first coordinate, but co-recursion/co-iteration in the second coordi-

nate, following the pattern in dialectica categories of business as usual in the first coordinate and the dual case of the usual in the second coordinate. It is disappoint- ing to obtain only a ‘degenerate’ NNO as above, where the second coordinate is trivial. Maybe we have not got the right level of generality.
A remark on related work: Dialectica objects are similar to Chu spaces, which in turn are very similar to Vicker’s topological systems[11]. But morphisms are very different and as a result, the structure of the categories is fairly different too. Some comparisons are drawn in [5].
It is well known (and a nice description can be found in [10]) that natural number algebras 1 → N → N are in bijective correspondence with F -algebras where F is the endofunctor F (X)= 1 + X and that the initial algebra for this functor in Set is indeed the usual natural numbers, where we have an isomoprhism N ∼= 1+N . Since this is an isomorphism we could also see it as an F -coalgebra, but this is not final in the category of sets. As Plotkin remarks this coalgebra is final in the category of sets and partial functions Pfn. Can we change our working underlying category of Dial2(Sets) so that a non-trivial NNO can be constructed? Co-recursion is not as well-understood as recursion, in particular we know of no work on co-induction in a linear (or monoidal) situation. More work seems required.

References
Sandra Alves, Maribel Fern´andez, M´ario Florido, and Ian Mackie. Linear recursive functions. In
Rewriting, Computation and Proof, pages 182–195. Springer, 2007.
Sandra Alves, Maribel Fern´andez, M´ario Florido, and Ian Mackie. Go¨dels system t revisited. Theoretical Computer Science, 411(11):1484–1500, 2010.
A. Burroni. R´ecursivit´e graphique (1e partie) : cat´egorie des fonctions r´ecursives primitives formelles.
Cahiers de Topologie et G´eom´etrie Diff´erentielle Cat´egoriques, 27, Issue: 1:49–79, 1986.
V. de Paiva. The Dialectica Categories. Computer Lab, Cambridge University,http://www.cl.cam. ac.uk/techreports/UCAM-CL-TR-213.html, 1990.
Valeria de Paiva. Dialectica and chu constructions: cousins? Theory and Applications of Categories, 17(7):127–152, 2007.
K. G¨odel. On a hitherto unutilized extension of the finitary standpoint. In S. Feferman, J.W. Dawson Jr., S.C. Kleene, G.H. Moore, R.M. Solovay, and J. van Heijenoort, editors, K. G¨odel’s Collected Works: Volume II: Publications 1938-1974, pages 240–252, Oxford, 1990. Oxford University Press.
W. Lawvere. An elementary theory of the category of sets. Proceedings of the National Academy of Science, 52:1506–1511, 1964.
I. Mackie, L. Roman, and S. Abramsky. An internal language for autonomous categories. In Journal of Applied Categorical Structures, volume 1, pages 311–343, 1993.
R. Par´e and L. Rom´an. Monoidal categories with natural numbers object. Studia Logica, 48(3):361–376, 1989.
Gordon Plotkin. Partial recursive functions and finality. In Computation, Logic, Games, and Quantum Foundations. The Many Facets of Samson Abramsky, pages 311–326. Springer, 2013.
Steven Vickers. Topology Via Logic, volume 5 of Cambridge Tracts in Theoretical Computer Science. Cambridge University Press, 1989.
