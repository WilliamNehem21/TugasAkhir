Egyptian Informatics Journal 24 (2023) 217–227











Research on smart city data encryption and communication efficiency improvement under federated learning framework
Zhen Kuang a,b, Chaoyang Chen b,⇑
a Faculty of Data Science, City University of Macau, Macau, Macau, China
b School of Information and Electrical Engineering, Hunan University of Science and Technology, Xiangtan 411201, Hunan, China



a r t i c l e  i n f o 

Article history:
Received 19 January 2023
Revised 23 February 2023
Accepted 27 February 2023
Available online 23 March 2023

Keywords:
Federal learning Smart city Privacy security
Formula encryption Edge computing
Asynchronous communication Differential privacy
a b s t r a c t 

To improve the data communication processing capability of smart city informatization construction and defend against malicious joint attacks of internal communication participants, we studied the use of function encryption, blockchain, differential privacy and other technologies to defend against weight dis- closure, participation in collusion attacks, single point failures and other issues in the federal learning process, and introduced edge computing and asynchronous communication in the classic federal learning framework, Improve the communication efficiency of the model while ensuring the accuracy. The research results show that the accuracy of FE-BDP algorithm can maintain above 95% for a long time, and the change is not significant with the increase of the number of users, indicating that the algorithm has strong stability. The loss value of FE-LDP model is significantly smaller than that of other models and can be stabilized below 0.05. The data aggregation time of blockchain encryption technology is less than 1.0s. The edge-asynchronous communication framework can be applied to multiple urban scenarios and achieve effective data communication, with the highest accuracy rate of 93.87%and the lowest commu- nication cost of 1315.29s. The research results show that the security encryption fusion technology can effectively protect user data privacy, and the edge-asynchronous communication framework has obvious effect on improving communication efficiency, which has important application value for promoting the construction of smart city informatization.
© 2023 THE AUTHORS. Published by Elsevier BV on behalf of Faculty of Computers and Artificial Intel-
ligence, Cairo University. This is an open access article under the CC BY-NC-ND license (http://creative-
commons.org/licenses/by-nc-nd/4.0/).





Introduction

With the growth of China’s population, the urban population also displays a trend of ceaseless growth, which leads to the increasingly difficult urbanization governance. In this context, the proposal of smart cities tenders ideas for urban governance. The fundamental idea of smart city is to use Internet technology to realize the digitalization of urban traffic, water, electricity and other data, so as to facilitate the daily life of urban residents and the unified management of the city [1,2]. A large number of per-

* Corresponding author.
E-mail address: cychen@hnust.edu.cn (C. Chen).
Peer review under responsibility of Faculty of Computers and Information, Cairo University.

sonal and enterprise data have been stored in Internet big data, and their data security has begun to attract the attention of the public. However, the traditional data encryption and communica- tion techniques are laborious to achieve the security management of large-dimension urban data, and the probability of data leak will still occur [3]. For this reason, research has advanced a Federated Learning (FL) framework, which solves the privacy preservation trouble by building a FL pattern, and can avoid customer informa- tion disclosure while making full use of multi-party data [4,5]. However, with the ceaseless expansion of the dimension of urban data, the encryption difficulty of urban data is also increasing, and the traditional FL has been laborious to achieve effective preserva- tion of customer data [6]. For this reason, the research has intro- duced a differential privacy preservation technology under the FL to further realize the encryption of smart city data. It has intro- duced the Block chain (BC) to address the trouble of urban privacy data leak caused by failures. Then, it uses the edge asynchronous framework to achieve effective data transmittal and ameliorate the productivity of data communication, so as to tender a theoret- ical cornerstone for the development of smart cities.


https://doi.org/10.1016/j.eij.2023.02.005
1110-8665/© 2023 THE AUTHORS. Published by Elsevier BV on behalf of Faculty of Computers and Artificial Intelligence, Cairo University. This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/4.0/).



Related works

The amount of data in modern information networks has shown an explosive growth trend, and the threat to subscribers’ privacy security has become increasingly prominent. In the era of global information explosion, the amount of information network data has also displayed an explosive growth trend, and the threat to subscribers’ privacy security has become increasingly prominent. To ameliorate the security of data interaction and sharing, many researchers have conducted research on privacy preservation and security encryption. Xi P and other scholars use BC based FL to achieve the safe reposition and sharing of medical data. Taking advantage of BC’s advantages in decentralization and attack pre- vention, they combine BC technology with the FL to establish a medical data sharing pattern, effectively improving the security and traceability in the process of medical data reposition and man- agement [7]. To address the trouble of data islands and security threats in the social Internet of Things, Yin L advances a hybrid pri- vacy preservation FL framework, which uses advanced formula encryption to securely encrypt the data and weights transmitted by customers, and introduces sparse differential gradient to ame- liorate the transmittal productivity of the FL framework. The research outcomes display that the hybrid privacy preservation pattern has high transmittal exactitude and productivity [8]. Ou W and his team members advanced a vertical FL framework based on homomorphic encryption and Bayesian machine learning to solve the contradiction between data sharing and privacy preser- vation. In the vertical FL framework, the local data of the customer will be encrypted before data sharing, which can advance the shar- ing of subscriber information and ameliorate the security of sub- scriber privacy. The research outcomes display that the exactitude rate of the pattern under the vertical FL is 90%, which can be widely used in many fields such as medical education [9]. Arachchige P C M and other scholars introduced the FL in the industrial IoT, combined the FL with machine learning, differential privacy and BC technology, and advanced a framework called Pri- ModChain to ameliorate the privacy, security and reliability of industrial IoT data [10]. Directing the troubles of data sharing and information security in the industrial Internet of Things, the Jia B team advanced a FL based on BC, which combines BC technol- ogy with the FL to achieve data security aggregation. In addition, Jia B team also combined differential privacy with homomorphic encryption and random forest algorithm to further defend the pri- vacy data in the data sharing pattern. A large number of experi- mental outcomes have proved that the aggregation scheme has good performance in the industrial Internet [11]. Yu R introduced mobile edge computing into the FL to optimize the resources of the FL and advance the efficient use of federal learning resources. Through the review of data compensation and hierarchical aggre- gation technology in FL, they advanced a neural perceptual resource management technology based on modular FL, which allocates global pattern subnets according to the resource status of mobile customers. The research outcomes display that the resource management pattern has high application flexibility and resource utilization [12]. Communication productivity is also a key trouble in the domain of data interaction and processing. Sun H advanced an optimization technique based on gradient sparsity for the communication productivity in the FL framework. Through gradient correction and local gradient and batch normalization, the gradient parameters are updated to reduce the impact of delay gra- dient on pattern calculation and reduce the communication over- head during pattern calculation, Advance better convergence of the pattern. The research carried out experimental verification on multiple datasets, indicating that the pattern has the highest exac- titude at 99.9% sparse gradient [13]. Duan M advances a self bal- anced FL framework for unbalanced distributed data. It solves the
trouble of data imbalance through data expansion and multi cus- tomer rescheduling, and uses adaptive data expansion and inter- mediaries to achieve global and local data equalization. The research outcomes display that the top-1 exactitude of the self bal- anced FL framework on the two datasets has been ameliorated by 4.39% and 6.51% respectively, and the communication productiv- ity has been ameliorated by 75% [14]. For wireless network data communication, Zhong R advances a FL framework based on mobile reconfigurable intelligent surface, which combines the mobility advantage of reconfigurable intelligent surface with the FL framework to advance the gain of pattern data rate. The research outcomes display that the data rate gain of the FL frame- work reaches 42%, which has good optimization performance and convergence productivity [15]. To address the troubles of radio resource utilization productivity and energy productivity, Kaur A and other scholars advanced a multi-agent reinforcement learning scheme, which uses decentralized cooperation to randomly form a dynamic team of multi-agent to ameliorate the overall resource allocation productivity. The research outcomes display that the multi-agent reinforcement learning scheme has a fast convergence velocity, and has a significant effect in improving the network capacity, which can ameliorate the service quality and energy uti- lization productivity of subscribers [16]. To sum up, the FL is a frequently-used instruments of data communication and process- ing, but the previous federal learning security preservation tech- nology still has privacy preservation loopholes, and data communication productivity and processing performance need to be ameliorated. Therefore, directing the security encryption and communication productivity under the FL, the research advances a security encryption fusion technology based on formula encryp- tion, BC and other means, and designs an edge asynchronous com- munication framework, hoping to tender technical help for massive data processing and privacy security preservation in the informatization construction of smart cities.


Research on data aggregation encryption under FL

Data aggregation weight hidden protection

In the context of smart city informatization construction, in order to improve the security and communication efficiency of data communication under the federal learning framework, we studied the use of function encryption and Bayesian Differential Privacy (FE-BDP) model to protect the data aggregation weight, The decentralized key security management is realized by using function encryption and local differential privacy (FE-LDP) model. Aiming at the server attack and single point of failure under the federated learning framework, the research further introduces the function encryption and blockchain (FE-BC) model to achieve data security aggregation. In order to reduce the com- munication overhead of the federated learning framework and improve the efficiency of data communication, an edge asyn- chronous efficient communication framework combining edge computing and asynchronous communication is proposed. The data encryption and communication efficiency improvement method under the federated learning framework is shown in Fig. 1.
When subscribers share and communicate data in the FL (FL) framework, they are vulnerable to inversion attacks, reconstruc- tion attacks and other privacy attacks, which seriously threaten subscribers’ personal data security [17]. Homomorphic encryption, differential privacy and other technologies are commonly used to deal with the trouble of subscriber privacy leak. Communication data is encrypted by introducing noise into the communication sig- nal [18,19]. However, common privacy preservation technologies




Fig. 1. Data encryption and communication efficiency improvement method under federated learning framework.


do not consider the security of subscribers’ data aggregation weight, and malicious intruders may steal subscribers’ native mes- sage by tampering with the weight. Therefore, to address the trou- ble of weight leak of data aggregation under the federated learning framework, we use Formula Encryption and Bayesian Differential Privacy (FE-BDP) technology to build a data aggregation weight security preservation pattern. The server cannot gain the weight parameters of other subscribers by using formulaal encryption, and introduces noise into the local pattern, and judges the privacy loss of the pattern by disturbing the distribution distance of the pattern, To ensure that the safety is ameliorated and the amount of noise introduced is reduced as much as possible, so as to avoid affecting the exactitude of the pattern due to excessive noise. The data aggregation weight security preservation pattern based on FE-BDP is displayed in Fig. 2.
Set the subscriber set as {C1; C2; ··· ; Cn} , there are n subscribers
in total, and each subscriber’s data set is {D1; D2; ··· ; Dn}. The key management party will generate and manage the key, and the sub- scriber’s pattern parameters are polymerized in the server, and the
pattern parameters are Wi. In the pattern training phase, formulaal encryption is used to encrypt the subscriber parameters. The sub-
scriber sends his weightyi to the key manager, who combines the weights to gain vector and divides it into y1  ···yn , thus generat- ing the formula decryption keysky1  ···yn . The key management party generates the major public-key mpki and the major secret-key mski
, sends the encryption and decryption keys to the subscriber and the server, gains the subscriber’s keys mpki and mski in combina-
tion with the subscriber tagi, synthesizes pki := mpk'; mski  as
the subscriber’s public-key, uses pki to encrypt the pattern param- eters, and sends the ciphertext c tout to the server. The server decrypts the ciphertext to get [ai]T , and the weight aggregation pat-
tern of all subscribers is the discrete logarithm of [ai]T . In the pat-
tern prediction phase, Bayesian differential privacy is used to calculate the privacy loss in FL iterations. Suppose that the privacy loss in each iteration is ct(k), the data distribution is, and the expected value is E ekDk+1 (pi |qi ) . The privacy loss calculation formula is displayed in Eq. (1).




Fig. 2. Data aggregation weight security preservation pattern.


Xk+1  k + 1  k


k 1 k k2 —k|g —g |2

to avoid the trouble of conspiring to steal subscriber information.

ct(k)=  log Ex *

k=0
q * (1 — q) + — e 2r2  i  i
k
(1)
The LDP based on Gaussian noise is used to train the subscriber’s local pattern, so that subscribers can determine the PB and noise

In Eq. (1), q is the probability of data sampling, gt is the non pri- vate output of the t iteration with parameter x and without param- eter x, r is the noise parameter in the sub sampled Gaussian noise
parameters in the light of their privacy needs. The calculation for- mula of privacy loss c o; M; aux; d; d' is displayed in Eq. (3).

mechanism, k is the quantity of experiments, and k is the quantity of experiments. Set privacy budget (PB) for privacy loss, and the
c o; M; aux; d; d' =D log pr[M(aux; d)= 0]
(3)

budget conditions for privacy loss are displayed in Eq. (2).
log d 6 Xct(k)— ke	(2)
In Eq. (3), d; d' is adjacent data sets, M is the random algorithm in LDP, o is the output of the random algorithm, and aux is the aux-
iliary  input.  All  steps  of  privacy  loss  are  the  logarithm

t=1
aM k; aux; d; d' of the moment generating formula, and the defini-

FL requires multiple iterations of training, but the subscriber’s parameters do not change much in adjacent iterations, so the sub-
scriber will repeatedly send repeated parameters to the server in
tion is displayed in Eq. (4).
aM(k)=D	maxa M k; aux; d; d' Eo M axx d * exp kc o; M; aux; d; d' 

iterations, outcomeing in reduced training productivity of FL [20]. Therefore, the research adjusts the random gradient descent algo-
aux;d;d
~ (  ; )

(4)

rithm in traditional FL to a sparse differential gradient. After the first upload of gradient parameters, only the increment of param- eters is transmitted to the server, and the threshold value of parameter increment is set. Parameters whose increment is lower than the threshold value will not be uploaded, so as to reduce the communication and encryption costs of parameter transmittal.

Decentralized key security management

To avoid the situation that the key manager and the server con- spire to steal the subscriber’s privacy information, the research advances an excitation mechanism based on local differential pri- vacy (LDP) based on the concept of decentralization, and encrypts the subscriber’s key formula, so that other agents cannot gain the subscriber’s key. The decentralized key security management pat- tern based on formula encryption and local differential privacy (FE-LDP) is displayed in Fig. 3. The subscriber generates personal encryption-key eki by combining the major public-key and native message, encrypts the local pattern to gain encryption pattern [ci]1, and interacts with each other to gain parameters Ti and nTi = 0. The subscriber generates personal secret-key ski by combining the encryption-key and Ti. The subscriber uploads a partial decryption key and an encrypted local pattern to the server. The partial decryp-
tion key dky¯;i is generated by combining the secret-key ski and the
weight y¯ in the interior product formula. The server combines the partial decryption keys of all subscribers to gain the formulaal decryption key dky¯, uses dky¯ to achieve information security aggre- gation without decrypting the subscriber pattern, and does not rely on the key management party to generate and manage the key, so as
The  maximum  value  of  aM k; aux; d; d'  is  maxaux d daM k; aux; d; d' . For any ke, e > 0, the threshold value of privacy loss is displayed in Eq. (5).
d = min exp (aM(k)— ke)	(5)
k
When the loss of privacy exceeds the threshold, it means that the risk of privacy leak is high and the training needs to be stopped immediately. LDP allows subscribers to decide PB independently, but subscribers usually choose a high PB, which reduces the exac- titude of the pattern [21]. Therefore, the study introduces an exci- tation mechanism. If the lower limit of subscriber privacy preservation acceptance is pri, then the subscriber privacy preser- vation meets conditionpri(eps; sigma) P pri, where eps is the PB and sigma is the noise parameter. The server sends the public test data set and initial pattern to the subscriber in the iteration pro- cess. The subscriber upload the local pattern rate as a competitive tender to the server. The server will incorporate the subscribers with high exactitude into the federal learning and reward them. Under the excitation mechanism, subscribers and servers will try their best to pursue the balance between exactitude and privacy preservation, so as to find appropriate preservation strategies.

Data aggregation based on BC

In the FL framework, the server is an important node for sub- scriber data aggregation, but the server is vulnerable to attacks and single point of failure [22,23]. Therefore, the research introduces BC technology into classical FL, and uses the internal




Fig. 3. Decentralized key security management pattern.



consensus mechanism to realize the decentralization of FL data aggregation, so that all participants can track the training progress in real time. In addition, the pattern parameters are encrypted in combination with data encryption to prevent the trouble that the plaintext pattern may cause privacy disclosure during the collabora- tive training process, and ensure that the BC subject cannot gain the pattern information of other subscribers. The data security aggrega- tion pattern based on formula encryption and block chain (FE-BC) is displayed in Fig. 4. Subscribers use personal keys to encrypt data xi and transmit ciphertext Enc(xi) to the BC for data sharing, while ciphertext information can only be gained using decryption keys. After the introduction of BC, the traditional federal learning and training has been changed into a cooperative training mode, and each participant has become a computing node in the BC network. Before the collaborative training starts, the initial node will first cre- ate a Genesis block, write the initial pattern trained by the public training dataset into the Genesis block, and broadcast it to the entire network node. The local equipment uploads the training data to the computing node, and write it to the candidate block after verifica- tion. Each computing node will win the qualification of new blocks through election, and then broadcast candidate blocks in the net- work. When the candidate blocks are recognized by other comput- ing nodes, they will be created as new blocks. The subscriber transmits the trained and encrypted local pattern to the accounting

tion chain will synchronize the new block to each computing node through the point-to-point network. When the local pattern block meets the conditions of the smart contract, the endorsement node of the alliance chain will aggregate the patterns. After reaching a consensus, the polymerized global pattern will be sent to the sorting node for updating, and the quantity of iterations of the network will
be updated, so that the local pattern under the original number of
customers and cloud centrum servers is large, resulting in a remarkable reduction in the overall communication productivity of the FL framework [24]. To ameliorate the communication pro- ductivity of the FL framework, edge computing and asyn- chronous communication mode are introduced on the cornerstone of the classic FL communication structure, and bor- der servers are added between the original cloud centrum server and the customer, so that the customers participating in the training do not need to directly connect with the cloud centrum server, but communicate with border servers that are close to each other according to the principle of proximity.In the commu- nication structure, the communication between the client and the edge server is synchronous. Considering the large communi- cation cost and delay between the edge server and the cloud center server, the communication mode between the edge server and the cloud center server is changed to asynchronous commu- nication, hoping to improve the communication efficiency of the communication structure. The edge asynchronous communica- tion framework is displayed in Fig. 5. The customer uses syn- chronous random gradient descent to select a data sample with batch size of B from the local dataset for training. The aver- age gradient calculation formula is displayed in Eq. (6).
wt = 1 X∇wt i	(6)


In Eq. (6), wt;i is the local gradient parameter. There is H client in total, and the border server will aggregate the gradient parameters transmitted by the customer and determine the average value of the gradient parameters. The average value calculation formula of the gradient parameters is displayed in Eq. (7).
H

w =  1 X∇wi



(7)

Edge asynchronous efficient communication framework design

Frame structure design with edge computing

In the training process, the communication overhead between customers  under  the  classic  FL  framework  and  between
In Eq. (7), wi is the customer transmittal gradient parameter. The border server sends the polymerized gradient parameters to the customer participating in the training, and the customer updates the local pattern parameters. The update formula is dis- played in Eq. (8).
xt+1 = xt — gtw	(8)




Fig. 4. Data security aggregation pattern based on BC.




Fig. 5. Edge asynchronous communication framework.


In Eq. (8), gt is the learning rate of the t round of training, xt+1 is the updated pattern parameters, and xt is the last round of pattern parameters. The information transmittal between the customer and the border server is realized by synchronous communication.
The border server will set a threshold value for the quantity of cus- tomers that upload parameters. If the quantity of customers par- takeing in training and parameter upload exceeds the threshold value, the border server will not receive parameter transmittal from other customers and directly conduct aggregation operations to avoid gaining gradient parameters with gradient delay transmit- ted by other customers, It affects the outcomes of aggregation operations. After the aggregation operation is completed, the bor- der server will broadcast the polymerized parameters to all cus- tomers, informing them that the iterative training has ended.
Setting the native training set of Hcustomers participating in the training as Dh . The loss outcome gained by using the pattern param- eters to predict the sample data is expressed as f i (w) = L(xi; yi ; w) .
Then the loss calculation formula is displayed in Eq. (9).
minf (w)= 1 Xf (w)	(9)


In Eq. (9), s is the data volume of the training data set, and w ∈ Rd is the d pattern parameters. Let Ph be the data point index set of the h customer, and the quantity of data points of the h cus-
tomer is nh = |Ph| . The loss formula is displayed in Eq. (10).
f (w)= X nh ·  1 Xf (w)	(10)

The cloud centrum server sends the initialized pattern parame- ters to the border server, and the border server transmits them to the customer. The customer receiving the initialization parameters can participate in the training. The learning objective formula of the customer is displayed in Eq. (11).
arg min L(X; Y; h)=  ahLh(X; Y; h)	(11)
h
In Eq. (11), ah is the weight of the gradient parameter gained by the customer in the aggregation operation.


ASGD based asynchronous communication

Cloud centrum servers and border servers often have large com- munication overhead and delay in the communication process, and different border servers have large differences in the quantity of customers and computing resources, which makes the iteration time of different border servers in the training process different [25]. If the cloud centrum server and the border server use syn- chronous communication, although the trouble of gradient param- eter delay is solved, the communication and computing productivity of the cloud centrum server will be limited by the bor- der server with the longest drill time. Before the border server with the longest drill time finishes uploading the parameters, the cloud centrum server will always be in a state of waiting for the param- eters, resulting in a large amount of waste of computing resources. When the cloud centrum server gains all the parameters uploaded

and send the updated global pattern to the border server. However, when synchronous communication is used, there is a delay gradi- ent between the cloud centrum server and the border server, and the update of the global pattern parameters of the cloud centrum server may be affected by the upload parameters with a degree of delay [26]. Therefore, the asynchronous communication mode is further introduced into the communication framework with the border server, and the communication mode between the cloud centrum server and the border server is changed to the asyn- chronous communication mode to ameliorate the convergence and communication productivity of the pattern. In addition, gradient delay compensation is introduced to ensure that the gradient delay is controlled within a small range by means of delay compensation, and set a limit for gradient delay to address the trouble of delay degree that may be caused by asynchronous communication. In the  asynchronous  communication  mode,  after  receiving  the



gradient parameters transmitted by any border server, the cloud centrum server can directly update the global pattern without waiting for the gradient parameters of all border servers to avoid the cloud centrum server being empty. The research combines ASGD (Asynchronous Stochastic Gradient Descent) and gradient delay compensation. On the cornerstone of traditional ASGD, local gradient delay is compensated, instead of directly introducing local gradient into the global pattern, to further ameliorate the exacti- tude of the pattern. The gradient function is used to compensate the local gradient delay, the Taylor expansion of gradient formula g(wt+s) is displayed in Eq. (12).
g(wt+s) =  g(wt) + ∇g(wt )(wt+s — wt)
Effect analysis of data encryption and communication efficiency improvement methods

Data security aggregation effect verification

To evaluate the effectiveness of the research method, the feasi- bility of the model was tested and analyzed through experiments. TensorFlow was used for system development. The server configu- ration included Linux Centos 7 operating system and Hygon-C86- 7159 processor. In the experiment, first analyze the accuracy of FE-BDP training, set the noise parameter sigma to 0.5, set the pri- vacy budget eps to 8, and set the number of experimental users to
200, 800, and 1600 respectively. The user data are all from the

+O (wt+s
— wt)2 In
(12)
MINST data set. The research compares the FE-BDP model with the function encryption model without differential privacy to ana-

In Eq. (12), ∇g is the matrix with element gij , andi ∈ [n]; j ∈ [n],
In is a n -dimensional vector, in which all elements are 1.
(wt+s — wt)2 As displayed in Eq. (13).
lyze the accuracy of the model with or without differential privacy. The comparison results are shown in Fig. 6.
In Fig. 6, the pattern exactitude is compared for 200, 800 and 1600 subscribers. Fig. 6 (a) displays the exactitude change when

(wt+s
— wt)2 =
(wt+s;1 — wt;1
·· · (wt	— w
)al
)an
(13)
the quantity of subscribers is 200. When the budget consumption percentage reaches 20%, the exactitude of FE-BDP rises to more

+s;n
t;n
than 90%. However, the exactitude of the pattern without differen-

The asynchronous random gradient descent with gradient delay compensation is displayed in Eq. (14).
wt+s+1 =  wt+s — g(g(wt)) + g * ug(wt)
tial privacy only rose to 80% after the budget consumption per- centage reached 60%. Fig. 6 (b) and Fig. 6 (c) display the difference of pattern exactitude when the quantity of subscribers
is 800 and 1600 respectively. The exactitude of FE-BDP is still sig-

*g(w ) * (w
(14)
— w )
nificantly higher than that of the pattern without differential pri-

t	t+s	t

In  Eq.  (14),  *  is  the  element  by  element  product,
g(wt) * g(wt) * (wt+s — wt) is the delay compensation gradient,
vacy. And in Fig. 6 (b) and Fig. 6 (c), the exactitude of FE-BDP can rise to more than 90%, while the exactitude of the pattern without
differential privacy is always below 80%. However, it can be found

and uis the variance control parameter.


Fig. 6. Analysis of exactitude difference with and without differential privacy.



that with the build-up of the quantity of subscribers, the budget consumption percentage of FE-BDP to achieve the maximum exac- titude is growing. To further evaluate the accuracy of FE-BDP, the accuracy differences between different differential privacy models are studied and compared. The FE-BDP is compared with the clas- sic FL-DP model and the location-based service query of differen- tial privacy (DP-LQ) model. The evaluation results are shown in Fig. 7.
Fig. 7 (a) displays the comparison outcomes of exactitude when the quantity of subscribers is 200. The exactitude of FE-BDP is sig- nificantly higher than that of other patterns, and its exactitude rate reaches more than 95%. Although the exactitude rate of the other two patterns can reach more than 95%, it is still lower than that of FE-BDP. Fig. 7 (b) and Fig. 7(c) display the comparison outcomes of pattern exactitude when the quantity of subscribers is 800 and 1600. The exactitude of FE-BDP is always higher than the other two patterns based on different number of subscribers. With the increasing number of subscribers, the exactitude of the pattern is decreasing. The above outcomes display that FE-BDP has a high exactitude rate. Although it will decrease with the build-up of the quantity of subscribers, it can still keep the exactitude rate above 90% for a long time.
FE-LDP is proposed in the study to avoid collusion and theft of user privacy information. In order to evaluate the performance of this method, loss value analysis is used to evaluate and compare FE-LDP with classic FL-DP model, DP-LQ model and FE-LDP model. The results are shown in Fig. 8.
Fig. 8 compares the difference of loss value changes between FE-LDP and other differential privacy. With the increasing number of iterations, the loss value of FE-LDP decreases ceaselessly, and finally decreases to below 0.05. It can be seen from the change of
loss value of each pattern that the classical FL-DP loss value dis- plays a growing trend, which means that under the current exper- imental environment, the performance of the traditional FL-DP pattern is poor. From the above outcomes, it can be found that compared with other patterns, FE-LDP has a smaller loss value, which means that FE-LDP has a smaller loss in subscriber privacy information encryption and can effectively implement information encryption.
A BC based aggregation technique is advanced to avoid the intrusion attack caused by a single point of server failure. At the


Fig. 8. Loss value evaluation of FE-LDP pattern.




Fig. 7. FE-BDP exactitude evaluation.



same time, to avoid the leak of subscriber privacy in collaboration, a FE-BC encryption pattern based on formula encryption is advanced. To analyze the application performance of FE-BC, the aggregation time of FE-BC in ceaseless iteration is studied and eval- uated, as displayed in Fig. 9.
Fig. 9 displays the difference between the pattern aggregation time and training under different subscriber numbers. The pattern aggregation time is always kept below 1.0s in the ceaseless itera- tive calculation process, indicating that the pattern aggregation cost is small. Comparing the training practice of the pattern, it can be found that the drill time of the pattern is more than 1.0s, which is higher than the aggregation time of the pattern, indicating that the aggregation ability of the pattern is better. Therefore, with the increasing number of subscribers, the aggregation time of FE- BC does not change significantly, and the overall operation is stable. The above outcomes display that FE-BC has a fast polymer- ization time and is relatively stable during operation.

Communication productivity improvement verification

An edge asynchronous efficient communication framework is advanced to ameliorate the data communication processing capa- bility. Therefore, to verify its communication performance, a com- munication productivity evaluation experiment is advanced. In the experiment, the experimental environment is first built, as dis- played in Table 1. Use the experimental environment in Table 1 to carry out the communication framework, compare the conver- gence between different communication frameworks, and evaluate the information processing capacity of each communication frame- work, as displayed in Fig. 10.
In Fig. 10, the convergence between heterogeneous patterns, edge patterns and edge asynchronous patterns is compared. Fig. 10 (a) displays the MSE change of heterogeneous patterns. It can be found that with the increasing number of iterations, the
Table 1
Software and hardware information.

Experimental environment	Edition


Operating system	Windows 10
Processor	Inter Core i5, 6200CPU, 2.4 GHz
ECS	Centos7.3
Operating language	Python 3.6




MSE value of heterogeneous patterns displays a decreasing trend, and gradually reduces to the minimum after 500 iterations. Fig. 10 (b) is the edge pattern. The MSE value of the edge pattern also displays a decreasing trend with the increasing number of iterations. Fig. 10 (c) displays the MSE value change of the edge asynchronous pattern. It can be found that with the increasing number of iterations, the MSE value of the edge asynchronous pat- tern decreases ceaselessly. The above outcomes display that the edge asynchronous efficient communication framework advanced in the study has good convergence, and it can achieve fast stability and avoid the increase of data error caused by communication fluc- tuations. Finally, in order to evaluate the communication efficiency of the edge-asynchronous efficient communication framework in practical application, the research took a city mall, parking lot, uni- versity and hospital as the research site, and carried out the actual test of the edge-asynchronous efficient communication frame- work, and compared with the decentralized framework and asyn- chronous gradient reduction framework. The analysis results are shown in Table 2.
In Table 2, in different scenarios, the exactitude of the edge asynchronous efficient communication framework advanced in the study is more than 90%, and the calculation loss rate is small. The maximum value appears in the hospital environment, which is 0.68%. The reason is that the communication loss rate of the hospital is higher than that of other scenarios due to the complex




Fig. 9. FE-BC time cost evaluation.




Fig. 10. Convergence Analysis of Edge Asynchronous Efficient Communication Framework.



Table 2
Comparative test of communication framework application.



environment of the hospital. Analyzing the communication over- head of the edge asynchronous efficient communication frame- work, we can find that in different scenarios, the time overhead is less than 1350s, and we can know that the communication over- head of the communication framework in different scenarios is not significantly different. The above outcomes display that the edge asynchronous efficient communication framework advanced in the study has a high exactitude and low loss rate, and can deal with different urban scenarios, while displaying consistent communica- tion overhead, which further displays that the edge asynchronous efficient communication framework has a high stability.


Conclusion

Smart city is the fundamental development direction of the cur- rent city, so it is crucial to ensure the data security in the develop- ment of smart city. To ameliorate the preservation of smart city
data, a data encryption technique under the FL is advanced. This technique uses formulaal encryption and differential privacy preservation technology to avoid customer data leak. At the same time, to ameliorate the development rate of smart city, an edge asynchronous framework is advanced to ameliorate communica- tion productivity. The pattern verification displays that the advanced FE-BDP encryption pattern has significantly ameliorated its exactitude after the introduction of differential privacy technol- ogy, and can maintain the exactitude of more than 90% for a long time. Compared with other encryption patterns, FE-BDP has a higher exactitude, which is more than 95%. In addition, the loss value of the FE-LDP pattern advanced in the study is significantly smaller than that of other patterns, and can be stabilized to below
0.05. At the same time, the aggregation time of the BC based data aggregation technique is less than 1.0s. Finally, evaluate the com- munication productivity improvement effect of the edge asyn- chronous framework. The outcomes display that the edge asynchronous framework has significantly better convergence,



and its communication overhead can be reduced to 1315.29s at the lowest. The above outcomes display that under the FL, the intro- duction of formulaal encryption and differential privacy preserva- tion technology can effectively achieve data privacy preservation, and can ameliorate communication productivity with the edge asynchronous framework. However, the study did not consider the city data that is growing with time. Therefore, in the subse- quent study, we will advance a constantly updated data encryption and communication productivity improvement technique based on the change of city data dimension.

CRediT authorship contribution statement

Zhen Kuang: Conceptualization, Methodology, Software, Visu- alization, Formal analysis, Data curation, Writing – original draft, Investigation. Chaoyang Chen: Supervision, Software, Validation, Writing – review & editing, Project administration, Funding acquisition.

Declaration of Competing Interest

The authors declare that they have no known competing finan- cial interests or personal relationships that could have appeared to influence the work reported in this paper.

Acknowledgement

This work was supported by the National Key Rand&D Program of China for International S&T Cooperation Projects (2019YFE0118700), National Natural Science Foundation of China (62222306, 61973110), Hunan Young Talents Science and Technol- ogy Innovation Project (2020RC3048), Natural Science Found for Distinguished Young Scholars of Hunan Province (2021JJ10030), the Foundation of State Key Laboratory of Digital Manufacturing Equipment and Technology DMETKF2022023.

References

Nica E. Urban big data analytics and sustainable governance networks in integrated smart city planning and management. Geopolitics History Int Rel 2021;13(2):93–106.
Yang Z, Chen M, Saad W, et al. Energy efficient federated learning over wireless communication networks[j]. IEEE Trans Wireless Commun 2020;20 (3):1935–49.
Dinh CT, Tran NH, Nguyen MNH, et al. Federated learning over wireless networks: Convergence analysis and resource allocation. IEEE/ACM Trans Networking 2020;29(1):398–409.
Yu S, Chen X, Zhou Z, et al. When deep reinforcement learning meets federated learning: Intelligent multitimedimension resource management for multiaccess edge computing in 5g ultradense network. IEEE Internet Things J 2020;8(4):2238–51.
Chen M, Yang Z, Saad W, et al. A joint learning and communications framework for federated learning over wireless networks. IEEE Trans Wireless Commun 2020;20(1):269–83.
Saracˇevic´ M, Adamovic´ S, Macˇek N, et al. Cryptographic keys exchange pattern for smart city applications. IET Intel Transport Syst 2020;14(11):1456–64.
Xi P, Zhang X, Wang L, et al. A review of block chain-based secure sharing of healthcare data. Appl Sci 2020;12(15):7912–23.
Yin L, Feng J, Xun H, et al. A privacy-preserving federated learning for multiparty data sharing in social iots. IEEE Trans Network Sci Eng 2021;8 (3):2706–18.
Ou W, Zeng J, Guo Z, et al. A homomorphic-encryption-based vertical federated learning scheme for rick management. Comput Sci Inf Syst 17(3), 1736–1746, 819–834.
Arachchige PCM, Bertok P, Khalil I, et al. A trustworthy privacy preserving framework for machine learning in industrial iot systems. IEEE Trans Industr Inf 2020;16(9):6092–102.
Jia B, Zhang X, Liu J, et al. Block chain-enabled federated learning data preservation aggregation scheme with differential privacy and homomorphic encryption in iiot. IEEE Trans Industr Inf 2021;18(6):4049–58.
Yu R, Li P. Toward resource-efficient federated learning in mobile edge computing. IEEE Network 2021;35(1):148–55.
Sun H, Li S, Yu FR, et al. Toward communication-efficient federated learning in the internet of things with edge computing. IEEE Internet Things J 2020;7 (11):11053–67.
Duan M, Liu D, Chen X, et al. Self-balancing federated learning with global imbalanced data in mobile systems. IEEE Trans Parallel Distrib Syst 2020;32 (1):59–71.
Zhong R, Liu X, Liu Y, et al. Mobile reconfigurable intelligent surfaces for noma networks: Federated learning approaches. IEEE Trans Wireless Commun 2022;21(11):10020–34.
Kaur A, Kumar K. Energy-efficient resource allocation in cognitive radio networks under cooperative multi-agent pattern-free reinforcement learning schemes. IEEE Trans Netw Serv Manage 2020;17(3):1337–48.
Nguyen DC, Ding M, Pham QV, et al. Federated learning meets block chain in edge computing: Opportunities and challenges. IEEE Internet Things J 2021;8 (16):12806–25.
Le THT, Tran NH, Tun YK, et al. An incentive mechanism for federated learning in wireless cellular networks: An auction approach. IEEE Trans Wireless Commun 2021;20(8):4874–87.
Lim WYB, Huang J, Xiong Z, et al. Towards federated learning in uav-enabled internet of vehicles: A multi-dimensional contract-matching approach. IEEE Trans Intell Transp Syst 2021;22(8):5140–54.
Lu Y, Huang X, Dai Y, et al. Differentially private asynchronous federated learning for mobile edge computing in urban informatics. IEEE Trans Industr Inf 2019;16(3):2134–43.
Khan LU, Pandey SR, Tran NH, et al. Federated learning for edge networks: resource optimization and incentive mechanism. IEEE Commun Mag 2021;58 (10):88–93.
Chen D, Hong CS, Wang L, et al. Matching-theory-based low-latency scheme for multitask federated learning in mec networks. IEEE Internet Things J 2021;8(14):11415–26.
Samarakoon S, Bennis M, Saad W, et al. Distributed federated learning for ultra-reliable low-latency vehicular communications. IEEE Trans Commun 2019;68(2):1146–59.
Jasim NA, TH H, Rikabi SAL. Design and implementation of smart city applications based on the internet of things. Int J Interactive Mobile Technol 2021;15(13):4–15.
Lu Y, Huang X, Zhang K, et al. Low-latency federated learning and block chain for edge association in digital twin empowered 6g networks. IEEE Trans Industr Inf 2020;17(7):5098–107.
Lim WYB, Luong NC, Hoang DT, et al. Federated learning in mobile edge networks: A comprehensive survey. IEEE Commun Surveys Tutor 2020;22 (3):2031–63.
