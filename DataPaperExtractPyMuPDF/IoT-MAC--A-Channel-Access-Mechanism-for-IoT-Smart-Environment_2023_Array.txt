Array 18 (2023) 100285
Available online 28 February 2023
2590-0056/© 2023 The Authors. Published by Elsevier Inc. This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).
Contents lists available at ScienceDirect
Array
journal homepage: www.elsevier.com/locate/array
IoT-MAC: A Channel Access Mechanism for IoT Smart Environment
Md. Arifuzzaman Mondal a,∗, Nurzaman Ahmed b,1, Md. Iftekhar Hussain a,1
a Department of Information Technology, North-Eastern Hill University, Shillong, 793022, India
b Dartmouth College, USA
A R T I C L E
I N F O
Keywords:
IoT
IEEE 802.11ah
Smart environment
MAC protocol
Restricted access window
A B S T R A C T
A large number of sensor and actuator devices are being deployed for sensing and automation in a smart
environment. While enabling communication for a large number of stations with RAW in IEEE 802.11ah,
the state-of-the-art solutions for channel access are deficient in dealing with both periodic uplink and event-
driven downlink actuation at the same time, as per the application’s criteria. In this paper, we propose
IoT-MAC, a downlink traffic-aware Medium Access Control (MAC) protocol for automation in smart spaces.
The proposed scheme uses new RAW frames to schedule downlink actuation traffic, considering the periodicity
and freshness of uplink traffic. IoT-MAC identifies the periodicity of uplink traffic and schedules a frame
without further contention. It then prioritizes critical downlink traffic without losing fresh uplink data. The
performance analysis of the proposed scheme shows significant improvement in terms of throughput, delay,
power consumption and packet loss for running different IoT applications.
1. Introduction
The evolution of Machine-to-Machine (M2M) communication al-
lowed machines to exchange instructions or information without the
need for human intervention. A massive number of devices can be
grouped together to form an M2M network by having an interconnected
link with the network that is deployed over a large area. It is expected
that M2M networks will be widely used in a range of smart space
applications [1], including those for the home, workplace, health-
care, smart city, industrial automation, smart parking, etc. A wireless
network technology for M2M communication is necessary for these
extensive IoT applications in order to manage the system efficiently and
effectively.
The IEEE 802.11ah standard (also called Wi-Fi HaLow) is expected
to be the solution for M2M communications in the future. Exciting
features of IEEE 802.11ah consist of: (i) transmission range of up to
1 km in outdoor areas, which is much longer than Wireless Personal
Area Network (WPAN), (ii) data rate of at least 100 kbps for IEEE
802.11ah, that is higher than Low-Power Wide Area Network (LPWAN),
and (iii) it can associate up to 8191 numbers of devices with an Access
Point (AP) [2]. Theoretically, the signal coverage range of an IEEE
802.11ah AP is up to 1 km. A hierarchical identifier structure, also
known as an Association Identifier (AID), is adopted to handle a huge
number of stations (STAs). By using these AIDs, all the stations of an
AP are detached into several segments, known as Traffic Indication Map
∗ Corresponding author.
E-mail address: arifphd18@gmail.com (M.A. Mondal).
1 Member IEEE.
(TIM) segments. Due to these features, IEEE 802.11ah has been widely
used for smart space implementation.
However, such applications require a massive volume of automation
based on context or commands, consequently involving both uplink and
downlink traffic. The gap between Wireless Personal Area Networks
(WPAN) and Low-Power Wide Area Networks (LPWAN) is filled by
IEEE 802.11ah, which compromises range and throughput. It offers
higher throughput compared to the existing LPWAN technologies and
also provides both range and throughput to WPAN technologies. There
are severe downlink traffic restrictions for LoRa and SigFox. Because of
this limitation, bidirectional communication (i.e., uplink and downlink
communication) becomes inconvenient. IEEE 802.11ah offers a simi-
lar data rate for both uplink and downlink traffic and fills the gap.
However, most of the proposed algorithms improve the performance
for only traditional Wireless Sensor Networks (WSN) monitoring traf-
fic. Most of the research [3–5] which are available for the standard
802.11ah focus on use cases with uplink traffic, and less concentration
has been given to the use cases with downlink traffic.
As shown in Fig. 1, IoT deploys a large number of sensor and
actuator nodes for providing the required services as controllers from
the cloud or the fog. Traffic in actuation, sensing, uplink, and downlink
is increased by the presence of various types of sensor nodes. Although
a few technologies, such as LoRa and SigFox [6] offer solutions, but the
uplink and downlink traffic issues still need to be resolved. Hence, we
need a solution for IEEE 802.11ah for traffic handling situations.
https://doi.org/10.1016/j.array.2023.100285
Received 2 January 2023; Received in revised form 18 February 2023; Accepted 26 February 2023
Array 18 (2023) 100285
2
M.A. Mondal et al.
Fig. 1. IEEE 802.11ah based network architecture for smart environment.
In this work, we propose a scheduling algorithm for uplink and
downlink traffic. The proposed scheme solves the issues of event-
driven downlink and homogeneous uplink traffic over an optimized
RAW frame subject to improved latency and throughput. The key
contributions of this work are as follows:
(1) We propose a RAW architecture for IoT networks having both
uplink and downlink traffic for monitoring and taking actions
for automation.
(2) A traffic prediction model is developed for homogeneous uplink
traffic in an IoT scenario where IoT nodes sense the environ-
ment and periodically send the information to the cloud server
through AP.
(3) A conflict resolution scheme is proposed for scheduling critical
downlink traffic over uplink traffic to improve reliability and
reduce latency in taking action.
The remaining paper is organized into four different sections. Some
related works of IEEE 802.11ah are discussed in Section 2. Section 3
explains the proposed model to optimize the RAW for bidirectional
traffic. Performance evaluation of our proposed scheme is presented in
Section 4. Finally, Section 5 concludes the paper.
2. Related works
In spite of its novelty, many provisions of IEEE 802.11ah have
been effectively concentrated in the literature. The improvement of the
802.11ah network’s performance has drawn the attention of various
research-oriented organizations. Many researchers have been made a
lot of work to enhance the RAW performance of the network. Some of
the existing research for the optimization of MAC layers is presented in
Table 1.
Table 1
Most of the available research focus on optimization of RAW for IEEE 802.11ah with
uplink traffic only.
References
Traffic types
Objectives
Simulation tools
This Article
UL/DL
Throughput, latency,
packet delivery ratio, and
energy consumption
ns-3
[7]
UL/DL
Throughput and power
consumption
Mathematical model
[8]
UL/DL
Throughput
ns-3
[9]
UL/DL
Throughput and energy
Unknown
[3]
UL
Energy and latency
Matlab
[4]
UL
Throughput
Analytical
[5]
UL
Energy
Matlab
[10]
DL
Latency
Unknown
[11]
UL
Hidden node mitigation
Matlab
[12]
UL
Throughput and energy
Analytical
[13]
DL
Hidden node mitigation
Matlab
[14]
UL
Hidden node mitigation
Unknown
[15]
UL
Throughput
Unknown
[16]
UL
Throughput
Analytical
RAW is one of the most popular MAC features to improve network
performance. Though RAW can be used to improve scalability for
large networks, its performance depends on network conditions. In
that matter, Delay and Energy-Aware RAW Formation (DEARF) scheme
is developed by [3] for supporting delay-sensitive devices. However,
they considered only uplink traffic. Regarding throughput optimization,
Nawaz et al. [4] proposed a method to choose RAW slot duration based
on the size of the group for increasing uplink throughput. For improv-
ing the system performance, the author of [7] proposed a mathematical
model for finding RAW parameters. Considering a novel retransmission
mechanism to improve the uplink energy efficiency, Wang et al. [5]
Array 18 (2023) 100285
3
M.A. Mondal et al.
Fig. 2. Bidirectional RAW frame structure for IEEE 802.11ah.
proposed an efficient window control algorithm that utilizes the next
empty slot for uplink retransmission. Badihi et al. [10] investigated
an actuation case and checked the performance of the network, tak-
ing power consumption and latency at the actuator side. The author
of [11] predicted a method consisting of a saturated network with
uplink traffic conditions, and all the stations are grouped based on
their geographical positions. Hazmi et al. [12] examined the network
performance considering RAW features in non-cross slot boundary use
cases for various schemes. Kureev et al. [9] considered the throughput
and energy efficiency of IEEE 802.11 ah considering a heterogeneous
network and a faultless mathematical model proposed for evaluating
energy consumption and average throughput of the network.
By assuming a saturated network with downlink traffic (having
transmission limited to each device once a RAW), Damayanti et al. [13]
proposed a RAW grouping method based on the carrier-sensitivity
table, which was constructed earlier, whereas the author of [14]
recognizes all the hidden nodes in the uplink transmission by non-
acknowledging Power-Saving-Poll (PS–Poll) transmissions. Predicting
the traffic condition of each station known by Access Point (AP), Chang
et al. [15] proposed a load-balancing device grouping RAW method.
A mathematical model was developed by [16], which is used to find
the time required for any station to transmit its frames in a RAW
slot, assuming that there are no hidden nodes and transmission errors
and AP transmits only acknowledgments (ACKs). Quality of service
(QoS)-aware priority grouping and RAW scheduling algorithm were
proposed by [8] for the real-time event-driven traffic. Event-driven
traffic was prioritized over periodic traffic and assigned stations to RAW
accordingly. The stations have a higher priority to get access at the
beginning of a RAW.
Various algorithms have been proposed for IEEE 802.11ah to im-
prove the performance of the network, which is shown in Table 1. The
state-of-the-art solutions on this standard focus on either uplink traffic
or downlink traffic. But, in the actual IoT network, which requires bidi-
rectional traffic support for the applications having high throughput,
frequent actuation use cases (i.e., control loops), etc. Therefore, we
can say that a channel access mechanism considering both uplink and
downlink traffic is needed for the better performance of the network.
3. The proposed scheme
In this work, we propose a RAW scheduling scheme for uplink
and downlink traffic, considering various network requirements in the
case of an IoT environment. The proposed solution uses – (i) up-
link/downlink prediction and (ii) RAW frame structure for better traffic
scheduling over the network. A hybrid MAC mechanism is proposed
with two different phases called the Contention phase and Reservation
phase to ensure that all the stations are properly assigned to respective
RAWs. The station in the contention phase can effectively inform the
AP about the presence of their buffered data. In the reservation phase,
stations successfully transmit their frames. As shown in Fig. 2, the
proposed RAW is a union of uplink RAW (UL–RAW) and downlink
RAW (DL–RAW). Again UL–RAW and DL–RAW are divided into two
parts, namely the Contention and Reservation phase. The STAs in the
transmission state send a frame (PS–Poll frame) by using Distributed
Co-ordination Function (DCF) in the contention phase (which is also
called PS–Poll phase). For a station, if the contention is successful, a
𝑠𝑙𝑜𝑡 ∈ [𝑆𝑙𝑜𝑡1, 𝑆𝑙𝑜𝑡2, 𝑆𝑙𝑜𝑡3, … , 𝑆𝑙𝑜𝑡𝑁]
is assigned on the reservation period based on traffic nature of STAs.
After receiving the PS–Poll frames from the stations, AP allocates a RAW
slot to only the stations which have successfully transmitted the PS–
Poll frames. The beacon frames containing the RAW parameter set are
transmitted to the stations. Our proposed protocol reduces contention
by permitting STAs to sleep based on their traffic nature. The pro-
posed protocol uses two algorithms for scheduling uplink and downlink
traffic. Algorithm 1 finds periodic stations and schedules them with
minimal contention. It also ensures fairness to the stations that failed
to transmit previously. In the case of downlink traffic, we propose
Algorithm 2 to reliably schedule a frame with a conflict resolution
method.
3.1. Slot duration
The number of slots contained in Uplink and Downlink RAW seg-
ments is 𝑁𝑆𝑈𝐿 and 𝑁𝑆𝐷𝐿 respectively. The length of each slot is equal
to the number of successful transmissions in addition to the time of
minimum contention window 𝐶𝑊𝑚𝑖𝑛, data rate 𝑟, and a guard time 𝑡𝑔,
equal to 𝐿𝑟𝑡𝑠
𝑟
+ 𝑡𝐷𝐼𝐹𝑆 in the Uplink case and 𝐿𝑃𝑆–𝑃𝑜𝑙𝑙
𝑟
+ 𝑡𝐷𝐼𝐹𝑆 in the
Downlink case. This guard time allows the network to detect up to one
collision in each slot without reducing the number of packets able to
be transmitted.
The characteristics of the Downlink (DL) and Uplink (UL) cases are
given below:
(1) 𝐷𝑜𝑤𝑛𝑙𝑖𝑛𝑘 ∶ If AP has some packets for an STA then the corre-
sponding TIM group will be added to the respective DTIM map and that
STA will be added to its corresponding TIM map. After receiving this
map, STA will be able to determine its 𝐷𝐿 slot. Then STAs contend
for the channel using Distributed Co-ordination Function, by sending a
PS–Poll frame to get the corresponding data.
(2) 𝑈𝑝𝑙𝑖𝑛𝑘 ∶ STAs that want to send data to AP must receive the
corresponding TIM beacon. After that, STA will randomly choose one
of the uplink slots and perform data transmission. Contention in the
uplink slots is also based on DCF.
3.2. Prediction of uplink and downlink traffic pattern
The IEEE 802.11ah network consists of a set of sensor nodes s which
is connected to an AP. All sensor nodes are divided into 𝛽 number
of groups. A network (i.e, sensor network) n is divided into different
groups 𝑔1, 𝑔2, 𝑔3, 𝑔4, … , 𝑔𝛽 𝜖 n. A slot is assigned in each RAW group,
and RAW duration (𝑡𝑟𝑎𝑤 =
𝑡𝑏
𝛽 ; where 𝑡𝑏 represents beacon interval).
Initially, all the STAs are connected with the AP, which divides them
into several groups based on their traffic characteristics. The AP cumu-
lative the information received from the frames and identified the STAs
traffic nature, and arranged them in respective RAW groups. The RAW
grouping procedure is accomplished based on their packet arrival time.
Array 18 (2023) 100285
4
M.A. Mondal et al.
Fig. 3. Illustration of the proposed bidirectional transmission procedures in IEEE 802.11ah.
The AP calculates the packet interval (i) of each incoming packet of a
node and grouping the STAs in RAW by observing the initial 𝛾 number
of packets received at a specific time interval. The i value at any time
𝑡𝑖 from the same type of traffic can be calculated in [17] as
𝑖 =
(𝑡𝑝𝑎2 − 𝑡𝑝𝑎1) + (𝑡𝑝𝑏2 − 𝑡𝑝𝑏1) + ⋯ + (𝑡𝑝𝑚2 − 𝑡𝑝𝑚1)
𝛾
(1)
where 𝑡𝑝 holds the time duration of a packet 𝑝 calculated by an AP
node and (𝑎1, 𝑎2), (𝑏1, 𝑏2), … , (𝑚1, 𝑚2) are sequentially received packets
from the stations 𝐴1, 𝐴2, ..., 𝐴𝑚 respectively. Stations are categorized
depending on the i value. These method helps to perceive the traffic
nature of the network. All the homogeneous traffic is assumed to be
periodic, and event-driven traffic is assumed to be critical. The stations
having downlink traffic are given preference without losing sufficient
information for making decisions.
Algorithm 1 Uplink traffic scheduling and smart environment activity
Initialize:
𝐼 ← periodicity of flows, 𝐹𝑢 ← uplink frames, i/j=1, 2, 3...
1: for Uplink frames 𝐹𝑢 do
2:
𝐼𝑖= calculate periodicity of flow 𝑖 as in Eq. (1)
3:
for 𝑠𝑙𝑜𝑡𝑠 ∈ RAW do
4:
if 𝐹𝑢𝑖 at AP then
5:
Schedule next frame without further contention
6:
Schedule 𝐹𝑢𝑖 in 𝑠𝑙𝑜𝑡 after interval 𝐼
7:
if 𝐹𝑢𝑖 and 𝐹𝑢𝑗 in same 𝑠𝑙𝑜𝑡 then
8:
Schedule 𝐹 with highest failure count
9:
else
10:
Wait for next frame
11:
end if
12:
end if
13:
end for
14: end for
Algorithm 1 presents the uplink scheduling of traffic. After iden-
tifying the periodicity for uplink frames from a station, AP allocates
dedicated slots for future transmission. The AP creates a list of slots for
all such types of stations in the network. Our scheme allows uplink and
downlink transmission at the same time. Fig. 3 shows the illustration of
the proposed bidirectional transmission procedures in IEEE 802.11ah.
This scheme allows all the uplink transmission in the UL-RAW slots,
but when the collision occurs between any two uplink transmissions,
AP immediately checks the failure count and accordingly schedules in
the next slot for the node which has a higher failure count (FC). It is
shown in Fig. 3 that the station having FC = 𝑞 and 𝑞 > 𝑝 is scheduled
to transmit in the next RAW frame as it has a higher failure count
value. The proposed scheme has given priority to the critical downlink
traffic, which is event-driven in nature over uplink traffic. For any
collision between uplink traffic and downlink traffic, AP will check the
maximum tolerable consecutive miss (say 𝑚) and failure count (say 𝑛).
If 𝑚 >= 𝑛 (in this case), then AP will schedule downlink traffic in the
next RAW frame.
In many cases of a smart environment use case, the cloud/fog
sends commands or actuation based on the content of fresh data after
comparing with a threshold value. Then the AP receives a downlink
command from the cloud/fog node, which needs to schedule immedi-
ately to take action. However, there might be a conflict, so there is
a collision between uplink and downlink traffic in normal RAW. We
solve this issue by immediately checking tolerable consecutive misses
and failure counts (as shown in Fig. 3). Our scheme clearly depicts
both the transmission without mistreating each other. We calculated
a maximum tolerable consecutive miss factor 𝑥𝑚, based on fresh data,
where a decision required 𝑚 number of fresh data. Our scheme solves
the conflicting problem occurring at the same time by giving the pref-
erences to downlink traffic based on some criteria, which is explained
in Algorithm 2. If there is any downlink command/alert to the same
station with the 𝑥𝑚 value, it is considered an invalid frame.
Our protocol uses a two-phase priority scheduling scheme, when-
ever there are downlink frames (command/alert), based on the appli-
cation traffic’s priority. First, it uses a priority queue scheduling scheme
to keep the most critical or least deadline frames to process. Second, it
uses a dedicated downlink RAW scheduling scheme. A deadline-aware
downlink packet scheduling is proposed without or less affecting uplink
transmission.
3.3. Analytical model
Assume a fixed 𝑛 number of contending stations are there in the
network. In saturated conditions, each station has a packet available
for transmission immediately, after the completion of each successful
transmission. Let 𝑠(𝑡) be the stochastic process representing the backoff
stage of the station at time 𝑡 and 𝑏(𝑡) be the stochastic process rep-
resenting the backoff time counter for a given station. Let 𝑚 be the
‘‘maximum backoff stage’’ value such that 𝐶𝑊𝑚𝑎𝑥 = 2𝑚𝑊 , and let us
adopt the notation 𝑊 𝑖 = 2𝑖𝑊 where 𝑖 ∈ (0, 𝑚) is called ‘‘backoff
Array 18 (2023) 100285
5
M.A. Mondal et al.
Algorithm 2 Conflict resolution scheme for downlink traffic
Initialize:
𝑥𝑚= maximum tolerable consecutive miss, 𝑡𝑥 ←transmission, 𝐹𝑑 ←
downlink frames, i/j=1, 2, 3...
1: for downlink frames 𝐹𝑑 do
2:
Schedule 𝐹𝑑𝑖 in first come first service
3:
for 𝑠𝑙𝑜𝑡𝑠 ∈ RAW do
4:
if station has a uplink frame 𝑓 at 𝑠𝑙𝑜𝑡𝑗 then
5:
Find 𝑥: previous consecutive up-link tx failure count
6:
if 𝑥 ≤ 𝑥𝑚 then
7:
Reject 𝑓 and Schedule 𝐹𝑑𝑖
8:
else
9:
Schedule 𝐹𝑑𝑖
10:
end if
11:
else
12:
Schedule 𝐹𝑑𝑖
13:
end if
14:
end for
15: end for
stage’’. However, for convenience 𝑊 = 𝐶𝑊𝑚𝑖𝑛. At each transmission
attempt, and regardless of the number of retransmissions suffered, each
packet collides with constant and independent probability 𝑝, 𝑝 will be
referred to as conditional collision probability, meaning that this is the
probability of a collision seen by a packet being transmitted on the
channel. The bi-dimensional process 𝑠(𝑡), 𝑏(𝑡) is a discrete-time Markov
Chain model.
Now, we can express the probability 𝜏 that a station transmits in a
randomly chosen slot time. When the backoff time counter is equal to
zero, and any transmission occurs regardless of the backoff stage, it is
given [18] as:
𝜏 =
2(1 − 2𝑝)
(1 − 2𝑝)(𝑊 + 1) + 𝑝𝑊 (1 − (2𝑝)𝑚)
(2)
When m = 0, that is no exponential backoff is considered, the
probability 𝜏 results to be independent of p, and Eq. (2) becomes:
𝜏 =
2
(𝑊 + 1)
(3)
However, 𝜏 depends on the conditional probability 𝑝. The probabil-
ity 𝑝 that a transmitted packet encounters a collision is the probability
that, in a time slot, at least one of the (n–1) remaining stations transmit.
At a steady state, each remaining station transmits a packet with
probability 𝜏, which provides:
𝑝 = 1 − (1 − 𝜏)𝑛−1
(4)
Let the normalized throughput (𝑇 ℎ𝑟) be defined as the fraction of
time for the channel used to transmit payload bits successfully. Let
the probability 𝑃𝑡𝑟 be present at least once in the transmission of the
considered slot time. If stations (say 𝑛) contend on the channel having
transmission probability 𝜏 for each of the stations is given by:
𝑃𝑡𝑟 = 1 − (1 − 𝜏)𝑛
(5)
Let 𝑃𝑇 ℎ𝑟 be the probability for a successful transmission in a slot on
the channel, which can be determined as:
𝑃𝑇 ℎ𝑟 = 𝑛𝜏(1 − 𝜏)𝑛−1
𝑃𝑡𝑟
= 𝑛𝜏(1 − 𝜏)𝑛−1
1 − (1 − 𝜏)𝑛
(6)
Now, we are able to express 𝑇 ℎ𝑟 as the ratio of:
𝑇 ℎ𝑟 = 𝐸[payload information transmitted in a slot time]
𝐸[length of a slot time]
(7)
𝐸[𝑃 ] is the average packet payload size that is the average amount
of payload information successfully transmitted in a slot time is
Table 2
Various modulation and coding scheme for 2 MHz channel.
MCS
Modulation
Coding rate
Bits per OFDM symbol
Data rate (Mbps)
MCS 0
BPSK
1/2
52
.65
MCS 1
QPSK
1/2
104
1.30
MCS 2
QPSK
3/4
104
1.95
MCS 3
16 QAM
1/2
208
2.60
MCS 4
16 QAM
3/4
208
3.90
MCS 5
64 QAM
2/3
312
5.20
MCS 6
64 QAM
3/4
312
5.85
MCS 7
64 QAM
5/6
312
6.50
MCS 8
256 QAM
3/4
416
7.80
𝑃𝑡𝑟𝑃𝑇 ℎ𝑟𝐸[𝑃], since a successful transmission occurs in a slot time with
probability 𝑃𝑡𝑟𝑃𝑇 ℎ𝑟. The average length of a slot time is readily obtained
considering that, with probability 1 − 𝑃𝑡𝑟, the slot time is empty;
with probability 𝑃𝑡𝑟𝑃𝑇 ℎ𝑟 it contains a successful transmission, and with
probability 𝑃𝑡𝑟(1−𝑃𝑇 ℎ𝑟) it contains a collision. Hence, Eq. (7) becomes:
𝑇 ℎ𝑟 =
𝑃𝑡𝑟𝑃𝑇 ℎ𝑟𝐸[𝑃 ]
(1 − 𝑃𝑡𝑟)𝜎 + 𝑃𝑡𝑟𝑃𝑇 ℎ𝑟𝑇𝑇 ℎ𝑟 + 𝑃𝑡𝑟(1 − 𝑃𝑇 ℎ𝑟)𝑇𝑐
(8)
Here, 𝜎 indicates an empty slot duration, and 𝑇𝑇 ℎ𝑟 is the average
duration.
Here, 𝑇𝑇 ℎ𝑟 is the average time the channel is sensed busy (i.e., the
slot time lasts) because of a successful transmission, and 𝑇𝑐 is the
average time the channel is sensed busy by each station during a
collision.
We have theoretically analyzed the performance considering MCS0
as the modulation and coding scheme, 2 MHz channel bandwidth, and
650 Kbps data rate settings (as shown in Table 3) in the proposed
protocol. The RTS/CTS access is not necessary for IoT use cases as
the payload size is relatively smaller (256 bytes) than the traditional
network frame sizes. [19].
3.3.1. Maximum throughput
The theoretical maximum throughput (𝑇 ℎ𝑟𝑚𝑎𝑥) of the proposed
protocol is defined as the maximum quantity of MAC layer Service Data
Units (MSDU) per unit of time. If we know the size of MSDU (𝐿𝑚𝑠𝑑𝑢)
and transmission (Tx) delay per MSDU (𝑇𝑚𝑠𝑑𝑢), then:
𝑇 ℎ𝑟𝑚𝑎𝑥 = 𝐿𝑚𝑠𝑑𝑢
𝑇𝑚𝑠𝑑𝑢
(9)
Where,
𝑇𝑚𝑠𝑑𝑢 = 𝑇𝑑𝑖𝑓𝑠 + 𝑇𝑏𝑜 + 𝑇𝑑𝑎𝑡𝑎 + 𝑇𝑠𝑖𝑓𝑠
+ 𝑇𝑎𝑐𝑘
Where, 𝑇𝑑𝑖𝑓𝑠 ← Tx delay per DIFS, 𝑇𝑏𝑜 ← Tx delay per backoff, 𝑇𝑑𝑎𝑡𝑎 ←
Tx delay per DATA, 𝑇𝑠𝑖𝑓𝑠 ← Tx delay per SIFS, and 𝑇𝑎𝑐𝑘 ← Tx delay per
ACK.
The duration of data and control frame can be calculated by the
equation mentioned in [19].
𝑇𝑑𝑎𝑡𝑎 = ⌈
8 × (𝐿𝑝𝑎𝑦𝑙𝑜𝑎𝑑 + 𝑀𝐴𝐶)
𝑅
𝑏𝑎𝑠𝑖𝑐_𝑑𝑎𝑡𝑎_𝑟𝑎𝑡𝑒 × 𝐿𝑏𝑎𝑠𝑖𝑐_𝑑𝑎𝑡𝑎𝑟𝑎𝑡𝑒_𝑠𝑦𝑚
⌉
× 𝑇𝑠𝑦𝑚 + 𝑃 𝐻𝑌
(10)
𝑇𝑐𝑜𝑛𝑡𝑟𝑜𝑙 = ⌈
8 × 𝐿𝑐𝑜𝑛𝑡𝑟𝑜𝑙
𝐿𝑏𝑎𝑠𝑖𝑐_𝑑𝑎𝑡𝑎𝑟𝑎𝑡𝑒_𝑠𝑦𝑚
⌉ × 𝑇𝑠𝑦𝑚 + 𝑃 𝐻𝑌
Where, 𝑅 is the rate of DATA packet based on the MCS available
and 𝐿𝑏𝑎𝑠𝑖𝑐_𝑑𝑎𝑡𝑎𝑟𝑎𝑡𝑒_𝑠𝑦𝑚 represents the number of OFDM symbols data bits
with constant duration (𝑇𝑠𝑦𝑚) to be transmitted. Various data rates are
mentioned in Table 2. From Eqs. (9) and (10), 𝑇 ℎ𝑟𝑚𝑎𝑥 = 311.33 Kbps
Array 18 (2023) 100285
6
M.A. Mondal et al.
3.3.2. Average delay
In IoT, the primary delay issue is channel access as a huge number
of devices try to contend for the channel. When many stations try to
contend for the channel choosing the same backoff slot, a collision
occurs. With the assumption of very low frame drop probability, the
average frame delay 𝐸𝑑 is calculated in [20,21] as-
𝐸𝑑 = 𝐸𝑥 × 𝐸𝑠𝑙𝑜𝑡_𝑠𝑖𝑧𝑒
(11)
where,
𝐸𝑥 =
𝑠−1
∑
𝑖=0
(𝑃𝑖 × 𝑊𝑖 + 1
2
) +
𝑃𝑠
1 − 𝑃 × 𝑊𝑠 + 1
2
(12)
𝐸𝑥 is the required time period for empty slots before transmitting a
frame successfully. 𝑃𝑖 is the probability that a STA transmits in stage 𝑖
of the backoff window (𝑊𝑖). Bianchi et al. [18] calculates the value of
𝑃 as-
𝑃 = 1 − (1 − 𝜏)𝑛−1
Again, 𝜏 (i.e., probability of an STA transmitting a packet) is de-
pendent on the number of STAs (𝑛) and duration of collision 𝑇𝑐, and
𝜏 =
1
𝑛
√
𝑇𝑐
2
. For 100 STAs in a group, 𝜏 ≈ 0.001. Also, as we have used
64 as the initial backoff window size, m = 6, from Eq. (11), for 100
STAs, 𝐸𝑑 = 0.6047 Sec.
3.3.3. Power consumption
Let 𝑡𝑡𝑥, 𝑡𝑟𝑥, 𝑡𝑖𝑑, and 𝑡𝑠𝑙 be the time duration of transmitting, receiving,
idle, and sleeping modes for the IEEE 802.11 ah transceiver within a
DTIM, respectively. Now, for an STA within a DTIM, the total energy
consumption (𝐸) can be determined by multiplying these time dura-
tions of a transceiver for each operation to their corresponding power
consumptions as [22]:
𝐸 = 𝑡𝑡𝑥𝑝𝑡𝑥 + 𝑡𝑟𝑥𝑝𝑟𝑥 + 𝑡𝑖𝑑𝑝𝑖𝑑 + 𝑡𝑠𝑙𝑝𝑠𝑙
where 𝑝𝑟𝑥, 𝑝𝑡𝑥, 𝑝𝑠𝑙, and 𝑝𝑖𝑑 are the power consumption chosen in Rx, Tx,
sleep, and Idle mode, respectively.
4. Performance evaluation
The performance of the proposed scheme is evaluated through sim-
ulations using [23]. The parameters which are used in the simulations
are presented in Table 3. We evaluate RAW performance in terms of
throughput, latency, energy consumption, and packet delivery ratio.
4.1. Performance metrics
• Throughput: We calculate the amount of data received by AP (for
uplink traffic) or STA (for downlink traffic) per second. We use
this metric to see how much uplink and downlink traffic data it
can support over time.
• Latency: We calculate the average uplink and downlink traffic
latency. We are mostly interested in the downlink latency during
an actuation.
• Packet delivery ratio: The ratio between the number of success-
fully sent frames and over 100 frames sent.
4.2. Benchmarks
The proposed scheme is compared with traditional 802.11ah, and
PTS–MAC [17] in terms of throughput, delay, energy consumption,
and packet delivery ratio. Compared to 802.11ah, PTS–MAC uses a
hybrid channel access mechanism to find the number of periodic uplink
stations and their periodicity. Later, as per their periodicity, a slot
is assigned without further contention. PTS–MAC shows better per-
formance in terms of uplink throughput, delay, and energy consump-
tion, as compared to traditional 802.11ah. The proposed MAC proto-
col (i.e., IoT–MAC) additionally considers downlink traffic scheduling,
along with periodic uplink traffic scheduling, while enabling a novel
conflict resolution method.
Table 3
Simulation parameters used in our study.
Parameters
Value
Data rate
650 Kbps
Bandwidth
2 MHz
Payload size
256 Bytes
Modulation and coding scheme
MCS 0
Traffic types
UDP
MAC header
Legacy
Radio propagation model
Outdoor (Macro) [24]
OFDM symbols time (𝑇𝑠𝑦𝑚)
40 μs
PHY header
6 × 𝑇𝑠𝑦𝑚
𝐶𝑊𝑚𝑖𝑛
15
𝐶𝑊𝑚𝑎𝑥
1023
Slot time
52 μs
Initial backoff window
64
Backoff time
(𝑊𝑚𝑖𝑛∕2) × Slot time
SIFS
16 μs
DIFS
SIFS+2 × Slot time
Simulation area
1000 m × 1000 m (Flat-grid)
Beacon interval
100 ms.
No. of nodes (Max.)
1000
RAW size
3 (Min.) and 15 (Max.)
RAW groups
2–5
RAW slot duration
3 ms.
Traffic Interval
1 Sec.
Fig. 4. Packet delivery ratio with considering 30% downlink traffic.
4.3. Simulation results
Our assumption is based on some smart environments like smart
homes, where there are continuous flows of uplink traffic from sensors
and downlink traffic generated from apps or based on human activity.
We created a scenario in ns-3 having multiple smart home devices,
then calculated the average number of downlink and uplink traffic
amount. We found that there are approximately 30% downlinks, and
the remaining are uplink traffic. Fig. 4 shows the packet delivery ratio
with an increasing number of uplink and downlink traffic flows. As a
single device is used to connect multiple sensors and actuation in smart
space, there can be multiple flows from the same device. The proposed
scheme shows better PDR as compared to the existing state-of-the-art
solutions. Our solution uses the periodicity of traffic to reserve a slot for
uplink transmission. At the same time, it ensures downlink transmission
using the proposed conflict resolution scheme, as discussed in Section 3.
We analyze the delay performance of the proposed scheme in the
same network scenarios. As our method reduces contention of up-
link transmission and ensures downlink transmission, the delay in our
method reduces significantly (can be seen in Fig. 5). For the same
reason, the throughput performance of the proposed scheme has been
increased too (refer Fig. 6).
We also analyze the performance of the proposed scheme consid-
ering only downlink traffic. Figs. 7 and 8 show the PDR and delay
for downlink traffic, respectively, compared with the PTS–MAC and
802.11ah. There is no specific measure to deal with the downlink traffic
Array 18 (2023) 100285
7
M.A. Mondal et al.
Fig. 5. Delay incurs with increasing number of streaming flows.
Fig. 6. Throughput analysis of streaming data flows.
Fig. 7. Packet delivery ratio considering downlink traffic.
in PTS–MAC and 802.11ah; they show almost similar performance.
However, due to the conflict-aware downlink scheduling in our scheme,
it shows better PDR and delay.
Fig. 9 shows energy consumption for our proposed scheme. As
our scheme uses conflict resolution for both uplink and downlink
traffic, the number of retransmissions has been reduced significantly.
Consequently, the energy consumption is also reduced in the case of
both types of traffic in an IoT environment. In PTS and traditional IEEE
802.11ah, downlink traffic is not considered explicitly for scheduling,
causing contention, which reduces the sleeping time of the nodes and
degrades the overall performance. Our proposed method solves this
issue and improves energy consumption.
5. Conclusion
This paper presented a RAW mechanism for an IEEE 802.11ah net-
work having uplink and downlink traffic (i.e., bidirectional traffic). The
proposed scheme considers challenges related to finding optimal RAW
size over event-driven downlink and periodic uplink traffic. Our scheme
can predict the traffic accurately and schedule appropriately with less
Fig. 8. Delay incurs with increasing number of streaming flows.
Fig. 9. Average energy consumption with the increasing number of streaming flows.
contention. Also, efficient downlink traffic is proposed without losing
the content of fresh data. It improves the performance of throughput,
latency, packet delivery ratio, and energy consumption to a great
extent as compared to the existing state-of-the-art. The experimental
analysis clearly depicts its importance for extensive and latency-aware
saturated networks. We consider various decisions for actuation in a
smart environment based on only fresh data; however, the growing
complex activities, which combine decisions based on historical data. In
the future, we plan to work on optimizing the RAW size by considering
historical data over heterogeneous application scenarios.
Ethical approval
This article does not contain any study with human participants or
animals performed by any of the authors.
CRediT authorship contribution statement
Md. Arifuzzaman Mondal: Conceptualization, Methodology, Soft-
ware, Analysis and interpretation of data, Writing – original draft, Edit-
ing. Nurzaman Ahmed: Conceptualization, Methodology, Validation,
Writing – reviewing. Md. Iftekhar Hussain: Supervision,Validation,
Conceptualization.
Declaration of competing interest
No author associated with this paper has disclosed any potential or
pertinent conflicts which may be perceived to have impending conflict
with this work.
Data availability
No data was used for the research described in the article.
Array 18 (2023) 100285
8
M.A. Mondal et al.
References
[1] Zhang Y, Yu R, Nekovee M, Liu Y, Xie S, Gjessing S. Cognitive machine-to-
machine communications: Visions and potentials for the smart grid. IEEE Netw
2012;26(3):6–13.
[2] Qiao L, Zheng Z, Cui W, Wang L. A survey on Wi-Fi HaLow technology for
Internet of Things. In: 2018 2nd IEEE conference on energy internet and energy
system integration. IEEE; 2018, p. 1–5.
[3] Charania NF, Giluka MK, Tamma BR, Franklin A. DEARF: Delay and energy
aware RAW formation scheme to support delay sensitive M2M traffic in IEEE
802.11 ah networks. 2017, arXiv preprint arXiv:1709.03723.
[4] Nawaz N, Hafeez M, Zaidi SAR, McLernon DC, Ghogho M. Throughput enhance-
ment of restricted access window for uniform grouping scheme in IEEE 802.11
ah. In: IEEE international conference on communications. IEEE; 2017, p. 1–7.
[5] Wang Y, Chai KK, Chen Y, Schormans J, Loo J. Energy-aware restricted access
window control with retransmission scheme for IEEE 802.11 ah (Wi-Fi HaLow)
based networks. In: 13th annual conference on wireless on-demand network
systems and services. IEEE; 2017, p. 69–76.
[6] Šljivo A, Kerkhove D, Tian L, Famaey J, Munteanu A, Moerman I, et al.
Performance evaluation of IEEE 802.11 ah networks with high-throughput
bidirectional traffic. Sensors 2018;18(2):325.
[7] Khorov E, Krotov A, Lyakhov A, Yusupov R, Condoluci M, Dohler M, et al.
Enabling the Internet of Things with Wi-Fi Halow—Performance evaluation of
the restricted access window. IEEE Access 2019;7:127402–15.
[8] Ahmed N, De D, Hussain MI. A QoS-aware MAC protocol for IEEE 802.11 ah-
based Internet of Things. In: 2018 fifteenth international conference on wireless
and optical communications networks. IEEE; 2018, p. 1–5.
[9] Kureev A, Bankov D, Khorov E, Lyakhov A. Improving efficiency of heteroge-
neous Wi-Fi networks with joint usage of TIM segmentation and restricted access
window. In: 2017 IEEE 28th annual international symposium on personal, indoor,
and mobile radio communications. IEEE; 2017, p. 1–5.
[10] Badihi B, Del Carpio LF, Amin P, Larmo A, Lopez M, Denteneer D. Performance
evaluation of IEEE 802.11 ah actuators. In: IEEE 83rd vehicular technology
conference. IEEE; 2016, p. 1–5.
[11] Dong M, Wu Z, Gao X, Zhao H. An efficient spatial group restricted access
window scheme for IEEE 802.11 ah networks. In: 2016 sixth international
conference on information science and technology. IEEE; 2016, p. 168–73.
[12] Hazmi A, Badihi B, Larmo A, Torsner J, Valkama M, et al. Performance
analysis of IoT-enabling IEEE 802.11 ah technology and its RAW mechanism
with non-cross slot boundary holding schemes. In: 2015 IEEE 16th international
symposium on a world of wireless, mobile and multimedia networks. IEEE; 2015,
p. 1–6.
[13] Damayanti
W,
Kim
S,
Yun
J-H.
Collision
chain
mitigation
and
hidden
device-aware grouping in large-scale IEEE 802.11 ah networks. Comput Netw
2016;108:296–306.
[14] Yoon S-G, Seo J-O, Bahk S. Regrouping algorithm to alleviate the hidden node
problem in 802.11 ah networks. Comput Netw 2016;105:22–32.
[15] Chang T-C, Lin C-H, Lin KC-J, Chen W-T. Load-balanced sensor grouping for IEEE
802.11 ah networks. In: 2015 IEEE global communications conference. IEEE;
2015, p. 1–6.
[16] Khorov E, Krotov A, Lyakhov A. Modelling machine type communication in IEEE
802.11 ah networks. In: 2015 IEEE international conference on communication
workshop . IEEE; 2015, p. 1149–54.
[17] Ahmed N, Hussain MI. Periodic traffic scheduling for IEEE 802.11 ah networks.
IEEE Commun Lett 2020;24(7):1510–3.
[18] Bianchi
G,
et
al.
Performance
analysis
of the
IEEE
802.
11
distributed
coordination function. IEEE J Sel Areas Commun 2000;18(3):535–47.
[19] Raeesi O, Pirskanen J, Hazmi A, Levanen T, Valkama M. Performance evaluation
of IEEE 802.11 ah and its restricted access window mechanism. In: IEEE
international conference on communications workshops. IEEE; 2014, p. 460–6.
[20] Chatzimisios P, Vitsas V, Boucouvalas AC. Throughput and delay analysis of
IEEE 802.11 protocol. In: Proceedings 3rd IEEE international workshop on
system-on-chip for real-time applications. IEEE; 2002, p. 168–74.
[21] Leon A, Cesar J. Evaluation of IEEE 802.11 ah Technology for Wireless Sensor
Network Applications [Master’s thesis], Tampere, Finland: Tampere University
of Technology; 2015.
[22] Fan Q, Fan J, Li J, Wang X. A multi-hop energy-efficient sleeping MAC
protocol based on TDMA scheduling for wireless mesh sensor networks. J Netw
2012;7(9):1355–61.
[23] What is NS-3. https://www.nsnam.org/overview/what-is-ns-3/, online.
[24] Bellekens B, Tian L, Boer P, Weyn M, Famaey J. Outdoor IEEE 802.11 ah range
characterization using validated propagation models. In: GLOBECOM 2017-2017
IEEE global communications conference. IEEE; 2017, p. 1–6.
