COVID-19&privacy: Enhancing of indoor localization architecturestowards effective social distancing
Paolo Barsocchia, Antonello Calabr/C18oa, Antonino Crivelloa, Said Daoudagha,b, Francesco Furfari
a, Michele Girolamia,*, Eda Marchettia
aISTI-CNR, Institute of Information Science and Technologies, Pisa, Italy
bUniversity of Pisa, Pisa, Italy
ARTICLE INFO
Keywords:Social distancingCOVID-19Indoor localization systemPrivacyABSTRACT
The way people access services in indoor environments has dramatically changed in the last year. The counter-measures to the COVID-19 pandemic imposed a disruptive requirement, namely preserving social distance amongpeople in indoor environments. We explore in this work the possibility of adopting the indoor localizationtechnologies to measure the distance among users in indoor environments. We discuss how information aboutpeople’s contacts collected can be exploited during three stages: before, during, and after people access a service.We present a reference architecture for an Indoor Localization System (ILS), and we illustrate three representativeuse-cases. We derive some architectural requirements, and we discuss some issues that concretely cope with thereal installation of an ILS in real-world settings. In particular, we explore the privacy and trust reputation of anILS, the discovery phase, and the deployment of the ILS in real-world settings. We ﬁnally present an evaluation framework for assessing the performance of the architecture proposed.
1. IntroductionThe recent COVID-19 pandemic has been imposing profound changesin our daily life. Most of the affected countries adopted different coun-termeasures in order to reduce the contagious rate. Among them, aneffective action is the so-called social distancing. The idea is simple asdisruptive at the same time: citizens are invited to maintain at a certainphysical distance from others. This recommendation applies when weinteract with people out of our personal spaces, namely a restrictedcommunity of contacts.Social distancing has become a new requirement in the way we accessand provide services. In the context of the COVID-19 pandemic, policy-makers have to re-think the way we visit a supermarket, we catch a bus,or we interact with colleagues at work. We consider two possible ways ofguaranteeing such a requirement: manually or automatically. Themanual approach is commonly adopted in our cities, such as in a shop-ping mall. In this case, an operator observes the scene acting to limit andprevent close contacts among people; for example by managing thewaiting queue, verbally distancing customers, or by optimizing the dis-placements of goods so that to reduce involuntary contacts. Althoughsuch approach is relatively easy to implement, we argue that a comple-mentary solution needs to be adopted on the long period; we refer to it asautomatic social distancing. In this work, we explore the possibility ofautomatically guarantying the social distance indoor with the adoption ofa privacy-preserving Indoor Localization System (ILS). We focus on thoseservices that are generally available indoor, such as a museum, airportfacilities, or a supermarket. In these representative use cases, users roamthrough a sequence of points of interest such as galleries of a museum,check-in desks, or aisles of a supermarket. Our approach consists ofestimating the current location of people with the ILS and to compute thepersonal distance among the subjects involved. Knowledge on the exis-tence of crowds can be exploited by suggesting to the customers analternative path able to minimize gatherings with others. In the lastdecade, ILSs have been widely adopted [ 1] in different scenarios; they are based on very different technologies, ranging from Wi-Fi ﬁnger- printing [2] to solutions based on ultra-wide band radio waves [ 3]. We argue that the accuracy obtained from the most advanced systems is nowsufﬁcient for the purpose of the social distancing [ 4]. As a meaningful example, we refer to class of ultra-wide band systems able to constrainthe localization error in the range of centimetres while tracking moving
* Corresponding author.E-mail addresses:paolo.barsocchi@isti.cnr.it(P. Barsocchi),antonello.calabro@isti.cnr.it(A. Calabr/C18o),antonino.crivello@isti.cnr.it(A. Crivello),said.daoudagh@ isti.cnr.it(S. Daoudagh),francesco.furfari@isti.cnr.it(F. Furfari),michele.girolami@isti.cnr.it(M. Girolami),eda.marchetti@isti.cnr.it(E. Marchetti).
Contents lists available atScienceDirect
Array
journal homepage:www.elsevier.com/journals/array/2590-0056/open-access-journal
https://doi.org/10.1016/j.array.2020.100051Received 24 July 2020; Received in revised form 9 November 2020; Accepted 15 December 2020Available online 23 January 20212590-0056/©2021 The Author(s). Published by Elsevier Inc. This is an open access article under the CC BY-NC-ND license ( http://creativecommons.org/licenses/by-
nc-nd/4.0/ ).Array 9 (2021) 100051objects [5]. Weﬁrst propose a privacy-preserving ILS architecture able toguarantee real-time user’s location and privacy of the data collected. Thesolution we propose in this work considers the General Data ProtectionRegulation (GDPR) as the grounding framework for preserving privacythrough a compliant Access Control (AC) system [ 6–8]. The AC system ensures that only the intended users can access the protected (personal)data and get the permission levels required to accomplish their tasks.However, notwithstanding the important role of AC systems, their inte-gration inside the localization system architecture is still an emergingchallenge speciﬁcally considering the enforcement of the GDPR ’s re- quirements. Our solution relies on a privacy-by-design indoor positioningarchitecture, where purposes of data management are explicitly de ﬁned, consents collected and the rights related to privacy and data protectioncorrectly enforced. We then discuss three use cases in which the archi-tecture proposed can be adopted, namely visits to a museum, airportaccess, and shopping in a supermarket. For each of the use-cases, wepresent the requirements for guaranteeing social distancing indoor. Wealso introduce some barriers currently preventing a massive adoption ofILS-based tracing systems and we conclude our paper with an evaluationframework aimed at assessing the performance.The innovation we propose with our work mainly consists of fouraspects:/C15we frame a reference architecture for social distancing based on anIndoor Localization System generalizing three common use-cases;/C15we introduce a privacy-preserving access control system grounded onthe European GDPR framework;/C15we summarize three typical use cases in which the proposed archi-tecture can be adopted, by highlighting the intrinsic challenges of thesocial distancing;/C15ﬁnally, we discuss 4 main barriers to overcome for an effectiveadoption of such technologies in real-world settings.As recently reported by M. Zissman (MIT Lincoln Laboratory) in arecent article from J. Hsu [9],“[…] In a perfect world, something likethis would have taken a couple years to implement. There just isn ’t the time […]”. We agree with such vision, and we consider that a great efforthas to be spend for the integration of different technologies enabling theproximity detection of people both indoor and outdoor. Such effort willdetermine the success inﬁghting against the next pandemic.The paper is organized as follows. Section 2covers the background and related work in theﬁeld of Indoor Localization Technologies andGDPR-based Access Control. Section 3describes our reference architec- ture for an ILS. Section4reports three reference use cases, namelyvisiting a museum, airport terminal access and shopping assistance.Section5, we discuss some issues that we consider challenging for a real-world installation of an ILS and,ﬁnally, Section6describes our evalua- tion framework.2. Background and related workIn the following, we focus on three main aspects that equally con-tributes to the proposed architecture: the related indoor localizationtechnologies their speciﬁc characteristics 2.1; the Indoor Localization
Apps 2.2 and the Access Control Systems 2.3. We discuss in particular themobile application proposal able to deal with social distancing, exploringtheir main strengths and weaknesses in terms of authorization to accessto the mobile resources requested to the user and their impact on user ’s privacy.2.1. Indoor localization technologiesSeveral localization technologies have emerged in the last years toaddress the demanding of location-based services. We review two cate-gories: Radio Frequency-Based (RF) and non-RF based. Among the RFtechnologies there exist systems based on the analysis of Wi-Fi [ 10],Bluetooth Low Energy (BLE) [11,12], LTE [13], and Ultra-Wide Band (UWB) [14,15] signals. Wi-Fi-based solutions have the advantage ofexploiting the ubiquity of Wi-Fi Access Points. The most performingWi-Fi solutions obtain high performance in terms of localization accuracywith reduced cost of maintenance and installation [ 16]. In the last few years, the Bluetooth Low Energy (BLE) standard hasbeen adopted a cheap a viable technology for indoor navigation andlocalization. BLE tags are cheap and easy to deploy, moreover theirbattery life time spans from few months to years.1Indoor localization systems based on BLE often implements a range-based technique, ac-cording to which the moving target is localized in proximity of the BLEtags with the highest Received Signal Strength of the beacons emitted([17] explores this technique for the purpose of tracing social interac-tion). However, more advanced solutions based on the beacon ’s angle or arrival and time ofﬂight are also available with a very high accuracylevel, as done with Quuppa
2and the recent Bluetooth 5.1 stack.Finally, the UWB network interface represents a recent and promisingsolution. Its accuracy can reach the centimeter-level with speci ﬁc de- ployments. Its adoption has been increasing as Apple decided to provi-sion the iPhone 11 with the U1 chip-set. As a result, we expect that in thenear future other vendors will include such technology with Android-based smartphones. Some remarkable examples of UWB-based indoorsolution are the Pozyx [18] and some recent works [19–21]. Non-RF based technologies for indoor localization rely on visual/camera [ 22], Visible Light Communication (VLC) [ 23], Inertial Measurement Unit (IMU) [24], and Magnetic Field Sensor (MEMS) [ 25]. The visual based systems exploits images captured by surveillance camera alreadydeployed. The performance range in the centimetre scale but, in wide andpublic environments, the privacy regulations might limit their adoptionon the large scale. Differently, if the user/target is equipped with acamera sensor, a visual-based system can reach accuracy performancearound a meter of error. Furthermore, the end-user is required to keep thecamera in aﬁxed position with the side-effect of inﬂuencing the its natural way of moving.The Visible Light Communication is an emerging optical technologyfor high-speed data transfer which uses visible light modulated andemitted by Light Emitting Diodes (LEDs). Indoor positioning systemsbased on VLC use light sensors (e.g. camera sensor) to measure the po-sition and direction of the LED emitters but they generally require line ofsight between emitters and receivers [ 23]. Systems based on Micro Electro-Mechanical Systems (MEMS) exploitthe distortion of the Earth’s magneticﬁeld mainly due to structural steel elements (e.g. steelﬁre doors) and furniture. As an example, these dis-tortions can be a discriminating factor in environments comprised bycorridors, rooms and small areas. The performances of these systemsgenerally drops in wide and open space because the distortion areconsidered less meaningful [26].IMU based systems utilize tri-axial accelerometers and gyroscopes forsensing the motion. The combination of gyroscope and accelerometer isused to evaluate the heading direction [ 27]. Unfortunately, accelerom- eters are error prone due to random movements of human motion and,the gyroscope is susceptible of magnetic ﬁelds distortion. As a conse- quence, IMU-based systems generally reach low accuracy and requires acomplex calibration process to detect, for example, user ’step length and the motion speed [28]. Weﬁnally report onTable 1a comparison of RF and non-RF based techniques, with a summary of their weaknesses andstrengths.Weﬁnally survey some architectures for indoor positioning. Sucharchitectures provide features for a quick integration, such as an SDK orAPIs for third-party developers. Authors of [ 29] introduced a middleware architecture for fusing multiple sources of information, showing how a
1BLE Tags can be conﬁgured in safe-mode with low power of emission andlow advertisement rate.
2https://quuppa.com/.P. Barsocchi et al. Array 9 (2021) 100051
2data fusion approach leads to improved performances in the same indoorenvironment. In [30], authors describe an extensible framework forexploring location data’s multifaceted representations and exposing aquery layer. Lastly, Anyplace [31] shows a similar idea to the other ar-chitectures above mentioned by releasing an open-source architecture inorder to easily deploy indoor localization functionalities in newenvironments.2.2. Indoor Localization AppsThe most diffused technical solutions for guaranteeing social distanceare based on mobile applications. Apps enable an easy-to-use userinterface and, at the same time, a massive diffusion through the well-known app stores. Currently, there exist several applications whosefeatures span from tracing contacts, e.g., Immuni [ 32] (the application build by Italian Health Minister), to the possibility of managing a waitingqueue, e.g., uﬁrst [33].Depending on their features, the apps require access to several entitiesand purposes. From a privacy-preserving point of view, unfortunately,not all the apps expose neither a clear claim about the usage of thecollected personal information nor a clear description concerning theusage of such data. Consequently, we argue that the end-user mightremain sceptic in daily using such apps. In order to provide a ﬁrst outlook about the existing apps for social distancing or for detecting in socialinteractions [17], we report inTable 2a selection of apps available on the Android Play Store and tested on a commercial smartphones. The tablereports the analysis of some features and the authorizations required. Inparticular, the group of columns labelled Location, Others, Disk, Camera,report the name of the permissions ’classiﬁcation provided by the Android Play Store for grouping the different features. Finally, for eachgroup, we report some details concerning the permissions of each appbased on the description provided by the developers. In particular, wereport the following information:1. Approx location: if the app can localize the device within a widearea;2. Precise location GPS&net: if the app can accurately localize thedevice;3. Receive data from Internet: if the app can receive data formInternet;4. View network conn.: if the app can check the networks to whichthe device has access;5. Full network access: if the app can access to any of the networksthe device is connected with;6. Run at startup: if the app can automatic restart;7. Prevent device sleeping: if the app can prevent the device fromswitching in sleeping mode;8. Pair BT devices: if the app can pair with a Bluetooth device;9. Access BT settings: if the app can initiate the device discovery ormodify the Bluetooth settings;10. Control vibration: if the app can control the device vibration;11. CRUD contents: if the app can perform CRUD operations;12. Take pictures or videos: if the app can take photos of recordvideos.Taking a glimpse as a generic user to the installation and usage of theapps analysed in theTable 2, the consent forms are very generic andsometimes do not intuitively declare the purposes of data collection, theduration of the data retention or the possibility of future exploitation ofthe data collected.For example, one application (the 2M Social distance checker) re-quests permission to access to the Call Log and Address Book withoutspecifying how the data will be used, i.e., to enable the sharing of userexperience with his/her contacts. From a technical point of view, in caseof open-source applications [34] speciﬁc information about the real usage of sensors data or the procedures for managing them can beretrieved by accurate analysis of the source code. However, this opera-tion is not feasible by common users without a computer science back-ground and it is not allowed for proprietary application [ 35,36]. Additionally, rarely there is a clear claim on where and how thecollected data will physically be stored or distributed. Indeed, dependingon the country where the DB is, the rules for accessing its information
could be compliant to a privacy standard different from that required bythe application country. The situation could be even worse in case whenthe application is used by users belonging to different countries havingnot the same privacy rules. Consequently, there could be the risk of apersonal data management not completely compliant with the consensussigned by the app users. For instance in Italian Immuni [ 32] (The application built by Italian Health Minister) developers clearly claimsthat the DB will be physically positioned in Italy and managed by theItalian Health Minister under the GDPR compliance.Social distance can also be implemented with ad-hoc hardwarecomponents like people counter and smart bracelets [ 37,38]. These so- lutions have the beneﬁt of guaranteeing reliability, since they do notdependent on the user’s device. The features offered are limited totracing the contacts with others or alerting when a user gets too close toanother. More advanced features can also be implemented with dataanalysis techniques but, at the current stage, we were not able to ﬁnd remarkable examples in the current literature.2.3. GDPR and Access Control SystemsWe now review some techniques adopted with Indoor LocalizationSystems that are commonly adopted to manage the privacy of the datacollected. Weﬁrst review the GDPR reference framework and then wesurvey some recent works. The GDPR [ 39]d eﬁnes Personal Data as any information relating to an identiﬁed or identiﬁable natural person called Data Subject. As a result, a data subject is a Natural Person (a livinghuman being), whose data are managed by a Controller. The GDPR isapplied to the processing of personal data, whether it is automated (evenpartially) or not. The GDPR deﬁnes, among others, the following prin-ciples and demands: Purposes, i.e., data should only be collected fordetermined, explicit and legitimate purposes, and should not be pro-cessed later for other purposes; Accuracy, i.e., the processed data must beaccurate and up-to-date regularly; Retention, i.e., data must be deletedafter a limited period; Subject explicit consent, i.e., data may be collectedTable 1A comparison between indoor localization technologies.
Technology Strengths Weaknesses Accuracy ScalabilityCamera High accuracy,low maintenanceRequires dedicatedhardware, difﬁcultuser identiﬁcation0.5–1 m MediumVLC Potentially highaccuracy, easy toinstallRequires line ofsight, requiresadditional hardware0.5–1 m HighIMU No infrastructurerequiredRequires highcustomization, errorprone to driftproblems1–5 m N.A.
MEMS Ubiquity of thesignal, noinfrastructurerequiredError prone tointerference, costlycalibration process2–5 m N.A.
Wi-Fi Easy toimplement, costefﬁcientMedium accuracy,generally requiremodiﬁcations to theAPs2–4 m High
BLE Low energyconsumption, lowcostError prone tonoise, mediumaccuracy in wideenviron- ment2–4 m High
UWB High accuracy insmallenvironmentRequires dedicatedhardware, highcosts0.5–1 m LowP. Barsocchi et al. Array 9 (2021) 100051
3and processed only if the data subject has given his explicit consent.Concerning the design of the Access Control (AC), it is usuallyimplemented through an Access Control Mechanism (ACM), which is thesystem providing a decision to an authorization request, typically basedon predeﬁned Access Control Policy (ACP). The XACML [ 40] is one of the most widely used AC languages, and it provides the referenceTable 2Features of social distancing mobile apps.
App name LOCATION OTHERS DISK CAMERAApproxlocationPreciselocationGPS&netReceivedata fromInternetViewnetworkconnFullnetworkaccessRun atstartupPreventdevicesleepingPair BTdevicesAccessBTsettingsControlvibrationCRUDcontentsTakepicturesvideosSocialDistancingProject (Su-Raksha)✓ ✓✓ ✓
The SocialDistancing App✓ ✓ ✓ ✓✓✓ ✓✓ ✓ ✓✓SocialDistance✓ ✓ ✓ ✓✓✓ ✓✓ ✓REXdistanceSocialDistancing✓✓ ✓ ✓SocialDistanceAlarm✓ ✓ ✓✓✓ ✓✓ ✓SocialDistancing ✓ ✓✓1point5✓✓ ✓ ✓ ✓ ✓✓Give Me SpaceThe Best Social[…]✓✓ ✓ ✓ ✓Social distance✓✓ ✓ ✓ ✓ ✓ SocialDistancer ✓✓ ✓ ✓DistancingApp✓ ✓ ✓✓✓ ✓✓ ✓ ✓SocialDistance ✓✓ ✓SocialDistancingApp✓✓ ✓✓ ✓Pistis.io SocialDistancing App✓✓ ✓ ✓ ✓ ✓ ✓✓Distancingalarm✓✓ ✓2 M Socialdistancechecker✓✓SocialDistancingApp - Wearable✓✓ ✓ ✓ ✓✓Keep Distance✓ ✓ ✓ ✓✓✓ ✓✓ ✓Immuni ✓✓✓ ✓✓
Fig. 1.Functional components of the integrated architecture.P. Barsocchi et al. Array 9 (2021) 100051
4architecture in the AC environment.We refer to [41] for a systematic review of privacy in indoor posi-tioning systems. As emerged by this survey, recent proposals show howlocation and topology-aware are becoming feature for the security [ 42]. However, most of the research has been focused either on:/C15using technology Wi-Fi and theﬁngerprinting methods combinedwith cryptography solutions [43–45]; /C15using access control mechanisms for (physical) protection withinvirtual perimeters [46];/C15using location information to automatically authenticate customer[47];/C15speciﬁc security attributes that do not fully cover the GDPR ’s re- quirements [48–50].3. Overview of the integrated architectureIn the following, we detail the reference architecture based on anIndoor Localization System (ILS) for guaranteeing social distancing. Thearchitecture relies on two layers: the smart device and the localizationinfrastructure. As detailed inFig. 1these layers include components suchas: a User Agent for managing the interactions on behalf of the end-user,the Indoor localization system including GDPR-based Access Controlsubsystem and the Map server. The reference architecture extends thesolution presented in [4], and it integrates the GDPR-based access controldescribed in [51,52].3.1. Aim and scopeThe approach we followed with this work is to ﬁrstly framing a reference architecture to be adopted in very different scenarios. To thispurpose, our effort has been mainly focused on generalizing a commonarchitectural design of a remote ILS, based on 3 main building blocks: amap server, the ILS engine, and a discovery agent to broadcast its exis-tence. We then focus on the client side in the form of a smart device, asthe primary interface to interact with the end-users. The architecture wepropose has been deliberately designed without constraining to any ofthe common scenarios we daily experience. Differently, we tried toprovide the community with a modular architecture to be customized.Furthermore, the current literature concerning the ILS does not identify astandard de-facto for indoor localization, rather multiple and heteroge-neous solutions are available. To the best of our knowledge, this workintroduces a privacy-by-design solution, mainly inspired by the EuropeanGDPR framework, as one of the most advanced regulations about privacyin force since the last decade.3.2. Architecture requirementsIndoor localization systems are based on very different technologies.A standardization process of these systems is therefore the ﬁrst objective that should be pursued in order to increase the spread and the usability oflocation-based services. We argue that standardized programming in-terfaces for the design of an ILS have a twofold bene ﬁt:/C15to provide inter-operable location-based services to the end-users:/C15to integrate in a seamless way outdoor and indoor localizationsystems.Concerning theﬁrst beneﬁt, its adoption can be used not only tolocate and track people, but also to measure their physical distance. Itsadoption can be considered an effective counter-measure to track, pre-vent and analyse how close people are in indoor environments. We referto Section4for a in-depth description of three use-cases in which we
describe the adoption of an ILS in real-world scenarios. Moreover, thestandardization will increase the possibility for a user-agent to discoverand to bind to any of the ILS available indoor. Such aspect is crucial for anopen market, since it breaks the silos of custom and vertical solutionsavailable so far.Concerning the second beneﬁt, we consider that the current userexperience for outdoor localization systems (e.g. GPS) must be preservedalso indoor. Under this context, the standardization could improve thedesign of systems enabling the hand-off between outdoor and indoorareas. We imagine a smooth transition from an outdoor map (e.g. pro-vided by OpenStreepMap or Google Maps) to detailed indoor mapsprovided by an ILS.Asﬁrst step towards such standardization process is the de ﬁnition of architectural requirements to be considered. In the following, we report alist of 4 requirements that we consider mandatory:1. To discover the available Indoor Localization System dynamically(R1)A discovery process should be deﬁned to enable a person to look up for services available in a speciﬁc environment [53]. The process can be triggered through the Web or based on short-range network in-frastructures. We refer to theﬁrst approach as global search, since theuser queries the Web looking for an ILS available e.g. in a supermarket. Inthis case, the user fetches the meta-information of an ILS via the HTTP orsimilar protocols. Differently, the second approach is referred to as localsearch since the user looks up for nearby ILSs, by exploiting networkinterfaces such as Wi-Fi Direct, Bluetooth or LTE- Direct and the up-coming 5G. Such interfaces allow to look up for surrounding services inthe range of few meters.2. Indoor localization systems must self-describe their features to ensureinteroperability with heterogeneous systems ( R2).We expect the deﬁnition of a common language for describing thefeatures provided by an ILS. More speciﬁcally, ILS has to advertise some core information, such as: the localization technology adopted, the pri-vacy requirements, the location of the indoor map and any other resourcerequired for a device to discover, connect and access to the ILS. Thebeneﬁt of such language is the possibility of replicating the user-experience for outdoor navigation (e.g. through Google Maps orsimilar) also indoor.3. Privacy must be guaranteed and the service policies must be welldeﬁned and veriﬁable(R3).One of the most critical aspects for the location-based services is thepossible loss of control of the personal data collected. As a meaningfulexample, we recall the contact tracing apps also exploiting the devicelocalization and designed for the purpose of mitigating the COVID-19pandemic. In these cases, end-users are worried about non-expectusage of the data collected for commercial purposes. Some example ofdata that we consider critical are: the timestamp of the contacts, the IDsof the contacts, any information about the device used and, in some cases,the GPS location of the users.Localization systems suffer intrinsically from this problem, thereforeindependently from the contingency period, explicit mechanisms foraccepting policies, together with the ability to verify and manage thedata collected, must be designed and implemented in accordance withthe various national laws.4. Indoor localization systems must be easy to use, intuitive and inter-active (R4).The interaction between the ILS and the end-user needs to speci ﬁcally tackled. We argue that their success also depends on the way a user in-teracts with it. Most of the people already interacts ﬂuently with GPS navigation systems (e.g. Google Maps, Garmin or TomTom charts). Inparticular, users search, discover and navigate toward a speci ﬁc locationP. Barsocchi et al. Array 9 (2021) 100051
5that can always be represented as a pair of coordinates in the space (e.g.lat, long as WGS84 coordinates). The same user-experience should bereplicated also for indoor environment, even if a higher number ofchallenges are present. To this purpose, we consider mandatory to designintuitive work-ﬂows. As for example, the end-user should be able notonly to search for a location, but also to navigate toward person, to pickup a list of products in a speciﬁc order or to meet a moving target indoor.A further level of interaction is also represented by the possibility ofasking to an ILS context information describing the environment, such asthe existence of a crowd or the waiting time before accessing a service.Such level of interactivity can be obtained by designing multi-modalinterfaces, such as the Instant Messaging (IM) paradigm. Indeed, theIM paradigm implements the best metaphor for managing the exchangeof information between the end-users and a system in a intuitive way.The user can chat with the ILS in order to get the position of its target, toreceive suggestions, to be notiﬁed proactively and or to be guided step-by-step toward itsﬁnal destination.3.3. Architectural componentsThe requirements R1 to R4 are grounding for our architectural design.We describe in this section, several functional components to bedeployed in two distinct layers: those present on the user device andthose made available by the indoor infrastructure. This distinction easilyrecalls the two methods through which the position of a user is estimated:self-positioning processed by the smartphone and remote positioningprocessed at the local infrastructure. We also consider the possibility ofhaving hybrid solutions. We report in Fig. 1an overview of the compo- nents described. For the sake of brevity, we do not consider here thepossibility of other solutions that could make use of the Cloud. Forexample, internal maps could be downloaded from any server on theCloud (e.g. Google Maps), as well as a route to a target calculated by anavigation service available on the cloud. We mainly focus on abstractfunctionalities common to all the architectures and how they are to bedescribed. Therefore, many concrete architectures can be derived bycombining the abstract components we report in Section 4.4. We report inFig. 2an overview of the main components.In theﬁrst group of components, the most important is the User- Agent. It can be described as an intelligent software component thatoperates on behalf of the end-user. The main functions it provides are:global and local discovery (R1), to manage the privacy for the end-users(R3), to interact with the local infrastructure to estimate position of theend-user (R2), to interact with the end-user (R4). Other functional components that could be installed on the device are the Navigatorand a Translator, theﬁrst of course to manage navigation, determination ofthe shortest routes etc, the second is increasingly adopted to facilitatevocal interaction, as done with commercial vocal assistants (AmazonAlexa, Apple Siri, Google Home) (R4).The second group of components concern the infrastructure. Inparticular, theIndoor Location Systemand theMap Server(R2,R3). Theﬁrst consists of hardware and software artifacts deployed in theenvironment that are functional to the estimation of the user ’s position and the data protection, as detailed in Section 3.4. The second oneprovides the indoor maps and features of the indoor environment usefulfor navigating. Other components we foresee are the Discovery Server which provides the description of the resources available by the infra-
structure (R1,R2) and theSystem Agentwhich is the counter-part with which the User Agent can communicate. In particular, the System Agentcan be seen as a regular chat user to which send requests for assistance orinformation (R4), it can be implemented by an Instant Messaging bot.Components deployed in the infrastructure are interfaced by respectiveservices orchestrated by the User-Agent. A person trough the User-Agentinterface can interact with the System-Agent of the indoor infrastructure.3.4. Indoor localization system and data protectionWe now detail the internal structure of a generic ILS. We consider itprovides three main sub-components, as detailed in Fig. 2: theILS En- gine, theGDPR-Based Access Control System (G-ACS) and the Communication and Interaction Orchestrator . Such components implement the main features of an ILS. Moreover, we expect that theyrely two distinct database for collecting the information.The ILS Engine implements the core functionality of the localizationalgorithm: it returns back to the User Agent the timestamped coordinatesaccording to the map reference system (e.g. latitude and longitude asWGS84 reference system) [10,54].Data provided by an ILS can be simultaneously accessed by multipleactors. More speciﬁcally, the end-user, the system administrator or ageneric supervisor might require access to speci ﬁc data. In order to manage the different grants for the actor, we consider that the ILS and theGDRP Access Control System (G-ACS) components have to cooperate (seeFig. 2). In particular, the latter is in charge of evaluating each single dataaccess request and to allow or deny the access according to several fac-tors. They are: the consents collected, the data validity period, the spe-ciﬁc users/service rights and the access control policies established insidethe overall Localization Infrastructure.Finally the Communication and Interaction Orchestrator is thecomponent in charge of man-aging the communication to and from theILS. This component is exploiting publish-subscribe design patternthrough extensible events. It is in charge to instantiate communicationchannels and manageﬂows of notiﬁcations and events data. Those eventscan be structured adopting several asynchronous messaging technologieslike Java Messaging Service (JMS), Advanced Message Queueing Proto-col (AMQP), Message Queueing Telemetry Transport (MQTT) in order todecoupling not only the locations of the publishers and subscribers, butalso decouple them temporally.3.5. Components in actionThe interaction among the components described in reported inFig. 3. The indoor infrastructure periodically advertises its presencebroadcasting an URI. The URI points to the meta-information of the ILS.When the end-user enables the indoor positioning on its device, the UserAgent starts listening for such announces (Listen for URI activity). TheDiscovery phase ends when the User-agent accesses the URI in order toobtain the description of all the resources that are part of the infra-structure. The structure of the information obtained during the discoveryphase represents a key-point. We report a schematic example of suchinformation inFig. 4. The information reported can be representedfollowing different formats, such as JSON or XML text-based format.The Access stage can now start. During this stage, the end-user grantsor denies some consents required by the ILS to work properly (Consentevaluation). This process can also in-volve a more ﬁne-grained assess- ment of the consents (specialized consent acceptance activity), depend-ing on the kind of services to be used. If consents are accepted, thesubscription data as well as the collected consents are used by the G-ACSSystem for example:
Fig. 2.ILS and Data protection components.P. Barsocchi et al. Array 9 (2021) 100051
6/C15setting up the user speciﬁc GDPR-access control polices in order toguarantee that all the information collected and exchanged betweenthe services are managed according the GDPR ’s demands (GDPR policies set-up activity);/C15preparing the required database infrastructure and security proced-ures so as to guarantee for instance: the isolation of the data from thepoint of view of storage; the data anonymization; the data deletionaccording in agreement with the consensus collected (Enabling pro-cedures and repositories activity).On the other side, even the User Agent needs to save the policyaccepted by the person and identiﬁcation code that will be used to communicate with the infrastructure resources. Once the access phasehas beenﬁnalized, the Service consumption cycle starts, that is theLocalization phase. At this point. the user interaction and (privacy) dataﬂow is realized taking in account the GDPR provisions such as: assuredata treatment in line with purposes and scopes speci ﬁed in the collected consents (as per Art. 5.1(a) of the GDPR), assure only authorized datatransfer to third parties in accordance with the general principledemanded in Art. 44, and the enforcement of the Right to erasure ( ‘right to be forgotten’)d eﬁned in Art. 17, (Gathered Data Management phase)Right-to-be-Forgotten, (Gathered Data Management phase), in line withArt. 17. The process ends in case of consent revocation (in this case weare considering the right to withdraw as stated in Art. 7.3) or when theuser requires to terminate a speciﬁc service.4. Designing indoor social distancingWe now discuss how to guarantee social distancing of users in threerepresentative use-cases, namely visiting a museum, accessing an airportand shopping assistant. We describe for each of them the overall user-experience, the requirements to be guaranteed and some enabling tech-nologies that can be used for adopting an indoor localization system.As a general observation, information about the physical distanceamong people can be exploited in three different stages: before, duringand after the end-user visits a location. More speci ﬁcally, knowing how people dispose indoor during the such stages, can increase the user-experience and improve the effectiveness of countermeasures to thediffusion of diseases (see Section2). We report inFig. 5an example of how the information concerning the social distance can be used duringwhile visiting a generic indoor environment. More speci ﬁcally:/C15beforevisiting an environment, the end-user can plan her/hist visit sothat to avoid crowded time slots. Planning the visit allows to mini-mize the probability of involuntary contacts and it can reduce queueto access to speciﬁc services;/C15duringa visit, the end-user can optimize the way she/he moves in-door, so that to reduce the contact probability with others. As arepresentative example, we refer to the possibility of planning theorder of products to pick while shopping. The path selection can beachieved by prioritizing those areas of a shopping mall scarcelyvisited by customers;/C15information about the social distance can also be used afterthe visit. More speciﬁcally, knowledge about how many people visited a spe-ciﬁc location, can be used to plan an efﬁcient cleaning schedule, to better dispose products and, more generally, to allow the serviceprovider to re-think the way services is accessed. Data collected afterthe visits can be used for statistical purpose as well, in order tomeasure if the actions taken prevent the existence of crowds.4.1. Use case 1: visiting a museumVisiting a museum is a challenging scenario in which to guarantee aproper social distance among the visitors. A museum is generally orga-nized with a visiting path designed to guide visitors through the art-works. Users can decide to follow the path and to move across the roomsin a speciﬁc order. Small museums do not recommend any speci ﬁc path
Fig. 3.Activity diagram for the system components.
Fig. 4.Information describing an ILS through a Discovery Process.P. Barsocchi et al. Array 9 (2021) 100051
7to follow, while others have multiple paths. Users following a path do nothave any time restriction during their visits, they are free to move acrossthe rooms and to rest. Moreover, the number of visits in a museumchanges dramatically according to several factors, such as the day of theweek, the hour, the scheduled holidays as well as the whether conditions.The combination of such factors determines the existence of burst ofvisits, as discussed in Ref. [55] that are challenging to predict.The requirements that need to be preserved during a visit are:/C15users have to be able to respect easily the distance from other visitors;/C15the total number of visitors has to be managed;/C15design multiple visiting paths so that to reduce the encounter prob-ability among visitors;/C15the user-experience needs to be guaranteed during a visit;/C15users can wear a wristband or install a speci ﬁc app before their visit;We consider that the adoption of an indoor localization system in amuseum can support the adoption of effective countermeasures forlimiting crowded areas. More speciﬁcally, the knowledge of the positionof the visitors can be used for 1) observing the way visitors access themuseum and 2) to manage in real-time the ﬂow of visits. Concerning the ﬁrst goal, we argue that it is highly important to measure quantitativelythe way visitors access a museum. More speci ﬁcally, it is possible to measure the total amount of visits, the visits during a speci ﬁc time in- terval, the visiting time for each room and artwork, the existence ofpreferential paths during a visit and other metrics useful to describe thesocial attitude of the users. Such information, can be in turn used to meetthe second goal, namely to plan the visits according to the requirementspreviously reported.Users can be localized by adopting proximity-based technologies suchas Bluetooth Low Energy (BLE) or the UltraWide frequencies. Suchtechnologies are becoming more and more popular. In particular, BLE isalready available in most of the commercial smart devices, while theUltraWide technology is expect to diffuse in the near future. It is worth tonotice that the iPhone 11 already provides the U1 chip-set. Bluetooth andUltraWide band allow to detect proximity not only between users but alsobetween users and points of interests such as artworks or furniture.Moreover, such technologies can be easily integrated with personal de-vices such as smartphones or an audio guides without the need of acomplex network infrastructure. Some remarkable works alreadyaddressed the problem of localizing people in a museum, we refer to Refs.[56–58] for further details.4.2. Use case 2: airport accessThe layout of an airport is generally a combination of indoor/outdoormulti-ﬂoor environments with restricted areas. Except for shops, gener-ally the airports offer multi-storey buildings within wide and open spacesin which users freely roam. An airport terminal provides several servicesfor the end-users. Some of them are mandatory to all the passengers,others are optional and provided only for the entertainment purpose. Thenumber of users accessing to such services changes dramatically ac-cording to the seasons and according to external factors, such as weatherconditions, strikes and delays of theﬂights.The requirements that need to be preserved for travellers in order toguarantee appropriate social distance are:/C15the airport facilities have to be accessed with a pre-determined order.More speciﬁcally, users have to check-in, to pass through the securityclearances and,ﬁnally, to step toward the destination gate. The orderand the time to complete the previous steps should be orchestrated sothat to consider: the amount of users, the existence of crowds and anysituation leading to involuntary contacts;/C15users have to be able to respect easily the distance from other users;/C15the user-experience must be preserved as much as possible;Also for this use-case, we consider bene ﬁcial the adoption of a modular indoor localization system tracking the distance among users. Inparticular, the indoor localization system can be used for detecting theexistence of crowds in a speciﬁc location e.g. check-in desks and toprevent other passengers to stack in queue. Furthermore, such localiza-
tion system can be also exploited for security tasks, such as identi ﬁcation and tracking of target subjects. The majority of the terminals are alreadyequipped with Wi-Fi networks available also for traveller. Some worksalready address the problem of localizing users in an airport. Authors of[59] proposes a multi-modal solutions based on Wi-Fi and BLE tags.Through the availability of a precise map of the environment and anaccurate survey of the environment. The end-user can bene ﬁt of services based on positioning information on their own commercial smartphone.In [60] authors propose an interesting approach, based on BLE technol-ogy in an airport scenario, using a combination of Received SignalStrength Indication (RSSI) and Time-of-ﬂight.4.3. Use case 3: shopping assistantA shopping mall is generally organized with product-speci ﬁc aisles. Customers are free to decide the order of the products to pick. Malls alsohave some locations for speciﬁc fresh products, such as bakery or fresh-ﬁsh. In these locations, the self-service is generally not allowed, andcustomers interact with an operator. Some small/mid-size malls guidecustomers through a suggested walking path, while in large-scale malls,customers can freely move within the areas.Similarly, to the other use-cases, the number of users can changesalong the time. The burst of visits can be roughly predicted since theworking schedule forces many people to shop during the evening orweek-ends. In this context, the requirements for respecting the social
Fig. 5.How information about social distance can be used before, during and after visiting a generic indoor environment.P. Barsocchi et al. Array 9 (2021) 100051
8distance between customers are:/C15speciﬁc products need to be booked in advance so that to reduce thenumber customers waiting in the same location;/C15users should be able to easily respect the distance from other users;/C15the user-experience must be preserved as much as possible.A shopping mall equipped with an indoor localization system canprovide several services for customers. We foresee the possibility ofoptimizing the path to follow in order to completing the shopping list.Moreover, the supermarket can provide a queue management servicethat notiﬁes the customers when to approach to a speci ﬁc desk. Finally, a supermarket can provide services for personalized advertising to the end-users. In fact, indoor positioning systems shall make available a set ofpersonal data which can be exploit to promote sales products or to pro-mote temporary offers.In the last decade, supermarkets have been equipped with internetaccess, throughout Wi-Fi Access Points deployed in the environment.These APs can be exploited also to provide an indoor localization ser-vices. The more promising technique in this environment is the ﬁnger- printing technique, where the RSSI previously collected together with theposition of the user is leveraged to infer the current user position [ 61]. In fact, the accuracy of this technique ranges in the order of few meters and,exploiting also inertial sensors of the smartphone, ILSs are generally ableto localize users accurately. A distributed ILS can provide meaningfulinformation before, during and after shopping. For example, beforeshopping, users can use the aggregated information about the number ofcurrent buyers to plan the purchases or not. During shopping, the user isreassured about the use of the ILS which can provide a “safe route”as described before. After shopping, information related to all the routesfollowed by customers can be used to thoroughly sanitize the most fre-quented spaces.4.4. A reference architecture for different use casesAlthough our goal is not to deﬁne a reference implementation of thearchitecture described in Section3, we consider that some of the com-ponents inFig. 2can be implemented with existing software artifactsavailable in the current literature. We report in this section somemeaningful examples both for the Indoor Infrastructure and for the SmartDevice.Concerning the Indoor Infrastructure, the Map Server is responsiblefor managing the indoor map. In particular, it provides the base maps or atile set covering a speciﬁc area. The Map Server couples with the clientside, in charge or downloading (possibly, with parallel connections) andrendering the map on a e.g. 5-inch screen. Both modules are available inliterature and can be re-used as third-party black boxes. As for example,the open source map-view solutions, open layers and lea ﬂet are available. According to the speciﬁc needs, it is also possible to adopt different MapServer such as mapbox, Google Maps and AcrGis.
3
Concerning the ILS engine the literature also offers some interestingand open source solutions that can be deployed as off-the-shelf products,among them we refer to Anyplace as a complete framework for indoorlocalization comprising API, Viewer, Navigator and Logger components.
4
Weﬁnally mention some existing discovery protocols that can beembedded with the Indoor Infrastructure to discover the server in aseamless way. In particular, the SLP, UPnP, ZeroConf and WS-Discoveryare old-but-robust valuables candidates for discovering networked re-sources [62]. Moreover, if the goal is to implement a local discovery thenthe Bluetooth beaconing and the Wi-Fi probing also represent twointeresting protocols that can be used to broadcast small chunk ofinformation.Finally, in relation to the Smart Device we found several client in-terfaces that can be customized. Among them, we consider that Telegramapp5is a valuable alternative since it offers the possibility of customizingthe popular chat-based application by reusing most of features available.Such choice allows to include speciﬁc features enabling the localization, the discovery and the map rendering in a chat box. We ﬁnally remark that guidelines for choosing the proper technical solution are out of the scopefor this paper but, it is worth to remark that these design decisionsstrongly depend on the considered use cases.5. Towards social distancing through ILSWe now discuss some issues related to the concrete possibility ofadopting an indoor localization system for the purpose of measuring thedistance among users. This section covers different aspects of its adop-tion. In particular, insubsection 5.1we discuss the impact on the privacyand trust reputation of the ILS.Subsection 5.2focuses on the discovery phase of ILS.Subsection 5.3presents two alternatives for the socialdistancing, namely a manual and automatic approach and, lastly, sub- section 5.4concludes with a description of some challenges of thedeployment phase of an ILS in real-world settings.5.1. Privacy and trust reputationOurﬁrst consideration faces with the problem of how to guaranteeprivacy of data collected by an ILS. We refer to [ 63] for complete survey also covering the following issues.Privacy by design encompasses seven principles that should be fol-lowed [64]: proactive privacy protection instead of remedial action afterprivacy violations have happened; privacy as the default setting; privacyembedded into the design; full functionality with full privacy protection;privacy protection through the entire life-cycle of the data; visibility andtransparency; and respect for user privacy. Solutions for incorporatingthese principles in the design of an ILS are necessary. In parallel, dataminimization approaches should be considered as a best practice forprivacy by design adoption.Furthermore, we argue that information sharing, active defence andautomation methods should be integrated with an ILS. Thus, we considermandatory to develop efﬁcient methods to create, disseminate, andconsume threat intelligence in a standardized and admissible way. It isalso necessary to adopt defence mechanisms able to increasing the cyberadversary’s cost by decreasing their overall efﬁciency of the active cyber operation. In parallel, in order to make the solutions effective, automa-tion should be considered and solutions integrated into business work-ﬂow, governance, and structure control.We also consider an orthogonal aspect of the privacy, namely the trustreputation of the ILS. Since the architecture described in Fig. 1involves a variety of components, it is required to implement different protectionspolicies and to ensure that there are no privacy leaks at any of the stageswe modelled inFig. 3. Additionally, the architecture should be deploy-able across different systems and environments maintaining the requiredlevel of trust. Another aspect linked with the management of the trust ofthe system, is how to guarantee trust for third-party components that anILS can integrate. As for example: multiples Map servers and differentimplementations of ILSs can coexist with the design presented in Section3. To this purpose, we foresee some possible solutions: to provideinteroperability recommendations and speci ﬁcations; to deﬁne speciﬁc governance; to provide on-line veriﬁcation and validation tools in order to identify the security risks. In parallel, data should be encrypted both atrest and in transit.
3http://openlayers.org,https://leaﬂetjs.com/.
4www.indoorlocation.io/.5http://github.com/DrKLO/Telegram .P. Barsocchi et al. Array 9 (2021) 100051
95.2. Discovering an ILS with local and global interfacesThe capability of discovering an ILS automatically is a central aspect.We consider two possible approaches for the discovery phase: local andglobal. The local discovery is based on the analysis of local signals whenentering a new environment. In this case, the user exploits short-rangenetwork interfaces looking up for nearby signals. However, weconsider that a global search is required as well. In this last case, astandard search through a web-browser allows to query and to connectwith the ILS. We recall the well-known user experience though whichusers look for services on a search engine. The search engine summarizesto the user a box with key information about the service, such as thestreet address, the opening hours, the popularity of the service (e.g.Google Popular Times). We expect to extend such list, by also reportingthe information of the Indoor Localization System, e.g. showing an URLwith the meta-information reported in Fig. 4. Mobility in multiple indoor environments increases privacy issues.Continuing on the example of the outdoor navigation services offered byGoogle, we know that the people who activate the history of their posi-tions are tracked by Google, which, through the user account, allows youto view your movements and possibly eliminate them entirely. In the caseof indoor navigation, this information will be collected by multiplesubjects who must make it accessible to the owners of the data both forconsultation and for modiﬁcation. The task of the User Agent in this casebecomes essential, because it must be capable of maintaining a history ofthe indoor sites visited. In particular, it must keep track of the policiesand consents signed by the user, as well as links to the various interfacesto access the consultation and modiﬁcation services of personal data. Nevertheless, much of this information must be conveyed during theDiscovery process (Figure JSONﬁle) Privacy management in general ismore complex than the use case presented here, de-pending on whetherthe localization techniques used are Self-positioning or Remote posi-tioning based. Systems that intrinsically guarantee privacy should befavoured, in which the position is estimated by the user agent (self-positioning) and is not known by other subjects, such systems are alsomore scalable. However, with respect to social distancing, you must inany case give up your rights and reveal your position even if used onlyanonymously, therefore deﬁning an access control based on GDPR isalways an indispensable step.5.3. A dichotomy of manual and automatic social distancingAnother crucial aspect is the safety distance among people (usuallyﬁxed in the range of 1–2 m) which is normally perceivable on sight.People in favour of using automatic tools to support social distancing arealready well prepared to keep the right distance from others. We observetwo conﬂicting requirements:ﬁrstly, service providers e.g. a shoppingcentre, aim to increase the number of customers while, secondly, cus-tomers are interested to access a service scarcely populated. Therefore, aservice obeying to the current prescriptions will grant the access to themaximum number of admitted customers. Such situation is generallyperceived by theﬁnal users as potentially unhealthy, even if customersstay 1–2 m away from others. Such consideration is predominantly ofpsychological nature. However, we argue that also the adoption of appsfor preserving the social distance do not resolve the dichotomy betweennumber of customers and distance among them. In fact, the false posi-tive/negative alerts of such app, combined with the privacy issues pre-viously mentioned, discourage their use in the daily basis.Under this respect, the technology adopted by the apps is determinantfor their successful adoption on the large scale. More speci ﬁcally, range- based applications (i.e. based on Wi-Fi/Bluetooth signal strength) oftenfail in crowded scenarios or in those environments characterized bybarriers and obstacles. Differently, the adoption of indoor localizationsystem based on the data-fusion techniques are more reliable in suchcircumstances. Data-fusion allows to gather and to combine heteroge-neous sensing and context information. Although more complexity withrespect to a range-based approach, fusing data together allows to over-come issues such as body attenuation, indoor re ﬂections and multi-path fading. The side-effect of an Indoor Localization System is the mostlyrepresented by its installation costs.The current trend is to adopt solutions for preserving the social dis-tance that are based on apps for smartphones. We consider that suchapproach might fail on the large-scale and on the long-term. We considernecessary to understand those practicable alternatives and how togradually move from the use of apps to the use of infrastructures, such asan Indoor Localization System.If we consider that people are well predisposed for social distancingthrough the use of sight, aﬁrst discriminating factor is the type of
environment. In open spaces, such as a supermarket, people will havegreater ease of self-determination if a situation is risky or not. Differently,in indoor and constrained environments people need to be supportedwith automatic tools.The transition from manual to automatic systems for social distancingrequires bridging technologies able to reduce the deployment costs. As aremarkable example, we mention those systems designed to count thenumber of people in each room. Once a certain density has been reached,the system warns incoming people, in order to limit the access to suchplaces. In any case, even if a precise localization system is not used,common interfaces must be studied through which to communicate to allend-users. Other aspect to consider is that the turnout of people could beestimated from the reservations that are made to visit a certain envi-ronment. This practice is currently used by the most visited museums,where you can buy tickets online and avoid long queues to buy tickets. Inother environments such as airports, by integrating the various infor-mation systems of the airline companies, the number of people at acertain time can be determined on the basis of the scheduling of ﬂights departing and arriving. Obviously, this is an alternative to preparing newinfrastructures for localization, but it is an estimate that can be affectedby various random factors, lost reservations, ﬂight delays, random congestion. But even in this case, an interface to people who access theenvironment/system is necessary to allow it to check the crowding statusand possibly receive notiﬁcations.5.4. Deploying an ILS in real-world environmentsWe now discuss some deployment issues of an ILS that at realisticconditions.Deploying an ILS requires to accomplish at least the following twosteps: survey of the environment and hardware installation and systemcalibration. Such steps are required for all the use-cases we detailed inSection4. Theﬁrst step requires to visit the environment where the ILS issupposed to be deployed, with the goal of considering features of po-tential impact to the performance of the system. Some examples are: thebuilding-material of the environment, the dimension of the area to becovered and the existence of outdoor/indoor areas. The building materialof the environment has a great impact to the propagation of radio signals.As for example, concrete-based walls heavily attenuate 802.11 signalsmodulating at 2.4 GHz, with respect to wooden or drywall. Moreover, theshape of the environment is another feature that in ﬂuences the signal propagation. Wireless signals, generally, propagate more easily in openspaces due to the limited presence of obstacles. Finally, the existence ofoutdoor areas to be covered also inﬂuences the overall performance.The previous step leads to the installation of the hardware required byan ILS. This step, usually, requires toﬁnd places where to deploy anchor nodes enabling the localization of the users, such as Wi-Fi Access Points,Bluetooth tags or UltraWide band boards. The hardware to be deployedoften requires a power supply source in the nearby, the absence of sur-rounding obstacles and a safety distance from the end-users. The com-bination of such requirements makes the deployment a challenging taskin places not designed for such purpose.The last step copes with the conﬁguration of the ILS. With the term conﬁguration, we refer to all the settings depending on environmentalP. Barsocchi et al. Array 9 (2021) 100051
10Table 3Evaluation framework of the reference architecture.
KPI Objective Measuring tool Unit IssuesEnd-user Personalized
feedbacks
To measure the overall impression of the
ﬁnalusers (feel of protection, motivation is usingthe app)
questionnaire, survey Statistics with the reported answers 1. Share the questionnaire
2. Bias of the answers caused byfrustration and anxiety emotional statesSmart-Device User acceptance The success of ILS depends on the way the user
interacts with it
users feedback: average number of scoresreceived
Statistics with the reported answers noneEnergy consumption To measure the impact of the app to the
battery life-cycle
Reporting APIs provided by iOS andAndroid SDKs
(Milli) Watts consumed by the app noneApp usage To estimate the usage of the app and the
voluntary/involuntary stops of thew app
Reporting APIs provided by iOS andAndroid SDKs
1. Average usage time2. Number of crash3. Number of stops of the app
To manage appropriately any sensitiveinformation collectedDiscovery and Accesslatency
To measure the time required by the app todiscovery and access to the Indoorinfrastructure
Proﬁling APIs available for iOS andAndroid SDK
Milliseconds noneInitial localization To measure the time required by the app to
compute the initial localization of the device
Custom reporting APIs pro
ﬁling. Milliseconds noneMaps Data transferred To measure the amount of data transferred for
rendering indoor maps
Proﬁling APIs available for iOS andAndroidSDK or Custom reporting APIs pro
ﬁling#byte noneIndoorinfrastructure
location latency To measure the time required by the
infrastructure to localize the smart device.
Custom proﬁling API server-side Milliseconds noneILS load To measure the computational load of the
ILS to estimate the position of all the devicesconnected
Performance pro
ﬁling tools (e.g. Java JMX,Python DataDog client, Visual Studioproﬁler)
1. CPU load2. RAM allocated3. Data structure inspection
Overhead of the pro
ﬁling toolMap Server load To measure the computational load of the Map
Server to provide maps to the clients
Performance pro
ﬁling tools (e.g. Java JMXinterface, Python DataDog client, VisualStudio)
1. CPU load2. RAM allocated3. Data structure inspection4. Data transfer rate
Overhead of the pro
ﬁling toolperformance of theproximity detection
To measure the correct detection of devices inproximity
Custom reporting API Confusion matrix from which extract:
Accuracy, Precision, F1, k-Statistics etc. metrics
To compare the results obtained with areliable ground-truth to build theconfusion matrixupdate locationfrequency
To measures the system
’s capacity to re-compute the user
’s locations seamlessly
Custom reporting API Ratio between the number of received samples and
the number of expected samples (for instance oneevery second).
noneService-provider
Installation complexity To measure the technical issues behind a
correct deployment the indoor infrastructure
Custom reporting tool maintenance effort Time of installation and of con
ﬁguration, noneP. Barsocchi et al. Array 9 (2021) 100051
11settings. As a meaningful example, we refer to the ﬁngerprint-based techniques (seesubsection 2.1). In this case, the localization system re-quires a database mapping the quality of the radio signals (e.g. ReceivedSignal Strength Indicator) with a number of locations. Such database isgenerally built only after the hardware installation and it can be obtainedwith a data collection campaign often achieved manually by an expert.Another representative example of conﬁguration is represented by all the algorithm settings of the ILS it-self. Such settings, very often, modelfeatures of the environment and they can be tuned only after theinstallation of the system in the target environment. Nevertheless, theconﬁguration of a ILS is not one-shot task. Rather, real-world localizationsystems conﬁgured and re-conﬁgured multiple times during their life-cycle. Some factors that require a new round of con ﬁguration are: envi- ronmental changes such as new obstacles or a new layout of the envi-ronment, new areas to be covered or modi ﬁcations due to hardware replacement.6. Measuring the performance of the integrated architectureWeﬁnally focus on the assessment of the performance of the inte-grated architecture as a crucial part of applicability of the solution wepropose in this work. Our goal is to frame a reference architecture basedon localization techniques for the purpose of measuring quantitativelythe distance among people roaming in an indoor environment. In thispicture, both the user experience and the hardware/software compo-nents can be measured to understand the effectiveness and its realapplicability in real-world scenarios. To this purpose, we consider a set ofmeasurable KPIs addressed to the 4 main players: the End-Users, theSmart Device, the Indoor Infrastructure and the Service Providers. Wedetail the motivation behind the such choices, how to measure the KPIs,the unit of measurement and any critical issue arising from the KPI.Table 3summarizes the KPIs we propose.7. ConclusionsComputing the inter-personal distance among people in real-timerepresents a challenging task. However, the recent COVID-19 pandemicimposes such requirement to the way people interacts and to the waypeople access services in indoor environments. Countries affected bysuch pandemic reacted to the emergency in different ways by adoptingcounter-measures that, in some circumstances, might be not effectiveafter the lock-down phase. In particular, we focus on exploitable tech-nologies for guaranteeing social distance among people that are generallyemployed in theﬁeld of indoor localization. In this work, we describe theadoption of an Indoor Localization System (ILS) with a twofold goal. Onone hand, the ILS can be adopted to localize people and, on the otherhand, for measuring the in-between physical distance. We ﬁrst present some functional requirements for an ILS and a reference architecture.Then, we present three signiﬁcant use-cases where an ILS can be adoptedfor measuring distance among users. We discuss how informationdescribing the distance among people can be used during three stages:before, during and after accessing a service. We also discuss some issuesand new possible new lines of investigation concerning the design of anILS for the purpose of the social distance. In particular, our attentionmoves towards the design of discovery protocol able to identify availableILSs indoor and to the adoption of privacy mechanisms for the treatmentof sensitive information collected about end-users. The letter point is, inour opinion, one of the most important barrier to the adoption anddiffusion location-based services. We argue that a more transparentapproach for the data treatment would bene ﬁt the adoption of such location-based services offered by ILSs.Credit author statementPaolo Barsocchi: Conceptualization, Methodology, Investigation, Su-pervision, Visualization, Writing–review&editing. Antonello Calabr/C18o:Conceptualization, Methodology, Investigation, Supervision, Visualiza-tion, Writing–review&editing. Antonino Crivello: Conceptualization,Methodology, Investigation, Supervision, Visualization, Writing –review
&editing. Said Daoudagh: Conceptualization, Methodology, Investiga-tion, Supervision, Visualization, Writing –review&editing. Francesco Furfari: Conceptualization, Methodology, Investigation, Supervision,Visualization, Writing–review&editing. Michele Girolami: Conceptu-alization, Methodology, Investigation, Supervision, Visualization,Writing–review&editing. Eda Marchetti: Conceptualization, Method-ology, Investigation, Supervision, Visualization, Writing –review& editing.Declaration of competing interestThe authors declare that they have no known competing ﬁnancial interests or personal relationships that could have appeared to in ﬂuence the work reported in this paper.AcknowledgmentThis work is partially supported by CyberSec4Europe project grantagreement n. 830929.References
[1]Zafari F, Gkelias A, Leung KK. A survey of indoor localization systems andtechnologies. IEEE Commun Surv Tutor 2019;21(3):2568 –99. [2]Shao W, Luo H, Zhao F, Ma Y, Zhao Z, Crivello A. Indoor positioning based onﬁngerprint-image and deep learning. IEEE Access 2018;6:74699 –712. [3]Vinicchayakul W, Promwong S, Supanakoon P. Study of uwb indoor localizationusingﬁngerprinting technique with different number of antennas. In: 2016international computer science and engineering conference (ICSEC). IEEE; 2016.p. 1–4.[4] F. Furfari, A. Crivello, P. Barsocchi, F. Palumbo, F. Potortì, What is next for indoorlocalisation? taxonomy, pro- tocols, and patterns for advanced location basedservices, in: 2019 international conference on indoor positioning and indoornavigation (IPIN), IEEE, pp. 1 –8. [5]Minoli D, Occhiogrosso B. Ultrawideband (uwb) technology for smart cities iotapplications. In: 2018 IEEE international smart cities conference (ISC2). IEEE; 2018.p. 1–8.[6]Basin D, Debois S, Hildebrandt T. On purpose and by necessity. In: Proceedings ofthe twenty-second interna- tional conference on ﬁnancial cryptography and data security (FC); 2018.[7]Ramadan Q, Salnitriy M, Strüber D, Jürjens J, Giorgini P. From secure businessprocess modeling to design- level security veri ﬁcation. In: Proceedings of the ACM/ IEEE 20th international conference on model driven engineering languages andsystems (MODELS). IEEE; 2017. p. 123 –33. [8]Ranise S, Siswantoro H. Automated legal compliance checking by security policyanalysis. In: Computer safety, reliability, and security - SAFECOMP 2017workshops, ASSURE, DECSoS, SASSUR, TELERISE, and TIPS, Trento, Italy,september 12, 2017, proceedings, vol. 10489. Springer; 2017. p. 361 –72. of Lecture Notes in Computer Science. [9] Hsu J. The dilemma of contact-tracing apps: can this crucial technology be botheffective and private? IEEE Spectrum 2020;57(10):56 –9.https://doi.org/10.1109/ MSPEC.2020.9205550.[10]Potortì F, Crivello A, Girolami M, Barsocchi P, Tra ﬁcante E. Localising crowds through wi-ﬁprobes. Ad Hoc Netw 2018;75:87 –97. [11]Pelant J, Tlamsa Z, Benes V, Polak L, Kaller O, Bolecek L, Kufa J, Sebesta J,Kratochvil T. Ble device indoor localization based on rss ﬁngerprinting mapped by propagation modes. In: 2017 27th international conference radioelektronika(RADIOELEKTRONIKA). IEEE; 2017. p. 1 –5. [12] T. Martin, G. Karopoulos, J. L. H. Ramos, G. Kambourakis, I. N. Fovino,Demystifying COVID-19 digital contact tracing: A survey on frameworks and mobileapps, CoRR abs/2007.11687. arXiv:2007.11687. URL https://arxiv.org/abs/2 007.11687.[13] Lee JH, Shin B, Shin D, Kim J, Park J, Lee T. Precise indoor localization: rapidly-converging 2d surface correlation-based ﬁngerprinting technology using LTE signal. IEEE Access 2020;8:172829–38.https://doi.org/10.1109/ACCESS.2020.3024933
. [14]RidolﬁM, Van de Velde S, Steendam H, De Poorter E. Analysis of the scalability ofuwb indoor localization solutions for high user densities. Sensors 2018;18(6):1875 . [15] Li P, Yang X, Yin Y, Gao S, Niu Q. Smartphone-based indoor localization withintegratedﬁngerprint signal. IEEE Access 2020;8:33178 –87.https://doi.org/ 10.1109/ACCESS.2020.2974038 . [16]He S, Chan S-HG. Wi-ﬁﬁngerprint-based indoor positioning: recent advances andcomparisons. IEEE Commun Surv Tutor 2015;18(1):466 –90. [17]Girolami M, Mavilia F, Delmastro F, Distefano E. Detecting social interactionsthrough commercial mobile de- vices. In: 2018 IEEE international conference onP. Barsocchi et al. Array 9 (2021) 100051
12Pervasive computing and communications workshops (PerCom workshops); 2018.p. 125–30.[18] Barral V, Sua
0rez-Casal P, Escudero CJ, Garc0ıa-Naya JA. Multi-sensor accurate forklift location and tracking simulation in industrial indoor environments.Electronics 2019;8(10):1152. https://doi.org/10.3390/electronics8101152 . [19]Xu Y, Shmaliy YS, Li Y, Chen X. Uwb-based indoor human localization with time-delayed data usingﬁltering. IEEE Access 2017;5:16676 –83. [20]Bregar K, Mohorcic M. Improving indoor localization using convolutional neuralnetworks on computationally restricted devices. IEEE Access 2018;6:17429 –41. [21]You W, Li F, Liao L, Huang M. Data fusion of uwb and imu based on unscentedkalmanﬁlter for indoor localization of quadrotor uav. IEEE Access 2020;8:64971–81.[22]Van Opdenbosch D, Schroth G, Huitl R, Hilsenbeck S, Garcea A, Steinbach E.Camera-based indoor position- ing using scalable streaming of compressed binaryimage signatures. In: 2014 IEEE international conference on image processing(ICIP). IEEE; 2014. p. 2804–8. [23]Zhang W, Kavehrad M. Comparison of vlc-based indoor positioning techniques. In:Broadband access communi- cation technologies VII, vol. 8645. InternationalSociety for Optics and Photonics; 2013. 86450M . [24]Shao W, Luo H, Zhao F, Wang C, Crivello A, Tunio MZ. Depedo: anti periodicnegative-step movement pedometer with deep convolutional neural networks. In:2018 IEEE international conference on communications (ICC). IEEE; 2018. p. 1 –6. [25]Kim S-E, Kim Y, Yoon J, Kim ES. Indoor positioning system using geomagneticanomalies for smartphones. In: 2012 International conference on indoor positioningand indoor navigation (IPIN). IEEE; 2012. p. 1 –5. [26]Shao W, Luo H, Zhao F, Crivello A. Toward improving indoor magnetic ﬁeld–based positioning system using pedestrian motion models. Int J Distributed Sens Netw2018;14(9). 1550147718803072 . [27]Lu C, Uchiyama H, Thomas D, Shimada A, Taniguchi R-i. Indoor positioning systembased on chest-mounted imu. Sensors 2019;19(2):420 . [28]Shao W, Luo H, Zhao F, Wang C, Crivello A, Tunio MZ. Mass-centered weightupdate scheme for particleﬁlter based indoor pedestrian positioning. In: 2018 IEEEwireless communications and networking conference (WCNC). IEEE; 2018. p. 1 –6. [29]Lemic F, Handziski V, Mor N, Rabaey J, Wawrzynek J, Wolisz A. Towardstandardized localization service. In: 2016 international conference on indoorpositioning and indoor navigation (IPIN). IEEE; 2016. p. 1 –8. [30]Stevenson G, Ye J, Dobson S, Nixon P. Loc8: a location model and extensibleframework for programming with location. IEEE Pervasive Comput 2009;9(1):28–37.[31] Zeinalipour-Yazti D, Laoudias C. The anatomy of the anyplace indoor navigationservice. SIGSPATIAL Spec 2017;9(2):3. https://doi.org/10.1145/ 3151123.3151125.[32] Immuni, uno strumento in piu ’contro l’epidemia.https://www.immuni.italia.it/
. [33] uﬁrst, risparmia tempo con uﬁrst. URLhttps://www.ufirst.com/. [34] Kunai. URLhttps://github.com/kunai-consulting/OpenTrace . [35] Skyookhttps://syook.com/the-social-distancing-app/ . [36] Who has access to your smartphone data? https://cacm.acm.org/magazines/202 0/10/247585-who-has-access-to-your-smartphone-data/fulltext . [37] ifeel-you bracelet.https://www.iit.it/iit-vs-covid-19/ifeel-you-bracelet . [38]Nguyen QH, Johnson P, Nguyen TT, Randles M. A novel architecture using ibeaconsfor localization and tracking of people within healthcare environment. In: 2019global IoT summit (GIoTS). IEEE; 2019. p. 1 –6. [39]Regulation (EU). 2016/679 of the European parliament and of the council of 27april 2016 (general data protection regulation). Off J Eur Union 2016;L119:1 –88. [40] eXtensible Access Control Markup Language (XACML) Version 3.0 (2013). http:\docs.oasis-open.org\xacml\3.0\xacml-3.0-core-spec-os-en.html. [41]Holcer S, Torres-Sospedra J, Gould M, Remolar I. Privacy in indoor positioningsystems: a systematic review. In: 2020 international conference on localization andGNSS (ICL-GNSS); 2020. p. 1 –6. [42]Greaves B, Coetzee M, Leung WS. A comparison of indoor positioning systems foraccess control using vir- tual perimeters. In: Fourth international congress oninformation and communication technology - ICICT 2019, London, UK, february 25-26, 2019, vol. 1; 2019. p. 293 –302.[43]J€arvinen K, Lepp€akoski H, Lohan E, Richter P, Schneider T, Tkachenko O, Yang Z.PILOT: practical privacy- preserving indoor localization using outsourcing. In: 2019IEEE European symposium on security and privacy (EuroS P); 2019. p. 448 –63. [44] R. Nieminen, K. Jarvinen, Practical privacy-preserving indoor localization based onsecure two-party computation, IEEE Trans Mobile Comput (01) (5555) 1 –1. doi: 10.1109/TMC.2020.2990871.[45]Yang Z, J€arvinen K. The death and rebirth of privacy-preserving wi ﬁﬁngerprint localization with paillier encryption. In: IEEE INFOCOM 2018 - IEEE conference oncomputer communications; 2018. p. 1223 –31. [46]Greaves B, Coetzee M, Leung WS. Access control requirements for physical spacesprotected by virtual perime- ters. In: Furnell S, Mouratidis H, Pernul G, editors.Trust, privacy and security in digital business. Cham: Springer InternationalPublishing; 2018. p. 182–97. [47]Haofeng J, Xiaorui G. Wi-ﬁsecure access control system based on geo-fence. In:Proceedings of ISCC 2019; 2019. p. 1 –6. [48]Jensen CD, Geneser K, Willemoes-Wissing IC. Sensor enhanced access control:extending traditional access control models with context-awareness. In: Ferna
0ndez- Gago C, Martinelli F, Pearson S, Agudo I, editors. Trust management VII. Berlin,Heidelberg: Springer Berlin Heidelberg; 2013. p. 177 –92. [49]Barsocchi P, Calabr/C18o A, Ferro E, Gennaro C, Marchetti E, Vairo C. Boosting a low-cost smart home environment with usage and access control rules. Sensors 2018;18(6):1886.[50]Calabr/C18o A, Marchetti E, Moroni D, Pieri G. A dynamic and scalable solution forimproving daily life safety. In: Proceedings of APPIS 2019; 2019. p. 1 –6. [51]Daoudagh S, Marchetti E. A life cycle for authorization systems development in thegdpr perspective. In: Proceedings of the fourth Italian conference on cyber security,Ancona, Italy, February 4-7, 2020; 2020 . [52]Bartolini C, Daoudagh S, Lenzini G, Marchetti E. Towards a lawful authorizedaccess: a preliminary gdpr- based authorized access. In: Proceedings of ICSOFT2019, Prague, Czech Republic, july 26-28, 2019; 2019. p. 331 –8. [53]Girolami M, Barsocchi P, Chessa S, Furfari F. A social-based service discoveryprotocol for mobile ad hoc networks. In: 2013 12th annual mediterranean ad hocnetworking workshop (MED-HOC-NET); 2013. p. 103 –10. [54] Crivello F Potortì A, Girolami M, Tra ﬁcante E, Barsocchi P. Wi-ﬁprobes as digital crumbs for crowd localisation. In: 2016 international conference on indoorpositioning and indoor navigation (IPIN); 2016. p. 1 –8.https://doi.org/10.1109/ IPIN.2016.7743599.[55] Isella L, Stehle
0J, Barrat A, Cattuto C, Pinton J-F, den Broeck] WV. What ’si na crowd? analysis of face-to-face behavioral networks. J Theor Biol 2011;271(1):166–80.https://doi.org/10.1016/j.jtbi.2010.11.033 . [56]Alletto S, Cucchiara R, Del Fiore G, Mainetti L, Mighali V, Patrono L, Serra G. Anindoor location-aware system for an iot-based smart museum. IEEE Internet ThingsJ 2016;3(2):244–53.[57]Xia H, Zuo J, Liu S, Qiao Y. Indoor localization on smartphones using built-insensors and map constraints. IEEE Trans Instrum Meas 2019;68(4):1189 –98. [58]Wu X, Shen R, Fu L, Tian X, Liu P, Wang X. ibill: using ibeacon and inertial sensorsfor accurate indoor localization in large open areas. IEEE Access 2017;5:14589 –99. [59]Molina B, Olivares E, Palau CE, Esteve M. A multimodal ﬁngerprint-based indoor positioning system for airports. IEEE Access 2018;6:10092 –106. [60]Giovanelli D, Farella E. Rssi or time-of- ﬂight for bluetooth low energy based localization? an experimental evaluation. In: 2018 11th IFIP wireless and mobilenetworking conference (WMNC). IEEE; 2018. p. 1 –8. [61]Renaudin V, Ortiz M, Perul J, Torres-Sospedra J, ì Jime
0nez AR, Pe0rez-Navarro A, Mendoza-Silva GM, Seco F, Landau Y, Marbel R, et al. Evaluating indoor positioningsystems in a shopping mall: the lessons learned from the ipin 2018 competition.IEEE Access 2019;7:148594–628. [62] Meshkova E, Riihijarvi J, Petrova M, Mahonen P. A survey on resource discoverymechanisms, peer-to-peer and service discovery frameworks. Comput Network2008;52(11):2097–128.https://doi.org/10.1016/j.comnet.2008.03.006 . [63]Deliverable D4.3: Research and Development Roadmap. Research-and-Development-Roadmap-1-Submitted.pdf. 2020 . [64] Cavoukian A. Privacy by design: leadership, methods, and results. Dordrecht:Springer Netherlands; 2013. p. 175 –202.https://doi.org/10.1007/978-94-007- 5170-5_8.P. Barsocchi et al. Array 9 (2021) 100051
13