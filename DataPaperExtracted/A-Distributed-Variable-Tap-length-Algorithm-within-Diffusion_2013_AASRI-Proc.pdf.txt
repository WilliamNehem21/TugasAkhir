 AASRI Procedia   5  ( 2013 )  77 – 84 
2212-6716 © 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research Institute
doi: 10.1016/j.aasri.2013.10.061 ScienceDirect
2013 AASRI Conference on Parallel and Distributed Computing Systems 
A Distributed Variable Tap-length Algorithm within Diffusion 
Adaptive Networks 
Leilei Lia*, Jingfeng Fenga, Jianhui Hea, Jonathon A. Chambersb 
aAcademy of Broadcasting Planning in SARFT, No. 2 FuXingMenWai Street Beijing, 10045, China 
b School of Electronic, Electrical & systems Engineeri ng, Loughborough University, Loughborough LE11 3TU, UK  
 
Abstract 
In this work, an adaptive algorithm with variable tap-length is proposed for diffusion networks, where all nodes exchange 
information with their connected group without a fusion center and utilize both exchanged information and their local 
observation to make their individual estimations. Based on a fractional tap-length solution and the fully distributed 
structure of networks, we propose the algorithm to resolve the estimation problems on both tap-length and tap-weights. 
The proposed algorithm with adaptive tap-length structure enables the networks to reduce communication energy and 
network resources. The convergence properties of this algorithm are confirmed by the simulation results. 
 
© 2013 Published by Elsevier B.V.  
Selection and/or peer review under responsibility of American Applied S cience Research Institute 
 
Keywords: variable tap-length, distributed algorithms, adaptive filters, diffusion networks; 
1. Background 
As an essential parameter in filter st ructure, tap-length makes an impact on the performance of an adaptive 
filter. The recent work [1] demonstrates  that an adaptive filter with deficient tap-length would makes the 
 
 
*  Corresponding author. Tel.: +8610-86092072; fax: +8610-86092645 . 
E-mail address:  lileilei@abp.gov.cn . 
 
Available online at www.sciencedirect.com
© 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research InstituteOpen access under CC BY -NC-ND  license.
Open access under CC BY -NC-ND  license.78   Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 mean-square-error (MSE) deteriorate; in order to avoid th is situation, we can select an adequate long tap- length at the steady-state stage, but it will cause the high calcualtion cost and the high excess mean-square- error (EMSE). Since the research [2] firstly utilized the variable tap-length to improve the performance of an adaptive algorithm, several research articles [3]-[5] on ad aptive tap-length algorithms have been presented. Compared with the previous algorithms, the fractional tap-length (FT) algorithm presented in [6] achieved a robust and improved performance with a low- complexity. In addition, the works [7, 8] also provided the analysis for the FT algorithm on the relation between  parameter selection and the steady-state performance.  Within the networks, the tap-length of the adaptive filter at each node is assumed as a fixed value in many applications of distributed adaptive algorithms [9, 10]. Nevertheless, when tap-length is unknown or variable  it gives rise to the tap-length estimation problem for distributed networks. The incremental adaptive algorithm with the fractional tap-length solution has been proposed be fore in the literature [11]. This algorithm is based on incremental learning over a distributed network, wher e a Hamiltonian cycle is built to make all the nodes communicate its neighbor at every iteration. The network topology is therefore determined by this type of connection. In order to resolve the tap-length estimation problem within networks with fully distributed structure, we introduce the fractional tap-length solution. In this type of network, each node not only communicates with its neighbors, but also experiences th e effect of the entire network. In this paper, the fractional solution is utilized in the proposed distributed variable tap-length algorithm to resolve the both tap- length and tap weights estimation problems in a di stributed diffusion network. We provide performance analysis for the new algorithm and provide simula tion results to confirm its convergence properties. The remainder of this work consists of 4 parts. Sec tion 2 provides the estimation problem which motivates us to formulate the proposed algorithm. And then, the steady-state performance of this algorithm is analyzed in Section 3. Section 4 shows that the simulation is carried out to confirm the analysis. In section 5, we draw the conclusions. 2. Motivation and Formulation Assume a network consists of 
N nodes, which are distributed over some area. When two nodes can exchange information with each other in a direct way, we regard them as connected. Each node can connect to itself. All the nodes communicating with node 
k are included in the its neighborhood, which is defined as 
k. The total number of neighbors of node k is denoted by kn. At each instant i, every node k receives the time measurements  
ikkuid,,of some random process ikki,,ud, which have relation to the unknown system vector 
ow of size oL as follows: 
iwikoikkvud,                                                                                                                                  (1) 
where ik,u is a 1oL  regressor  and ikv  is a temporally and spatially white noise sequence, i.e. 
2,kvijkllkjiEvv                                                                                                                               (2) where 
E is expectation operator and  indicates the Kronecker delta. The adaptation rules are decouple into the tap weights estimation and tap-length estimation to simplify the analysis so that tap weights and tap-length of 
ow are calculated respectively. The data are collected from all nodes 
Nk,...,1  into global matrices: 1   ,...,colNN1ddd , 1   ,...,colNN1vvv , 
oLN    ,...,col N1uuU , where col is used to make its elements in column. Therefore, we can rewrite the expression 
(1) as 79  Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 vUdow                                                                                                                                                (3) where 
*vvERv  and * is complex conjugate transposition.  Since the tap-length is unknown, we assume the estimate tap-length 
w as iL. In order to seek the optimal tap-length 
oL, we recall the linear minimum mean-square estimation problem [11]: 
2 and miniLiLiLiLwwEwJwJUd                                                                                            (4) where 
iLU  is a matrix of size iLN. Then, the segmented cost function is defined as 
2MMMwEwJUd , where M is defined as  iLM 1 , Mw and MUis composed of the initial M elements/column vectors of the corresponding quantity, respectively, as 
1                              ,...,1colMMwwwM                                                                                    (5) 
MNMMNM                 :1,...,:1col1 uuU                                                                                   (6) We resort to the mean-square errors estimation problem and exploit its minimum difference in order to obtain the optimal tap-length 
oL 
wJwJiLiLM |min                                                                                                                  (7) where 
 indicates a small positive value and is predetermined by system requirements. At time instant i, we define the segmented mean-square error and the mean-square error respectively as, 
   and   121121 iiLiiLiiLiiL wewJwewJ , where MiL is an integer to avoid the suboptimum tap-length during the learning process so that the value of 
 is generally more than one. We recall the standard pseudo fractional tap-length implementation for a single adaptive filter as in [6] 
1212 1iiLiiLff wewe iLiL                                                                                    (8) 
                otherwise    , 11if   , iLiLiLiLiLff                                                                                                      (9) where 
 is small positive value and denotes the leakage parameter utilized to avoid an undesirable large value of 
iLf,   denotes the step-size parameter for updating fractional tap-length iLf. Equation  (9) is used to calculate the integer estimate 
iL,  denotes rounding the included value to the nearest integer and the threshold 
, a small integer, is generally set as one.  The distributed concept is introduced for tap-length adaptation at each node 
k, and we can  rewrite  (8) as 
klfkklfkiLbil11,,,                                                                                                                    (10) 
1,2)1(1,2)1(,, )1()(ikiLikiLkkfkfk wewe iliL
k kk                                                           (11) 80   Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 where k and k indicate the local parameters,  1,ilfk  and 1,iLfk  denote the integrated and local fractional tap-length estimates, 
klb, is local weight coefficient for tap-length combination and the set of klb, satisfies  
 1,
klklb                                                                                                                       (12) and 
iLk is integer estimate tap-length, given by  
                otherwise    , 11if   , ,,
iLiLiLiLiL
k kfkkfkk                                                                                             (13) where 
k is the local small integer and 
kkikkkikkikiLiLwiLuidwe
kk:1:11,,1,                                                               (14) 
iLwiLuidwekikkikkikiLk:1:11,,1,                                                                                   (15) 
We note that equation (10) is a consultation step, where the integrated estimate ilfk, collects the estimates 
iLfk, from the neighbors of node k and combines them through the weights klb,. Equation (11) is a local tap-length adaptation step, where the local segmented error 
1,ikiLwe
kk and local error 1,ikiLwe
k are used to update the local fractional estimate 
iLfk,. Then, we used the distributed adaptation form described in [12, 13] to summarize the proposed algorithm below: 
klilklikwa1,,1,                                                                                                                                     
torcolumn vec 1 a  make and maxmax1,1.max L wsizeLikil  
1,,*,1,,ikikkikkikikuidu w                                                                                                            
klfkklfkiLbil11,,,                                                                                                                            
1,21,2,, 1ikiLikiLkkfkfk wewe iliL
k kk                                                                  (16) 
                otherwise    , 11if   , ,,
iLiLiLiLiL
kkfkkfkk                                                                                                 
torcolumn vec 1 a  make, iLwkik  where the operator 
size  is used calculate the length of column vector and the set of local weights kla, satisfies 
kklla 1, . The proposed algorithm introduced the combined functions for both tap-length estimation and tap-weight estimation in order to take advantage of the communications among nodes. 81  Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 3. Steady-state Performance Analysis 
Based on weighted spatial-temporal energy conservation arguments [12], we study the steady-state performance of the new algorithm. According to the works [6, 7], the solution of the fractional tap-length would be a fixed value in the steady-state. Therefore, we use the assumption that in the steady-state the estimate 
,kw  with the fixed size L~to simplify the analysis. Firstly, we introduce the stochastic quantities: 
iii N1ddd,...,col , iiiN1vvv,...,col ,  ,...,diag 1N,i,ii uuU and iNii,,1 ,...,col .             Using
 (1), we obtain 
iociiwvUd   with oocXww  and LLIIX~~,...,col  of size LLN~~                                                (17) Then, we can obtain a more compact state-space form of 
iw: 
1*1iiiiiiQCQwUdU  with LIAQ~ LNLN~ ~,LNLI I C ~~1 ,...,diag  LNLN~ ~    (18) where the 
NN diffusion combination matrix A consists of the elements kla,. The   operator is used to represent Kronecker products. Then, we introduce the weight error vector 
i*iii*iLNiociCQCI vUwUUwww1~~ ~                                                                                        (19) 
When we perform weighted energy balance on both sides and take expectation with the assumption that the regression data are temporally and spatially independent, we get the following variance relation: 
i*ii*iiiCCEEE vUUvww22
'~~                                                                                                       (20) 
QCCEQQCEQQECQQQi*ii*ii*ii*iUUUUUUUU****'                                         (21) 
For regressors from Gaussian data, we introduce the eigendecomposition *TTRu  with 
N ,...,diag1  and define the transformed quantities:  
iiTww~*, TiiUU ,  *TQTQ , *TT and *''TT .                                                                     Then we can rewrite the variance relations
 (20)-(21) and transform them to 
bEETii22
'ww                                                                                                                           (22) 
PCCICCIIQQFLNLNLNT~~~*22                                                             (23) 
where the  operator is used for  the block Kronecker product and 
bvec ,,...,diag1PPPN                                                                                                               (24) 82   Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 with lNllTllll P ,...,,...,diag1  where 1for complex data and 2 for real data.  We select the weighting matrix 
 and define the following spatial filtering matrices 
LkNLLkkqIS ~~~1,0,,0diag  and LkNkLkkS ~~1,0,,0diag                                                           where 
l0 denotes a  ll matrix with zero elements. We note that at each node k, the mean-square performance can be expressed as , 
MSD       ~2,2,
kkkEEww                                                                                                     (25) 
(EMSE)    ~2,2,
k kk kk EEww                                                                                                   (26) We exploit the above spatial filtering matrices and obtain the local steady state mean-square performance of node 
k 
MSD     bvec,-1kqTkSFIb                                                                                                        (27) 
(EMSE)     bvec,-1kTkSFIb                                                                                                     (28) 
4. Simulation 
The simulation results of the distributed algorithm ar e provided and compared with the theoretical performance. In an 
20N  nodes diffusion network with incremental cooperation, we seek an unknown system vector with 
10oL . The regressors at node k are drawn according to the equation 
icbiu ikkkkk1 , where 1,0k  and 22,1kkuk b . A first-order autoregressive (AR) process with a pole at 
k is generated by this equation and kc is a white Gaussian noise with mean 0kc and variance
12
kc .  
 
Fig. 1. Fractional tap-length versus nodes 83  Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 
 
Fig. 2. (a) Steady-state MSD versus nodes (b) Steady-state EMSE versus nodes 
The parameters for the algorithm (16) are given by: 1k , 05.0k , 3k , 1k . In the simulation, we set the step-size of the proposed algorithm as 
02.0k . The experiment is carried out by 100 independent Monte Carlo runs to obtain the simulated results. The steady-state results are averaged over the last 1000 instantaneous samples of 10000 iterations. Fig.1 illustrates the converged fractional tap-length throughout the network in the steady-state, with a difference of approximately 0.26 at 12.02. Therefore, as it is expected, in the steady-state the proposed algorithm can obtain a good estimate of the tap-length. Fig.2 shows the steady-state performance of the proposed algorithm.  The simulation results provide a good match with the theoretical curves. 
5. Conclusions 
We presented a distributed variable tap-length algorithm in a diffusion network. Our algorithm exploits the fractional tap-length solution, estimation theory and diffusion LMS distributed adaptive algorithm. In this work, we provide the analysis on the performance of the distributed algorithm and the simulation results, which agree well with the theoretical results.    
Acknowledgements 
This material was based on work supported by the National Science Foundation 61001169.  
Corresponding Author:  
Leilei Li, lileilei@abp.gov.cn, 13611389100. 84   Leilei Li et al.  /  AASRI Procedia   5  ( 2013 )  77 – 84 
 References 
[1] Mayyas K. Performance analysis of the deficient length LMS adaptive algorithm. IEEE Trans. on Signal Processing 2005; vol.53, no.8:2727-2734. [2] Pritzker Z, Feuer A. Variable length stochastic grad ient algorithm. IEEE Trans. on Signal Processing 1991; vol.39, no.4:977-1001. [3] Won YK, Park RH, Park JH and Lee BU. Variable LMS algorithm using the time constant concept. IEEE Trans. on Consumer Electron 1994; vol.40, no.3:655-661.  [4] Riera-Palou F, Norsa JM, Cruickshank DGM. Linear equalizers with dynamic and automatic length selection. Electronics Letters 2001; vol.37, no.25:1553-1554. [5] Gong Y, Cowan CFN. Structure adaptation of linear MMSE adaptive filters. Proc. Inst. Elect. Eng.- Vision, Image, Signal Process. 2004; vol.151, no.4,:271-277. [6] Gong Y, Cowan CFN. An LMS style variable tap-l ength algorithm for structure adaptation. IEEE Trans. on Signal Processing 2005; vol.53, no.7: 2400-2407. [7] Zhang Y, Li N, Chambers J, Sayed AH. Steady state performance analysis of a variable tap-length LMS algorithm. IEEE Tran. Signal Processing 2008; vol.56, no.2:839-845.  [8] Li L, Chambers JA. A novel adaptive leakage fact or scheme for enhancement of a variable tap-length learning algorithm. ICASSP 2008: 2837-2840. [9] Lopes CG, Sayed AH. Incremental adaptive strategies over distributed networks. IEEE Trans. Signal Processing 2007; vol.55, no.8:4064-4077. [10] Li L, Chambers JA. A new incremental affine projection based adaptive algorithm for distributed networks. Fast Communication in Signal Processing 2008; vol.88, no.10: 2599-2603. [11] Li L, Zhang Y, Chambers JA. Variable length adaptive filtering within incremental learning algorithms for distributed networks. Asilomar Conf. on Signals, Systems and Computers 2008: 225-229. [12] Lopes CG, Sayed AH. Diffusion least-mean squares over adaptive networks: Formulation and performance analysis. IEEE Trans. on Signal Processing 2008; vol.56, no.7:3122-3136. [13] Cattivelli FS, Sayed AH. Diffusion LMS Strategies for distributed estimation. IEEE Trans. on Signal Processing 2010; vol.58, no.3:1035-1048. 