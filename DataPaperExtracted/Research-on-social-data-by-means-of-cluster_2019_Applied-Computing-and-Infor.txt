Original Article
Research on social data by means of cluster analysis
Camila Maionea, Donald R. Nelsonb, Rommel Melgaço Barbosaa,⇑
aInstituto de Informática, Universidade Federal de Goiás, Goiânia, Goiás, Brazil
bDepartment of Anthropology, University of Georgia, Athens, USA
article info
Article history:Received 13 December 2017Revised 20 February 2018Accepted 20 February 2018Available online 21 February 2018Keywords:ClusteringSocial dataClassiﬁcationPamData miningabstract
This paper presents a data mining study and cluster analysis of social data obtained on small producersand family farmers from six country cities in Ceará state, northeast Brazil. The analyzed data involvedemographic, economic, agriculture and food insecurity information. The goal of the study is to establishproﬁles for the small producer families that reside in the region and to identify relevant features whichdifferentiate these proﬁles. Moreover, we provide an efﬁcient data mining methodology for analysis ofsocial data sets which is capable of handling its natural challenges, such as mixed variables and abun-dance of null values. We use the Silhouette method for the estimation of the best number of naturalgroups within the data, along with the Partitioning Around Medoids clustering algorithm in order to com-pute the proﬁles. The Correlation-Based Feature Selection method is used to identify which social criteriaare the most important to differentiate the families from each proﬁle. Classiﬁcation models based on sup-port vector machines, multilayer perceptron and decision trees were developed aiming to predict inwhich of the identiﬁed clusters an arbitrary family would be best ﬁt. We obtained a good separationof the families into two clusters, and a multilayer perceptron model with approximately 93.5% predictionaccuracy./C2112018 The Authors. Production and hosting by Elsevier B.V. on behalf of King Saud University. This is anopen access article under the CC BY-NC-ND license ( http://creativecommons.org/licenses/by-nc-nd/4.0/ ).
1. IntroductionThe Brazilian law (Lei 11.326, 2006) deﬁnes the family farmer asthe family which practices agricultural activities in a rural area thatis not larger than four ﬁscal modules and uses predominantly thefamily’s own labor in their business activities. Moreover, accordingto the law, the income of a family farmer must be originated fromactivities related to their own business, which must be ran by thefarmer and his family. According to Guanziroli [15], in 2001, family-based agriculture in Brazil was so far responsible for almost40% of the total agricultural production, and accounts for 76.8% ofagricultural employment.Most of the family-based agriculture in Brazil is consolidated inthe Northeast region. However, the family farmers which reside inthis region face various challenges related to the soil and climate.Approximately 70% of the semiarid region is above the crystallinebasement where soils are generally shallow and with low waterinﬁltration capacity, which limit the development of agriculture[16]. Furthermore, the Northeast region frequently suffers fromdrought, resulting in insufﬁcient or irregular distribution of rain-fall, which cannot keep the soil moist enough during periods longerthan the harvest cycle[8]. In addition, the income distributionamong the farmer families in the region appears to be deﬁcient.In 2006, family-based agriculture in the Northeast region was com-posed of more than 4,500,000 farmers; only around 450,000 ofthem comprised the most capitalized group, with a annual incomeof more than 53,000 reais, while more than 2,500,000 farmers sur-vived only on subsistence activities, with an annual monetaryincome of approximately 255 reais [16]. One possible way to identify categories among these familiesand to gain insight on the most important factors for this divisionis the analysis of social data regarding these families by clusteranalysis and data mining techniques. Data mining is a process ofdiscovery of useful information and hidden patterns in databases,widely used in recent research in various ﬁelds such as food science[3,4,26,27], agriculture[28,29], social media[2,17], business and customer management[30], sports[6]and others. However, the analysis of social data sets present some challenges derived fromthe manner in which they are gathered and stored. Social data sets
https://doi.org/10.1016/j.aci.2018.02.0032210-8327//C2112018 The Authors. Production and hosting by Elsevier B.V. on behalf of King Saud University.This is an open access article under the CC BY-NC-ND license ( http://creativecommons.org/licenses/by-nc-nd/4.0/ ).⇑Corresponding author address: Alameda Palmeiras, Quadra D, CâmpusSamambaia, Instituto de Informática, CEP 74690-900 Goiânia, Goiás, Brazil.E-mail address:rommel@inf.ufg.br(R.M. Barbosa). Peer review under responsibility of King Saud University.
Production and hosting by ElsevierApplied Computing and Informatics 15 (2019) 153–162
Contents lists available atScienceDirect
Applied Computing and Informatics
journal homepage: www.sciencedirect.com
are composed of many mixed variables, which restrain the directapplication of one the most popular clustering algorithms, the K-means. There is also a large quantity of null values distributedamong the data that must be handled. Due to the exploratory nat-ure of the analysis that we wish to conduct, the number of naturalgroups existing within the data is unknown a priori, and many clus-tering techniques require this value as an input parameter.This study presents a data mining study which aims to establishproﬁles for the family farmers residing in Northeastern Brazil. Theproposed methodology include data mining, cluster analysis andvariable selection techniques in order to identify proﬁles amongthe analyzed families based on demographic, economic, agricul-tural production and food insecurity information. We focus ourstudy on family farmers from six municipalities from the state ofCeará. We identiﬁed homogeneous groups within the availabledata, aiming to ﬁnd which families are relatively similar in termsof the gathered information and which of these social criteria aremore relevant for the differentiation of the family groups. We builtclassiﬁcation models capable of predicting in which of thesegroups an arbitrary family would be best ﬁt. Decision rules wereemployed to aid the interpretation of the clustering results.Finally, this paper presents the following contributions:/C15We conducted a data analysis of social information in order toidentify proﬁles of small farmer families from the state of Ceará,using statistical and machine learning techniques from datamining and cluster analysis;/C15We provide a data mining methodology which is capable ofhandling challenges inherent to social data sets, such as mixedvariables, abundant null values and the absence of informationabout the number of natural groups within the data.The content of this paper is organized as follows: Section 2 describes the methodology employed, the data set, concepts andalgorithms used; Section3details the results obtained; Section 4 brings the conclusion.2. MethodologyThe analyzed data was obtained from research conducted on476 households distributed around six country cities from theCeará state: Barbalha, Guaraciaba do Norte, Boa Viagem, Limoeirodo Norte, Itarema and Parambu (Fig. 1). Each family was evaluated by a questionnaire composed of 79 questions regarding demo-graphic, economic, agricultural production and food security infor-mation. The answers for the questions were deﬁned as the featuresfor the data set. Some important questions (features) are listed inTable 1. The number of evaluated families from each city is similar:80 from Barbalha, 80 from Boa Viagem, 80 from Guaraciaba doNorte, 79 from Itarema, 79 from Limoeiro do Norte and 78 fromParambu. Data were collected in 2012 over a 1-month period, aspart of a research project focused on understanding householddrought vulnerability. The six municipalities selected each repre-sent one of the agro-ecological zones in the state. Questions weredeveloped based on a sustainable livelihoods approach [34], which categorizes ﬁve types of capital – social, natural, ﬁnancial, humanand physical – and provides a framework for understanding theirrelationships. The respondents were randomly selected from a listof farmers that were provided by the local Farm Workers Syndi-cate, which contains an almost exhaustive list of farmers Table 2.2.1. Knowledge discovery using data mining and cluster analysisThe ﬁrst step of the analytical procedure was to identify rele-vant groups of the interviewed families based on a similarity factorrelated to the nature and domain of the social questions involved.For this matter, we employed cluster analysis concepts andtechniques.Data mining refers to the process of automatic discovery of use-ful information in large databases [35]. Data mining techniques merge machine learning, statistical calculation, linear algebra andmathematic optimization concepts in order to uncover hidden pat-terns in data. Machine learning is a fundamental procedure for datamining processes as it generates smart algorithms capable of dis-covering patterns and information in data bases automatically,which aid decision making[5].Cluster analysis is a data mining process which consists individing the samples into groups (clusters) based on informationfound within the data which describes these samples and its rela-tionships[35]. Samples belonging to the same cluster must show asimilarity pattern among them while being as dissimilar as possi-ble from samples associated to other clusters.Due to the nature of social data and the way they are usuallyobtained and stored, the application of clustering techniques on thiskind of data proves challenging. Research on social data is usuallyconducted through the use of structured forms which bring a num-ber of questions to be answered by the members of the observedpopulation. Once collected, these data are stored in spreadsheetsor plain text. The conversion of these ﬁles to data matrixes usually
generates columns of mixed types, including numeric, categoricand ordinal variables. Moreover, ﬁelds that are not ﬁlled are mappedinto null values, which represent obstacles for data analysis.Some recent research brings methodologies and techniques forhandling the problem of data sets with variables of mixed typesduring cluster analysis[1,21,32]. Another point to be observed isthat, in this study, we conduct an exploratory analysis where wehave no pre-established models or hypotheses regarding the data[22]. Most clustering techniques require the number of clustersas an input parameter, and in our case this number is not knowna priori. We employed the Silhouette method which aids in theestimation of the best number of clusters within the data set.2.1.1. Estimating the best number of clustersIn this study, we used the Silhouette method [33]to estimate the best number of natural clusters within the data set. Silhouetteis a graphical display method for clustering algorithms. Each clus-ter is represented by a silhouette which is designed based on sim-ilarity and dissimilarity between the samples. The silhouetteshows which samples are well placed in the clusters and whichsamples are ﬂoating between two or more clusters. The entire par-tition is shown in a single plot as a combination of silhouetteswhich allows visualization of the quality of the clusters. The bestnumber of clusters can be estimated by computing the averageweigth of the silhouettes designed for a range of partitions withdifferent numbers of clusters.Consider aðiÞas the average distance between the sample iand the other samples in the same cluster as i. For all other clusters C
k, kbeing the number of clusters, dði;CÞis the average distance betweeniand the other samples in C
k. The minimum value of dði;CÞ, given by bðiÞ:¼min
cdði;CÞ, is the distance betweeniand the nearest cluster. Hence, sðiÞis computed as:
sðiÞ:¼bðiÞ/C0aðiÞmaxðaðiÞ;bðiÞÞ
Samples with show high values for sðiÞare well clustered, otherwise they are probably placed between two or more clusters, and sam-ples with negative values for sðiÞare placed in wrong clusters. Thequality of a cluster can be estimated by computing the averagevalue of sðiÞfor all samples associated to it.154 C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162In order to choose the best number of clusters, we selected arange of possible values, F¼f2;...;ng. For each k2F, a clustering algorithm divides the data set inkclusters, and the average silhou-ette avgðsðiÞÞ
kis computed for allkclusters. To conclude, the ﬁnal averageP
nk¼2mediaðsðiÞÞkis computed and selected as the bestnumber of clusters for the data set.2.1.2. Partitioning around medoids (PAM)The clustering algorithm selected was the PAM [24], an exten- sion of the K-means algorithm. K-means is an antique clusteringalgorithm which is still very popular due to its speed, efﬁciencyand simplicity[22]. This method searches forkcenters within the data set which minimizes the total sum of the squared dis-tances between each sample and its nearest center. The K-meansis executed in the following steps:1. Randomly chooseksamples from the data set as the initialcentersC={c
1,c2,...c k}.2. For eachi2{1,...,k}, set the clusterCias the subset of samples which are nearest toc
ithan to any other centerc jfor allj–i. 3. For eachi2{1,...,k}, updatec
ito be the center of mass of allsamples inC
i.4. Repeat Steps 2 and 3 until no changes are observed in Cor a maximum number of iterations is reached.Although K-means is currently the best-known and most usedclustering algorithm, it has the key limitation of working withnumerical values only, which makes its application on our mixeddata set unfeasible. We opted for the use of the PAM algorithm,which implements the K-medoids[23]clustering algorithm. K-medoids is similar to K-means, but more robust and lesssensitive to outliers. The k-medoids algorithm is based on ﬁndingkrepresentative samples within the data set, called medoids, andthekclusters will be constructed through the association of eachsample to its nearest representative object. K-medoids can alsoreceive a dissimilarity matrix instead of the data, a matrix which
Fig. 1.Map of Ceará state. The six cities of origin of the family farmers analyzed (Barbalha, Guaraciaba do Norte, Boa Viagem, Limoeiro do Norte, Itarema and P arambu) and the capital, Fortaleza, are highlighted.C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162 155Table 1Type and description of the descriptive variables, which correspond to information obtained on 476 family farmers from six country rural towns in Cea rá state.
Identiﬁcação Tipo DescriçãoMunicipality Categoric City where the family resides inF_1 Binary Household has saving accountF_2 Binary Household received credit in the pastF_4 Binary Household received remittancesF_6 Binary Household never received Bolsa FamíliaH_1 Binary Household has access to health servicesH_5 Binary School enrollmentH_5a Binary Household has kids in school ageN_1 Binary Household own their own landN_3 Binary Household own more land than they cultivateN_4 Nominal Dependability of irrigation sourceN_5 Nominal Household have made land improvementsN_7 Binary Household has running waterM_3 Binary Household owns a car or motorcycleM_4 Binary Household uses a tractorS_2c Binay Household provided support to other familiesS_2d Binary Household received support from other familiesAS_1 Ratio Number of plots of agricultural landAS_5 Binary Household has total subsistence crop lossP_1 Binary Household participated in ‘‘Hora de Plantar” government seed distribution programP_2 Binary Household has knowledge of PAA (government food purchasing program)P_4 Binary Household has knowledge of crop insurance programP_5 Binary Household participated in crop insuranceP_6 Binary Household used loaned farm equipmentP_7 Binary Household participated in PAAFS_3 Binary Household has insufﬁcient quantity of foodFS_4 Binary Household has food of insufﬁcient qualityMG_1 Binary Household has an individual that migrated in the past and has returnedMG_4 Binary Household has an individual that is a current migrantMG_6 Nominal Types of migrants in the householdAG_1 Binary Household planted corn or beans for subsistenceAG_2 Binary Household planted other subsistence cropsAG_3 Binary Household planted horticultureAG_4 Binary Household planted cash cropsAG_5 Binary Household planted fruit cropsF_3 Numeric Per capita annual incomeF_3a Numeric Per capita annual income, inﬂation adjustedF_5 Numeric Per capita livestock assetsH_2 Ratio Dependency ratioH_3 Ratio Percentage of adults older than 17 that have ﬁnished high schoolN_2 Numeric Quantity of land cultivated in hectaresM_1 Ordinal Number of pieces of farm equipment ownedM_2 Ratio Asset indexM_2a Ratio Household asset indexM_2b Ratio Age productivity asset indexM_5 Numeric Number of agricultural technologies usedS_1 Numeric Number of social groups that the household belongs toS_2 Ratio Frequency of given and received supportS_2a Ratio Frequency of support givenS_2b Ratio Frequency of support receivedLS_1 Numeric Number of sources of income per capitaLS_2a Ratio Percentage of total income from climate sensitive sourcesLS_2b Ratio Percentage of total income from climate neutral sourcesLS_2c Ratio Percentage of total income from Bolsa Família cash transfer programLS_2d Ratio Percentage of total income from social securityLS_3 Ordinal Drought impacts on household relative to other households in the areaAS_2 Ordinal Soil quality indexAS_3 Ratio Number of crop typesFS_1 Ordinal Food security indexFS_2 Ratio Acess indexMG_2 Numeric Number of migration episodes in the past per householdMG_3 Numeric Maximum number of individual migration episodesMG_5 Numeric Number of current migrantsMG_7a Numeric Sum of individuals in household that migrated to city seatMG_7b Numeric Sum of individuals in household that migrated to another cityMG_7c Numeric Sum of individuals in household that migrated to Fortaleza (capital of Ceará)MG_7d Numeric Sum of individuals in household that migrated to another stateMG_7e Numeric Sum of individuals in household that migrated to another countryR_1 Numeric Annual household income from climate sensitive sourcesR_2 Numeric Annual household income from social securityR_3 Numeric Annual household income from Bolsa FamíliaR_4 Numeric Annual household income from climate neutral sourcesR_1a Numeric Annual household income from climate sensitive sources, inﬂation adjustedR_2a Numeric Annual household income from social security, inﬂation adjustedR_3a Numeric Annual household income from Bolsa Família, inﬂation adjustedR_4a Numeric Annual household income from climate neutral sources, inﬂation adjusted156 C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162stores pairwise distances between the samples. The medoid of acluster will be the sample from this cluster such that the averagedissimilarity between this sample and the other samples in thissame cluster is as small as possible, instead of the squared sumof Euclidian distances computed by the K-means. The algorithmis executed in two steps, BUILD and SWAP. In BUILD phase, aninitial clustering is performed by the successive selection of krep- resentative samples. The ﬁrst sample selected must present theleast average dissimilarity possible from the other samples and,therefore, should be located at the center of mass of the dataset. The nextk/C01 samples are selected in order to decreasethe objective function value, following the steps:1. Considerias an unselected sample.2. Considerjan unselected sample. Compute the differencebetweenD
j(dissimilarity betweenjand the nearest selected sample) andd(j,i) (dissimilarity betweenjandi). 3. If the computed difference is positive, compute the contributionofjto the decision ifishould be selected, given byC
ji¼maxðD j/C0dðj;iÞ;0Þ.4. Compute the total gain obtained if iis selected given byP
jCji. 5. Select the unselected sampleiwhich satisﬁes max
iP
jCji.The SWAP phase tries to optimize the set of selected represen-tative samples. Consider all pairs ( i,h) of selected sampleiand uns- elected sampleh. In order to decide ifishould be swaped withh, the following equations and steps are performed:1. Consider an unselected sample jand compute its contributionC
jihto the swap:a. Ifjis more distant fromiandhthan from the other represen-tative samples, C
jihis zero.b. Ifjis not more distant fromithan from the other represen-tative samples,dðj;iÞ¼D
j;i. Ifjis nearest tohthan to the second nearest representativesample, (dðj;iÞ<E
j, where E jis the dissimilarity betweenj and the second nearest representative sample), the contribu-tion ofjto the swap betweeniandhis given by C
jih¼dðj;hÞ/C0dðj;iÞ.ii. Ifjis equally distant fromhthan from the second nearestrepresentative sample, (dðj;iÞPE
j), then the contribution ofito the swap is C
jih¼E j/C0D j.iii. Ifjis more distant fromithan from at least one of the otherrepresentative samples, but nearest to hthan from any other representative sample, the contribution of jto the swap is Cjih¼dðj;hÞ/C0D j.2. Compute the ﬁnal result of the swap by adding the contribu-tions T
ih¼PjCjih.3. Select the pair (i,h) which satisﬁes the function min
i;hTih. 4. If the minimum value ofT
ihis negative, swap and return to step1. Otherwise, the swap is considered undesirable and the algo-rithm ends.2.1.3. Dissimilarity matrix calculationThe dissimilarity matrix which PAM algorithm receives as inputparameter can be computed using the Daisy function detailed by[24]. This function accepts mixed data types, including numeric,categoric, ordinal, symmetric and asymmetric binary values, whichis useful for the data set we analyze in this study. In order to handlemixed variables, Daisy uses the Gower dissimilarity coefﬁcient[14]. Each variable is normalized by dividing each value by therange of values of the corresponding variable, after the subtractionof the minimum value. Thereafter, the variable will be scaled to[0,1]. Null values are discarded from the calculation.The Gower coefﬁcient computes the distance between two sam-plesiandjas the weighted average of the contributions of eachvariable, given by the equation:
dij¼dði;jÞ¼Ppk¼1wkdkijdkij
Ppk¼1wkdkij
whered ijis the weighted average ofdkij,w kdkijare the corresponding weights,d
kijis 0 or 1, anddkijis thekth contribution of the variable forthe total distance. The weightd
kijis 0 when variablekpresents a null value foriorj, or 1 otherwise. The contribution d
kijof a categoric variable for the total distance is 0 if both values are equal 1, or 0otherwise. For the other types of variable, the contribution is thedifference between the two values divided by the range of valuesof the variable.
2.2. Data classiﬁcationIn addition to cluster analysis, data mining also offerstechniques to perform predictive analyses called classiﬁcation.Classiﬁcation models implement supervised learning, in which acertain information represented by a class label of an unknownsample can be predicted based on previous observation of labeledsamples. These labeled samples are also called training set. Theﬁnal product of supervised learning is a classiﬁer that ismathematically described by a function ^f:X!ftrue;falsegwhich uses a subset ofDand^fðxÞﬃfðxÞ, being D a set of labeled samples andD¼f ðx;yÞjx2Sey¼fðxÞgfor a labeling function f:X!ftrue;falseg[20].After clustering the data, we developed classiﬁcation modelscapable of predicting in which cluster an arbitrary family wouldbe associated to. We selected three of the most popular classiﬁca-tion models in the data classiﬁcation literature: artiﬁcial neuralnetworks, support vector machines and decision trees.2.2.1. Decision treesDecision trees[31]refers to one of the oldest classiﬁcation mod-els. Each variable of the data set is individually questioned, and allthe questions and answers can be arranged in a hierarchical struc-ture called a tree. Each node of the tree refers to a variable, andeach edge originated in a node represents a value, or a range ofTable 2Best features determined by the CFS method.
Feature Type DescriptionF_2 Categorical Household received credit in the pastF_3 Numeric Per capita annual incomeF_6 Categorical Household never received Bolsa FamíliaH_1 Categorical Household has health accessS_2a Numeric Frequency of support givenS_2c Categorical Household gave support to other familiesLS_2C Numeric Percentage of total income from Bolsa Família cashtransfer programLS_2D Numeric Percentage of total income from social securityP_5 Categorical Household participated in crop insuranceFS_1 Numeric Food security indexFS_2 Numeric Access indexFS_4 Categorical Household has food of insufﬁcient qualityR_2 Numeric Annual household income from social securityR_2A Numeric Annual household income from social security, 2012inﬂation adjustedR_3A Numeric Annual household income from Bolsa Família, 2012inﬂation adjustedAG_1 Categorical Household planted corn or beans for subsistenceC. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162 157values, for the variable represented by the node. Leaf nodes storethe class labels, the ﬁnal point of the classiﬁcation. Whenever anew test sample is analyzed, each one of the variables are ques-tioned, following a preexisting path along the tree until a leaf nodeis reached and its corresponding class label is set as the class labelpredicted for the analyzed sample. The recursive Hunt algorithm isone of the most commonly used algorithms for building decisiontrees. The idea behing it is that the nodes of the tree should bearranged in order to maximize the information gain, i.e., the ques-tioned variables should be capable of dividing the data set in purepartitions, with larger frequencies of a determined class.Another advantage of decision trees is the ease of visualizationand interpretation. The decision rules exposed on the paths allowus to generate hypotheses regarding the individual inﬂuence ofeach variable in the classiﬁcation process. Therefore, although theyare used primarily as classiﬁcation models, in this study weemploy decision trees in order to interpret the clustering resultsand visualize which variables are the most relevant to the separa-tion of the clusters[25,35].2.2.2. Support vector machinesSupport vector machine (SVM) is a popular classiﬁcation modelin the recent data mining literature due to its efﬁciency and empir-ical success. Data sets usually have more than one decision bound-ary capable of dividing the data in the n-dimensional space, andthe goal of SVM is to compute the hyperplane with the largest mar-gin possible to act as a decision boundary [35]. When applied to data that is linearly separable, the decision boundary has a linearrepresentation given by the equation:
w/C1xþb¼0
wherexrefers to the variable set of an arbitrary sample e,andwis a set of weights whose linear combination gives the class label yfore. The width of the decision boundary margin is given by the distancebetween the two parallel hyperplanes (support vectors) whichtouch the samples from each class that is nearest to the decisionboundary, and is deﬁned as[7,10]:
d¼2jjwjj
Finally, the goal of SVM is to ﬁnd the decision boundary with thelargest margin possible, which means minimizing the followingobjective function:
min wjjwjj2
2
When handling data that is not linearly separable, SVM projects thedata from its original n-dimensional space into a new space wherethe samples can be separated by a linear decision boundary. Thisprocess is achieved with the aid of kernel functions K(x,y). Kernel functions express the similarity between two samples in the newtransformed dimensional space according to their dot product. Inthis study, we use the radial basis kernel function (RBF) to trans-form the data, given by the equation:
Kðx;yÞ¼expð/C0 cjjx/C0yjj2Þ
2.2.3. Artiﬁcial neural networksArtiﬁcial neural networks are inspired in the cognitive systemand neurological functions of the human brain, simulating its neu-ron and links. A neuron has a ﬁlament called axon which connectsto another neuron through dendrites, and the connection point iscalled synapse. Similarly, a classiﬁcation model based on artiﬁcialneural networks is composed of interconnected nodes [35]. In thisstudy, we use a classiﬁcation model of this family called MultilayerPerceptron (MLP).A perceptron is a structure composed of ninput nodes that receive the values from the feature variables which describe thesamples. Each node from this initial layer is linked to the outputnode through an edge that is associated to a weight value w. The output value is determined by the equation:f¼Xnk¼1wkxk !/C0t
The class label is 1 iff>0 and 0 otherwise. The model’s perfor-mance can be improved by systematic adjustments in the weigthvaluesw
1;w2;...;w n. The MLP has hidden layers between the initiallayer and output layer which works with backpropagation: the pre-diction errors obtained during the training phase are backpropa-gated to the previous layers, and this error value is used to adjustthe weights in each edge. The training phase with the implementa-tion of the backpropagation is summarized in the following steps[13]:
1. Initialize the neural network with the weight values in eachedge2. Read the ﬁrst input sample3. Propagate the feature values of the given samples through theneural network until an output value is obtained4. Compute the error value by comparing the output valueobtained with the expected output value5. Propagate the error back through the network6. Adjust the weigth values in order to minimize the overall clas-siﬁcation error7. Repeat steps 2–7 for new training samples, until the overallerror is minimized2.2.4. Evaluating the performance of classiﬁcation modelsThe evaluation of classiﬁcation models is performed by using aset of training samples to train the model and a set of test samplesformed by unknown samples to test it. In the k-fold cross valida-tion method, the data set D is randomly divided into kmutually exclusive subsetsD
1;D2;...;D k(folds) of equal or similar size.The classiﬁcation model is trained and tested ktimes, and in each iterationt2f1;2;...;kg, the foldsD/C0D
tare used to train the model and the remaining foldD
tis used to test it[12]. Given the classiﬁcation results obtained during each test phase, the accuracyof the model is computed as:
Accuracyð%Þ¼cn/C2100%
wherecis the number of test samples which were correctly classi-ﬁed, andnis the total number of test samples. The ﬁnal accuracy ofthe model estimated by the k-fold cross validation is the average ofall accuracies obtained in each iteration.
2.3. Feature selectionFeature selection is a data mining process which aims for theremoval of feature variables which are considered unimportantof the classiﬁcation. In general, we say that a feature is consideredimportant for the analysis if it is relevant and irredundant [9].A variable is considered redundant when it presents high depen-dence to the other variables and the information contained in itcan be expressed by a fewer number of these variables. A variableis considered irrelevant when the information it contains does notcontribute to generate hypotheses regarding the samples withrelation to their class labels. The removal of such variables can158 C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162improve the accuracy of classiﬁcation models, reduce outliers andsimplify the analysis[11,18].2.3.1. Correlation Based Feature SelectionCFS (Correlation Based Feature Selection) is a feature selectionmethod proposed by Hall[19]which employs a heuristic basedon correlations to estimate the importance of a subset of features.This method generates subsets with different combinations of fea-tures, and each subset is evaluated by the following Pearson corre-lation equation:
Ms¼krcfﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃkþkðk/C01Þrffp
beingkthe total number of features,M sis the merit of a feature subsetS,
rcfis the average correlation between the features andthe class label, and
rffis the average intercorrelation between thefeatures. Irrelevant features present low value for
rcfand redundant features present high value for
rff, and both cases lead to a mini-mization of theM
svalue. Finally, the feature subset which achievedthe highest merit is selected as the best feature subset.
3. Results3.1. Groups identiﬁedThe ﬁrst step of the analysis was estimating the empirically bestnumber of clusters within the data set. We determined the averagewidth of the silhouette for 2–50 clusters, and we found that theanalyzed families could be divided into a best number of 2 clusters.The PAM clustering algorithm was applied, and the data wasdivided into 2 clusters of 224 and 252 samples, respectively. A t-SNE (t-Distributed Stochastic Neighbor Embedding) graph for thepartition is presented inFig. 2, allowing the visualization of theformed clusters in a bidimensional plot. The frequency of familiesfrom each city in the clusters is shown in Figs. 3 and 4. InFig. 3, we can see that families from Barbalha and Parambucities are more frequent in Cluster 1, corresponding to 21% and20% respectively of the total families associated to this cluster. Thispercentage varies between 10% and 17% for the other cities. Fami-lies from Guaraciaba do Norte are less frequent in this cluster,accounting for 10% of the families. This scenario is reversed forCluster 2, presented inFig. 4. This cluster has more families fromGuaraciaba do Norte (23%) and fewer families from Barbalha andParambu (13% both).Figs. 5–10bring another visualization of thisresult, presenting the frequency of the two clusters in each city. Asa matter of fact, we can see that families from Boa Viagem ( Fig. 6)
Fig. 2.The t-SNE bidimensional graph for the found clusters.
Fig. 3.Frequency of cities in Cluster 1. 21% Barbalha, 17% Boa Viagem, 10%Guaraciaba do Norte, 16% Itarema, 16% Limoeiro do Norte, 20% Parambu.
Fig. 4.Frequency of cities in Cluster 2. 13% Barbalha, 16% Boa Viagem, 23%Guaraciaba do Norte, 17% Itarema, 17% Limoeiro do Norte, 13% Parambu.
Fig. 5.Barbalha. 60% Cluster 1, 40% Cluster 2.C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162 159and Itarema (Fig. 7) are equally distributed in both clusters. Fami-lies from Guaraciaba do Norte were mostly associated to Cluster 2(72%), and families from Barbalha were mostly associated to Clus-ter 1 (60%).3.2. Feature selection and classiﬁcationAfter determination of the clusters, we considered the clustervalue of each sample as class label and proceeded to develop clas-siﬁcation models capable of predicting in which cluster a new,unknown family, would be associated to. We also applied the CFSalgorithm to determine the most relevant features which differen-tiate the families of the two clusters. The best feature subset esti-mated by the CFS is shown inTable 1.The prediction results obtained by the classiﬁcation modelbefore and after feature selection are presented in Table 3. It is vis- ible that both SVM and MLP models achieved best accuracy whenall feature variables are used for training. The classiﬁcation modelwhich achieved the best performance was the MLP with 93.48%prediction accuracy when all variables are used.
Fig. 6.Boa Viagem. 49% Cluster 1, 51% Cluster 2.
Fig. 7.Guaraciaba do Norte. 28% Cluster 1, 72% Cluster 2.
Fig. 8.Itarema. 46% Cluster 1, 54% Cluster 2.
Fig. 9.Limoeiro do Norte. 44% Cluster 1, 56% Cluster 2.
Fig. 10.Parambu. 56% Cluster 1, 44% Cluster 2.160 C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–1623.3. Interpretation and discussionWe used Weka software (version 3.6) to build a decision treeconsidering the cluster value of the samples as class label and onlythe most important features determined by the CFS as input vari-ables. The algorithm employed was the C4.5, which yielded85.5% prediction accuracy. The structure of the decision treeachieved is shown inFig. 11.The ﬁrst feature selected by the C4.5 to divide the samples andwhich present the highest information gain is R_2 (annual house-hold income from social security), which means that we can orga-nize the results in two cases: when the families have annualhousehold income from social security relatively higher than theothers (> R$5598), and otherwise.Considering the families which have annual income from socialsecurity higher than R$5598, we observe the following patterns:/C15Cluster 1: in this cluster, the families with higher income fromsocial security give support to others more frequently, other-wise they are characterized by a minimum access index./C15Cluster 2: in this cluster, the families with higher income do notgive support to others frequently, and have higher access indexthan the families with higher income associated to Cluster 1.Considering the families which have annual income from socialsecurity less than R$5598, we observe the following patterns:/C15Cluster 1: in this cluster, families with lower income from socialsecurity have the minimum value of food security index (1), butthey give support to other families more frequently./C15Cluster 2: in this cluster, families with lower income from socialsecurity have a higher food security index, and families withlow food security index do not give support to other familiesfrequently.An individual analysis of the variables and decision rules pre-sented in the tree’s structure lead us to the following conclusions:/C15Annual household income from social security (R_2): Consider-ing the prediction error rate, the tree shows that a total of 160families (71%) associated to Cluster 1 have income from socialsecurity higher than R$5598, while only 43 families (17%) ofthe families in Cluster 2 have income from social security alsohigher than this value. Therefore, the majority of families asso-ciated to Cluster 1 have income from social security higher thanfamilies associated to Cluster 2./C15Food security index (FS_1): This variable considers wheneverthe family has income from social security lower than R$5598.Given the 64 families from Cluster 1 which have this income,48 families (21% of the total of families of Cluster 1) are charac-terized by minimum food security index. On the other hand, inCluster 2, 173 families (69% of the total of families associated toCluster 2) have income from social security lower than R$5598and food security index higher than the minimum. Therefore, inthe few cases where a family from Cluster 1 has relatively lowincome from social security, it is likely that its food securityindex is also minimum. Moreover, the majority of families fromCluster 2 have income from social security lower than the fam-ilies from Cluster 1, however, they present higher food securityindex overall./C15Household gave support to other families (S2_c): This variable isalways considered to determine if a family belongs to Cluster 1.Around 70% of the families associated to Cluster 1 do give sup-port to other families. Considering the remaining 30% familiesthat do not give support, 13% have relatively high income fromsocial security, but are characterized by the minimum accessindex (FS_2), and 11% have relatively low income from socialsecurity and minimum food security index. For Cluster 2, wecan see that, considering the 43 families who have income fromsocial security higher than R$5598, 32 of them did not give sup-port the other families. Therefore, we can conclude that familiesassociated to Cluster 1 usually gave support to other families.Overall, the majority of families from Cluster 1 receive incomefrom social security higher than the families in Cluster 2, and gavesupport to other families even in the rare cases where they showlower income from social security and minimum food securityindex. When families of this cluster did not gave support, they pre-sent a minimum access index. As discussed previously, the major-ity of families from Barbalha (60% of the analyzed families) andParambu (56%) belong to this cluster.On the other hand, families from Cluster 2 received lowerincome from social security, but they had a higher access indexwhen they received lower income, and present higher food secu-rity index when the income from social security was low. As dis-cussed previously, most families from Boa Viagem, Guaraciaba doNorte, Itarema and Limoeiro do Norte are associated to this cluster– approximately 51%, 72%, 54% and 56%, respectively.4. ConclusionWe presented a data mining study and cluster analysis of socialdata obtained from small producers and family farmers from sixmunicipalities in Ceará state, Northeastern Brazil. The social datawere obtained through research conducted directly with the fam-ilies, which involved personal questions regarding demography,economics, agricultural production, and food security. The answersobtained were used as feature variables for our analysis. In order towork with this challenging data, we employed a methodology cap-able of handling variables of mixed types and null values. We esti-mated the best number of clusters within the data with theSilhouette technique, and the PAM clustering algorithm wasemployed in order to partition the data in the clusters. With the
aid of the C4.5 decision tree, we observed that, overall, familiesfrom Cluster 1 received higher income from social security thanthe families associated to Cluster 2, and gave more support to otherTable 3Accuracy values achieved by the classiﬁcation models before and after featureselection is performed.
Model Before CFS After CFSSVM 92.22% 86.76%MLP 93.48% 85.50%Decision trees 81.51% 85.50%
Fig. 11.Decision tree built for the analyzed data set, considering only the mostimportant features selected by the CFS method and the cluster value as class label.C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162 161families, even in the rare cases where the families presented lowerincome from social security and a in minimum value of food secu-rity. When families of the cluster did not give support to others,they present a minimum access index. Most of the analyzed fami-lies from Barbalha and Parambu belong to this cluster. On the otherhand, families from Cluster 2 receive less income from social secu-rity, but they have a higher access index when the income fromsocial security is higher. These families also have a higher foodsecurity index, even when the income from social security is low.Most of the analyzed families from Boa Viagem, Guaraciaba doNorte, Itarema and Limoeiro do Norte are associated with thiscluster.The proposed methodology presented promising results, how-ever, there are a few issues that could be addressed in futureworks.First, we worked with a relatively small data set, and the anal-ysis of a larger number of families could help us uncover moretrends regarding their proﬁle. Moreover, we investigated familiesfrom Ceará state only, and it would be interesting to extend ouranalysis to families from other states as well. Piauí, Rio Grandedo Norte, Paraíba and Pernambuco are states bordering Cearáand located in the Northeast region as well, sharing very similargeological, climatic and demographic characteristics, and familiesfrom these states could be inserted into the analysis in order forus to investigate demographic, economic and social proﬁles ofsmall producers and family farmers of the Northeast region as awhole instead of one state only.Also, working with categorical values is one of the major chal-lenges for data mining researches
. We expect, for future works,to improve the processability of our data set, either by standardiz-ing our variables to numeric values only, changing the data collec-tion method (i.e., replace the common surveys) or by employingforthcoming clustering and classiﬁcation techniques in the datamining literature that can handle categorical variables.Declarations of interestNone.FundingThis research did not receive any speciﬁc grant from fundingagencies in the public, commercial, or not-for-proﬁt sectors.References
[1]A. Ahmad, L. Dey, A k-mean clustering algorithm for mixed numeric andcategorical data, Data Knowl. Eng. 63 (2007) 503–527
. [2]
G. Barbier, H. Liu, Data Mining in Social Media, in: Social Network DataAnalytics, Springer, US, Boston, MA, 2011, pp. 327–352
. [3]
R.M. Barbosa, B.L. Batista, C.V. Barião, R.M. Varrique, V.A. Coelho, A.D.Campiglia, F. Barbosa, A simple and practical control of the authenticity oforganic sugarcane samples based on the use of machine-learning algorithmsand trace elements determination by inductively coupled plasma massspectrometry, Food Chem. 184 (2015) 154–159
. [4]
R.M. Barbosa, B.L. Batista, R.M. Varrique, V.A. Coelho, A.D. Campiglia, F.Barbosa, The use of advanced chemometric techniques and trace elementlevels for controlling the authenticity of organic coffee, Food Res. Int. 61 (2014)246–251
.[5] C.M. Bishop, Pattern Recognition and Machine Learning, Springer – Verlag NewYork, 2006.[6]R.P. Bunker, F. Thabtah, A Machine Learning Framework for Sport ResultPrediction, Appl. Comput, Informatics. 15 (2019) 27–33
. [7]
C.J.C. Burges, A tutorial on support vector machines for pattern recognition,Data Min. Knowl. Discov. 2 (1998) 121–167
. [8]
J.N.B. Campos, Paradigms and public policies on drought in Northeast Brazil: ahistorical perspective, Environ. Manage. 55 (2015) 1052–1063
. [9]
G. Chandrashekar, F. Sahin, A survey on feature selection methods, Comput.Electr. Eng. 40 (2014) 16–28
. [10]
C. Cortes, V. Vapnik, Support-vector networks, Mach. Learn. 20 (1995) 273–297
.[11]
M. Dash, H. Liu, Feature selection for classiﬁcation, Intell. Data Anal. 1 (1997)131–156
.[12] R.O. Duda, P.E. Hart (E. Peter, D.G. Stork). Pattern classiﬁcation. Wiley, 2001.[13]
M. Gardner, S. Dorling, Artiﬁcial neural networks (the multilayer perceptron)—a review of applications in the atmospheric sciences, Atmos. Environ. 32(1998) 2627–2636
.[14]
J.C. Gower, A general coefﬁcient of similarity and some of its properties,Biometrics 27 (1971) 857
. [15] Guanziroli, C.E., 2001. Agricultura familiar e reforma agrária no século XXI.Garamond.[16]
C.E. Guanziroli, A.M. Buainain, A. Di Sabbato, Dez anos de evolução daagricultura familiar no Brasil: (1996 e 2006), Rev. Econ. e Sociol. Rural 50(2012) 351–370
.[17] P. Gundecha, H. Liu, Mining social media: a brief introduction, in: Tutorials inOperations Research. INFORMS, 2012, pp. 1–17.[18]
I. Guyon, A. Elisseeff, An introduction to variable and feature selection, J. Mach.Learn. Res. 3 (2003) 1157–1182
. [19] M.A. Hall, Correlation-based Feature Selection for Discrete and Numeric ClassMachine Learning, in: Pat Langley (Ed.), Proceedings of the SeventeenthInternational Conference on Machine Learning (ICML 2000). MorganKaufmann Publishers Inc., Stanford, CA, USA, 2000, pp. 359–366.[20]
L. Hamel, Knowledge Discovery with Support Vector Machines, Wiley-Interscience, 2009
.[21]
Z. Huang, Extensions to the k-means algorithm for clustering large data setswith categorical values, Data Min. Knowl. Discov. 2 (283–304) (1998) 1
. [22]
A.K. Jain, Data clustering: 50 years beyond K-means, Pattern Recogn. Lett.(2010)
.[23] L. Kaufman, P. Rousseeuw, Clustering by means of medoids, in: Y. Dodge (Ed.),Statistical Data Analysis Based on the L1-Norm and Related Methods, 1987, pp.405–416.[24]
L. Kaufman, P.J. Rousseeuw, Finding Groups in Data: An Introduction to ClusterAnalysis, Wiley, 2005
.[25]
D.M. Khan, N. Mohamudally, An integration of K-means and decision tree (ID3)towards a more efﬁcient data mining algorithm, J. Comput. 3 (2011) 76–82
. [26]
C. Maione, E.S. De Paula, M. Gallimberti, B.L. Batista, A.D. Campiglia, F. Barbosa,R.M. Barbosa, Comparative study of data mining techniques for theauthentication of organic grape juice based on ICP-MS analysis, Expert Syst.Appl. 49 (2016) 60–73
.[27]
C. Maione, B. Lemos, A. Dobal, F. Barbosa, R. Melgaço, Classiﬁcation ofgeographic origin of rice by data mining and inductively coupled plasma massspectrometry, Comput. Electron. Agric. 121 (2016) 101–107
. [28]
A. Mucherino, P. Papajorgji, P.M. Pardalos, A survey of data mining techniquesapplied to agriculture, Oper. Res. 9 (2009) 121–140
. [29]
M.R. Naroui Rad, S. Koohkan, H.R. Fanaei, M.R. Pahlavan Rad, Application ofArtiﬁcial Neural Networks to predict the ﬁnal fruit weight and random forestto select important variables in native population of melon ( Cucumis meloL.), Sci. Hortic. (Amsterdam) 181 (2015) 108–112
. [30]
E.W.T. Ngai, L. Xiu, D.C.K. Chau, Application of data mining techniques incustomer relationship management: a literature review and classiﬁcation,Expert Syst. Appl. 36 (2009) 2592–2602
. [31]
J.R. Quinlan, Induction of decision trees, Mach. Learn. 1 (1986) 81–106 . [32] M.V.J. Reddy, B. Kavitha, Clustering the mixed numerical and categoricaldataset using similarity weight and ﬁlter method, Int. J. Database Theory Appl.(2012) 5.[33]
P.J. Rousseeuw, Silhouettes: a graphical aid to the interpretation andvalidation of cluster analysis, J. Comput. Appl. Math. 20 (1987) 53–65
. [34]
I. Scoones, Livelihoods perspectives and rural development, J. Peasant Stud. 36(2009) 171–196
.[35] P.-N. Tan, M. Steinbach, V. Kumar, Introduction to data mining. PearsonAddison Wesley, 2005.162 C. Maione et al. / Applied Computing and Informatics 15 (2019) 153–162