Nutrient optimization for plant growth in Aquaponic irrigation usingMachine Learning for small training datasets
Sambandh Bhusan Dhala,⁎, Muthukumar Bagavathiannanb, Ulisses Braga-Netoa, Stavros Kalafatisa
aDepartment of Electrical and Computer Engineering, Texas A&M University, USA
bDepartment of Soil and Crop Sciences, Texas A&M University, USA
abstract article info
Article history:Received 14 January 2022Received in revised form 18 May 2022Accepted 19 May 2022Available online 24 May 2022With the recent trends in urban agriculture and climate change, there is an emerging need for alternative plantculture techniques where dependence on soil can be eliminated. Hydroponic and aquaponic growth techniqueshave proven to be viable alternatives, but the lack of ef ﬁcient and optimal practices for irrigation and nutrient supply limits its applications on a large-scale commercial basis. The main purpose of this research was to developstatistical methods and Machine Learning algorithms to regulate nutrient concentrations in aquaponic irrigationwater based on plant needs, for achieving optimal plant growth and promoting broader adoption of aquaponicculture on a commercial scale. One of the key challenges to developing these algorithms is the sparsity of datawhich requires the use of Bolstered error estimation approaches. In this paper, several linear and non-linear al-gorithms trained on relatively small datasets using Bolstered error estimation techniques were evaluated, forselecting the best method in making decisions regarding the regulation of nutrients in hydroponic environments.After repeated tests on the dataset, it was decided that Semi-Bolstered Resubstitution Error estimation techniqueworks best in our case using Linear Support Vector Machine as the classi ﬁer with the value of penalty parameter set to one. A set of recommended rules have been prescribed as a Decision Support System, using the output ofthe Machine Learning algorithm, which have been tested against the results of the baseline model. Further, thepositive impact of the recommended nutrient concentrationson plant growth in aquaponic environments hasbeen elaborately discussed.© 2022 The Authors. Publishing servic es by Elsevier B.V. on behalf of KeAi Communications Co., Ltd. This is an openaccess article under the CC BY-NC-ND license ( http://creativecommons.org/licenses/by-nc-nd/4.0/ ).
Keywords:HydroponicAquaponicTraining datasetsNon-linear algorithmsSemi-bolstered error estimationLinear support vector machineDecision Support System
1. IntroductionAquaponics is an agricultural technique that is touted as a promisingalternative to solve the food and environmental crisis that the worldfaces today. As it is a combination of aquaculture ( Pillay, 2003;Pillay and Kutty, 2009) and hydroponics (Jensen, 1997;Roberto, 2003;Jones Jr, 2016), this technique can have high water use ef ﬁciency, and reduce the dependency on pesticides and fertilizers which adds to the sustain-ability of the system. This system has been shown to consume 50 –70% less water compared to traditional agricultural systems, owing to its re-cyclability. Moreover, this system requires less pest control and hasproven to be less impacted by harsh weather conditions, leading toyield increase.As we are moving towards the era of digital agriculture, efforts havebeen made to design physical prototypes for smart commercialaquaponic systems. Lobanov et al. has focused on proposing a new sys-tem for reducing the carbon and nitrogen content from ﬁsh waste to produce liquid fertilizer which is added to facilitate the growth of let-tuce in aquaponic set-ups (Lobanov et al., 2021). Karimanzira et al. in- troduced the concept of building an intelligent aquaponics systemincorporating predictive analysis, system optimization and anomaly de-tection for maximizing productivity in commercial aquaponics throughearly fault detection (Karimanzira et al., 2021). Mahanta et al. formu- lated a laboratory set-up as a prototype to grow soybeans in hydroponicsolution using plasma activated water to decrease the amount of heavymetal uptake and optimize yield (Mahanta et al., 2022). Rau et al. de- signed a smart IoT based sensing and actuation system for growingrice by controlling the concentration of magnesium and nitrogen in hy-droponic solution along with monitoring the environmental parametersof the greenhouse (Rau et al., 2017). A similar design was proposed byDhal et al. using a smart IoT system for real time sensing and regulationof nutrients in commercial aquaponic set-ups depending on the seasonin which the crops were grown (Dhal et al., 2022). Timsina et al. pro- posed the use of Machine Learning models to regulate nutrients forgrowing cereals in farmlands, but efforts are yet to be made for growingthem in aquaponic set-ups (Timsina et al., 2021).Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
∗Corresponding author at: Department of Electrical and Computer Engineering, TexasA&M University, USAE-mail addresses:sambandh@tamu.edu(S.B. Dhal), muthu.bagavathiannan@tamu.edu (M. Bagavathiannan),ulisses@tamu.edu (U. Braga-Neto),skalafatis-tamu@tamu.edu(S. Kalafatis).
https://doi.org/10.1016/j.aiia.2022.05.0012589-7217/© 2022 The Authors. Publishing services by Elsevier B.V. on behalf of KeAi Communications Co., Ltd. This is an open access article under the CC BY-NC-ND license (http:// creativecommons.org/licenses/by-nc-nd/4.0/ ).
Contents lists available atScienceDirect
Artiﬁcial Intelligence in Agriculture
journal homepage:http://www.keaipublishing.com/en/journals/artificial-intelligence-in-agriculture/There have been recent advancements in the ﬁeld of Smart Aquaponics which involve monitoring environmental parameters aswell as plant growth through different Machine Vision-Based ap-proaches in an IoT environment (Arvind et al., 2020;Lauguico et al., 2020). Arvind et al. implemented an AutoML model trained with anXGradientboost algorithm, with 10-fold cross-validation taking into ac-count the different sensor values recorded in the greenhouse and theﬁsh count in the aquaponic tank which was extracted using the maskR-CNN image segmentation. This algorithm was used to control the trig-gering of the actuators in the system that in turn control the environ-mental parameters in the greenhouse; ensuring signi ﬁcant improvements in yield and water conservation, when compared withthe conventional methods. Languico et al. did a comparative study ofthree ML estimators: K-Nearest Neighbours (KNN), Logistic Regression(LR), and Linear Support Vector Machine (L-SVM), on the vision-feature extracted images of lettuce in a smart aquaponics set-up tomonitor diseases that the crop may incur in its lifetime. A similar kindof study was done by Maleki-Kakelar et al. where multiple ML algo-rithms like linear and quadratic regression models, fuzzy systems andgenetic programming was used to conduct regression analysis for im-proving urease activity aimed at strengthening the behaviour of soils(Maleki-Kakelar et al., 2021). A study on images of lettuce leaves wasconducted by Concepcion II et al. to detect diseases, wherein differentfeature selection processes were used to select the top four attributesfor training the ML models (Concepcion II et al., 2020). A study on smart nutrient regularization for replenishing the Nitrogen, Phosphorusand Potassium content of the soil has been done by Ahmed et al. usinggenetic algorithms to provide the optimal level of nutrients needed forhigh production level of crops (Ahmed et al., 2021). Hiram Ponce et al. used a combination of Convolutional Neural Network (CNN) forextracting features from tomato leaves along with a combination of Ar-tiﬁcial Hydrocarbon Network (AHN) as the dense layer to predict de ﬁ- ciency of nutrients in tomato plants (Ponce et al., 2021). A similar kind of Deep Neural Network was implemented by Yadav et al. for apple fo-liar disease classiﬁcation using Plant Pathology image datasets ( Yadav et al., 2022). Nevertheless, limited research has been conducted onmonitoring and regulating nutrient concentrations in the aquaponic so-lution using ML-based approaches. The current work focuses on build-ing a ML algorithm that monitors the nutrient status of hydroponicirrigation water and outputs a recommendation system for regulationof these parameters. The main motivation behind this entire approachis to select the most important nutrients that need to be regulated inaquaponic environments depending on the output of Machine Learningclassiﬁers trained on small datasets. The main issues which one mayface while designing such a data-driven approach has been discussedin the next paragraph.One of the major challenges with automation in aquaponics is thelack of sufﬁcient data and the vast number of predictors that have tobe used for making any inferences. This could result in what is referredto as the“Curse of Dimensionality”leading to the available data becom-ing sparse (Köppen, 2000). Thus, it becomes extremely important to re-duce the dimensionality of the dataset without losing valuableinformation. For this, feature selection ( Chandrashekar and Sahin, 2014) techniques become more relevant. To state a few, Recursive Fea-ture Elimination (Granitto et al., 2006) and ensemble techniques such asthe ExtraTreesClassiﬁer (Shaﬁque et al., 2019) have proven to be highly effective. It is also equally important to check for the separability of theclasses in the dataset. Many data visualization techniques like Principal
Component Analysis (Wold et al., 1987;Abdi and Williams, 2010)a n d Multi-Dimensional Scaling (Cox and Cox, 2008) plots can be used to un- derstand how linearly separable the data is and what classi ﬁers would be best suited for the purpose.Another major drawback especially in the case of small datasets isthe problem of“overﬁtting”the data (Dietterich, 1995). Traditional ML and Deep Learning (DL) algorithms have a high probability of per-forming poorly on small datasets. A solution to this problem wassuggested by Shao et al. who proposed deep Reinforcement Learning al-gorithms named MONEADD and did a comparative study with Knap-sack and Traveling Salesman problem to design neural networks fordifferent combinatorial optimization problems without much featureengineering which showed better scalability when distributed on mul-tiple GPUs (Shao et al., 2021). On a similar note, to address this problemof overﬁtting, Braga-Neto et al. proposed Bolstered Error Estimationmethod, which uses the same data for both classi ﬁer design and error estimation (Braga-Neto and Dougherty, 2004;Sima et al., 2004). In this form of error estimation, the variance setting for the Bolstering ker-nel is determined in a non-parametric manner from the data. For all thelinear classiﬁcation rules, the integrals in the Bolstered error estimationare computed in the same way. For the non-linear classi ﬁcation rules, a small number of Monte-Carlo samples are generated. In this study,three types of Bolstered error estimators, namely the Gaussian-Bolstered resubstitution error estimator, semi-Bolstered resubstitutionerror estimator, and the Gaussian Bolstered Leave-One-Out error esti-mator, have been used with linear classi ﬁers like LDA and SVC, along with non-linear classiﬁers like CART and KNN, and their results havebeen compared to identify the best performing classi ﬁer in this case. Based on the performance of the classiﬁer with utmost optimal perfor- mance, a set of recommendation rules were prescribed and a compara-tive study was done on how this proposed Machine Learning basedapproach resulted in more optimal yield as compared to the baselinemodel.2. MethodologyThe dataset which was used in this case was recorded from threecommercial aquaponic facilities located in Caldwell, Bryan, and Grimescounties in Texas, USA which are large producers of lettuce and othergreens. From the aquaponic facility at Caldwell, two water sampleswere collected per week: one from theﬁsh tank and the other from the plant bed which was used to grow Romaine Lettuce, watercress, let-tuce and green peppers. Similarly, from the facility at Bryan, three watersamples were collected: one from the Tilapia tank, one from the Gold-ﬁsh tank, and the other from the main plant bed where lettuce andkale were cultivated. The aquaponic facility at Grimes was one of thelargest in the state and four water samples were collected each week:one each from the main growth tank which was used for breeding Tila-pia and certain shrimps, one from the tank which bred bluegill ﬁsh, one from the tank which was used to grow plant seedlings and the otherfrom the main greenhouse where tomatoes, lettuce and collard greenswere grown. All of these tanks were connected together with continu-ous waterﬂow between them, and water puriﬁers were installed in each of these tanks to ensure that the recycled water meets the optimalwater quality requirements needed for growth of ﬁsh and plants. A set up where the experiments were recorded have been shown in Fig. 1. The wastewater from theﬁsh tank is connected to the main set-up,where extra nutrients are added to the aquaponic solution to optimizeplant growth. After collecting the water samples, they were sent tothe Soil, Water, and Forage Testing Laboratory, Texas A&M Universityto determine the nutrient concentration for each of the samples. Themethod used to carry out each of these nutrient concentrations in thelaboratory is described as follows inTable 1. This process was carried out each week for 9 months and then thedata were analysed. Before explaining the analysis part, a pipeline onhow the data was processed to design the Decision Support Systemhas been elaborately stated inFig. 2below.2.1. Data analysisIn this study, a total of 143 observations were used with a total of 21predictors. The initial set included 11 predictors for chemicals namelycalcium, magnesium, sodium, potassium, boron, carbonate, bicarbonate,sulfate, chloride, nitrates, and potassium (all of these measured inS.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
69ppm); 8 predictors that deﬁne the property of the solution namely thepH, conductivity (measured in umhos/cm), 2 measures of hardness(one measured in grams of calcium carbonate per gallon and the othermeasured in ppm), alkalinity (measured in ppm of calcium carbonate),Total Dissolved Salts (measured in ppm) and Sodium Adsorption Ratio(SAR) coupled with two categorical predictors (one stores the locationof the farm and the other stores the month in which the observationswere recorded). The months in which the data were recorded werebinned into 5 categories as follows: January to March (category I),April and May (category II), June to August (category III), Septemberand October (category IV), November and December (category V).To have a clear understanding of the data, the entire dataset wastreated with an unsupervised approach. K-means algorithm (algorithm=‘auto’, number of iterations = 600) (Likas et al., 2003) was used to classify the datapoints into either of the two classes.2.2. Dimensionality reductionAs mentioned above, due to the limited size of the dataset, it is notpossible to make accurate inferences taking all the predictors into ac-count. Thus, several dimensionality reduction techniques have beenused on the dataset to select the top predictors that de ﬁne the nutrient concentration of the aquaponic solution. The predictors which had zerovariance were removed from the dataset. Then, a correlation matrix wasconstructed between the predictors, and one of the two predictors,which had higher than 90% pair-wise correlation among them, wasremoved.Next, all the predictors with less than 5% importance in the datasetwere eliminated as they would likely incorrectly skew any inferencingmade from the dataset. As the primary goal was to bring down thesize of the dataset to 5 primary chemical predictors, Recursive FeatureElimination technique with XGBoost classi ﬁer was used, which ranked the predictors in the order of their importance. This resulted in bringingdown the size of the dataset to 5 chemical predictors. In addition to this,2 categorical predictors were also appended to the dataset, one storingthe month and the other storing the place in which the observationswere recorded. Therefore, a total of 143 observations with 7 predictorswere used to design classiﬁcation rules and carry out inferences.2.3. Data visualizationTo perform any classiﬁcation rules on a given dataset, Data Visualiza-tion is an important tool as it aids in understanding the structure of thedata. It equally helps in choosing the classi ﬁcation techniques that can be used on the dataset depending on the separability between the clas-ses. In this case, Principal Component Analysis was used. As PCA treatsthe entire analysis as an unsupervised learning approach and performsan orthogonal transformation of the data, Principal Components werecalculated to visualize the variance in the dataset.The loading matrix was analysed to determine the predictor thatcontributes the most in each Principal Component and therefore, aninference can be drawn about the relative importance of each pre-dictor from their holding values depending on the value of correla-tion, which was observed between the predictors and the respectivePCs.To further explore the interpretation from the PCs, the pairwise PCplots have been studied to infer which classi ﬁers would suit the best depending on the pattern of separability of the data. All the datapointsbelonging to class 0 have been color-coded in red and the data pointsbelonging to class 1 have been color-coded in green to have a clearvisual understanding of the binary distribution of the data.2.4. Classiﬁcation techniques and error estimation algorithmsAs stated above, the size of the dataset poses a serious issue whiledesigning the classiﬁer in this context, due to which, the classi ﬁers
Fig. 1.An aquaponic set-up in aquatics Green Farm, Bryan, TX showing the tank with the lettuce plant bed (Left) and The Gold ﬁsh tank which provided nutrients for the plants (Right).
Table 1Method of measurement of different chemical properties in the Aquaponic solution(Provin and Pitt, 2002).Sl. no. Property of the aquaponicsolutionProcess of measurement1 pH Using Hydrogen ion-selective electrode2 Conductivity Using conductivity probe3 Nitrate concentration By reduction of nitrite to nitrate using a cadmium column followed byspectrophotometric measurement 4 Chloride concentration Chromatography5 Carbonate/Bicarbonateconcentrations, Hardness,and AlkalinityCarbonate/Bicarbonate conc. Are measuredby acid titration using sulphuric acid; wateralkalinity is measured fromcarbonate/bicarbonate concentrations;hardness is calculated from Ca and Mg conc.S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
70have been trained and tested on the same data. This method of errorestimation is referred to as Bolstered Error Estimation. One of themain reasons for choosing this type of estimator is its low bias aswell as low variance. This also results in a faster estimator comparedto other resampling methods like the bootstrap ( Hesterberg, 2011). The error estimates have been calculated for each of theseestimators for the four popular classiﬁcation rules by varying the size from small to moderate-sized datasets. The basic idea is to bol-ster the original empirical distribution of the available data utilizingsuitable Bolstering kernels placed at each datapoint location.For this case, a uniform zero-mean, spherical Bolstering kernel f
i⋄
was chosen for analysis, with covariance matrices of the form σ i2Ip. In each case, there would be a family of Bolstered estimatorscorresponding to each value ofσ
iwhere i varies from 1 to n. Largervalues ofσ
iwould result in wider Bolstering kernels resulting inlower variance estimators, but after a point, bias starts to increase.Therefore, choosing the values of standard deviations (SD) for theBolstering kernels is a challenge and several approaches have beenattempted toﬁnd the best error estimator in this case whichminimizes the bias-variance trade-off.The value of SD for the Bolstering kernels is given by:σ
i¼d^yiðÞα
p,ifor i¼1,2,...,n ð1Þhere,α
p,iis the“constant”correction factor which is a function of thedimensionality of the dataset.d
^yiðÞis the mean minimum distance between the points belonging to the class y
iand is computed using the equation:d^yiðÞ ¼∑ni¼1min
j≠ixi/C0x j/C12/C12/C12/C12/C12/C12/C12/C12/C8/C9I
yi¼y/C18/C19 =∑ ni¼1Iyi¼y/C18/C19ð2ÞBased on the value of calculated standard deviations of these Bol-stered kernels, three types of Bolstered Error estimators namely the Bol-stered Resubstitution error, Bolstered Leave-One-Out error, and semi-Bolstered Resubstitution error estimates were calculated in conjunctionwith linear (LDA and Linear SVM) and non-linear classi ﬁers (KNN and CART), and depending on the results, an appropriate decision wasmade as to which classiﬁer would suit our purpose.3. ResultsAs stated before, the entire approach was treated as an unsupervisedapproach and the K-means algorithm (algorithm = ‘auto’,n u m b e ro fi t - erations = 600) was used to classify the observations into two classes.Out of the 143 observations used for analysis, 84 were classi ﬁed into class 0 and 59 into class 1. As it was difﬁcult to derive inferences consid- ering all the predictors, dimensionality reduction techniques were used.‘Carbonate (ppm)’was dropped as the variance was zero throughout.Then, a correlation matrix (Fig. 3) was constructed between the rest ofthe predictors.This led to the removal of 6 predictors from the dataset namely mag-nesium, both the measures of hardness, alkalinity, Total Dissolved Salts,and conductivity. Then, ExtraTreesClassiﬁer (Fig. 4)w a su s e dt oﬁnd the percentages of importance for each of the 14 predictors.Now, the predictors that had less than 5% importance were removedfrom the dataset. From the list of chemical predictors, Nitrates andIntial Dataset (143 observations X 21 predictors)i. 11 chemical predictorsii. 8 chemical properties of the solutioniii. 2 categorical predictors (1 for the month and the other to store the place where these were recorded) Dimensionality Reductioni. Pairwise correlation matrix to remove the highly corelated predictorsii. XGBoost classifier for feature ranking to select the most relevant predictor 
Data Visualization Principal Component Analysis to visualize the variance in the data and decide appropriate clasifiersChoice of classifiers:i. Linear Discriminant Analysisii. Decision Trees (CART)iii. K Nearest Neighbors (KNN)iv. Linear Support Vector Machine)
Error Metric i. Bolstered Resubstitution Error Estimateii. Bolstered Leave One Out Error Estimateiii. Semi-Bolstered Resubstitution Error Estimate
Choice of Optimal Classifier
Fig. 2.Schematic of the data processing pipeline to design the Decision Support System for the proposed aquaponic set-up.S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
71Phosphorus, with the importance of 4.51% and 4.44% respectively, andfrom the list of chemical properties, pH, SAR, and charge balance withthe importance of 1.2%, 0.93%, and 0.93% respectively were removed.Thus, theﬁnal list of chemical predictors used in the analysis was as fol-lows: Potassium, Boron, Bicarbonate, Sulfate, and Chloride concentra-tions in the solution (all of these measured in ppm). In addition tothis, 2 categorical predictors were also appended to the dataset, onestoring the month and the other storing the place in which the observa-tions were recorded. Therefore, a total of 143 observations with 7 pre-dictors were used to design classiﬁcation rules and to carry out inferences.Next, visualizations were carried out on the dataset to gauge the sep-arability of the data and the classiﬁers which can be used for inferencing. Principal Component Analysis was carried out on thedataset to visualize the dataset in orthogonal projections.As inferred fromFig. 5, theﬁrst three PCs go on to explain 46.34%,34.40%, and 9.36% (total 90.1%) of the total variance in the dataset re-spectively. The loading matrix was analysed to get an idea aboutwhich predictor contributes the most in each PC and therefore, an infer-ence can be drawn about the relative importance of each predictor fromtheir holding values.FromTable 2, it can be inferred that the PLACE_CLASS,MONTH_CLASS, and the bicarbonate variables had the highest holdingvalues in the 1st, 2nd
,and 3rd PC respectively, indicating their strongcorrelations with the respective PCs. From this, one of the strongest in-ferences that can be drawn is that both the categorical predictors, onestoring the place and the other storing the month in which the observa-tions were recorded, are the most important predictors as they showhigh holding values in theﬁrst two PCs which explain about 80% ofthe variance in the dataset.To further explore the interpretation from the PCs, the pairwise PCplots (Fig. 6) have been studied to infer which classi ﬁers would suit the best depending on the pattern of separability of the data. All thedatapoints belonging to class 0 have been color-coded in red andthose belonging to class 1 in green, giving a clear visual understandingthat the data follows a binary distribution.From the PC plots, it has been observed that most of the discrimina-tory information is contained in theﬁrst PC, as expected, as it explains most of the variance in the dataset.Next, due to the low sample size, there is a high probability ofoverﬁtting the data because of which, the notion of different Bolsterederror estimators has been introduced in this domain. The performanceof linear classiﬁers like LDA and Linear SVM along with the performanceof non-linear classiﬁers like CART (Depth = 2) and 3-NN have beenused along with these Bolstered error estimators, and results havebeen discussed below. The value of the depth of the decision tree waschosen as 2 due to the low volume of the dataset as a higher value ofthe depth would result in overﬁtting the data and lead to unreasonablyhigh accuracy on the training dataset. The value of the K for the K-Nearest Neighbor was chosen to be 3 using Elbow method as themean cluster distance on the training dataset was optimal.3.1. Bolstered resubstitution error estimationThis type of error is calculated as the sum of all error contributionsdivided by the total number of points. For a linear classi ﬁer where the decision boundary is a hyperplane, the analytical expressions for the in-tegrals were calculated. For the non-linear classi ﬁers, a small number of Monte-Carlo samples were generated (M = 10). The expression for ageneral Bolstered resubstitution estimator is as follows:ϵ
⋄resub¼1n∑ni¼1Z
A1f⋄ix/C0x i ðÞdxI yi¼0þZ
A0f⋄ix/C0x i ðÞdxI yi¼1/C18/C19 ð3Þ
Fig. 3.Color-coded correlation matrix which shows the percentage of correlation betweenthe predictors.
Fig. 4.Percentages of Importance for each of the predictors as identi ﬁed by ExtraTreesClassiﬁer.
Fig. 5.The proportion of the variance in the dataset explained by each PC.
Table 2Loading matrix for each principal component.Sl.no.Name of thepredictorHolding values for1st PCHolding valuesfor 2nd PCHolding valuesfor 3rd PC1 Potassium 0.14 0.05 0.522 Boron 0.36 0.038 0.393 Bicarbonate 0.20 0.021 −0.73 4 Sulfate 0.37 0.0006 0.115 Chloride 0.27 0.03 −0.03 6 PLACE_CLASS0.77−0.042−0.13 7 MONTH_CLASS−0.0020.99−0.03S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
72Eq.(3)holds in the case of linear classiﬁers like LDA and linear SVM where the Bolstering kernels are given by uniform circular distributions.As the decision boundary in the above case is a hyperplane, it is possibletoﬁnd analytical solutions as in (1). However, when the error estimateis made for non-linear classiﬁers like CART and KNN, an approximate so-lution is needed which is obtained by applying Monte-Carlo integration.The error estimates for all the four classiﬁers i.e. LDA, KNN(K = 3), CART and Linear SVM have been tabulated and the results are shownbelow. The value of N i.e. the number of randomly sampled datapointshas been varied from 20% to 100% in increments of 10 for each of theclassiﬁers.As shown inFig. 7, the Bolstered Error Estimates reduced from 8% to2.5% for LDA when the size of the sample set increased. For the non-linear classiﬁers, it can be observed that they overﬁt the training set due to their minuscule size thereby increasing the chance of the classi-ﬁer performing badly on the testing set. Therefore, a decision not to pro-ceed with either of these classiﬁers was made using Bolstered Errorresubstitution as it is very likely to overﬁt when the size of the dataset is small.Here, the opposite is observed when a linear SVC is used with differ-ent values of penalty parameters (Table 3). Irrespective of the amount of data, the error estimates for each of the classi ﬁers are around 50% which makes it unsuitable to be used as an ideal classi ﬁer for the separation of data between the classes as it showcases an ideal case of under ﬁtting.3.2. Bolstered leave one out (BLOO) error estimationAs the name suggests, in this type of error estimation, the classi ﬁers are trained on each subset separately. Every subset contains all the datapoints belonging to one particular class except one which is used as thetest datapoint. Therefore, in a binary classi ﬁcation problem, ifm datapoints belong to class 0 andndatapoints belong to class 1, therewill be a total ofm-1 subsets for class 0 andn-1 subsets for class 1; and the classiﬁers will be trained separately on all of them. In the end,an aggregate of the error on each of these subsets is calculated to ﬁnd out the total Bolstered Leave One Out Error estimate for each of theseclassiﬁers.
Fig. 6.(a), (b) and (c). Pairwise PC plots showing separability between the data points belonging to classes 0 and 1.
Fig. 7.Bolstered resubstitution error estimates for LDA, CART, and KNN.Table 3Bolstered resubstitution error estimates for linear SVM with varying values of penaltyparameter (C).Sl no N C = 1 2 3 5 10 20 1001 20 53.57 53.57 53.32 53.57 44.36 53.6 52.82 30 53.48 53.48 53.48 53.48 53.5 53.5 52.83 40 54.38 54.38 53.38 54.38 53.3 54.4 52.84 50 53.52 53.17 53.17 53.52 52.8 47.7 535 60 53.48 53.48 53.48 53.48 53.5 53.4 52.46 70 54 53.82 53.82 53.96 50.4 52.5 53.97 80 53.91 53.95 53.9 53.96 52.2 53 53.88 90 53.91 51.86 51.56 53.9 53.9 51.8 53.99 100 53.84 53.8 53.8 53.84 53.8 53.8 53.8S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
73A general form of the Bolstered Leave One Out Error Estimator can beformulated as follows:A
ij¼xϵRpjgSin−1;x/C16/C17¼jno;for j¼0;1fgð4ÞThe error estimates for the linear classiﬁers are calculated similarly as in Eq.(3)over the decision regions deﬁned above. For the non- linear classiﬁers where the integrals cannot be computed exactly, aMonte-Carlo approach is used toﬁnd out the error estimates.The BLOO error estimates for LDA, KNN, and CART have been calcu-lated for each of the classiﬁers and have been shown inFig. 8. From the aboveﬁgure, it can be observed that as the size of thedataset increases from 20% to 100%, the value of the BLOO error estimatedeclines to less than 1%. This makes the BLOO error estimate an unrea-sonable metric to be used both in conjunction with either linear ornon-linear classiﬁers. In the case of Linear SVM, the BLOO error estimatecould not be calculated. This is because the BLOO error estimate is calcu-lated on a single class of data at a time and aggregates the error esti-mates in the end, but SVM works on the principle of separatinghyperplane between the classes which makes it impossible to train ona single class of data. Therefore, the third type of error estimate,known as the Semi-Bolstered Error Estimation, is proposed which is dis-cussed in detail in the next sub-section.3.3. Semi-bolstered resubstitution error estimationSometimes, in the case of small datasets, there is a high chance of in-creasing the optimism of the error estimate due to over ﬁtting classiﬁca- tion rules. So, it is not a good idea to spread the incorrectly classi ﬁed datapoints. Therefore, to reduce the bias of the estimator, σ
iis assigned to 0 for the incorrectly classiﬁed datapoints. This increases variance because there is less bolstering, which has proven to improvethe bias-variance trade-off when trained with non-linear classi ﬁers. Therefore, the semi-Bolstered resubstitution error estimation techniquehas been implemented with the linear and non-linear classi ﬁers stated above, and the results have been discussed in the tables below.FromFig. 9, it is evident that the semi-Bolstered resubstitution errorvalues for LDA, CART, and KNN are almost negligible (approachingzero). Therefore, it can be stated that owing to the small size of thedataset, even reducing the bias of the estimator by assigning the Stan-dard Deviation of the Bolstering kernel for the incorrectly classi ﬁed data points to zero does not work as they tend to over ﬁt the classiﬁers. Contrary to the above, when the same dataset was trained using Lin-ear SVC with Semi-Bolstered resubstitution as the error metric, thevalues of error estimates seemed reasonable ( Table 4) It can be ob- served that when Linear SVM was trained using 100% of the data, thesemi-Bolstered error estimates remained constant irrespective of thevalues of the penalty parameter used. Therefore, it was decided to pro-ceed with Linear SVC with the penalty parameter set to 1 and Semi-Bolstered resubstitution as the error estimate.Based on the value of this Machine Learning model which either out-puts 0 or 1, a set of recommended rules have been prescribed to regulatethe nutrient parameters in the aquaponic solution which have beenstated inTable 5.4. DiscussionThe main motivation behind using this entire approach is designinga recommendation system so that the users of the hydroponic set-upsget an alert on the appropriate levels of nutrient concentrations thatshould be maintained to obtain the maximum yield. To achieve this,the training dataset has been used to design the approach. From thevalues of the pre-recorded observations, a set of rules were developedfor both the classes.For the observations to which the output class was 0, a certain set ofinferences can be made. The period in which we are most likely to re-ceive this output is generally during the Spring and Summer months(January to August). During these months when the temperatures in-crease (to about 80 F in a typical year), the concentration of nutrientsin water also increase due to evaporation and often results in nutrientimbalance in the aquaponic solution. The electrical conductivity of thesolution declines fast, which is addressed by addition of potassium tomaintain conductivity at 350 umhos/cm. During these months, thegrowth of both the crop and theﬁsh is much slower when comparedto the winter months; therefore, caution needs to be exercised to bal-ance the nutrient concentrations of the solution while trying to keepthe hardness of the solution as low as possible. Another important con-sideration is the concentration of magnesium in the solution as it is oneof the important constituents ofﬁsh culture. Since the goal during thespring and summer months is mostly to sustain the ﬁsh rather than grow them, a concentration of 1 ppm of magnesium is enough for theaquaponic solution. Lastly, the concentration of sodium should be keptat a maximum of 60 ppm since sodium increases water salinity, whichdirectly impacts the growth of green leafy vegetables.Similarly, for the observations with output class 1, irrigation is likelydone during autumn and winter months (September to December).During these months as the atmospheric temperatures fall to an averageof 50 F, evaporation slows down and as a result, the conductivity and
00.511.522.533.5
20 30 40 50 60 70 80 90 1000.692.323.162.541.1110.860.781.2602.861.70.230.150.090.080.060.053.212.161.930.90.80.680.480.470.38Bolstered Leave-One-Out Error estimates for LDA, CART and KNN
LDA CART (Depth=2) KNN (K=3)
Percentage of data taken for experimentssetamitserorrEOOLderetsloB
Fig. 8.Bolstered leave-one-out error estimates for LDA, CART, and KNN.S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
74hardness of the solution can be maintained at 1970 umhos/cm and140 ppm of calcium carbonate, respectively, which is important giventhe higher yield levels (about double) obtained during these monthscompared to the rest of the growing season. Any increase in these prop-erties can increase the hardness of the solution, resulting in eutrophica-tion (Glibert et al., 2005). To control this and maintain the hardness ofthe solution within 140 ppm, anoxic mixers need to be installed to de-nitrify the wastewater with the use of bacteria, which breaks downthe nitrates to release oxygen and nitrogen gas ( Peng et al., 2008). Based on this set of recommendations, two different types oftemperature-controlled environments were set up, one with a temper-ature of 75 F to replicate Texas summers and the other with a tempera-ture of 45 F to replicate Texas winters. The nutrient concentrations ofthe aquaponic solution were regulated as per the above recommenda-tions and the observations are listed as follows. In the ﬁrst tank, lettuce was grown using the recommended nutrient concentrations. It was ob-served that the harvest time for lettuce decreased to 4 weeks as com-pared to 6 to 8 weeks when cultivated using traditional aquaponictechniques. There was also a signiﬁcant increase in the yield and sizeof lettuce and some were as large as 40 –45 in. in diameter which were signiﬁcantly bigger compared to the ones grown in the soil orthe unregulated aquaponic solution. Kale was grown in the secondtank and similar to that of lettuce, the growth period was reducedfrom 12 weeks to 4.5 weeks.Kledal et al. have stated that the pH needs to be maintained between6.5 and 8 by maintaining a balance between the chemical concentra-tions of nitrogen, phosphorus, potassium, sulfur, calcium, magnesiumand heavy metals namely iron, manganese, boron, copper, zinc and mo-lybdenum to facilitate growth of microbes in the aquaponic solutionwhich is vital for nutrient uptake by plants ( Kledal et al., 2019). How- ever, the ideal range of nutrients that should be maintained in the solu-tion has not been discussed by Kledal et al., and our work can be viewedas a quantiﬁcation to facilitate theﬁndings that were made in this paper.Likewise, Nozzi et al. have compared the nutritional quality of lettuce,mint and mushroom herbs grown in three different aquaponic set-upswith varying amounts of additional macronutrients and nutrient uptakefromﬁsh feed, but there has been no concrete explanation for how nu-trient addition in each case supplemented the growth of these plants(Nozzi et al., 2018). In our case, a proper description of how the pro-posed recommendations of the Machine Learning model affected thequality of the crops in the aquaponic solution, as compared to the base-line model, has been elaborately discussed.This is theﬁrst study of its kind to use AI for optimizing nutrient con-centrations in aquaponic solution. Our proposed method is much supe-rior to the conventional methods of growing plants in aquaponics as itemphasizes on quantifying the regulation of nutrients and routine mon-itoring according to the month in which the crops are grown. The num-ber of nutrients that need to be regulated in the aquaponic solution asmentioned before were chosen using feature selection and dimension-ality reduction techniques, and weﬁnalizedﬁve most important chem- ical parameters from the initial set of 20 parameters, which resulted inreducing the cost of nutrients by around 75%. Further, the AI modelwe developed here is scalable and could be implemented in aquaponicoperations at various sizes. Our model also overestimates the possibilityof toxicity to the plants andﬁsh, which in fact ensures produce quality.The most important issue which has been addressed by automation inaquaponics is the cost incurred due to human labor as aquaponicsonly involves an initial cost of setting up the farm and water puri ﬁcation units for each of the tanks, with the only recurring cost being the cost in-curred with utilities.However, the approach presented here does have some limitations.The sparse data makes it difﬁcult to gauge the structure of the data forapplying any Bayesian statistical approaches. This can be compensatedwith an increase in the volume of the dataset, which needs to be ad-dressed in future. Another limitation is the weather conditions inwhich the observations were recorded, i.e. all the three aquaponicfarms were located in Southeast Texas, with warm summers and mildwinters. Addition of data from geographical locations with much morevariable weather conditions is expected to further improve the robust-
ness of the model presented here.
024
20304050607080901000.038.97E-102.48E-128.53E-125.16E-1800003.573.11.751.691.1610.860.780.693.573.11.751.41.1610.860.780.69Semi-Bolstered Resubstitution error estimates for LDA, CART, and KNN
LDA CART (Depth=2) KNN (K=3)
Percentage of data taken for experimentsSemi-Bolstered n
oitutitsbuseR Error          estimates
Fig. 9.Semi-bolstered resubstitution error estimates for LDA, CART, and KNN.
Table 4Semi-bolstered resubstitution error estimates for linear SVM with varying values of pen-alty parameter (C).Sl no N C = 1 2 3 5 10 20 1001 20 15.2 17.94 22.28 22.37 17.7 13.8 18.22 30 16.3 18.66 16.34 11.76 21.3 18.9 14.13 40 14.04 21.06 17.57 21.97 14.3 21.1 24.74 50 19.71 22.54 12.69 18.39 19.8 15.6 23.15 60 17.44 12.85 19.87 17.47 23.3 12.7 17.46 70 19 16.01 21 18.06 17 16.1 207 80 19.13 19.13 17.39 19.13 19.1 20 208 90 19.53 20.31 18.7 17.97 17.2 19.5 18.89 100 18.18 18.18 18.18 18.18 18.2 18.2 18.2
Table 5Recommendation system for each predicted class.Nutrient concentrations Class 0 Class 1Magnesium (ppm) 1 12Sodium (ppm) 60 320Conductivity (umhos/cm) 350 1970Hardness (ppm of calcium carbonate) 27 140S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
755. ConclusionFrom the above experimental results, it can be concluded that theSemi-Bolstered resubstitution Error estimation technique works bestwith Linear SVC as the classiﬁer with the value of penalty parameterset to 1. A set of recommendations have also been prescribed for eachof the predicted classes, which have been discussed in detail in thispaper. It has been veriﬁed experimentally as to how the proposed rec-ommendations positively impacted plant and ﬁsh growth in a single system. In the future, more attention would be paid on how the concen-tration of heavy metals affects the growth of plants in aquaponic envi-ronments. Moreover, the success of the classi ﬁcation technique presented here can be extended to other data-depleted domains,which is another contribution of this paper.Credit authorship contribution statementSambandh Bhusan Dhal:Conceptualization, Methodology, Soft-ware, Validation, Formal analysis, Investigation, Resources, Datacuration, Writing–original draft, Writing–review & editing, Visualiza- tion.Muthukumar Bagavathiannan:Conceptualization, Validation, Writing–review & editing.Ulisses Braga-Neto:Methodology, Soft- ware, Investigation, Project administration. Stavros Kalafatis:Writing –review & editing, Visualization, Supervision, Project administration,Funding acquisition.Declaration of Competing InterestThe authors declare that they have no known competing ﬁnancial interests or personal relationships that could have appeared to in ﬂu- ence the work reported in this paper.AcknowledgmentsI am grateful to Ms. Sharon Wells, owner of Aquatic Greens Farm,Bryan; Mr. Robert Wolff, owner of Wolff Family Farms, Caldwell; andMr. Joe Leveridge, owner of Texas US Farms, Grimes County for their co-operation and providing access to their hydroponic farms for experi-mentation. Their insights have been equally helpful in designing theapproach that has been implemented here.References
Abdi, H., Williams, L.J., 2010. Principal component analysis. Wiley Interdiscipl. Rev. Comp.Stat. 2 (4), 433–459.https://doi.org/10.1002/wics.101 . Ahmed, U., Lin, J.C.-W., Srivastava, G., Djenouri, Y., 2021. A nutrient recommendation sys-tem for soil fertilization based on evolutionary computation. Comput. Electron. Agric.189, 106407.https://doi.org/10.1016/j.compag.2021.106407 . Arvind, C.S., Jyothi, R., Kaushal, K., Girish, G., Saurav, R., Chetankumar, G., 2020. Edge com-puting based smart aquaponics monitoring system using deep learning in IOT envi-ronment. 2020 IEEE Symposium Series on Computational Intelligence (SSCI)https://doi.org/10.1109/ssci47803.2020.9308395 . Braga-Neto, U., Dougherty, E., 2004. Bolstered error estimation. Pattern Recogn. 37 (6),1267–1281.https://doi.org/10.1016/j.patcog.2003.08.017 . Chandrashekar, G., Sahin, F., 2014. A survey on feature selection methods. Comput. Electr.Eng. 40 (1), 16–28.https://doi.org/10.1016/j.compeleceng.2013.11.024 . Concepcion II, R.S., Alejandrino, J.D., Lauguico, S.C., Tobias, R.R., Sybingco, E., Dadios, E.P.,Bandala, A.A., 2020. Lettuce growth stage identi ﬁcation based on phytomorphological variations using coupled color superpixels and multifold watershed transformation.Int. J. Adv. Intellig. Inform. 6 (3), 261. https://doi.org/10.26555/ijain.v6i3.435 . Cox, M.A., Cox, T.F., 2008. Multidimensional scaling. Handb. Data Visualiz., 315 –347 https://doi.org/10.1007/978-3-540-33037-0_14 . Dhal, S.B., Jungbluth, K., Lin, R., Sabahi, S.P., Bagavathiannan, M., Braga-Neto, U., Kalafatis,S., 2022. A machine-learning-based IoT system for optimizing nutrient supply incommercial aquaponic operations. Sensors 22, 3510. https://doi.org/10.3390/ s22093510.Dietterich, Tom, 1995. Overﬁtting and undercomputing in machine learning. ACM Com-puting Surveys 27 (3), 326 –327.https://doi.org/10.1145/212094.212114 . Glibert, P., Seitzinger, S., Heil, C., Burkholder, J.A., Parrow, M., Codispoti, L., Kelly, V., 2005.The role of eutrophication in the global proliferation of harmful algal blooms. Ocean-ography 18 (2), 198–209.https://doi.org/10.5670/oceanog.2005.54 . Granitto, P.M., Furlanello, C., Biasioli, F., Gasperi, F., 2006. Recursive feature eliminationwith random forest for PTR-MS analysis of agroindustrial products. Chemom. Intell.Lab. Syst. 83 (2), 83–90.https://doi.org/10.1016/j.chemolab.2006.01.007 . Hesterberg, T., 2011. Bootstrap. Wiley Interdiscipl. Rev. Comp. Stat. 3 (6), 497 –526. https://doi.org/10.1002/wics.182 . Jensen, M.H., 1997.Hydroponics. HortScience 32 (6), 1018 –1021. Jones Jr., J.B., 2016.2016 Hydroponics: A Practical Guide for the Soilless Grower. CRCPress.Karimanzira, D., Na, C., Hong, M., Wei, Y., 2021. Intelligent Information Management inaquaponics to increase mutual bene ﬁts. Intell. Inf. Manag. 13 (01), 50 –69.https:// doi.org/10.4236/iim.2021.131003 . Kledal, P.R., König, B., Matuli ć, D., 2019. Aquaponics: the ugly duckling in organic regula-tion. Aquapon. Food Prod. Syst. 487 –500.https://doi.org/10.1007/978-3-030-15943- 6_19.Köppen, M., 2000.The curse of dimensionality. 5th Online World Conference on SoftComputing in Industrial Applications (WSC5). 1, pp. 4 –8. Lauguico, S.C., Concepcion II, R.S., Alejandrino, J.D., Tobias, R.R., Macasaet, D.D., Dadios,E.P., 2020. A comparative analysis of machine learning algorithms modeled from ma-chine vision-based lettuce growth stage classi ﬁcation in Smart Aquaponics. Int. J. Environ. Sci. Dev. 11 (9), 442 –449.https://doi.org/10.18178/ijesd.2020.11.9.1288 . Likas, A., Vlassis, N., Verbeek, J.T., 2003. The global K-means clustering algorithm. PatternRecogn. 36 (2), 451–461.https://doi.org/10.1016/s0031-3203(02)00060-2 . Lobanov, V.P., Combot, D., Pelissier, P., Labbé, L., Joyce, A., 2021. Improving plant healththrough nutrient remineralization in aquaponic systems. Front. Plant Sci. 12.https://doi.org/10.3389/fpls.2021.683690 . Mahanta, S., Habib, M.R., Moore, J.M., 2022. Effect of high-voltage atmospheric coldplasma treatment on germination and heavy metal uptake by soybeans (glycinemax). Int. J. Mol. Sci. 23, 1611. https://doi.org/10.3390/ijms23031611 . Maleki-Kakelar, M., Azarhoosh, M.J., Golmohammadi Senji, S., Aghaeinejad-Meybodi, A.,2021. Urease production using corn steep liquor as a low-cost nutrient source bySporosarcina pasteurii: Biocementation and process optimization via Arti ﬁcial Intelli- gence Approaches. Environ. Sci. Pollut. Res. 29 (10), 13767 –13781.https://doi.org/10. 1007/s11356-021-16568-6. Nozzi, V., Graber, A., Schmautz, Z., Mathis, A., Junge, R., 2018. Nutrient management inaquaponics: comparison of three approaches for cultivating lettuce. Mint MushroomHerb. Agronomy. 8 (3), 27.https://doi.org/10.3390/agronomy803002 . Peng, Y., Hou, H., Wang, S., Cui, Y., Zhiguo, Y., 2008. Nitrogen and phosphorus removal inpilot-scale anaerobic-anoxic oxidation ditch system. J. Environ. Sci. 20 (4), 398 –403. https://doi.org/10.1016/s1001-0742(08)62070-7 . Pillay, T.V.R., 2003.Aquaculture and the Environment. 2003. John Wiley & Sons.Pillay, T.V.R., Kutty, M.N., 2009. Aquaculture: Principles and Practices. No. 2. BlackwellPublishing, p. 2009.Ponce, H., Cevallos, C., Espinosa, R., Gutierrez, S., 2021. Estimation of low nutrients in to-mato crops through the analysis of leaf images using machine learning. Spec. Issue:Blockchain Artiﬁc. Intellig. Appl. 1 (2).https://doi.org/10.37965/jait.2021.0006 . Provin, T.L., Pitt, J.L., 2002.Description of Water Analysis Parameters.Rau, J., Sankar, J., Mohan, A.R., Das Krishna, D., Mathew, J., 2017. IoT based smart irrigationsystem and nutrient detection with 618 disease analysis. 2017 IEEE Region 10 Sym-posium (TENSYMP), 2017, pp. 1 –4https://doi.org/10.1109/TENCONSpring.2017. 8070100.Roberto, K., 2003.How-to hydroponics, Futuregarden. Inc. 2003.Shaﬁque, R., Mehmood, A., Ullah, S., Choi, G.S., 2019. Cardiovascular disease predictionsystem using extra trees classiﬁer.https://doi.org/10.21203/rs.2.14454/v1 . Shao, Y., Lin, J.C.-W., Srivastava, G., Guo, D., Zhang, H., Yi, H., Jolfaei, A., 2021. Multi-objective neural evolutionary algorithm for combinatorial optimization problems.IEEE Trans. Neural Networks Learn. Syst. 1 –11.https://doi.org/10.1109/tnnls.2021. 3105937.Sima, C., Braga-Neto, U., Dougherty, E.R., 2004. Superior feature-set ranking for small sam-ples using bolstered error estimation. Bioinformatics 21 (7), 1046 –1054.https://doi. org/10.1093/bioinformatics/bti081 . Timsina, J., Dutta, S., Devkota, K.P., Chakraborty, S., Neupane, R.K., Bishta, S., Amgain, L.P.,Singh, V.K., Islam, S., Majumdar, K., 2021. Improved nutrient management in cerealsusing nutrient expert and machine learning tools: productivity, pro ﬁtability and nu- trient use efﬁ
ciency. Agric. Syst. 192, 103181. https://doi.org/10.1016/j.agsy.2021. 103181.Wold, S., Esbensen, K., Geladi, P., 1987. Principal component analysis. Chemom. Intell. Lab.Syst. 2 (1-3), 37–52.https://doi.org/10.1016/0169-7439(87)80084-9 . Yadav, A., Thakur, U., Saxena, R., Pal, V., Bhateja, V., Lin, J.C.-W., 2022. AFD-Net: apple foliardisease multi classiﬁcation using deep learning on plant pathology dataset. https:// doi.org/10.21203/rs.3.rs-1158879/v1 .S.B. Dhal, M. Bagavathiannan, U. Braga-Neto et al. Artiﬁcial Intelligence in Agriculture 6 (2022) 68 –76
76