 AASRI Procedia   4  ( 2013 )  268 – 274 
2212-6716 © 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research Institute
doi: 10.1016/j.aasri.2013.10.040 ScienceDirect
 2013 AASRI Conference on Intelligent Systems and Control 
Transparency Issues in a Hybrid Reasoning Architecture for 
Assistive Healthcare 
Bingchuan Yuan, John Herbert 
Department of Computer Science, University College Cork, Ireland 
 
Abstract 
When pervasive computing is used to provide technology-driven assistive healthcare, there is a need for the system to be 
as sophisticated and adaptable as possible, while also being as transparent as possible for both subject and caregivers. A 
personalized, extensible hybrid reasoning framework has been implemented for the CARA (Context Aware Real-time 
Assistant) system which aims to satisfy these design goals. It provides context-aware sensor data fusion (including 
medical and environmental sensors) and incorporates anomaly detection mechanisms that support Activity of Daily Living 
(ADL) analysis and alert generation. The hybrid reasoning architecture incorporates both rule-based and case-based 
reasoning; this enables CARA to be more robust and to adapt to a changing environment by continuously retraining with 
new cases. The rules used for anomaly detection in a smart-home situation are given in a structured natural language, 
allowing subject or caregiver to inspect and, if appropriate, modify these rules; this supports the goal of transparency. For 
the case-based reasoning part, attention is drawn to the transpar ency issues that arise in the evaluation criteria used and 
interpretation of results.  
 
© 2013 Bingchuan Yuan, John Herber t. Published by Elsevier B.V. 
Selection and/or peer review under responsibility of American Applied S cience Research Institute 
 
Keywords:  Pervasive healthcare; case-based reasoning; rule-based system; smart-home 
1. Introduction 
The provision of healthcare increasingly involves the use of pervasive computing technologies to support 
independent living and avoid expensive hospital-based care  [1]. Pervasive and context-aware applications [2] 
have been widely recognized as promising solutions  for providing Activity of Daily Living (ADL) analysis 
for the elderly, in partic ular those suffering from chronic disease, as well as for reducing long-term healthcare 
Available online at www.sciencedirect.com
© 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research InstituteOpen access under CC BY -NC-ND  license.
Open access under CC BY -NC-ND  license.269  Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 costs and improving quality of care [3]. A context-aware system is designed to use the context to provide relevant information and services to the user. To achi eve pervasive healthcare for independent living [4], a context-aware system should be able to observe, interpret and reason about dynamic situations (both temporal and special) in a smart home environment. Although the straightforward rule based reasoning engine is a competent approach, it still has some unsatisfactory limitat ions. For example, situation-specific rules may be effective but only apply to a narrow range of problems; whereas more general rules may span a broad range of potential adaptations but not provide domain-specific guidance. Case-based reasoning (CBR) [5,6] is another approach targeting problem solving in domains where structured domain knowledge is known, however it requires an accumulation of sufficient previous cases to accomplish the reasoning task.  2. Related Work Using reasoning mechanisms to achieve context awareness has been addressed previously. W.Y. Lum et al. used decision trees to decide the optimal content for presentation, driven by context determined by target device, network, and preferences of user [8]. A cont ext model based on first-order predicate calculus was employed by A. Ranganathan et al.[9]. Context aware clustering algorithms for data mining a user's consumer interests of multimedia documents, based on user history was developed by M. Wallace et al. [10]. Case-based reasoning (CBR) is also applied to context awar e systems in various domains [11, 12]. The main issue in case-based reasoning is often the adaptation task, an d some research has addressed this issue [13]. In our work, a fuzzy logic based method for knowledge acquisition is developed and used for case retrieval and adaptation in a case-based reasoning system. The original CARA healthcare architecture enables improved healthcare through the intelligent combination of the wireless remote monitoring of patient vital signs, rich contextual information [14], and a rule-based reasoning engine employing fuzzy logic [15]. The current work uses a more sophisticated hybrid system to improve on the previous single reasoning models. The more sophisticated hybrid system (combining rule-based and case-based approaches) introduces several issues of transparency and these are the focus of this paper. 3. System Overview An overview of the CARA pervasive healthcare archit ecture is given in Figure 1. Vital sign sensors within a wireless BAN (Body Area Network) monitor the patient 's vital signs, and environmental sensors are used to monitor the patient’s home surroundings. The data is transmitted as low-level data (i.e. raw data or lower level context) to a smart phone or PC acting as a gateway se rver. This server connects over the internet to a cloud server which can provide high-level data management, da ta analysis and remote monitoring services. The data derived from the sensors is stored in XML, providin g an implementation independent generic format. The context data is structured as the case data, providin g the cases for CBR. The overall reasoning task is the important part of the system and spans functionality on the client side and on the server side. It is vital that it can adapt for different applications (such as for in-clin ic assessment or smart home monitoring), and it does so by altering the configuration with different sets of rules . It is also vital that it can execute in real-time, and provide prompt notification of critical conditions. It should be noted that to identify certain critical conditions may require correlating different sensor readings, usin g analysis of sensor readings accumulated over time, and combining with the wider contextual information.  In a smart home healthcare scenario, a BAN (Body Area  Network) provides the direct information about the individual and the home environmental sensors are deployed to gather information about the environment and possible situation of the person. The system receives the various sensor data via wireless communication protocols (i.e. bluetooth, zigbee). The raw sensor data provides the basic data building the context models for 270   Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 the monitored person and current environment. The ri ch data and context models are then used by the intelligent reasoning components to perform risk assessm ent and accomplish tasks such as home monitoring.                      
Fig. 1. CARA Architecture 
The remote monitoring services, data mining services, and real-time reasoning services are all essential services that run concurrently. The more recent implementation of the system involves a hybrid reasoning framework combining case-based reasoning and fuzzy rule-based reasoning, (Although introducing case-based reasoning offers advantages in the reasoning tasks, the efficiency of CBR suffers as the size of the case base grows, and therefore eventually a cloud-based solution will be incorporated to lessen load on resource-constrained clients.) In this paper, we focus on some transparency issues associated with using a system with these more sophisticated techniques. Transparency and clarity is important in all systems but especially so in a sophisticated system attempting to provide intelligent services for a human subject in possibly critical situations.   4. Transparency issues in System Implementation and Evaluation The hybrid architecture analyses the context informati on (derived from sensors and other information sources) using both case-based reasoning and fuzzy logi c based rule engine. Fuzzy logic rules supplement case-based reasoning with expert insight and the ability to disambiguate between cases using domain knowledge. In line with the goal of transparency, ru les are described, as much as possible, by means of linguistic terms using user-friendly range-type values derived from expert knowledge. Thus, and example of a rule might be "If the room temperature is very low an d the room is occupied then turn on the heater". Fuzzy logic is used for rules to provide a more nuanced approach. It allows the system to make use of imperfect data (e.g. lacks precision, is noisy or ambiguous) and can apply rules to reach a conclusion. In effect, it tries to 
271  Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 model the more human decision making based on imprecise  information but does so in a more explicit way, mechanically and much faster. Table 1 gives examples of some simple rules. Such rules are transparent and can be specified by a medical expert or a healthcare giver, and can also be modified by the patient under supervision.  
Table 1. Sample rules for anomaly detection in smart home environment 
Medical Associated Rule 
If Activity is not Exercising and (HeartRate is VeryHigh or Respirationrate is 
VeryHigh) then Situation is Abnormal 
If SystolicBloodPressure is VeryHigh and DynamicBloodPressure is VeryHigh then 
Situation is Abnormal 
If(Activity is Sleeping or Activity is Resting or Activity is watchingtv or Activity is 
Toileting) and (SystolicBloodPressure is High and DynamicBloodPressure is High) 
then Situation is Abnormal 
Event Associated Rules 
If activity is sleeping and(TV is ON or Cooker is ON or Light is ON) then Situation 
is Abnormal 
If Location is Outdoor and Time is Late Night then Situation is Abnormal 
If (Activity is Eating or Activity is Bathing or Activity is Exercising) and Time is 
Night and Lights is OFF then Situation is Abnormal 
 Issues (including medical, ethical and practical) make field experiments with elderly subjects infeasible at present. Realistic simulation experiments have been conducted, however, and these have been used to evaluate the effectiveness of the proposed context-aware hybrid reasoning framework in a pervasive healthcare environment. In these experiments, the CARA system deployed consists of the Remote Healthcare Sever, the Wearable Sensors and the Client Applications. Real-time vital signs of the volunteer subject in the experiment are collected from wearable BioHarness sens ors [7]. The environmental sensing is simulated by an android application which was developed to model and reflect the changes of the ambient environment. Biomedical parameters modelled and used are: heart rate,  body temperature, respiration rate, blood oxygen level, and systolic and diastolic blood pressure. The ambient contexts include: temporal and spatial aspects of  activity of a subject; environmental sensor data e.g. temperature, light, humidity and noise; household device status e.g. usage of TV, cooker, phone, and curren t status of  door, window, lights, heater.  The previous CARA system incorporated a fuzzy-based reasoning engine to provide real-time intelligence for prediction in various healthcare situations [15]. The new context-aware hybrid reasoning architecture enhances the previous fuzzy rule-based reasoning engine with learning ability by incorporating a novel case-based reasoning model. The architecture is implem ented based on the jCOLIBRI:CBR Framework [16] and the previous CARA work. Android was chosen as the target OS, and the solution was evaluated on an Android device (Motorola Xoom Tablet). Bluetooth pr ovides the wireless connection between the sensor network and the client application. Comprehensive testing is underway with trials in our lab. This simulation environment models realistic behaviour of a person liv ing in a home environment based on the typical daily routine of an elderly person, and this provides us with Activity Contexts. In addition, simulation of Ambient Contexts models changes of light, room temperature, sound and humidity. Physiology Contexts are derived from the BAN data, and Personal Contexts are deri ved from the information on the server database. 272   Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 The input query for CBR is based on all of the current c ontext. The context is also mapped into fuzzy sets where rules derived from domain knowledge can be us ed to ensure consistency and discover anomalies. The hybrid reasoning system then works to produce the best estimation of the current situation of the subject. In performing these experiments a case base of 262 case s was used; of these 192 were normal cases and 70 were abnormal cases. The newer CBR hybrid reasoning impl ementation was evaluated against  the usual basic approach (Common CBR) and a more accurate CBR approach using dynamic weights in case retrieval. The high variety of cases covered by the case repository ensures that the accuracy of the situation prediction is evaluated over a wide range. The results are shown in Table 2. A simple classification is used initially for anomaly detection, and this seems to provide clarity and transparency. This consists of a two-class prediction problem in which the outcomes are labelled either as positive or negative (Normal or Abnormal). If a prediction is Abnormal and the situation is Abnormal, then it is called a true positive (TP); however if the actual situation is Normal then it is said to be a false positive (FP). Conversely, a true negative (TN) is when both prediction and actual situation are Normal, and false negative (FN) when prediction is Normal and actual situation is Abnormal. The threshold for the confidence value is adjusted to get a trade-off between Detection Rate and False Alarm Rate. From the contingency table one can also derive several other metrics e.g. true positive rate (Recall), false positive rate (Fall-out), true negative rate (Specificity), positive predictive value (Precision). While these metrics may make evaluation more transparent, a metric such as accuracy may not be best for anomaly detection. An issue with CBR is that if most of the cases are normal, just predicting every situation as normal could yield a very high accuracy. Thus, more appropriate (and also transparent) metrics might be used, such as receiver operating characteristic (ROC) as used in signal detection theory [17]. 
Table 2. Results of Various CBR Approaches  
 True 
Positive False 
Positive True 
NegativeFalse 
Negative Accuravy 
Common CBR 
0.9 65 47 145 5 80.15% 
0.8 52 12 180 18 88.55% 
0.7 32 3 189 38 84.35% 
0.6 32 3 189 38 84.35% 
Imporved CBR with Fuzzy Dynamic Weights 
0.9 68 67 125 2 73.66% 
0.8 66 33 159 4 85.88% 
0.7 54 7 185 16 91.22% 
0.6 47 5 187 23 89.31% 
Proposed CBR with fuzzy dynamic weights and fuzzy rules adaptation 
0.9 68 26 166 2 89.31% 
0.8 63 12 176 7 92.64% 
0.7 54 5 187 16 91.98% 
0.6 47 2 190 23 90.46% 
5. Conclusions The CARA context-aware hybrid reasoning framewor k (combining fuzzy rule-based reasoning with a case-based model) provides the basis for an assistiv e healthcare solution in a smart home environment. While there is a need for the system to be as sophisticated and adaptable as possible, there is a danger that the system 273  Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 may become too complex and difficult to understand for both subject and caregiver. Transparency and clarity are therefore important concerns that must be addressed. These concerns are especially important as the system aims to provide intelligent assistance for (possibly vulnerable) individuals in possibly critical situations. The hybrid reasoning architecture incorporates both rule-ba sed and case-based reasoning; this enables CARA to be more robust and to adapt to a changing en vironment by continuously retraining with new cases. An important issue of transparency arises for each of the reasoning methods. For the rule-based part, an important goal is that the rules used in the smart-home analysis should be transparent enough to support the subject or caregiver inspecting and maybe modify these rules. The use of a structured natural  language and incorporation of fuzzy logic aims to satisfy this goal. Transparency and clarity in interpreting the results of case-based reasoning are also important, and this concer n leads to more critical analysis of the test results and indicates the need for appropriate metrics to be used. Acknowledgements     This work is supported by Science Foundation Ireland through a Research Frontiers Programme award.  References [1] Zhang, D. Context-aware infrastructure for personalized HealthCare. International Workshop on Personalized Health, IOS Press, 2004; 154-163. [2] Varshney, U. Pervasive healthcare. Computer 2003; 36:138-140. [3] Bouchard, B. Giroux, S. A Smart Home Agent for Plan Recognition of Cognitively-impaired Patients, Journal of Computers, 2006; 1,5: 53-62. [4] Mileo, A. Support for context-aware monitoring in home healthcare, Journal of Ambient Intelligence and Smart Environments 2010: 4966. [5] Ma, T. Context-Aware Implementation based on CBR for Smart Home, Wireless And Mobile Computing, Networking And Communications, IEEE International Conference 2005; 112-115. [6] Schmidt, R. Gierl, L. Case-Based Reasoning for medi cal knowledge-based systems, International Journal of Medical Informatics 2001; 64: 355-367. [7] Zephyr Technology, BioHarness BT, http://www.zephyr-technology.com/products/bioharness  [8] Lum, W.Y. A Context-Aware Decision Engine  for Content Adaptation, PERVASIVE Computing 2002: 41-49. [9] Ranganathan, A. and Campbell, R. H. An infrastructu re for context-awareness based on first order logic, Personal Ubiquitous Computing, 2003; vol.7, 6: 353-364. [10]  Wallace, M. and Stamou, G. Towards a context aware mining of user interests for consumption of multimedia documents, in Proc.IEEE Multimedia and Expo  2002; 1,733-736. [11] Yin, W.J. and Liu, M. A genetic learning appr oach with case based memory for job-shop scheduling problems, in Proc. of the first Int. Conf. Machine learning and Cybermetics, Beijing 2002; 1683-1687. [12]  Grosser, D. Sahraoui, H. A. and Valtchev. P.  An analogy-based approach for predicting design stability of Java classes, in Proc. of 9th Int. Software Metrics Symposium, Sydney Australia 2003; 252-262. [13]. Bergmann, R. Wilke, W. Towards a new formal model of transformational adaptation in Case-Based Reasoning, in: L. Gierl, M. Lenz (Eds.),Proceedings  of 6th German Workshop on CBR 1998; 43-52. [14] Yuan,  B. Herbert, J. Web-based Real-time Remote Monitoring for Pervasive Healthcare, Pervasive Computing and Communications Workshops (PERCOM Workshops), IEEE International Conference on, 2011; 625-629 274   Bingchuan Yuan and John Herbert  /  AASRI Procedia   4  ( 2013 )  268 – 274 
 [15] Yuan, B. Herbert, J. Fuzzy CARA - A Fuzzy-Based Context Reasoning System For Pervasive Healthcare, Procedia Computer Science, 2012; 10: 357-365 [16] jCOLIBRI: CBR Framework, http:// sourceforge.net/projects/jcolibri-cbr 2013 [17] Swets, John A.: Signal detection theory and ROC analysis in psychology and diagnostics, Lawrence Erlbaum Associates, Mahwah, NJ 1996 