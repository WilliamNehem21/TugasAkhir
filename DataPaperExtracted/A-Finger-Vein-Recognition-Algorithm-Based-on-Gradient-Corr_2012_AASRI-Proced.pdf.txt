 AASRI Procedia   1  ( 2012 )  40 â€“ 45 
2212-6716 Â© 2012 Published by Elsevier Ltd. doi: 10.1016/j.aasri.2012.06.008 
 
 2012 AASRI Conference on Computational Intelligence and Bioinformatics 
A Finger Vein Recognition Algorithm Based on Gradient Correlation 
Lin Chunyi1*ËˆLi Mingzhong2Ëˆ Sun Xiao2 
1School of Electronics and Information Engineering, South China University of Technology 
2Department of Biomedical Engineering, Medical School of SUN Yat-Sen University  
Abstract 
Finger vein authentication plays an important role in the field  of vascular certification because of its simplification and high efficiency.  In this paper, a finger vein recognition algorithm based on gradient-correlation is presented.  Firstly, a method based on histogram statistics is given to recognize wh ether finger vein images or not. Secondly, matched filter based on maximum curvature model is adopted to extract the gradient image of finger vein. Finally, cross-correlation between two gradient images is figured out to estimate their similarity. The maximal correlation is used to decide whether matching or not with threshold.  Experimental results show that FAR and FFR are 0.375% and 1.20% respectively. This algorithm is simple, efficient, insensitive to noise, 
 Â© 2012 Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute  
Keyword: Biological identification, Gradient-correlation, Finger vein recognition, Matched filter 
1. Introduction With the information eraâ€™s coming, people pay much more attention on the Information Security. The development of science and technology presents some drawbacks of the traditional identification methods, such as smart cards and passwords. However, finger vein recognition, as one of the biometric technology, has some kind advantages of non-contact, live identification, high security and inner-feature, etc. 
 * Corresponding author. Tel.: 13602766696. E-mail address: eechylin@scut.edu.cn. 
AASRI
Procedia
www.elsevier.com/locate/procediaAvailable online at www.sciencedirect.com
Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.41  Lin Chunyi et al.  /  AASRI Procedia   1  ( 2012 )  40 â€“ 45 
 So far, some companies [1, 2] have published products based on finger vein authentication, while some researches 
[3-8] are still in the lab stage with problems exist as followed: 1) Lack of consideration to tell the available input image. 2) Require high image quality. 3) Image preprocessing.  2. System Overview Finger vein authentication system contains four modules as shown in Fig.1. 
Image Acquisition ModuleImage processing module Storage module 
Image acquisition device 
Vena recognition algorithmImage  preprocessingExtract vein gradient imageDatabase
Matching Module
Matching ResultTrue False
 
Fig. 1 Diagram of Finger Vein Authentication System 
Processor DM6437DSP clocked @ 600MHz was implemen ted in the system that consists of image acquisition part and DSP board, is shown in Fig.2 and Fig.3 respectively. The DSP board contains image processing module, storage module and matching module. All the procedures including finger vein registration and authentication are performed on DSP. 
                                                                        
  
Fig. 2 DSP Board                                                                                                                   Fig. 3 Image Acquisition Device 
3. Image Acquisition Image acquisition part is made up of a CMOS came ra and 6 LEDs that emit ~850nm near-infrared light. Optical filter added to capture a distinct image sized 355x288, 8 bit for each pixel. One original image is shown in Fig.4. Before discrimination, as Sun 
[5], a rotational alignment was done, and the effective area of finger vein was shown as Fig.5. 
                                                                
  
Fig. 4 Original Image of Finger Vein                                                                                      Fig.5  Effective Region 
4. Image Discrimination In a mature authentication product, specific algorithm is terribly needed to tell  the available image. One kind of an algorithm, based on histogram statistics  as shown in Fig. 6, could realize the function. 42   Lin Chunyi et al.  /  AASRI Procedia   1  ( 2012 )  40 â€“ 45 
 Levels of vein image subsection Criteria of level subsection 
TrueFalse Non vein image
Finger vein image
 
Fig.6 Histogram Analysis Flowchart 
The criteria mentioned in the flowchart are result analysis  of many experiments. A finger vein image shall rigorously meet the following criteria. x Probability summation of the first 6 subparagraphs should not be greater than 5%. x From 7
th to 18th ones, 5 adjacent subparagraphs probability summation greater than 40% should be found.  x From 7
th to 22nd ones, the probability summation should be greater than 80%.  x Beyond 25
th ones, the probability of every subparagraph should be less than 1%. 5. Gradient Image Extraction Considering the venous distribution characteristics, image grey distribution corresponds with the maximum curvature model. 12 angle operators in research 
[9] were too many. To raise speed, 4 new angle operators (0e,45e,90e,135e), were raised as follow: 
Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»
Â¼Âº
Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«
Â¬Âª
                                         
                                                                                                                                                           
.
Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»
Â¼Âº
Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«
Â¬Âª
                                    
 
                                                                                                                                                           
.
Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»
Â¼Âº
Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«
Â¬Âª
                                    
 
                                                                                                                                                           
.
Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»Â»
Â¼Âº
Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«Â«
Â¬Âª
                                    
 
                                                                                                                                                           
. 
Convolutional filtering was performed through the image using the operators mentioned. After that, 4 images, sized J*K, were obtained with pixel value f0(x, y), f1(x, y), f2(x, y), f3(x, y). Accordingly, the gray value f(x, y) of the gradient image, as shown in Fig.7, was calculated as follow: 
Â¦Â¦
   -.
[\\@ [ I\ [ I\ [ I\ [PD[>I\ I[                                                                (1) 43  Lin Chunyi et al.  /  AASRI Procedia   1  ( 2012 )  40 â€“ 45 
 
 
Fig.7 Gradient Image of Finger Vein 
6. Matching Algorithm The gradient image could intuitively reflect the difference between vein images. The advantage of maximum cross-correlation is not sensitive to noises. Two steps as Fig.8 & Fig.9 performed the matching. 
g(0,0) moves to f(u,v) and matching
                                          Img1
                                  Img2
                                  Img2
                                                               f(0,0) moves to g(u,v) and matching
                                          Img2
                                  Img1
                                  Img1
 
Fig.8 Step 1 of Matching Process                                                                                     Fig.9 Step  2 of Matching Process 
  Img1 was defined as gradient of registration image   \ [ I and its mean value is I while Img2 defined as gradient of test image
  \ [ J and its mean value is J. Img1 and Img2 sized J x K. x Set Img2 as a template and then match with Img1 from
    I . Point   Y X I is the position     J moves to just as shown in Fig.8. Then correlation
Eis calculated between the intersection regions as follow: 
>@ Y XÂ   x    x  
Â¦Â¦Â¦Â¦Â¦Â¦
      J@ Y X\ >J[@ I>I[\@ JY X\ >J[@ I>I[\Y X Î³
X [Y \X [Y \X [Y \-.-.-.         (2) 
Â¦Â¦
  Â x x  -.
. - X [Y \I[\YXI> >@ Y X                                                       (3) 
Â¦Â¦
  Â x x  -.
. - X [Y \\ J[YXJ> >@ Y X   (4) 
>>@ Y XÂ  Y@XPD[>Î³ Î²                                                                                                  (5) x Set Img1 as a template and then match with Img2 from
    J . Point   Y X J is the position     I moves to just as shown in Fig.9. Then correlation
Eis calculated similarly asE. Finally, 98 coefficients were obtained, maximum of
EandEare used to evaluate matching degree: 
 PD[ E E E    7. Experimental Results Experiments show that the accuracy is high and this algorithm could tell the true finger vein image from non-finger vein images like pencil images. Images from  40 different fingers were captured and some fingers out of them were captured for 70 times. Totally 588 images were used to make up the vein library.  44   Lin Chunyi et al.  /  AASRI Procedia   1  ( 2012 )  40 â€“ 45 
 7.1.  False Rejection rate (FFR) evaluation 70 vein images of one same finger were processed with 1:1 matching mode and 4900 coefficients obtained. In different thresholds, False Rejection Rate is shown in Table 1.  Only
7tE , image would be accepted. 
Table.1 FFR evaluation 
Identification method Threshold T False Rejection times )))5  
   This work   
  
  
  
  
  
7.2. False Acception Rate (FAR) evaluation 40 vein images of different fingers were processed with 1:1 matching mode and 1600 coefficients obtained. In different thresholds, False Acception Rate is shown in Table 2.  Only
7E , image would be rejected. 
Table.2 FAR evaluation 
Identification method  Threshold T  False Acception times ))$5
    This work   
  
  
  
  
  
According to table 1 and table 2, threshold is rational to be 0.4, a good recognition rate obtained. On the grounds of FFR and FAR, a testing index of matching algorithm, the Receive Op erating Characteristics Curve shown in Fig.12, demonstrates the relationship be tween FFR and FAR in different thresholds. 
 
Fig.12 Receive Operating Characteristics Curve 
ROC curve is close to the x axis that means the prec ision rate of the algorithm is high. In the same experimental conditions, whichever threshold is used to measure FFR and FAR in research [5], its recognition 45  Lin Chunyi et al.  /  AASRI Procedia   1  ( 2012 )  40 â€“ 45 
 rate is worse.  Research [6] FAR is 0.7% that almost twice of the FAR in this work, while its FFR is 1.05% that is approximately equal to this work.  8. Conclusion This work presents an algorithm for finger vein auth entication.  Experimental results show that FFR and FAR are 0.375% and 1.20% respectively. Fewer steps im prove the processing speed, especially suitable for the finger vein authentication system based on DSP. In the later product research and development, we will be dedicated to optimize the pre-processing algorithm, espe cially reduce the noises caused by light source. References [1] Naoto Miura, Akio Nagasaka, Takafumi Miyatake. Feature Extraction of Finger Vein Patterns Based on Repeated Line Tracking and Its Application to Person al Identification [J]. Machine Vision and Applications, 2004, 15(4): 194 - 203 . [2] Naoto Miura, Akio Nagasaka, Takafumi Miyatake . Extraction of Finger-Vein Patterns Using Maximum Curvature Points in Image Profiles[J]. IEICE-Transactions on Information and Systems, 2007, E90-D(8): 1185-1194. [3] YU Cheng-bo, QIN Hua-feng. Research on extr acting human finger vein pattern characteristics[J]. Computer Engineering and Applications, 2008, 44(24): 175-177. [4] LIN Chun-yi,ZHOU Yu-jian,CHEN Qing-wu.Algo rithm Research of Finger Vein Authentication [J]. Opto-Electronic Engineering, 2011, 38(2): 90Ìš96 [5] SUN Xiao, LIN Chunyi, LI Mingzhong, "A DSP-Based Finger Vein Authentication System", in Internetional Conference on Intelligent Computation Technology and Automation (ICICTA),  2011 ËˆVol. 2, pp: 333-336. [6] WANG Ke-Jun, YUAN Zhi, Finger Vein Recognition Based on Wavelet Moment Fused with PCA Transform[J];Pattern Recognition and Artificial Intelligence;2007, 20 (5)Ë– 692-697. [7] WANG Ke-Jun, Ma Hui, A Finger Vein Recognition Method Using Improved Oriented Filter and Modified Hausdorff Distance[J]; Journal of Computer -Aided Design & Computer Graphics; 2011: 23(3): 385- 391. [8] Jinfeng Yang and Xu Li. Efficient Finger Vein Localization and Recognition. 2010 International Conference on Pattern Recognition.pp:1148-1151 [9] S Chaudhuri, S Chatterjee, N Katz, "Detection of blo od vessels in retinal images using two-dimensional matched filters", IEEE Transactions on Medical Imaging, Vol. 8, pp. 263 â€“269, 1989. 