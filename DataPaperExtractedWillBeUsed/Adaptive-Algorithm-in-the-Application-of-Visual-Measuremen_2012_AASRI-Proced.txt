 AASRI Procedia  3 ( 2012 )  113 – 117 
2212-6716 © 2012 The Authors. Published by Elsevier B.V. 
Selection and/or peer review under responsibility of American Applied Science Research Institute
doi: 10.1016/j.aasri.2012.11.020 
 
 
2012 AASRI Conference on Modeling, Identification and Control 
Adaptive Algorithm in the Application of Visual Measurement 
System 
Jing Zhoua,*, ShiJun Li a , DongYan Huanga , Hong Wang b, YeChi Zhang c, Wei 
Wangd 
a College of Information Technology, Jilin Agricultural University, Changchun, 130118, China  
b Electronic Commerce Department, China United Network Communication Co.LTD.of Changchun City Branch, Changchun, 130021, 
China 
c Department of Public Customer ,China Telecom Corporation Limited Jilin Branch, Changchun, 130033, China  
d Special Market Sales Center, China Telecom Corporation Limited Changchun Branch, Changchun, 130033, China 
 
Abstract 
Focus on the problem that noise is existing in the input signals and output signals of visual measurement system , if 
calculate via the classic least mean square algorithm or recursive least square , it would generate the larger errors ; Or 
calculate directly , the calculation work loading is too complex . So the solution of weight vector could be as the limited 
best optimization solution of Rayleigh Quotient of augmentation input vector self correlation matrix , take iteration 
estimation to the augmentation input vector and set up the function relationship between step factor and error ; The 
simulation analysis experiment results indicate the standard tolerance of proposed adaptive total least squares algorithm is 
0.0375mm ; but the one of normal total least squares algorithm is only 0.0598mm . Obviously , the proposed algorithm 
has more high precision than normal total least squares algorithm , and its structure is simple , the calculation speed is 
faster . 
 
© 2012 Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied 
Science Research Institute 
 
Keywords: Adaptive Algorithm; Visual Measurement; Total Least Squares ; 
                                                           
* Corresponding author:Jing ZHOU. Tel.: +(86)-13039127396. 
E-mail address: orchid_79@163.com . 
Available online at www.sciencedirect.com
© 2012 The Authors. Published by Elsevier B.V. 
Selection and/or peer review under responsibility of American Applied Science Research Institute
Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.
114  
 Jing Zhou et al. /  AASRI Procedia  3 ( 2012 )  113 – 117 
 
1. Introduction 
In the application of visual measurement system of single camera , the characteristic point is as the target to 
the measured point . Generally , to achieve the coordinate of measured points via the measurement to the 
characteristics point . The advanced defined coordinate of the characteristic point is marked as input matrix 
A  , the measurement result of the characteristic point is as output matrix b , then the transition matrix x  
between A  and b could be calculated by linear simultaneous equations 
b
A x
.During the data processing 
of visual measurement system of single camera , the least square solution of linear simultaneous equations 
b
A x
 has been the general requirement . But only when the noise or error of vector b is 0 , the error's sum 
of squares is minimum , the least squares estimation would be close to the best optimization solution . But the 
error is existing in vector A  and b , the least squares estimation is not the best optimization . In this case , the 
best way is total least squares (TLS)[1-3]. But in more cases , the TLS algorithm is batch mode based on 
direct singular value decomposition , it needs to take singular value decomposition for 
N
N
 matrix , its 
calculation is too complex and in the case of N  is too large , it's very difficult to do . Focus on this point , the 
scientific research workers in domestic and oversea make a lot of research analysis , SUYKENS J. et al., 1999 
present Least squares support vector machine classifiers [4]; SANCHEZ A. et al., 1995 presents Robustization 
of a learning method for RBF net-works [5]; KRUGER U. et al., 2008 present Robust partial least squares 
regression: part I algorithmic developments [6] . Summary the above research analysis results , to propose one 
kind of method which is to achieve step length recursion formula of TLS algorithm based on the cost function 
gradient . 
2. Normal Total Least Sqares Algorithm 
For the solution of linear simultaneous equations 
b
A x
, due to the input matrix A and the output 
matrix b  are get by actual visual measurement system , so the noise interference error is always existing , 
least squares estimation is not the best optimized in the statistics viewpoint , its covariation would be 
increased due to noise interference error . Define the disturbance matrix E and vector e  to calibrate the 
interference error of matrix A  and b . So : 
)
(
)
(
e
b
x
E
A
 
)1(
 
0
1
)
,
,
(
x
e
E
A b
 
(2)
 
Define 
]
[ ,
],
[ ,
E e
A b E
A
, then ,
0
)
(
E x
K
. 
Restrain x  is a vector of unit norm. Define 
E x
A x
, 
E x
 could be as the error vector of least square 
solution x . Total least square solution x  is the least square solution which sum of error squares is minimum 
the least square solution [7]. 
Define the singular value decomposition of augmented matrix A  is : 
H
i
V
a
U Diag a
A
)
,
( 1,
 
(3)
 
The diagonal element 
0
2
1
ia
a
a
; and opposite singular value vector are 
iv
v v
,
,
,
2
1
. 
The least square solution of
0
A x
 is the right singular vector oppositing to minimum singular value 
ia . 
So the least square solution of 
b
A x
 should satisfy : 
]
,
[ ,
, ]
,
[
1
1
1
2
1
i
i T
v
v
v
v v
x
 
(4)
 
Finally , the least square solution should be as below : 
115
 Jing Zhou et al. /  AASRI Procedia  3 ( 2012 )  113 – 117 
 
n
v
v
x
n
i
i
i
1
1
 
(5)
 
But TLS algorithm is batch mode based on direct singular value decomposition , it needs to take a long 
time to have singular value decomposition , its calculation is too complex and it's very difficult to calculate 
much times , so to present the application in adaptive total least squares algorithm . 
3. Adaptive Total Least Sqares Algorithm 
Define input and output data separately is 
X I (k)
 and 
YO (k)
, so : 
( )
( )
( )
u k
x k
k
X
I
I
 
(6)
 
( )
( )
( )
k
u
y k
k
Y
O
O
 
(7)
 
Among it , 
n
k
2,1 ,...,
;
x(k)
 and 
y(k)
 are the valid data , 
uI (k)
 and 
uO (k)
 is the interference error of 
input and output data . Define the weight vector of system is : 
hn k T
h k h k
H k
( )]
( ),...,
[ ( ),
)
(
2
1
 
(8)
 
Define the augmentation input vector and weight vector separately are : 
T
T
T
k
k Y
X
Z k
( )]
( ),
[
( )
 
(9)
 
T
HT k
W k
]1
( ),
[
( )
 
(10)
 
So output error is : 
( )
( )
( )
k W k
Z
e k
T
 
(11)
 
Define the cost function is the sum of Rayleigh Quotient and the last element s constrain of the 
augmentation weight vector : 
)
( )
( 1
)
(
( )
( )
( )
( ), )
(
1
2
2
n
T
T
e
W k
k
W
R k W k
W k
f W k
 
(12)
 
Among it , 
E Z k Z k T
R k
( ) ( )
( )
 is the autocorrelation matrix of augmentation input vector . Formula 
(12)
 relative to 
W(k)
 take partial derivative, and use the steepest descent method : 
2
2
2
2
2
( ) )
(
( )
( )
( )
( )
( )
( )
( )
( )
( )
)1
(
k
W
R k W k W k
W k
R k W k
k W k
W k
k
W
T
 
(13)
 
Among it, 
)
(k  is iteration step . To suppose 
W(k)
 is convergence , known according to the  Rayleigh 
Quotient property , its solution is corresponding standardization feature vector of smallest eigenvalue of 
R(k)
,that is total least-squares solution. Generally, define 
Z k Z k T
( ) ( )
 is instantaneous estimate of 
R(k)
, and 
use the nonlinear function relation between step and instantaneous estimate to achieve the iteration update of 
step . But in fact it s only effictive for specified single s operating environment , the accuracy of convergence 
is not perfect . Used the new estimate mode : 
Z k Z k T
R k
( ) ( )
)1
(
, and it s more extensive adaptability 
relative to nonlinear function iteration , based on the step iteration rules of cost function gradient. Define the 
formula of step iteration is : 
( )
)1
(
( )
f k
k
k
 
 
 
 
 
(14)
 
So : 
116  
 Jing Zhou et al. /  AASRI Procedia  3 ( 2012 )  113 – 117 
 
)1 }
(
( )
,)
(
( )
{
)
(
( 1)
k
W k
W k
f k
k
f
k
 
(15)
 
Among it ,  
2
2
2
2
2
( ) )
(
( )
( )
( )
( )
( )
( )
)
(
( )
)
(
k
W
R k W k W k
W k
R k W k
k
W
W k
k
f
T
 ; 
)1
(
)1
(
)1
(
)
(
W k
f k
k
W k
 . 
4. The experimental results and data analysis 
In order to validate the performance of the proposed adaptive total least square algorithm , so compare the 
proposed adaptive total least square algorithm with the normal total least square algorithm . Apply adaptive 
total least square algorithm in visual measurement system of single camera to calculate the attitude of optical 
characteristics points . Define the parameters of measurement system is as below: the focus of the camera is 
12.026mm;The size of the imaging plane is 
mm
mm
.6 28
.8 12
;Locate 5 optical characteristics points in 
CMM, their coordinates could be measured directly by CMM. And define randomly the position of fifty 
determinands , use separately the normal total least-squares algorithm and adaptive total least-squares 
algorithm to calculate the attitude of their optical characteristics points. Then compare the results calculated 
by every algorithm with the actual coordinate measured by CMM . 
 
Fig. 1. The curve of measurement tolerance along X,Y,Z of CMM 
The experiment results indicate the standard tolerance calculated by normal total least-squares algorithm is 
0.0598mm, and the one done by adaptive total least-squares algorithm is 0.0375mm. Compared with normal 
total least-squares algorithm , the tolerance calculated by adaptive total least-squares algorithm is less .  
In order to further validate the calculation speed of the adaptive total least square algorithm , set up the 
experiment environment : CPU
Intel core i7 3770
RAM
4G
Operation system : Windows xp
Matlab7.0 . The experiment used the normal total least square algorithm and adaptive total least square 
algorithm to continue calculating 106 times , separately records the time of five times experiment for every 
algorithm , shown as Table 1. 
117
 Jing Zhou et al. /  AASRI Procedia  3 ( 2012 )  113 – 117 
 
Table.1 The comparison between the time consumption 
 
Time(s) 
Normal TLS 
1.38 
1.66 
1.15 
1.56 
1.31 
Adaptive TLS 
0.86 
0.77 
0.89 
0.83 
0.92 
The results of Table. 1 indicate the calculation speed of adaptive total least square algorithm is better than 
the one of normal total least square algorithm . 
Conclusion 
In order to decrease the error tolerance when the noise is existing in both input signals and output signals 
of visual measurement system , and get the best optimization solution of the relative to the attitude conversion 
between optical characteristics points and camera , present the method of adaptive total least square 
algorithm . Firstly , introduce the function expression of normal total least squares algorithm; Then , based on 
the Rayleigh Quotient property to get the final equation of adaptive total least squares algorithm. Finally , 
make the simulation comparison experiment , the standard tolerance calculated by normal total least square 
algorithm is 0.0598mm ; But the one done by adaptive total least square algorithm is 0.0375mm ; The 
experiment results prove adaptive total least square algorithm has high precision , and calculation speed is 
better than normal total least square algorithm .  
References 
[1] GOLUB G. H. , VAN LOAN C. F.�et al., An analysis of the total least squares problem[J]. Society for 
Industrial and Applied Mathematics Journal on Numerical Analysis, 1980, 17: 883~ 893. 
[2] JIA ZH X. , FENG SH Q. et al. An error analysis of a hybrid method for the least squares problem[J]. 
Journal of DaLian University of Technology, 2000,40:S1~S4. 
[3] LU T D. , ZHOU SH J. et al. An Iterative Algorithm for Total Least Squares Estimation[J]. Geomatics and 
Information Science of WuHan University , 2010,35(11):1351~1354. 
[4] SUYKENS J. A. K., VANDEWALLE J. et al. Least squares support vector machine classifiers [J]. Neural 
Processing Letters, 1999, 9(3): 293 300. 
[5] SANCHEZ A. V. D. et al. Robustization of a learning method for RBF net-works[J]. Neurocomputing, 
1995, 9(1): 85~94. 
[6] KRUGER U, ZHOU Y, WANG X, et al. Robust partial least squares regression: part I algorithmic 
developments[J]. Journal of Chemo-metrics, 2008, 22(1): 1~13. 
[7] KARABASSIS E, SPETSAKIS M E. et al. An analysis of image interpolation, differentiation and 
reduction using local polynomial fits[J]. Graphical Models and Image Processing.1995. 57(3):183~196. 
