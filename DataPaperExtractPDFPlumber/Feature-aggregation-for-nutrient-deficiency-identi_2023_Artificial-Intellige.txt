ArtificialIntelligenceinAgriculture8(2023)77–90
ContentslistsavailableatScienceDirect
Artificial Intelligence in Agriculture
journal homepage: http://www.keaipublishing.com/en/journals/artificial-
intelligence-in-agriculture/
Featureaggregationfornutrientdeficiencyidentificationinchilibasedon
machine learning
DeffaRahadiyana,SriHartatia,⁎ ,Wahyonoa,AndriPrimaNugrohob
aDepartmentofComputerScienceandElectronics,UniversitasGadjahMada(UGM),Yogyakarta,Indonesia
bDepartmentofAgriculturalandBiosystemsEngineering,UniversitasGadjahMada(UGM),Yogyakarta,Indonesia
a r t i c l e i n f o a b s t r a c t
Articlehistory: Macronutrientdeficiencyinhibitsthegrowthanddevelopmentofchiliplants.Oneofthenon-destructive
Received18July2022 methodsthatplaysaroleinprocessingplantimagedatabasedonspecificcharacteristicsiscomputervision.
Receivedinrevisedform5April2023 Thisstudyuses5166imagedataafteraugmentationprocessforsixplanthealthconditions.Buttheanalysisof
Accepted25April2023
onefeaturecannotrepresentplanthealthcondition.Therefore,acarefulcombinationoffeaturesisrequired.
Availableonline28April2023
ThisstudycombinesthreetypesoffeatureswithHSVandRGBforcolor,GLCMandLBPfortexture,andHumo-
mentsandcentroiddistanceforshapes.Eachfeatureanditscombinationaretrainedandtestedusingthesame
Keywords:
MLParchitecture.ThecombinationofRGB,GLCM,Humoments,andDistanceofcentroidfeaturesresultsthebest
FeatureCombination
Multi-LayerPerceptron performance.Inaddition,thisstudycomparestheMLParchitectureusedwithpreviousstudiessuchasSVM,Ran-
Classifier domForestTechnique,NaiveBayes,andCNN.CNNproducedthebestperformance,followedbySVMandMLP,
Nutrientdeficiency withaccuracyreaching97.76%,90.55%and89.70%,respectively.AlthoughMLPhasloweraccuracythanCNN,
themodelforidentifyingplanthealthconditionshasareasonablygoodsuccessratetobeappliedinasimpleag-
riculturalenvironment.
©2023TheAuthors.PublishingservicesbyElsevierB.V.onbehalfofKeAiCommunicationsCo.,Ltd.Thisisanopen
accessarticleundertheCCBY-NC-NDlicense(http://creativecommons.org/licenses/by-nc-nd/4.0/).
1.Introduction etal.,2020;MyoHanandWatchareeruetai,2020).Manystudiesiden-
tifymacronutrientdeficienciesbasedonplantimages,especiallyleave
Lackofmacronutrientormicronutrientisoneofthecausesforthe images.SeveralstudiesusedRGBimagesofleavesoftomatoes,chilies,
number of chili production being lower than consumption in cucumbers,andothers(Bahtiaretal.,2020;LewisandEspineli,2020;
Indonesia(Bahtiaretal.,2020;ChenandWang,2019).Macronutrients Joseetal.,2021;Shahetal.,2018).Therule-basedmethodanalyzes
includeN,P,K,Ca,Mg,S(1000mg/kgdrymatter),andmicronutrients RGBleafcolorinformationinstatisticalvalues,buttheirmodelcannot
include Iron, Mn, Zn, Cu, Cl, B, and Mo (100 mg/kg dry matter) handle highdata dimensions(Latteet al.,2017;LatteandShidnal,
(Wulandharietal.,2019;Tranetal.,2019).Chiliplantsthatlackmacro- 2016;Halimetal.,2021).Severalstudieshaveusedmachinelearning
nutrientsshowvisualcharacteristicsontheleaves,suchaschangesin toidentifymacronutrientdeficienciesinplants.TheBackpropogation-
color,shape,andleaftexture(Taujuddinetal.,2020;Tranetal.,2019; ArtificialNeuralNetwork(BP-ANN)modelwithadiagnosticrateof
daSilvaetal.,2019;NandSaju,2018;Shahetal.,2018).Nevertheless, 97.5%,usinghyperspectralimage(Shietal.,2021).Inaddition,thecom-
identifyingnutrientdeficiencyisdifficultforordinaryfarmersbecause parisonofK-NearestNeighbor(KNN)withothermethodssuchasJ48,
severalnutrientsshowsimilarcharacteristics(SinhaandShekhawat, NaiveBayes,PartialLeastSquare(PLS),ClassificationandRegression
2020;Watchareeruetaietal.,2018;Harjokoetal.,2019). Tree (CART), and Classification Tree (CT). The highest accuracy is
Twomethodsforidentifyingnutrientdeficienciesinplantsarede- 86.52%fortheKNNmethod(Kumaretal.,2015,2021).Otherstudies
structiveandnon-destructive.Oneofthedestructivemethodsislabora- use logistic regression, Support Vector Machine (SVM), and Multi
torytesting,buttheriskoferrorismoresignificantduetohumanerror LayerPerceptron(MLP)toidentifynutrientdeficiencyofblackgram
(Harjokoetal.,2019).Digitalimageprocessingwithmachinelearningis plants(Rahadiyanetal.,2022a).MLPperformsbetterwith88.33%accu-
anon-destructivemethodthatgivesmoreobjectiveresults(Kamelia racythanlogisticregressionandSVM(MyoHanandWatchareeruetai,
2020).Then,anotherclassifiermethod,suchasNaiveBayesandRan-
dom Forest Technique (RFT) (Siedliska et al., 2021; Vassallo-Barco
etal.,2017).However,thesuccessoftheidentificationmodelisnot
⁎ Correspondingauthors.
onlybasedonthemachinelearningmethodused,butalsoonthecom-
E-mailaddresses:deffa.rahadiyan@mail.ugm.ac.id(D.Rahadiyan),shartati@ugm.ac.id
(S.Hartati),wahyo@ugm.ac.id(Wahyono),andrew@ugm.ac.id(A.P.Nugroho). binationoffeaturesanalyzed.
https://doi.org/10.1016/j.aiia.2023.04.001
2589-7217/©2023TheAuthors.PublishingservicesbyElsevierB.V.onbehalfofKeAiCommunicationsCo.,Ltd.ThisisanopenaccessarticleundertheCCBY-NC-NDlicense(http://
creativecommons.org/licenses/by-nc-nd/4.0/).D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Severalstudieshavetriedtousecertainfeaturesandtheircombina- b. FindasuitableMLParchitecturebasedonthecombinationofthese
tiontoidentifymacronutrientdeficiencies.Research(Drdshetal.,2021) threefeatures.
comparesYGBandthepercentageofRGBvalueusingANN,andRGB c. Thedatausedisin-Housedataset.
showsthebestaccuracy.Inaddition,HSVandRGBvaluescanbeused
(Qur'ania et al.,2020;Mashumah et al., 2018). TheGray-Level Co-
2.Materialsandmethods
occurrencematrix(GLCM)methodextractsthecolorandtextureinfor-
mationwithfourdifferentangles(Sosaetal.,2019;Sabrietal.,2020;
Thisstudyidentifiedsixchiliplantconditionsusingdigitalimage
Vassallo-Barcoetal.,2017).AnothermethodfortextureisLocalBinary
Pattern(LBP),butin(Tanetal.,2021)’sstudy,GLCMismoresuitable processingbasedonsingleleafimagedata.Thereareseveralstages
foridentification,namelyimageacquisition,segmentation,imageaug-
thanLBPfortheirdata.Anotherextractionmethodisshapefeatureex-
mentation,featureextraction,andidentificationtasks.Fig.1showsthe
tractionusingcannyandSobeledgedetection(Qur'aniaetal.,2020),
identificationworkflowdesign.
butresearch(Lukicetal.,2017)utilizesstatisticalcharacteristicsofHu
momentsfrombinaryleafimage.Notonlyusingonefeature,Combining
features is important in identifying macronutrient deficiencies 2.1.Leafdataandnutrientstatus
(JeyalakshmiandRadha,2017;Rahadiyanetal.,2022b).Inseveralre-
Theinitialstageintheidentificationprocessisthecollectionof
searches,thecombinationofthefeaturesimprovestheresult,suchas
imagedata.Thedatasetusedinthiscasewascollectedfromthehydro-
acombinationofRGBstatisticsvaluesandSobeledge(Wulandhari
ponicschiliplantinSleman,SpecialRegionofYogyakarta,Indonesia.
etal.,2019;Wangetal.,2021b),thecombinationofGLCM,hue,and
ThehydroponicsusedisaNutrientFilmTechnique(NFT)system.The
colorhistogramtoanalyzemaizeplants(Sabrietal.,2020).Then,the
sixplanthealthconditionsobservedwereHealthy,Calcium,Magne-
combinationofRGBvaluesandtexturevalueoftheleaves(Merchant
sium,Sulfur,Magnesium-Sulfur,andmulti-deficiency.Thecharacteris-
et al., 2018) and the descriptors Blurred Shape Model (BSM) and
ticsofeachplant'shealthconditionaresummarizedinTable1.The
GLCMtoextractshapeandtexturecharacteristicsincoffeeleavesim-
initialconditionofhydroponicplantsisahealthyplant.Thedatacollec-
ages(Vassallo-Barcoetal.,2017).AnotherstudyusesK-meansCluster-
tionscenarioisdescribedasfollows:
ing based on texture characteristics with RGB values in the image
(Merchantetal.,2018).However,theresultingaccuracyisstilllow a Somechiliplantssuitabletothecriteriacangrowanddevelopinan
duetothelimitedfeaturesused(Yanet al.,2019).However,most NFThydroponicsystemuntilsixweeksafterplanting.Allplants
studies' feature combinations cannot always improve the accuracy havethesameHealthconditionasshownonFig.2(g).
(Qur'aniaetal.,2020).TheclassificationmodelusingRGBcolorextrac- b Thisstudycombinesnutrientsusingvarioussinglecompoundfertil-
tionproduces70.25%ofaccuracy,andSobeledgedetectionproduces izersaccordingtothecriteriaforplantneeds.Basedon(Singhetal.,
59.52%accuracy(Qur'aniaetal.,2020).Nevertheless,thecombination 2019),theneedforchiliplantsinthejuvenilephaseisshownin
ofRGBandSobeledgeproducesloweraccuracythanRGBonly.Itis Table2andTable3.Thereductionofcertainsinglecompoundfertil-
about65.36%ofaccuracy. izersiscalculatedtoobtainanutrientsolutionwithacertainmacro-
Deeplearning,especiallyConvolutionalNeuralNetwork(CNN),is nutrientdeficiency.
becomingapopularclassificationmethodtoday.However,theCNN c 7selectedplantsweresampledinahydroponicenvironmentby
methodusesanautomaticfeatureextractionfeature,soitischallenging providingmacronutrientsbasedoncertainlevels.Thelevelusedin
toanalyzetheeffectoffeaturescombinationontheresultsobtained thisstudyconsistsof5levels.Eachlevelisadosereductionofmac-
(Buzzy et al.,2020;Khew et al.,2021). In(Senanet al.,2020),the ronutrienttypesby10%,30%,50%,70%,and90%.Thecontentofthese
studycomparesCNNwithothermachinelearningsuchasANN,MLP, macronutrientsismaintainedforsevendaystoobservevisiblevisual
andSVM.CNNshowsthebestresultbecausetheconvolutionallayer characteristicsproperly.
learnsmultifeatures such ascolor ortexture images(Senan et al., d Thisstudyvalidatedthedatawithagriculturalexpertstoascertain
2020).However,in(Watchareeruetaietal.,2018),CNNproducesan thevisual characteristicsof the emergingleaves.If appropriate,
accuracyoflessthan60%becausethedeficiencyclasseshavesimilar chiliplantdataisacquired.
characteristics.Inanotherstudy,(Wangetal.,2021a)performsdata e Theleafacquiredisasingleleafsamplethatrepresenttheplant's
augmentation until each class has the same amount of data. Deep condition.
learning with an augmentation process increases the accuracy up
to 5% (Guerrero et al., 2021; Wang et al., 2021a; Myo Han and
Visualchangesintheleavesarecapturedusingthecamerasensor
Watchareeruetai,2020).In(Jiangetal.,2020),thestudycomparesthe
withHD1080resolutiononacertainbackground.RGBimagecamera
resultsofprocessingwithsegmentationandwithoutsegmentation.
workslikethehumaneyewhichissensitivetoRGBlightbands.Asam-
Theresultisthatimagesegmentationshowsbetterresultsthanwithout
pleofsixclassesofdataisshowninFig.2.Theresultisobtainedmany
segmentation.
datainspecificclassesasshowninTable4,whereAAugisdataafter
Thisstudyaimstoclassifysixchiliplanthealthconditionsusingthe
augmentationandBAugisdatabeforeaugmentation.
combinationofshape,texture,andcolorfeatures.ChiliinIndonesiais
usuallygrowninanuncontrolledlightingconditions.Theuseofonefea-
turesuchascolorhasagreatriskofidentificationerrorsbecauseofthe 2.2.Preprocessing,segmentation,andaugmentationprocess
lightingcondition.So,theproposedstudyvariesseveralfeaturesfornutri-
entdeficiencyidentification.Acarefulfeatureselectionwascarriedoutto Thisstudyusestwotypesofpreprocessingtoimproveimagequality.
Thefirstisresizingtheimagetoasizeof512⋅512.Whilethesecondis
produceanaccuratemodelthatrobustintheuncontrolledlightingcondi-
toapplyHistogramEqualization(HE)(Abduletal.,2015).Imageacqui-
tion.Somefeaturesconsideredaretheleaves'color,shape,andtexture.
sitiontakesplaceinanaturalenvironmentsothatthelightingvaries.HE
Severalothermachinelearninganddeeplearningmethods,suchas
is applied to reduce the impact of lighting on the resulting image.
MLP,SVM,NaiveBayes,RFT,andCNNweretestedtocomparetheperfor-
Eq.(1)and(2)areformulatodoHE,wherecdfisanormalizationfunc-
mancemodelsinourdata.Thecontributionsofthispaperareasfollows.
tion.Then,intensitytransformationoftheinputimager tos iswhereL
k k
a. Performfeaturescombination(color,texture,andshapeofthechili isthenumberofpossibleintensitiesandn isthenumberofpixelsof
rj
leavesimage)thatcanbeusedtoidentifyplantconditions. levelr.
j
78D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.1.Stagesofidentificationofmacronutrientdeficienciesinchiliplants.
for primary colors, including leaf color. The lower threshold value
cdfðjÞ¼∑k n rj ð1Þ usedis122andtheupperlimitis245.Thea∗channelontheLABis
j¼0 n used.Severalmorphologicaloperationssuchaserosionanddilation
areusedtocoversomeholesformed.Theresultsofthemorphological
s ¼Tðr Þ¼roundðcdfðr Þ(cid:2)ðL(cid:3)1ÞÞ ð2Þ operationsareperformedbitwisenotforthemaskingprocessofHEim-
k k k
agesandbinaryimages.
Dataaugmentationisaprocesstomultiplydata(Guerreroetal.,
Segmentationistheprocessofseparatinganobjectfromtheback-
2021).Inseveralstudies,dataaugmentationhasproventoimprove
ground.Histogramequalizationresultswillbesegmentedtoseparate
themodelperformance(Guerreroetal.,2021;Kuznichovetal.,2019).
objects from complex backgrounds using the thresholding method
Thedataisreproducedthroughspecificmodificationprocesses.Inthis
(Vassallo-Barcoetal.,2017).Thresholdingisasegmentationmethod
study,thedataaugmentationforthetrainingsetisexecutedbyseveral
basedoncertainpixelvalues.TheHEresultswereconvertedtoaLAB
behaviors,namelyrotation,shear,zoom,andbrightness.Rotationwas
colormodelinthisstudy.LABwaschosenbecauseitprovedsuitable
Table1
Thevisualcharacteristicsofnutrientdeficiency.
PlantCondition Characteristicsoftheleaves
Color Shape Texture Partoftheplant
Healthy Green Ellipse Smooth Overall
(\\Ca) HealthyGreen Misshapen Curlingleaftip Top
(\\Mg) Necrosis(cellinjury),interveinalchlorosis Ellipse/Misshapen Smooth Bottom
(\\S) Turningbrownontheedgeoftheleaf Ellipse/Misshapen Smooth/Curlingleaftip Bottom
(-MgS) Necrosis(cellinjury),interveinalchlorosis,turningbrownontheedgeoftheleaf Ellipse/Misshapen Smooth/Curlingleaftip Bottom
(−Multi) Multicharacteristics Ellipse/Misshapen Smooth/Curlingleaftip Top/Bottom
79D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Table2
Chiliplantnutritionalrequirements. μ¼ 1 ∑M ∑N (cid:1) I (cid:3) ð3Þ
Compound PPM Compound PPM MN i¼1 j¼1 ij
sffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffiffi
%N-NO3 180.0 %Cl 0.0
%N-NH4 7.2 %Fe 1.72 σ ¼ 2 1 ∑M ∑N (cid:1) I (cid:3)μ(cid:3) 2 ð4Þ
%P2O5 48.0 %B 0.23 MN i¼1 j¼1 ij
%K2O 225.0 %Cu 0.37
!
%% MCa gO O 1 47 00 .0.3 %% MZn n 0 0. .3 38 4 Skewness¼ 1 ∑M ∑N (cid:5)(cid:1) I (cid:3)μ(cid:3) 3(cid:6) =σ3 ð5Þ
%Na 0.0 %Mo 0.06 MN i¼1j¼1 ij
%SO3 32.5
2.3.2.Texturefeatureextraction
chosenbecausethismodelisexpectedtobeusedinrealenvironments
Thetextureisafeaturethatcanbeusedtoidentifymacronutrient
withirregularleafpositions.Inaddition,shearandzoomareappliedso
deficiencies.Inthisstudy,theclassthatclearlyshowsthevisualcharac-
thatthemodelcancopewiththeproblemofdifferentdataacquisition
distances.Theidentificationsystemisdesignedtobeappliedtoareal teristicsofthetexturalfeaturesisCalcium.Iftheresearchonlyuses
color,thentheclasslabelledCalciumwillbechallengingtoidentifybe-
environment,sothemodelmustbeabletoovercomedifferentlighting
causeithascolorcharacteristicsthatareverysimilartohealthy.Inthis
problems.Therefore,dataaugmentationalsoconsidersbrightnessbe-
study, the texture feature extraction method uses two different
havior.TheaugmentationdatainthisstudyusesKerastoolswitharo-
methods,namelyGLCMandLBP.GLCMhasbeenusedfortexturefea-
tationalparameterrangeof40,ashearrangeof0.2,azoomrangeof
tureextractionincases(Sabrietal.,2020;Tanetal.,2021)andgive
0.2,andabrightnessrangeof0.5to1.5.Eachdataisaugmentedinto8
goodresults.Meanwhile,LBPwastestedincase(Kumaretal.,2020).
data.Theimageresolutionwasreducedto500×500pixelsbeforethe
GLCMisobtainedbycalculatingtheprobabilityoftheadjacencyre-
augmentationprocess.
lationshipbetweentwopixelsatacertaindistanceandangleorienta-
tion(Widodoetal.,2018).Afterobtainingtheco-occurrencematrix,
2.3.Featureextraction
theobservedimage'sstatisticalcharacteristicscanbecalculated.GLCM
statisticalfeaturesincludeContrast,Correlation,ASM,IDM,andEntropy
Thefeatureextractionhelpsretrieveinformationsuchascolor,tex-
forfourangles(0∘,45∘,90∘,and135∘)andonedistance(1pixel)as
ture,shape,geometry,andothersfromthechilileaveimage.Somestud-
showninEq.(6)–(10).WhereGLCM(i,j)isthedistributionofjointprob-
iesonlyanalyzeonefeature,butotherstudiescombinethem.Thisstudy
abilitiesofapixelpair,onewithgrayleveliandtheotherwithgraylevel
comparestwo-colorfeatureextractionmethodsusingstatisticalvalue
j.ThenumberofrowsandcolumnsoftheGLCMmatrixdependsonthe
oftheRGBandHSVcolormodels.TheRGBandHSVleafcolorfeatures
graylevelofanimage.Listhenumberofgraylevelsusedminus1for
arehelpfulfeaturesthathavebeenwidelyused.Colormodelconversion
computation.Thegraylevelvalue(grayscale)ofanimagebetween0
fromRGBtoHSVaimstolimitthesizeandtypeofcolorspace.Then,the
and255.Thesymbolsμ′,μ′,σ′,σ′aremeansandstandarddeviations
texturefeatureextractionmethodscomparedareLBPandGLCM.The i j i j
ofthemarginaldistributionsassociatedwithGLCM(i,j).
shapefeatureextractionusedisthevalueofHumomentsandstatistical
characteristicsofthecentroiddistanceinthebinaryimage.Table5
L L
showsthenumberoffeaturesforeachmethod.Thefeaturecombination ASM¼∑∑ðGLCMði,jÞÞ2 ð6Þ
cannotalwaysimprovetheperformanceofthemodel.Therefore,these-
i¼1j¼1
lectionoffeaturescombinationmustbeconductedtoobtainanaccurate ( )
classification. Contrast¼∑L n2 ∑ ðGLCMði,jÞÞ2 ð7Þ
n¼1 ji(cid:3)jj¼n
2.3.1.Colorfeatureextraction
TheHSVandRGBcolorspacesarerobustforcolorextractionfea- L L ðGLCMði,jÞÞ2
IDM¼∑∑ ð8Þ
tures(Latteetal.,2017;LatteandShidnal,2016).Theyanalyzethesta- i¼1j¼1 1þði(cid:3)jÞ2
tisticalcharacteristicssuchasmean,standarddeviation,andskewness
oneachchannelinthecolormodelasshowninEq.(3)–(5).Whereμ
L L
isMean,σisStandardDeviation,Skewnessisimagedimensionbased Entropy¼∑∑ðGLCMði,jÞlogðGLCMði,jÞÞÞ ð9Þ
i¼1 j¼1
i-thpixel,Misthetotalnumberofj-th,andNisvalueofthej-thpixel
(cid:5) (cid:6)
oftheimageatthei-thcolorchannel.In(Qur'aniaetal.,2020;Drdsh
etal.,2021),RGBproducesahighaccuracy.However,in(Latteetal.,
Correlation¼∑L i¼1∑L j¼1ði;jÞ GLCMði;jÞ−μ0 iμ0
j ;where
2017)HSVisrobustformacronutrientidentification.Therefore,this σ0σ0
i j
studylooksforHSVorRGBfeatureextractionfeaturesthataresuitable XL XL
forourchiliplantdata.Thisstudyextractedthered,green,andblue
μ0 i¼ i(cid:2)GLCMði;jÞ;
colorcomponentoftheRGBimageandextractedhue,saturation,and
i¼1 j¼1
XL XL
valueoftheHSVimage. μ0 ¼ j(cid:2)GLCMði;jÞ; ð10Þ
j
i¼1 j¼1
XL XL (cid:1) (cid:3)
σ0¼ GLCMði;jÞ i−μ0 2
Table3 i i
Amountofcompoundrequirementfor10Litersnutrientsolution.
i¼1 j¼1
XL XL (cid:1) (cid:3)
Substancename Formula Amount(grams)
σ0 j¼ GLCMði;jÞ j−μ0
i
2
i¼1 j¼1
MagnesiumSulfate MgSO4,7H2O 2.5
CalciumNitrate 5Ca(NO3)2.NH4NO3.10H20 6.55
PotassiumNitrate KNO3 5.22 LBPisafeatureextractionmethodofbinaryimages.In(Kumaretal.,
MerokeVITAFLEX Fe,Mn,Zn,Cu,B,Mo 0.23 2020)provesthatLBPcansolvetheproblemofrotationonobjectsac-
MerokeMAP N,P2O5 1.11 cordingtothedatausedinthisstudy.FortheLBP,weselectedtheuni-
MerokeMKP P2O5,K2O 0.82
formpatternandsetthevalueofbinsto10.Thus,thisstudyextracted
80D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.2.Samplechiliplantleafimagescondition,(a)Healthy,(b)Calcium,(c)Magnesium,(d)Sulfur,(e)Magnesium-Sulfur,(f)Multi-deficiency,(g)Hydroponicsplant.
tentexturefeatureswiththeLBPmethod.TheLBPintensityvalueiscal- seven-momentinvariantvaluesthatarenotsensitivetotranslation,
culatedforsuchaspecifiedcenterpixelgraycolorbycomparingittoits scalechange,androtation(Kumaretal.,2020).Thesevenmoment
nearestneighbors,asseeninEq.(11).Whereg correspondstothe invariantvaluesareshowninEq.(14)–(20).H isthefirstmoment
c 1
value of the center pixel, g to the value of the eight surrounding invariant,H isthesecondmomentinvariant,andothers,whereμ
p 2 ij
pixels,Pisthetotalnumberofinvolvedneighbors,Ristheradiusof inEq.(13)ismeansvalueofdistributionI(x,y).
theneighborhood,andfunctionf (x).
1
Xp−1 (cid:5) (cid:6) XX
LBP P;R ¼ 2p(cid:2)f 1 g p−g c ; where μ ij¼ ðx−x0Þiðy−y0ÞjIðx;yÞ; where: ð13Þ
p¼0 (cid:7) ð11Þ x y
1; x≥0
f 1ðxÞ¼ 0; else H 1¼μ 20þμ 02 ð14Þ
H ¼ðμ (cid:3)μ Þ2þ4μ2 ð15Þ
2 20 02 11
2.3.3.Shapefeatureextraction
Thereisachangeinleafshapeinplantsthatlackmacronutrients,es- H 3¼ðμ 30(cid:3)3μ 12Þ2þ3ðμ 21(cid:3)μ 03Þ2 ð16Þ
peciallyleafedges.Leavescanbemoreroundedorevenirregular.This
studyusesthemomenttodeterminethecentroidpointofanobject. H ¼ðμ þμ Þ2þðμ þμ Þ2 ð17Þ
4 30 12 21 03
Thecentroidorthecentermomentofanobjectis(x′,y′)shownin
h i
uEq m. e(1 o2 f) g,w ooh de sre mM ovij eis dx ta on od ry frc oo mor id -i tn ha lt oe co af tit oh ne .i-thlocationcrossthevol- H 5¼ðμ 30(cid:3)3μ 12Þðμ 30þμ 12Þ hðμ 30þμ 12Þ2(cid:3)3ðμ 21þμ 03Þ2
i ð18Þ
ð3μ (cid:3)μ Þðμ þμ Þ 3ðμ þμ Þ2(cid:3)ðμ þμ Þ2
21 03 21 03 30 12 21 03
M M
x′¼ M1 00 0, y′¼ M0 01 0, where:
ð12Þ
H ¼ðμ (cid:3)μ
Þh
ðμ þμ Þ2(cid:3)ðμ þμ
Þ2i
þ4μ ðμ þ3μ Þðμ þμ Þ
M ¼∑∑xiyjIðx,yÞ 6 20 02 30 12 21 03 11 30 12 21 03
ij
x y ð19Þ
h i
However,thisstudypresentstwodifferentapproachesinprocessing H ¼ð3μ (cid:3)μ Þðμ þμ Þ ðμ þμ Þ2(cid:3)3ðμ þμ Þ2 (cid:3)
datafromthecentroidpoint,suchas: 7 21 03 30 12h 30 12 21 03i ð20Þ
ðμ (cid:3)3μ Þðμ þμ Þ 3ðμ þμ Þ2(cid:3)ðμ þμ Þ2
a. The centroid point is used to produce moment invariant. Using 30 12 21 03 30 12 21 03
moment invariants, feature extraction of shape produced
Table4
Datausedinthisstudy.
Table5
Plantcondition Totaldata Trainingdata Testingdata Thenumberoffeatures.
BAug Aaug Typeoffeatures Method Numberoffeatures
Healthy(completenutrient) 98 68 612 30 Color HSVColormodel 9
Calcium(\\Ca) 101 71 639 30 RGBColormodel 9
Magnesium(\\Mg) 100 70 630 30 Texture StatisticsfeatureofGLCM 24
Sulfur(\\S) 96 66 594 30 LocalBinaryPattern(LBP) 10
Magnesium-Sulfur(Mg\\S) 102 72 648 30 Shape Humoments 7
Multideficiency(morethan2) 97 67 603 30 Distanceofcentroid 5
81D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.3.Themultilayerperceptronarchitecture.
b. Thedistancebetweenthecentroidandeachedgepixelisobtained form,Y=ϕ(wx+b),wherewistheweight,xdenotesasthevectors
bycalculatingtheEuclideandistance.Then,thedistanceisvisual- ofinput,bisthevalueofbiasandϕisthenonlinearactivation.
ized,andthestatisticalvalueissoughtfromthedataforeachdis- This study uses the MLP architecture model in (Myo Han and
tancetothecentroid.The featuresobtained from thisstageare Watchareeruetai,2020)againstourdatatoanalyzethecombination
statisticalfeaturessuchasmean,min,max,median,andaverage. ofthreefeatures.In(MyoHanandWatchareeruetai,2020),theresearch
usetwohiddenlayerswith2048and512nodes.Thesuitablelearning
2.4.Identificationmodel rateis0.002withtheAdamoptimizer.Afterthebestcombinationof
thethreefeaturesisobtained,thisstudytriestofindthebestMLParchi-
tecturebasedon ourdata.This study varies thenumber ofhidden
Toclassifythesixclassesofchiliplantcondition,MLParchitectureis
used.MLPisanartificialneuralnetworkthatincludesatleastthree layers,thenumberofnodes,thelearningrate,andtheepochstopro-
duce an accurate model based on a combination of three features,
layersofneuronnodes,namelytheinputlayer,theoutputlayerand
oneormorehiddenlayers.Exceptfortheinputneuron,eachnode namelycolor,texture,andleafshape.
ThisstudyalsocomparesthebestMLParchitecturebasedonthe
usesadifferentnonlinearactivationthanthelinearperceptron.Fig.3
showstheMLParchitectureused. experimentwithotherpreviouswork,suchasNaiveBayes,RFT,and
SVM.NaiveBayesisusedon(Vassallo-Barcoetal.,2017)withcer-
Thenumberofinputneuronscorrespondstothenumberoffeatures
valueused.Thisstudylooksforasuitablenumberofnodesandhidden tainparameters,andRFTisused(Sonobeetal.,2020).SVMeffec-
tivelysolveslocalminimaandhighdimensionproblems(Sonobe
layersbasedonthethreefeaturescombination.Inthedecisionlayer,
thisstudyusessixnodeswhichrepresentsixclassesofplanthealthcon- etal.,2020).SVMhasseveralkernels,and(Xuetal.,2020)usesthe
ditionsusingOne-hotencodingoutputrepresentation.Therectified GaussianRadialBasisFunction(RBF)kernel.Inthismethod,two
linearunit(ReLU),isusedastheactivationfunction.Inmathematical hyperparameters,theCregularizationparameterandgammavalue
Fig.4.ComparisonoforiginalimageandHistogramEqualizationresult.
82D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.5.Resultof(a)segmentation,(b)dataaugmentationprocess.
aresettogenerateaclassificationmodel.ForC,ahighscoremayre- observationstoalltheactualclassobservations(Xuetal.,2020).The
sultinover-fittingduetoahighpenaltyfornon-separablepoints, equationsusedtocalculateaccuracy,sensitivity,andspecificityare
whereasalowvaluemayresultinunder-fitting.Thevaluedefinition showninEq.(21)−(23),whereTPisthenumberoftruepositive,TN
oftherangeofasingletraininginstanceofKernelRBFfitsourdata istruenegative,FPisfalsepositive,andFNisfalsenegative.
withhyperparametervaluesofgammaof0.0001,Cof100,andthe
decisionfunctionshapeusingOnevsOneclassifier(OvO).OvOis Accuracy¼
TPþTN
(cid:2)100% ð21Þ
TPþTNþFPþFN
used as a multi-class strategy to train models. In addition, this
studyalsotriesotherSVMkernelsuchastheLinearkernel(Myo
TP
HanandWatchareeruetai,2020). Precision¼ TPþFP(cid:2)100% ð22Þ
2.5.Performancemeasurement TP
Recall¼ (cid:2)100% ð23Þ
TPþFN
Theparametersusedtomeasurethesuccessofidentifyingmacronu-
trientdeficienciesinplantsinthisstudywereaccuracy,precision,and
recall.Themeasurementofmodelperformanceaccuracyischosento 3.Resultanddiscussion
determinethemodel'sabilitytodetectallobjectscorrectly.Precision
ischosenbecauseseveralmacronutrientsexhibitverysimilarcharacter- Chiliplantdatawerecollectedinnaturalenvironments,sothelight-
isticsthatthesystemmustdistinguishbetweenthem.Ifthesystem ingconditionvaried.Tofixthisproblem,thisstudyusesHE.Fig.4shows
cannottellthedifference,thewrongsolutioncanoccur,causingthe theresultofhistogramequalization.Toseparatetheobjectfromback-
planttodie.Therecallreferstotheratioofcorrectlypredictedpositive ground, the segmentation process is used. This research uses the
Fig.6.HistogramofeachRGBandHSVcolorspacesinCalciumandMulti-deficiencydataclasses.
83D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
colorspacesegmentationmethodonchannela*oftheCIELABimage.
Theapproachistochooseasmallsampleregionforeachcolorandto
calculateeachsampleregion'saveragecolorina∗space.Basedonob-
servations,channela∗candistinguishobjectinformationfromtheback-
groundwell,witharangeof122and245.However,somenoisessuchas
holescanberemovedbyappliedthemorphologicaloperations.There-
sultofsegmentationisshowninFig.5(a).Inaddition,toincreasethe
model'saccuracy,theaugmentationprocessisappliedwiththeresults
shownbyFig.5(b).
Thisstudyperformsacombinationofcolors,shapes,andtextures.
Forcolorfeature,statistical feature of HSV andRGBare compared.
RGBwaschosenbecauseresearch(Qur'aniaetal.,2020)isthefeature
thatproducesthebestperformance,whileHSVwaschosenbecausein
otherstudies,itcanproducethebestperformanceaswell.HSVhas
morecomplexcomponentstorepresentobjectfeaturesinmoredetail.
Fig. 6 shows the different characteristics of the two classes. In the
greenchannelofRGB,theCalciumclassshowsafrequencyrangefrom
[0,1400]forintensitylevel25to185,whileunhealthyleavesinthefre-
quencyrange[0,1350]forintensitylevel[10,135].IntheVchannelof
theHSVhistogram,thepeakvaluefortheintensityofthehighestfre-
quencyofCalciumandMulti-deficiencyisaround3000.
ThisstudycomparestheGLCMandLBPmethodsfortexturefeature
extraction,whiletheHumomentsvalueandtheedgedistancetothe
centroidforshapefeatureextraction.GLCMisasecond-orderfeature
extractionwherethematrixdescribestheneighborrelationshipbe-
tweenpixelsinanimageinvariousdirectionsandlocaldistances.The
relationshipbetweenclassandoneoftheGLCMfeaturescanbeseen
inFig.7.Meanwhile,LBPisatextureextractionfeaturethatisconsid-
ered invariant to lighting and rotation. The Hu moments value for
shapefeatureextractionconsistsofsevenvaluesthatidentifythechar-
acteristicsofadigitalimageobject.Thesevaluesareindependentof
translation,rotation,andscaling.Atthesametime,theothershapeex-
tractionfeatureusedisthestatisticalfeatureofeachedgepixeldistance
tothecentroid.Itreferstothevisualcharacteristicsofchilileavesthat
havewavyedgesifthereisalackofmacronutrientCalcium,multi-
deficiency,andothers.Therefore,thedistanceofeachleafedgepixel
tothecentroidisconsideredcapableofrepresentingtheshapefeatures
oftheleaf.Fig.8showstheeffectofthepixeldistancefromtheedgeto
thecentroidindifferentclasses.AccordingtoFig.8below,healthyex-
hibitsavisualfeaturethatisnotsmooth/tortuous.Thisstudyapplies Fig.7.AnexampleofdatavisualizationinGLCMfeatures.
toresizingpixeldatainto100⋅100,sothatthedistanceofeachedge
pixelpointlooksfar.Itcausesthevisualizationtobenoisier,coupled higheraccuracy,precision,andrecallvaluesthanHSVwithanaccuracy
withtheellipticalleafshapeandtendstoberound.Meanwhile,thecal- of66.28%comparedtoHSV,whichis49.56%.GLCMproduceshigher
ciumdatashowslessnoisebecausetheleafshapeisnotround. performancethanLBPfortexturecharacteristics,whichis50.74%.Itis
Therearefourexperimentalinthisstudy.Thefirstexperimentcom- becauseofLBPdescribesthetexturelocally.Asfortheshapecharacter-
pareseachfeature'sperformanceagainstsixchilihealthconditiondata istics,statisticalcharacteristicsfromtheedgepixeldistancetothecen-
classes.Thesecondisthecomparisonofthefeaturecombinationperfor- troidresultedinahigherperformanceof41.43%.
mance.ThethirdexperimentcomparesseveralMLPhyperparameters Furthermore,thisstudyanalyzestheaugmentationstage'seffecton
againstthecombinationofthethreebestfeaturesobtainedfromthe eachresultingfeature'sperformance.Theresultisthataugmentationon
previousexperiment.Whilethefourthexperimentisacomparisonof cropimagescanincreaseaccuracybymorethan10%,suchasRGBfea-
theresultsofthethirdexperimentwithseveralpreviousstudies. tures,from66.28%to80.00%.Thisresultcorrespondswiththeresearch
(Guerreroetal.,2021;Wangetal.,2021a).Afteraugmentation,RGB
3.1.Comparisonofsinglefeatureperformance andGLCMfeatureperformanceremainshigherthanHSVandLBP.How-
ever,differentresultswereobtainedontheshapecharacteristics.Thefea-
Beforecombiningfeatures,thisstudyanalyzestheabilitiesofeach tures of Hu moments obtained higher results than the statistical
feature. The MLP architecture in (Myo Han and Watchareeruetai, characteristicsoftheedgepixeldistancedatasettothecentroid.After
2020)isusedtodeterminethefeatures'performance.Inaddition,this theaugmentationprocess,featuresthatproducemorethan60%accuracy
studyalsoanalyzestheeffectofthedataaugmentationstageinthere- onaugmenteddataareusedonacombinationoftwoandthreefeatures.
sultingidentificationmodel.Asummaryofexperimentsrelatedtothe
capabilitiesofeachfeatureisshowninTable6. 3.2.Comparisonoffeaturecombination
Therearethreetypesoffeaturesanalyzed:color,texture,andshape
features.ThisstudycomparesthestatisticalcharacteristicsofRGBand Thesecondexperimentistocombinedifferentfeatures.Thearchitec-
HSVimagesforcolor,LBPandGLCMfeaturesfortextures,andstatistical tureusedisMLPby(MyoHanandWatchareeruetai,2020),sameasthe
characteristicsoftheedgepixeldistancetocentroidandHumoments previousexperiment.Table7showstheresultsofthesecombinations.
forshapecharacteristics.Forcolorcharacteristics,theresultsareinac- Thisstudyperformsacombinationoftwofeaturesandthreefea-
cordancewith(Qur'aniaetal.,2020)thatRGBdatainthisstudyproduce tures. A combination of two features is applied to the data before
84D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.8.Thedistancebetweenedgepixelstothecentroidvisualizationof:(a)Healthyand(b)Ca.
augmentationwithacombinationofcolor+texture,color+shape,and accuracythancombinationofRGB,GLCM,anddistanceofcentroid.This
texture+shape.ThecombinationofRGBcolorandGLCMtexturepro- isnotinlinewiththeresultsofpreviouscombinationswherethedis-
ducesthehighestaccuracy,whichis76.13%,comparedtothecombina- tanceofcentroidresultsahigheraccuracythanHumomentsfeature.
tion of the other two characteristics. In the combination of three Inaddition,thisstudyalsodidacombinationof3featuresbycombining
featuresexperiment,RGB,GLCM,andHumomentsproducesthehigher thedistanceofcentroidfeatureandHumomentsfeature.Theresultwas
beyondourexpectationswherethecombinationaccuracyisgreater,
whichis84.77%.
Thisstudyalsotriestocomparetheresultsofthecombinationof
Table6 three data features without augmentation and with augmentation.
Theperformanceofsinglefeaturewithaugmentationandwithoutaugmentation.
Theresultisthatdatawithaugmentationyieldshigheraccuracy,ac-
Feature No. Method Total Accuracy Precision Recall cordingtothepreviousexperiments.Theresultsoftheaugmentation
(%) (%) (%) ofthethree-featurecombinationdataproduceaccuracythatisnot
noAug Color 1 RGB 9 66.28 69.83 65.04 muchdifferent.ThecombinationofRGB,GLCM,andHumomentspro-
2 HSV 9 49.56 51.13 49.33 ducesanaccuracyof86.35%,whileRGB,GLCM,anddistanceofcentroid
Texture 3 LBP 10 40.85 43.36 40.45 producesanaccuracyof86.21%.But,thecombinationofRGB,GLCM,Hu,
4 GLCM 24 50.74 55.43 50.25
and distance of centroid produced the highest accuracy, which is
Shape 5 Distanceof 5 41.43 54.29 37.68
centroid 87.47%.Becauseof this,we decided to usethis combination in the
6 Humoments 7 34.84 33.93 33.42 nextexperiment.
Aug Color 7 RGB 9 80.00 81.08 81.86
8 HSV 9 71.57 72.52 71.35
3.3.ComparisonofMLPhyperparameter
Texture 9 LBP 10 54.83 58.66 56.36
10 GLCM 24 61.38 64.77 63.25
Shape 11 Distanceof 5 66.21 64.32 68.14 This study tries to compare the combination of MLP hyper-
centroid parameters, such as the number of learning rates and epochs. The
12 Humoments 7 70.53 69.44 71.09 numberofhiddenlayersusedisthree.Basedonpreviousexperiments
85D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Table7
Theperformanceoffeaturecombinationwithaugmentationandwithoutaugmentation.
Feature No. Method Total Accuracy(%) Precision(%) Recall(%)
noAug Color+Texture 1 RGB+GLCM 33 76.13 75.42 73.21
2 HSV+GLCM 33 72.38 76.10 68.36
Color+Shape 3 RGB+Hu 16 68.87 72.53 71.33
4 RGB+Distanceofcentroid 14 70.29 70.00 70.18
Texture+Shape 5 GLCM+Hu 31 57.73 51.88 60.25
6 GLCM+Distanceofcentroid 29 63.12 67.35 65.23
Color+Texture+Shape 7 RGB+GLCM+Hu 40 83.27 83.14 81.32
8 RGB+GLCM+Centroid 38 78.26 72.63 77.32
9 HSV+GLCM+Hu 40 74.14 68.39 71.43
10 HSV+GLCM+Centroid 38 78.26 72.63 77.32
11 RGB+GLCM+Hu+Centroid 45 84.77 85.21 84.62
Aug Color+Texture 1 RGB+GLCM 33 80.04 85.48 82.36
2 HSV+GLCM 33 80.75 82.84 81.28
Color+Shape 3 RGB+Hu 16 82.73 83.13 83.87
4 RGB+Distanceofcentroid 14 77.85 78.05 76.57
3 HSV+Hu 16 65.80 70.64 65.76
4 HSV+Distanceofcentroid 14 70.65 69.93 70.23
Texture+Shape 5 GLCM+Hu 31 62.46 66.25 64.81
6 GLCM+Distanceofcentroid 29 70.58 71.66 70.41
Color+Texture+Shape 7 RGB+GLCM+Hu 40 86.35 88.14 86.52
8 RGB+GLCM+Centroid 38 86.21 87.67 84.93
9 RGB+GLCM+Hu+Centroid 40 87.47 88.93 87.16
asshownonTable8,thenumberofnodesare2048,1024,and512.The experimentalresults,thehighestmodelperformanceisproducedby
resultofhyperparametershowsonTable9. theMLParchitecturewithanepochvalueof300.Theresultingaccuracy,
Thethirdexperimentwascarriedoutbyvaryingthelearningrate precision,andrecallvaluesare89.70%,90.62%,and89.17%,respectively.
valuefrom2to0.0001withafixedepochvalueof200.Thevalueof Thegreatertheiterationvalue,themorelearningisgenerated.How-
0.0001waschosenbecausetheresultingperformancetrenddecreased ever, an epoch value that is too large can result in an overfitting
atthatvalue.Basedontheexperimentalresults,thehighestperfor- model.Therefore,thecorrectlearningrateandepochvaluesmustbe
mancewasproducedbyalearningrateof0.002,witheachaccuracy, obtainedsothattheresultingmodelperformswell.
precision,andrecallvalueof89.70%,90.62%,and89.17%.Incomparison,
thelowestperformanceisgeneratedbythelearningratewithavalueof 3.4.ComparisonoftheMLPinthisstudywithpreviousstudy
2.IntrainingusingtheAdamoptimizer,thelearningratevalueregu-
latesthenumberofupdatesmadetotheweightvalueofw.Ifthelearn- Inthefourthexperiment,thisstudycomparesthecombinationof
ingratevalueisdecrease,theerrorfunctionwilldecrease.However,a threefeatureswithseveraltypesofclassifiers.FortheMLPmethod,this
learningratethatistoosmallcancausetheperformanceoftraining studycomparesthe architecture in(MyoHanand Watchareeruetai,
modeldecreases,asshownbytheexperiment.Afterobtainingtheap- 2020)intheexistingdatawiththebestMLParchitecturebasedonthis
propriatelearningrate,thisstudyalsolooksfortheappropriateepoch study.TheMLParchitectureinthisstudyusesthreehiddenlayerswith
valuebasedonthepreviousMLParchitecture.Theepochvaluevaried 2048,1024,and512nodesrespectivelyandanoutputlayerwiththree
from100to400.Theepochsvaluestoppedvaryingat400because nodes.ThearchitectureusesRectifiedLinearUnit(ReLU)asanactivation
the performance trend had declined at that number. Based on the functionand300forepochs.Thisstudyusesthecross-entropycategoryas
alossfunctionbecausetheproblemismulti-classification.Thestudyuses
Table8 Adamassolver(Shietal.,2019),withalearningrateof0.002.Theresultis
Thenumberofhiddenlayerandnodeexperiment. thatthe(MyoHanandWatchareeruetai,2020)architectureproducesa
relatively high accuracy of 87.47%, but the MLP architecture in this
HL1 HL2 HL3 Accuracy(%) Precision(%) Recall(%)
studyproducesagreateraccuracyof89.18%.Inaddition,thisstudycom-
4096 – – 85.50 85.93 86.11
parestwoSVMkernels:theRBFkernelandthelinearkernel.WhereCis1
2048 – – 83.74 84.97 84.64
1024 – – 81.43 83.88 82.32 andgammais1,thelinearkernelcanproduceanaccuracyof90.55%.In
512 – – 80.87 82.62 81.04
256 – – 80.25 82.19 80.83
128 – – 73.73 77.10 74.48 Table9
4096 4096 – 82.17 84.62 83.86 TuninghyperparameterinMLParchitecture.
2048 2048 – 86.58 87.37 87.97
LR Epochs Accuracy(%) Precision(%) Recall(%)
2048 1024 – 84.94 86.80 84.54
2048 512 – 84.32 85.75 85.39 2 200 20.72 23.12 17.20
2048 256 – 84.83 85.45 84.61 2 200 21.13 18.10 17.47
2048 128 – 79.27 81.49 80.55 0.1 200 33.25 20.54 27.65
2048 2048 2048 78.48 80.33 78.18 0.05 200 35.81 33.26 34.16
2048 2048 1024 86.26 87.40 86.62 0.001 200 86.74 88.86 86.93
2048 2048 512 85.60 86.81 85.28 0.002 200 87.91 88.12 88.33
2048 2048 256 84.78 84.43 84.20 0.003 200 82.26 84.57 83.10
2048 1024 1024 85.52 87.26 85.29 0.005 200 81.72 84.13 83.27
2048 1024 512 87.42 88.70 87.98 0.0001 200 77.83 82.80 76.54
2048 1024 256 85.14 87.21 85.37 0.002 100 86.11 88.45 87.32
2048 512 512 86.08 87.37 86.24 0.002 250 87.34 88.39 87.76
2048 512 256 82.84 84.49 83.63 0.002 300 89.70 90.62 89.17
2048 256 256 85.15 86.72 85.46 0.002 350 87.25 88.14 87.32
2048 256 128 80.71 84.06 82.58 0.002 400 85.85 86.77 85.81
86D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
contrast,theRBFkernelrequiresparametertuningwithasignificant
value to produce high accuracy, 100 for C and the gamma value of
0.001.Thelinearkernelseparatesthedatabasedonafirmline.Then,
SVMcanhandlenon-lineardatabasedonthekernel.Thisisinaccordance
withtheresultsofexperimentsinresearch(NandSaju,2018).Besides
MLPandSVM,thisstudyalsotriestocompareotherclassifiers,suchas
NaiveBayesandRFT,buttheiraccuracyisnothigherthanSVMand
MLP.ThisstudyalsocomparesmachinelearningmethodswithCNN
(Cevallosetal.,2020).CNNproducesthehighestaccuracy,whichis
equalto97.76%.However,CNNhasahighercomplexitythanMLP.The
confusionmatrixoftheproposedMLParchitectureandlinearSVMkernel
isshowninFig.9(a)andFig.9(b).Whilethetrainingandvalidation
graphsfromCNNareshownintheFig.10.Theperformancecomparison
shownonTable10.
ThehighestoverallaccuracyisgeneratedbytheCNNmethod,while
thesecondistheSVMlinearkernel,andthethirdisMLP.SVMproduces
Fig.10.CNNresult.
higheraccuracyindetectingMg,S,Mg\\S,andMulti-deficiencyclasses.
However,theMLParchitectureinthisstudyyieldedhigherprecisionfor
HealthyandCaclasses.Exampleoftestingdataagainsttotheproposed
methodshowonFig.11.Eventhoughitislower,thetrainingtimere-
quiredforMLPisrelativelylesscomparedtoCNNandSVMlinearker-
nel.ItiscausedbyoptimizetheCregularizationandparameterwhich
meansthatperformingagridsearchwillusuallytakemoretimeinSVM.
Severalcasescannotbeadequatelyidentifiedinthemacronutrient
deficiencyidentificationsystem.Thefirstishealthy,Calcium,andSulfur.
ForCalcium,thelackofmacronutrientatlowlevelsonlygaveaslight
impactintheformofdifferencesintexture,whilesulfuratlowlevels
Table10
Comparisonofaccuracy,precision,andrecallwithapreviouswork.
Feature Method Accuracy Precision Recall
(%) (%) (%)
RGB+GLCM+Humoments+ MLP[26] 87.47 88.93 87.16
Distanceofcentroid MLP(Resultsof 89.70 90.62 89.17
thisstudy)
SVM(Linear 90.55 90.34 89.90
kernel)[26]
SVM(RBF 82.37 84.58 83.82
kernel)[50]
NaiveBayes[44] 70.66 68.72 70.16
RFT[36] 63.25 64.33 64.65
Automaticfeatureextraction CNN[4] 97.76 93.21 96.95
Fig.9.ConfusionmatrixofnutrientdeficiencyidentificationusingTheMLPandSVM.
87D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Fig.11.Examplesofsometestdataresultsagainstproposedmodels.
onlygaveablackcolorchangeatthebaseoftheleaves.Therefore,even augmenteddatahasbeenshowntoimproveaccuracybymorethan
thoughacombinationof3characteristicshasbeencarriedout,thede- 3%.Inaddition,thisstudyalsocomparesmachinelearningwithdeep
velopedmodelcanstillgiveincorrectidentificationresults.Inaddition, learning,suchasCNN.CNNisproventoproducehigherperformance
thereareconditionsofoverlappingcharacteristicssuchasMg,S,and comparedtomachinelearning.However,CNNhasahighcomplexity
Mg\\S.So,theidentificationmodelcannotrecognizethemcorrectly compared to ordinary machine learning. The model for identifying
incertaincases,especiallyiftheMg\\Sisstillatalowlevel. planthealthconditionscanbeappliedtotheagriculturalenvironment.
Oneexampleistheintelligenthydroponicfarmingsystem.Inaddition
4.Conclusion tomonitoringandcontrollingagriculturalenvironmentalconditions,
farmerscanalsoembedourmodeltomonitorplanthealthregularly
Determiningnutrientdeficienciesinchiliplantscanbedoneusing andprovidenutrientsolutionsbasedonplantconditions.Tosupport
machinelearninganddeeplearningapproaches.Thisstudycompares precisionagriculture,wewillfocusonamodelthatcanidentifythe
the combination of severalfeatures.Thecombination oftheleaves typeofmacronutrientdeficiencyandestimatethepercentageofdefi-
color,texture,andshapehasbeenproventoincreasethemodel'saccu- ciencyinthefuture.
racy.ThebestfeaturecombinationisgeneratedbyRGB,GLCM,Hu,and
distanceofcentroid.Thefeaturescombinedintheaugmenteddatare- CRediTauthorshipcontributionstatement
sultsproducethebestperformanceusinga0.002oflearningrateand
300epochswith89.70%ofaccuracy.ThisstudycomparestheMLPar- Deffa Rahadiyan: Conceptualization, Methodology, Software,
chitecturewithseveralmachinelearninginthepreviousstudy.There- Validation,Formalanalysis,Investigation,Writing–originaldraft,Writing
sultisthatSVMproducesthebestperformancewith90.55%ofaccuracy. –review&editing,Visualization.SriHartati:Conceptualization,Method-
AlthoughSVMlinearkernelproduceshigheraccuracythanMLP,MLPin ology,Validation,Writing–review&editing,Formalanalysis,Investiga-
thisstudystillhasahighsuccessrate.Soitcanbeconcludedthatthe tion, Visualization, Supervision, Project administration. Wahyono:
twomodelscanberecommendedtoidentifyplanthealthconditions. Conceptualization,Methodology,Validation,Writing–review&editing,
MLPinthisstudyprovedtobebetteratidentifyingplantconditionsin Visualization,Projectadministration.AndriPrimaNugroho:Conceptuali-
theformofCalciumandSulfurthanlinearSVMkernels.Inaddition, zation,Methodology,Validation,Writing–review&editing,Visualization.
88D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
DeclarationofCompetingInterest andPatternRecognitionWorkshops(CVPRW),LongBeach,CA,USA,2019,pp.2580-
2589,doi:10.1109/CVPRW.2019.00314.
Latte,M.V.,Shidnal,S.,2016.Multiplenutrientdeficiencydetectioninpaddyleafimages
Theauthorsdeclarethattheyhavenoknowncompetingfinancial
usingcolorandpatternanalysis.InternationalConferenceonCommunicationand
interestsorpersonalrelationshipsthatcouldhaveappearedtoinflu- SignalProcessing,ICCSP2016,pp.1247–1250.https://doi.org/10.1109/ICCSP.2016.
encetheworkreportedinthispaper. 7754352.
Latte,M.V.,Shidnal,S.,Anami,B.S.,2017.Rulebasedapproachtodeterminenutrientde-
ficiencyinPaddyleafimages.Intern.J.Agric.Technol.13,227–245.
Acknowledgements Lewis,K.P.,Espineli,J.D.,2020.Classificationanddetectionofnutritionaldeficienciesin
coffeeplantsusingimageprocessingandconvolutionalneuralnetwork(Cnn).Int.
J.Sci.Technol.Res.9,2076–2081.
ThisresearchwasfundedbytheDirectorateofResearchandCom-
Lukic,M.,Tuba,E.,Tuba,M.,2017.Leafrecognitionalgorithmusingsupportvectorma-
munityService,DeputyforStrengtheningResearchandDevelopment, chinewithHumomentsandlocalbinarypatterns.SAMI2017-IEEE15thInterna-
MinistryofResearch,Technology/NationalResearchandInnovation tionalSymposiumonAppliedMachineIntelligenceandInformatics,Proceedings,
pp.485–490.https://doi.org/10.1109/SAMI.2017.7880358.
AgencyoftheRepublicofIndonesiainthePMDSUprogramwithgrant
Mashumah,S.,Rivai,M.,Irfansyah,A.N.,2018.NutrientFilmTechniquebasedHydroponic
ID018/E5/PG.02.00.PT/2022and1773/UN1/DITLIT/Dit-Lit/PT.01.03/ SystemUsingFuzzyLogicControl.Proceeding–2018InternationalSeminaronIntel-
2022. ligentTechnologyandItsApplication.2018.ISITIA,pp.387–390.https://doi.org/10.
1109/ISITIA.2018.8711201.
Merchant,M.,Paradkar,V.,Khanna,M.,Gokhale,S.,2018.MangoLeafDeficiencyDetec-
References tionUsingDigitalImageProcessingandMachineLearning.20183rdInternational
ConferenceforConvergenceinTechnology,I2CT2018.pp.1–3.https://doi.org/10.
Abdul,M.,Radhi,H.,Musa,A.,Al-Hsniue,O.,2015.Enhancementofthecapturedimages 1109/I2CT.2018.8529755.
underdifferentlightingconditionsusinghistogramequalizationmethod.Intern. MyoHan,K.A.,Watchareeruetai,U.,2020.Blackgramplantnutrientdeficiencyclassifica-
J.LatestRes.Sci.Technol.ISSN3,25–28. tionincombinedimagesusingconvolutionalneuralnetwork.20208thInternational
Bahtiar,A.R.,PranowoSantoso,A.J.,Juhariah,J.,2020.Deeplearningdetectednutrientde- ElectricalEngineeringCongress,iEECON2020.https://doi.org/10.1109/iEECON48109.
ficiencyinchiliplant.20208thInternationalConferenceonInformationandCommu- 2020.229562.
nicationTechnology(ICoICT),pp.1–4.https://doi.org/10.1109/ICoICT49345.2020. N,L,Saju,K.K.,2018.Classificationofmacronutrientdeficienciesinmaizeplantusingma-
9166224. chinelearning.Intern.J.Elect.Comput.Eng.(IJECE)8,4197–4203.https://doi.org/10.
Buzzy,M.,Thesma,V.,Davoodi,M.,Velni,J.M.,2020.Real-timeplantleafcountingusing 11591/ijece.v8i6.pp4197-4203.
deepobjectdetectionnetworks.Sensors(Switzerland)20,1–14.https://doi.org/10. Qur’ania,A.,Harsani,P.,Triastinurmiatiningsih,T.,Wulandhari,L.A.,Gunawan,A.A.S.,
3390/s20236896. 2020.Colorextractionandedgedetectionofnutrientdeficienciesincucumberleaves
Cevallos,C.,Ponce,H.,Moya-Albor,E.,Brieva,J.,2020.Vision-basedanalysisonleavesof usingartificialneuralnetworks.CommIT(Commun.Inform.Technol.)J.14,23.
tomatocropsforclassifyingnutrientdeficiencyusingconvolutionalneuralnetworks. https://doi.org/10.21512/commit.v14i1.5952.
2020InternationalJointConferenceonNeuralNetworks(IJCNN),pp.1–7.https://doi. Rahadiyan,D.,Hartati,S.,Wahyono,Nugroho,A.P,2022a.Anoverviewofidentification
org/10.1109/IJCNN48605.2020.9207615. andestimationnutrientonplantleavesimageusingmachinelearning.J.Theor.
Chen,Z.,Wang,X.,2019.Modelforestimationoftotalnitrogencontentinsandalwood Appl.Inf.Technol.100.
leavesbasedonnonlinearmixedeffectsanddummyvariablesusingmultispectral Rahadiyan,D.,Hartati,S.,Wahyono,Nugroho,A.P,2022b.Designofanintelligenthydro-
images.Chemom.Intell.Lab.Syst.195,103874.https://doi.org/10.1016/j.chemolab. ponicssystemtoidentifymacronutrientdeficienciesinchili.Int.J.Adv.Comput.Sci.
2019.103874. Appl.13.https://doi.org/10.14569/IJACSA.2022.0130117.
daSilva,M.P.S.,MendoncFreitas,M.S.,CesarSantos,P.,deCarvalho,A.J.C.,Jorge,T.S.,2019. Sabri,N.,Kassim,N.S.,Ibrahim,S.,Roslan,R.,Mangshor,N.N.A.,Ibrahim,Z.,2020.Nutrient
Capsicumannuumvar.annuumundermacronutrientsandborondeficiencies:leaf deficiencydetectioninmaize(ZeamaysL.)leavesusingimageprocessing.IAESIn-
contentandvisualsymptoms.J.PlantNutr.42,417–427.https://doi.org/10.1080/ tern.J.Artif.Intell.9,304–309.https://doi.org/10.11591/ijai.v9.i2.pp304-309.
01904167.2018.1544255. Senan, N., Aamir, M., Ibrahim, R., Taujuddin, N.S., Muda, W.H., 2020. An efficient
Drdsh,J.,Eleyan,D.,Eleyan,A.,2021.Apredictionolivediseasesusingmachinelearning convolutionalneuralnetworkforpaddyleafdiseaseandpestclassification.Int.
models,decisiontreeandNaïveBayesmodels.J.Theor.Appl.Inf.Technol.99, J. Adv. Comput. Sci. Appl. 11, 116–122. https://doi.org/10.14569/IJACSA.2020.
4231–4240. 0110716.
Guerrero,R.,Renteros,B.,Castañeda,R.,Villanueva,A.,Belupú,I.,2021.Detectionofnutri- Shah,A.,Gupta,P.,Ajgar,Y.M.,2018.Macro-NutrientDeficiencyIdentificationinPlants
entdeficienciesinbananaplantsusingdeeplearning.2021IEEEInternationalConfer- UsingImageProcessingandMachineLearning.20183rdInternationalConference
enceonAutomation/XXIVCongressoftheChileanAssociationofAutomaticControl forConvergenceinTechnology,I2CT2018,pp.1–4.https://doi.org/10.1109/I2CT.
(ICA-ACCA),pp.1–7.https://doi.org/10.1109/ICAACCA51523.2021.9465311. 2018.8529789.
Halim,N.H.N.A.,Husin,Z.H.,Qadir,T.O.,2021.Brownspotdiseaseseverityleveldetection Shi,J.,Wang,Y.,Li,Z.,Huang,X.,Shen,T.,Zou,X.,2021.Characterizationofinvisiblesymp-
using binary-RGBimagemasking.(IJACSA). Int. J.Adv.Comput. Sci.Appl.12, tomscausedbyearlyphosphorusdeficiencyincucumberplantsusingnear-infrared
548–553.https://doi.org/10.14569/IJACSA.2021.0120962. hyperspectralimagingtechnology.Spectrochim.ActaAMol.Biomol.Spectrosc.,
Harjoko,A.,Prahara,A.,Supardi,T.W.,Candradewi,I.,Pulungan,R.,Hartati,S.,2019.Image 120540.https://doi.org/10.1016/j.saa.2021.120540.
processingapproachforgradingtobaccoleafbasedoncolorandquality.Intern. Shi,W.,vandeZedde,R.,Jiang,H.,Kootstra,G.,2019.Plant-partsegmentationusingdeep
J.SmartSens.Intell.Syst.12,1–10.https://doi.org/10.21307/ijssis-2019-010. learningandmulti-viewvision.Biosyst.Eng.187,81–95.https://doi.org/10.1016/j.
Jeyalakshmi,S.,Radha,R.,2017.Areviewondiagnosisofnutrientdeficiencysymptomsin biosystemseng.2019.08.014.
plantleafimageusingdigitalimageprocessing.ICTACTJ.ImageVideoProces.7, Siedliska,A.,Baranowski,P.,Pastuszka-Woźniak,J.,Zubik,M.,Krzyszczak,J.,2021.Identi-
1515–1524.https://doi.org/10.21917/ijivp.2017.0216. ficationofplantleafphosphoruscontentatdifferentgrowthstagesbasedon
Jiang,F.,Lu,Y.,Chen,Y.,Cai,D.,Li,G.,2020.Imagerecognitionoffourriceleafdiseases hyperspectralreflectance.BMCPlantBiol.21,1–17.https://doi.org/10.1186/s12870-
basedondeeplearningandsupportvectormachine.Comput.Electron.Agric.179, 020-02807-4.
105824.https://doi.org/10.1016/j.compag.2020.105824. Singh,H.,Dunn,B.L.,Payton,M.,Brandenberger,L.,2019.Selectionoffertilizerandculti-
Jose,A.,Nandagopalan,S.,Ubalanka,V.,Viswanath,D.,2021.Detectionandclassification varofsweetpepperandeggplantforhydroponicproduction.agronomy433,1–11.
ofnutrientdeficienciesinplantsusingmachinelearning.J.Phys.Conf.Ser.1850, https://doi.org/10.3390/rs12193265.
012050.https://doi.org/10.1088/1742-6596/1850/1/012050. Sinha,A.,Shekhawat,R.S.,2020.Olivespotdiseasedetectionandclassificationusinganal-
Kamelia,L.,Rahman,T.K.B.A.,Saragih,H.,Haerani,R.,2020.Thecomprehensivereviewon ysisofleafimagetextures.Proc.Comp.Sci.167,2328–2336.https://doi.org/10.1016/
detectionofmacronutrientsdeficiencyinplantsbasedontheimageprocessingtech- j.procs.2020.03.285.
nique.Proceedings-20206thInternationalConferenceonWirelessandTelematics, Sonobe,R.,Yamashita,H.,Mihara,H.,Morita,A.,Ikka,T.,2020.Estimationofleafchloro-
ICWT2020,pp.7–10.https://doi.org/10.1109/ICWT50448.2020.9243623. phylla,bandcarotenoidcontentsandtheirratiosusinghyperspectralreflectance.
Khew,C.Y.,Teow,Y.Q.,Lau,E.T.,Hwang,S.S.,Bong,C.H.,Lee,N.K.,2021.Evaluationofdeep RemoteSens.12,1–19.https://doi.org/10.3390/agronomy9080433.
learningforimage-basedblackpepperdiseaseandnutrientdeficiencyclassification. Sosa,J.,Ramírez,J.,Vives,L.,Kemper,G.,2019.Analgorithmfordetectionofnutritional
20212ndInternationalConferenceonArtificialIntelligenceandDataSciences deficienciesfromdigitalimagesofcoffeeleavesbasedondescriptorsandneuralnet-
(AiDAS),pp.1–6.https://doi.org/10.1109/AiDAS53897.2021.9574346. works.201922ndSymposiumonImage,SignalProcessingandArtificialVision,
Kumar,A.,Patidar,V.,Khazanachi,D.,Saini,P.,2015.Anapproachtoimproveclassifica- STSIVA2019-ConferenceProceedings,pp.3–7.https://doi.org/10.1109/STSIVA.
tionaccuracyofleafimagesusingdorsalandventralfeatures.Int.J.Adv.Comput. 2019.8730286.
Sci.Appl.6.https://doi.org/10.14569/ijacsa.2015.060917. Tan,L.,Lu,J.,Jiang,H.,2021.Tomatoleafdiseasesclassificationbasedonleafimages:a
Kumar,S.,A.G.T,Sreekumar,K.,2020.Classificationofriceleafspotdiseaseusinglocalbi- comparison between classical machine learning and deep learning methods.
narypatterns.Intern.J.Innov.Technol.Expl.Eng.9,510–512.https://doi.org/10. AgriEngineering3,542–558.https://doi.org/10.3390/agriengineering3030035.
35940/ijitee.f3866.049620. Taujuddin,N.S.,Mazlan,A.I.,Ibrahim,R.,Sari,S.,Ghani,A.R.,Senan,N.,Muda,W.H.,2020.
Kumar,S.,Jain,A.,Shukla,A.P.,Singh,S.,Raja,R.,Rani,S.,Harshitha,G.,Alzain,M.A., Detectionofplantdiseaseonleavesusingblobsdetectionandstatisticalanalysis.Int.
Masud,M.,2021.Acomparativeanalysisofmachinelearningalgorithmsfordetec- J. Adv. Comput. Sci. Appl. 11, 407–411. https://doi.org/10.14569/IJACSA.2020.
tionoforganicandnonorganiccottondiseases.Math.Probl.Eng.2021.https://doi. 0110852.
org/10.1155/2021/1790171. Tran,T.T.,Choi,J.W.,Le,T.T.H.,Kim,J.W.,2019.AcomparativestudyofdeepCNNinfore-
Kuznichov,D.,Zvirin,A.,Honen,Y.,Kimmel,R.,2019.Dataaugmentationforleafsegmen- castingandclassifyingthemacronutrientdeficienciesondevelopmentoftomato
tationandcountingtasksinrosetteplants.IEEE/CVFConferenceonComputerVision plant.Appl.Sci.(Switzerl.)9.https://doi.org/10.3390/app9081601.
89D.Rahadiyan,S.Hartati, Wahyonoetal. ArtificialIntelligenceinAgriculture8(2023)77–90
Vassallo-Barco,M.,Vives-Garnique,L.,Tuesta-Monteza,V.,Mejía-Cabrera,H.I.,Toledo, Widodo,R., Widodo, A.W.,Supriyanto, A.,2018. PemanfaatanCiri Gray LevelCo-
R.Y.,2017.Automaticdetectionofnutritionaldeficienciesincoffeetreeleaves OccurrenceMatrix(GLCM)CitraBuahJerukKeprok(CitrusreticulataBlanco)
throughshapeandtexturedescriptors.J.Digit.Inf.Manag.15,7–18. untukKlasifikasiMutu.J.Pengemb.Teknol.Inform.IlmuKomput.2,5769–5776.
Wang,C.,Ye,Y.,Tian,Y.,Yu,Z.,2021a.Classificationofnutrientdeficiencyinricebasedon Wulandhari,L.A.,Gunawan,A.A.S.,Qurania,A.,Harsani,P.,Triastinurmiatiningsih,
CNNmodelwithReinforcementLearningaugmentation.Proceedings-2021Interna- Tarawan,Hermawan,R.F.,2019.Plantnutrientdeficiencydetectionusingdeep
tionalSymposiumonArtificialIntelligenceanditsApplicationonMedia.2021. convolutionalneuralnetwork.ICICExpr.Lett.13,971–977.https://doi.org/10.
ISAIAM,pp.107–111.https://doi.org/10.1109/ISAIAM53259.2021.00029. 24507/icicel.13.10.971.
Wang,Q.,Mao,X.,Jiang,X.,Pei,D.,Shao,X.,2021b.Digitalimageprocessingtechnology Xu,Z.,Guo,X.,Zhu,A.,He,X.,Zhao,X.,Han,Y.,Subedi,R.,2020.Usingdeepconvolutional
underbackpropagationneuralnetworkandKMeansclusteringalgorithmonnitrogen neuralnetworksforimage-baseddiagnosisofnutrientdeficienciesinrice.Comput.
utilizationrateofChinesecabbages.PLoSOne16,1–24.https://doi.org/10.1371/jour- Intell.Neurosci.https://doi.org/10.1155/2020/7307252.
nal.pone.0248923. Yan,X.,Wen,L.,Gao,L.,Perez-Cisneros,M.,2019.Afastandeffectiveimagepreprocessing
Watchareeruetai,U.,Noinongyao,P.,Wattanapaiboonsuk,C.,Khantiviriya,P.,Duangsrisai, methodforhotroundsteelsurface.Math.Probl.Eng.2019.https://doi.org/10.1155/
S.,2018.IdentificationofplantnutrientdeficienciesusingConvolutionalNeuralNetworks. 2019/9457826.
iEECON2018-6thInternationalElectricalEngineeringCongress,pp.2018–2021.https://
doi.org/10.1109/IEECON.2018.8712217.
90