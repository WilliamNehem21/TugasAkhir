Available online at www.sciencedirect.com
ScienceDirect
AASRI Procedia 7 ( 2014 ) 101 – 106
2013 2nd AASRI Conference on Power and Energy Systems
Peak Load Shifting and Electricity Charges Reduction Realized
by Electric Vehicle Storage Virtualization
Harunaga ONDA, Soushi YAMAMOTO, Hidetoshi TAKESHIT, Satoru
OKAMOTO and Naoaki YAMANAKA
Department of Information and Computer Science, Graduate School of Science and Technology, Keio University
(cid:3)
Abstract
Electric Vehicle (EV) battery is large capacity, which is equivalent to two days of home power consumption, and cheaper
than household battery. Therefore, it is important to utilize as home backup power to reduce home electricity charges. In
this paper, we propose a new EV battery demand/response control method, which consists of three items; a new Electric
Vehicle (EV) batteries ownership virtualization technique realized by “deposited power concept”, a huge virtual battery
pool to enable charge/discharge at any time, and a genetic algorithm to control demand/supply of EV batteries. Center
controller named EVNO (Energy Virtual Network Operator) has a huge virtual battery pool which is aggregated by
“deposited power” of each EV, and controls demand/supply of each EV by the genetic algorithm. Since EVNO controls
the deposited power among their EV batteries, EV users lose ownership of the deposited electric power in their EV
batteries. At this time, EV owner does not use the electric power in his EV physically. The computer simulation result
shows that the proposed method can reduce electricity charges by average 11%, and can reduce power demand curve by
average 13% per day compared to conventional scheme under the real-time pricing (RTP).
©© 22001143 P Puubblilsihsehde dby b Eyl sEelvsieevr iBer. VB.. VTh. is is an open access article under the CC BY-NC-ND license
(http://creativecommons.org/licenses/by-nc-nd/3.0/).
Selection and/or peer review under responsibility of American Applied Science Research Institute
Peer-review under responsibility of Scientific Committee of American Applied Science Research Institute
Keywords: Smart Grid; Smart House; Home Energy Management System; Virtual Power; EVNO”
1.Introduction
With the spreading serious environmental and energy problems, it is expected that the popularizing of
Electric Vehicle (EV) accelerates operating a clean energy, and high energy efficiency [1]. The many EVs are
disconnected from the power grid and used in the morning and evening commuting zone time, and the
2212-6716 © 2014 Published by Elsevier B. V. This is an open access article under the CC BY-NC-ND license
(http://creativecommons.org/licenses/by-nc-nd/3.0/).
Peer-review under responsibility of Scientific Committee of American Applied Science Research Institute
doi: 10.1016/j.aasri.2014.05.036102 Harunaga Onda et al. / AASRI Procedia 7 ( 2014 ) 101 – 106
majority of EVs are connected to the grid during the day. EV’s battery is large capacity, which is equivalent
to two days of home power consumption, and it is cheaper than household batteries. Therefore, it is noted that
EV battery is used as the "electric power storage device of the home instead of the household batteries”.
Vehicle to Grid (V2G) and Vehicle to House (V2H) produce the mutual benefit to the power grid operators
and EV owners. The power grid operators can utilize available surplus electric power of EV, and EV owners
can use EV battery as household battery [2]. Discharging EV batteries in case of high power demand is very
efficient to reduce power supply from the grid [3]. The power grid operators must add extra power plant to
meet the peak power demands when EVs are widespread and connected at the same time. Therefore, the
charge/discharge control scheme of EVs have been studied to satisfy the power demands of EVs, and to
supply from EVs to grid when the power demand is high. Further, as a method for reducing the peak demand,
the real time pricing (RTP) that electric power price varies corresponding to the amount of power demand is
studied [4]. Therefore, EV owners will sell electric power from the EV at high prices during peak electricity
demand. Discharge to the grid from EV aggressively is expected to reduce the energy cost of home.
In addition, we have proposed the EVNO (Energy Virtual Network Operator), which has not power
generation facilities and power distribution networks, and borrows power generation facilities and power
distribution networks, and controls power demand and supply [5]. However, there are following problems
when EVNO controls power supply and demand by utilizing EV batteries.
1) EV cannot charge/discharge during EV is disconnected from the power grid. (Commuting time etc.)
2) EV cannot charge/discharge when the voltage exceeds the allowable range by charge/discharge of
EV battery.
3) The useful battery capacity is different in each EV, so it is difficult to use extra battery power.
In this paper, we propose a new EV battery demand /response control method to reduce home electricity
charges; proposed method consists of a new Electric Vehicle (EV) batteries ownership virtualization
technique realized by “deposited power concept”, and a huge virtual battery pool to enable charge /discharge
at any time, and a genetic algorithm to control demand/supply of EV batteries.
In the proposed method, (cid:256)deposited power concept” and a huge virtual battery pool of EVNO which is
aggregated by “deposited power” of each EV solve above problems. Therefore, the proposed method enables
to expand the usage of EV batteries.
2.Proposed Method
2.1Overview of proposed method
We propose a new EV battery demand (cid:17)response control method to reduce home electricity charges;
proposed method consists of three items, the first is new Electric Vehicle (EV) batteries ownership
virtualization technique realized by “deposited power concept”, the second is a huge virtual battery pool to
enable charge /discharge at any time, and the last is a genetic algorithm to control demand/supply of EV
batteries to minimized busy period power supply from grid.
The proposed model is consisted of power grid, EV, EVNO and smart house. Smart House refers to the
house installed HGW which performs optimum control to cheaper electricity prices in each home. Fig.1
shows the overview of proposed method. Virtual Power Pool in Fig.1 is a huge virtual battery pool of EVNO,
which is aggregated by “deposited power” of each EV. EV owner deposits the EV storage power to EVNO,
and EVNO borrows “deposited power” to sell and controls demand/supply of EVs and gets fees by
demand/supply control. We explain about the concept of deposit. Fig. 2 shows an overview of the deposited
electric power. When EV owner cannot charged/discharged from/to power grid when the voltage exceeds the
allowable range by charge/discharge or EV is disconnected from the power grid (commuting morning andHarunaga Onda et al. / AASRI Procedia 7 ( 2014 ) 101 – 106 103
evening time. etc.), EV owner transfers ownership of some amount of power in EV battery to sell to EVNO.
This is defined as a “deposit”. When EV owners consume the virtual power pool of EVNO, EV owners return
the consumed electric power from the EV when EV is connected to the grid again. Since EV owners virtually
use the electric power among their EV batteries, EV owners lose ownership of the deposited electric power in
his EV battery. At this time, EV owner does not use the electric power in his EV physically. Then, each EV
holds the logical and physical remaining battery meter. Physical battery meter indicates the physical battery
storage level, which is SoC. The logical battery meter reflects the logical purchase and sales to EVNO. EVNO
Fig.2 Deposit Power
Fig.1 Overview of proposed method
controls the amount of deposited power in a huge virtual battery pool which is aggregated by “deposited
power” of each EV to satisfy EV owner’s demand/supply requests.
2.2Classification of EV by connection duration time to grid
When EVNO controls demand/supply of deposited power through the huge virtual battery pool, EVNO
needs the valid physical battery pool. But, EV connected duration time to power grid is uncertain. Therefore,
we define the two types of EV classes, one is normal EV which can leave from power grid freely, and the
other is terminal EV which cannot leave freely. Normal EV can leave freely from power grid, but the power
purchase (charging) price is high and the selling (discharging) price of electricity is cheap. On the other hand,
terminal EV cannot leave freely from power grid (for example, must be connected continuously to power grid
by 6 hours). But the power purchase (charging) price is cheap and the selling (discharging) price of electricity
is high. When EVNO must physically transfer electric power to logical power transfer request house, EVNO
discharges from the terminal EV neighboring to the requested house. In case of lack of deposited power to
transfer terminal EV#a in the huge virtual battery pool, EVNO borrows terminal EV#b battery power
considering departure time of terminal EV#b, and transfers power to requested terminal EV#a, and return
consumed power of terminal EV#a until departure time of terminal EV#b by deposited power or from power
company. Thus, the physically supply-demand power matching is achieved.
2.2.1 Just Generation Gap Real-coded Ensemble Crossover Algorithm (JGG-REX algorithm)
We apply Just Generation Gap Real-coded Ensemble Crossover Algorithm (JGG-REX algorithm) [6] to
control deposited power to minimize home electricity charges. JGG-REX is one of the genetic algorithms, and
has powerful search capability at high speed and ability to cope with large-scale. To use JGG-REX, objective
function and constraints are described by Java language. In JGG-REX algorithm, generating individuals is104 Harunaga Onda et al. / AASRI Procedia 7 ( 2014 ) 101 – 106
improved by repeating extraction from good individuals. The process of the algorithm is as follows:
1) Generate a N individuals in a uniform distribution. N is a logical charge and discharge amount of EV.
2) The randomly sampled individuals and crossover between extracted individuals.
3) Discard the parent after generating a child.
4) Make a trade of new elite individuals for extracted original individuals
5) Repeat steps 2-4 predetermined number of times. Finally, choose the individual which has the smallest
object function value and schedule according to the individual
2.2.2 Objective Function
1) Optimization objective:
T T
Min (cid:166) ( (cid:166) So nut (t)(cid:16) (cid:166) Si nn (t)) (1)
n(cid:143)N t (cid:32) 0 t (cid:32) 0
Where:
out buy buy rp r
Sn (t)(cid:32)C (t)(cid:152)Pn (t)(cid:14)C (cid:152)P (t) (2)
in sell sell sedp lp ld
Sn (t)(cid:32) C (t){Pn (t) (cid:14) Pn (t)}(cid:14) C (t)(cid:152)Pn (t) (3)
T : total number of time intervals
N : total number of EVs
buy ld
Pn (t): power from grid to n at interval t(kW) Pn (t) :lend storage space by deposited
power at interval t(kW)
sell r
Pn (t): power from nto grid at interval t(kW) P (t) : rental storage space by deposited power
at interval
sedp buy
t(kW) Pn (t) : power from deposited spaceat interval t(kW) C (t): cost for buying from grid
at interval t(yen/kW)
sell rp
C (t): cost for selling to grid at interval t(yen/kW) C : cost of rental deposited space
(yen/kW)
lp
C (t): cost of lend deposited space (yen/kW)
Equation (1) means that EVs enabled to logically charge/discharge to minimize the difference of total
revenue from the total expenditure amount.
2.2.3 Constraints.n(cid:143)N,(cid:5)n,t(cid:143)T,(cid:5)t
buy pv ch se sed
P n (t) (cid:14) P n (t) (cid:16) P n (t) (cid:16) P n (t) (cid:16) P n (t) (cid:16) D n (t)) (cid:32) 0 (4)
Where:
pv
Dn(t): power demand at interval t(kWh) Pn (t): power from n’s PV at interval t(kWh)
ch
Pn (t): power of n’s own battery at interval t(kW);(+ for charging, - for discharging)
3.Performance Evaluation
We evaluate proposed method by computer simulation using the JGG-REX algorithm with base line. We
used java language, and CPU is (TM) i5, 3.33GHz Intel (R) Core. The evaluation points are following three
points.
(cid:120)Hourly fluctuation of battery capacity, charging, discharging and deposited power of EV
(cid:120)Average electricity cost of 100 EVsHarunaga Onda et al. / AASRI Procedia 7 ( 2014 ) 101 – 106 105
(cid:120)Comparison of load rate ((Average power) × 100 / (maximum power)) of demand curve and average
power price in various reference line
We simulate 24hours (0:00 to 23:59), and determine hourly amount of logical charge/discharge power.
Battery capacities in EVs are between 10 and 30kWh. The departure times of EVs from house are varied
around 7:00 with a standard deviation of 1 hour. The arrival times of EVs at house are varied around 18:00
with a standard deviation of 2 hour. The daily demand of 100 houses is shown in Fig.3 without
charging/discharging EV. The power prices are decided proportional to demand as shown demand curve in
Fig.3. Saturation conditions are shown in Table 1.
Table1. Simulation conditions
Time Trial (hour) 24
number of houses 100
number of EVs 10~30
Power demand of one house (kWh) 0~3
Departure time of EV (hour) 6~10
Connection duration time (hour) 1~12
Battery capacity (kWh) 10~25
Maximum charge/discharge rate (kWh) 3
Initial SoC(%) 30~50
Fig.3. Daily Demand Curve of 100 houses
Request SoC(%) 70~90
Fig.4. Hourly fluctuation of battery capacity, and charging
amount of EV Fig.5. Average electricity cost of 100 EVs
Fig. 4 shows the hourly fluctuation of battery capacity and charging amount. The amount of deposited
power of EV is the difference between max physical power capacity and max logical power capacity as
shown in Fig.4. As shown in Fig.4, the proposed algorithm logically discharged when electricity prices is high
at 16-17:00 and 8-9:00. This is because EV owners secure the opportunity to sell electricity from EV when
EV leaves from power grid. This result shows that proposed method enables to reduce the electricity charges.
Fig. 5 shows the average electricity cost of 100 EVs. As shown in Fig.5 the proposed method reduces the
electricity charges by 11% on average compared to conventional method which controls charge/discharge of
EV batteries while EVs are connected to power grid.106 Harunaga Onda et al. / AASRI Procedia 7 ( 2014 ) 101 – 106
Table.2 shows the comparison of load rate of electricity demand curve and average power price in the
various base lines.The average of the minimum and maximum value of the power demand curve as shown in
Fig.3 is 90.5 kW. Therefore, I compare in the vicinity of this value. Corresponding to the base line becomes
higher as shown Table 2, EV owner can get cheaper power, and load rate becomes large. There is an
exception at base line is 105.8 kW, if base line is too high, load rate becomes low value. Because, when
power price is high at night, EV cannot get adequate charging/discharging opportunities. In the present
conditions, value 95.8 which is slightly higher than the average was optimal both load rate and power price as
shown in Table 2.
Table 2. Comparison of load rate of electricity demand curve and average power price in the various reference line
Base line (kW) 24 Load rate (%)
85.8 100 68.2
90.8(average) 10~30 74.5
95.8 0~3 79.7
105.8 6~10 76.5
4.Conclusion
The proposed method enables to expand the usage of EV battery, and can reduce electricity charges
because EVs can logically charge/discharge through the huge virtual battery pool of EVNO.
The computer simulation result shows that the proposed method can reduce electricity charges by average
11%, and can reduce power demand curve by average 13% per day compared to conventional scheme under
real-time pricing (RTP).
Acknowledgements
This work is partially supported by the Japan Society for the Promotion of Science’s (JSPS) Grant-in-aid
for Scientific Research (A) 22240004.
References
[1] O.Sundstrom, C.Binding “Flexible Charging Optimization for Electric Vehicles Considering Distribution
Grid Constraints”, IEEE Transaction on Smart Grid, vol 3, no.1, pp. 26 – 37, Mar 2012
[2] Chukwu, U.C., Nworgu, O.A. “Impact of V2G on substation capacity and SVR devices for Radial
Distribution network”, Southeastcon, 2013 Proceedings of IEEE, pp. 1 – 6, July 2013
[3] Yifeng He, Venkatesh, B., Ling Guan "Optimal Scheduling for Charging and Discharging of Electric
Vehicles", IEEE Transaction on Smart Grid, vol 3, no.3, pp. 1095 – 1105, Aug 2012
[4] Wenxian Yang, Rongshan Yu, Rahardja, S. "Benefits to consumers under RTP with a statistical demand
model", IEEE Innovative Smart Grid Technologies - Asia (ISGT Asia) , pp. 1 – 6, Sep 2012
[5] Tazoe, T., Matsumoto, J., Ishi, D., Okamoto, S., Yamanaka, N., "Novel scheduling method to reduce
energy cost by cooperative control of smart houses" International Conference on Power System Technology
(POWERCON), 2012 IEEE, pp. 1 – 6, Nov 2012June 2012
[6] Hazime Kimura, “Real-coded Genetic Algorithm : JGG + REX,” EPRI Dec. 2011 [Online].
http://sysplan.nams.kyushu-u.ac.jp/gen/edu/Algorithms/RGA_JGGandREX/RGA_JGG_REX.html