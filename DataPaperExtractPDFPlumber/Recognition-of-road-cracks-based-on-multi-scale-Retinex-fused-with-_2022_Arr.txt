Array15(2022)100193
Contents lists available at ScienceDirect
Array
journal homepage: www.sciencedirect.com/journal/array
Recognition of road cracks based on multi-scale Retinex fused with
wavelet transform
Shenao Liu, Yonghua Han*, Lu Xu
College of Information, Zhejiang Sci-Tech University, Hangzhou, 310018, China
A R T I C L E I N F O A B S T R A C T
Keywords: Cracks are the main diseases of roads and potential threats to road safety. The detection and repair of cracks is
Crack recognition the focus of intelligent transportation system research. However, the performance of automatic crack detection is
Multi-scale retinex often not good enough due to the uneven illumination, low contrast between the crack and the surrounding
Wavelet transform
pavement and the possible presence of shadows similar in intensity to the crack. In this paper, an improved
Image enhancement
multi-scale Retinex algorithm is proposed to enhance the crack image. The wavelet transform is integrated into
Shadow removal
the traditional multi-scale Retinex algorithm to avoid the halo generated by the Retinex algorithm, thereby
Bowler-hat transform
reducing the image distortion. Meanwhile, the multi-scale Retinex algorithm can make up for the lack of useful
information lost by wavelet transform, so the combination of the two can obtain better crack enhancement effect.
In addition, the preprocessing of shadow removal is performed before crack enhancement, which effectively
eliminates the interference of high-intensity shadows. Through the comparison of objective performance in-
dicators, the newly proposed algorithm can better highlight the crack information. The method proposed in this
paper can effectively realize the functions of shadow removal and crack enhancement, so that the recognition
accuracy of the overall detection system reaches 95.8%, indicating that the algorithm has high research sig-
nificance and engineering application value.
Credit author statement crack detection technology has gradually replaced the traditional arti-
ficial visual detection.
Shenao Liu: Conceptualization, Methodology, Writing original draft. A lot of research has been conducted by scholars in various countries
Yonghua Han: Writing – original, Funding acquisition. Lu Xu:Validation, on the problem of pavement crack detection, and the main methods are
Writing – original draft. two major categories [5]: methods based on image characteristics and
methods based on machine learning [6]. The methods based on image
1. Introduction characteristics can be divided into edge detection, histogram analysis,
mathematical morphology, filtering, etc. The machine learning based
Effective and efficient pavement condition assessment is critical for approaches are further divided into supervised learning and unsuper-
determining pavement assessment performance and planning repairs. vised learning [7]. From the perspective of development status, the
Numerous studies [1–3] have shown that timely and accurate inspection crack recognition technology based on image features is more widely
of pavement cracks can help transportation agencies reduce road used in the field of engineering [8,9].
maintenance costs and extend pavement life. However, the traditional Edge detection is a commonly used method to detect pavement
crack detection mainly relies on manual visual inspection, which is cracks. Through common edge detection algorithms [10], such as Sobel
time-consuming and labor-intensive in actual operation, and it is diffi- [11] and Canny [12], the foreground of the image, i.e. the crack, is
cult to objectively evaluate the degree of road deterioration [4]. extracted. This method can achieve rapid detection, but it needs to
Therefore, it is necessary to develop an automatic, accurate and efficient manually set many thresholds. The histogram analysis method is to fit a
pavement crack detection method. With the development of computer Gaussian curve according to the grayscale histogram of the crack image,
vision and civil engineering image processing, image-based automatic and then determine the segmentation threshold according to the fitted
* Corresponding author.
E-mail addresses: liushenao2008@163.com (S. Liu), hanyonghuahan@163.com (Y. Han), xlhit@126.com (L. Xu).
https://doi.org/10.1016/j.array.2022.100193
Received 30 April 2022; Received in revised form 20 May 2022; Accepted 24 May 2022
Availableonline9June2022
2590-0056/©2022TheAuthors.PublishedbyElsevierInc.ThisisanopenaccessarticleundertheCCBY-NC-NDlicense(http://creativecommons.org/licenses/by-
nc-nd/4.0/).S. Liu et al. A r r a y15(2022)100193
Gaussian curve. It is simple and fast, but the accuracy is low. The method 2. Shadow removal
of mathematical morphology [13–15] needs to set the segmentation
threshold and the size of the structural element. Although the detection The road crack images collected in the natural environment are
results are better than the above histogram method, this method relies prone to shadows. The contour of high-intensity shadows is similar to
heavily on the selection of the threshold [16]. The difference between the shape and color of road cracks, which can easily be misjudged as
the size of the structural element and the selection of the threshold re- cracks and become one of the main interference factors in crack
sults in different crack segmentation effects. Especially in the case of extraction [29]. The shadow itself is divided into the umbra area and the
different crack thicknesses, the segmentation effect will be worse. penumbra area. The umbra area is generally located in the inner area of
From the current state of research in the field of crack recognition, the shadow. Because all direct light is blocked by the object, the shadow
road crack detection often needs to use a threshold-based segmentation boundary outline will be clearer. The penumbra area is generally located
method [17,18], but road surface images are often obtained under bad in the edge area of the shadow, the light is partially blocked, the outline
weather and illumination conditions [19,20], and the road damage of the shadow area is blurred, and the brightness gradually changes from
image data collected due to uneven illumination is quite difficult to use the inside to the outside, showing a smudge effect. In order to eliminate
the threshold-based segmentation method to detect the crack edge [21, the interference of shadows, this study proposes different shadow
22]. In general, the gray value of the crack itself will be lower than the removal schemes according to the different characteristics of different
gray value of the non-cracked pavement image, but the opposite may shadows. The next two subsections will describe the shadow removal
occur in the pavement image collected under the special circumstances process in detail.
of uneven illumination. If the global threshold method is used in the
detection, the crack information in the pavement damage image cannot 2.1. Shadow removal for umbra areas
be detected, resulting in the missing or wrong recognition of the crack
information in the pavement damage image, which affects the recog- The umbra area tends to be the area with the least light intensity in
nition performance. In addition, uneven illumination or insufficient the image, and the light intensity in this area tends to be almost uniform.
light will lead to another problem, that is, the captured images will have Shadowed image ̃ I(x,y)can be represented as follows:
poor contrast, low brightness, blurred local details, sudden changes in
brightness, etc., and often accompanied by obvious noise [23]. This
̃I(x,y)=I(x,y)⋅C(x,y)
(1)
makes it difficult for machine vision to extract and analyze information
from these images. where I(x,y)is the shadowless image andC(x,y)is the shadow factor.
Therefore, the collected road damage images must be preprocessed Therefore, the problem of solving the shadowless imageI(x,y)is trans-
to make necessary preparations for image crack edge detection and formed into the problem of solving the shadow factorC(x,y). The auto-
automatic recognition, by overcoming the problem of uneven illumi- matic method of solving C(x,y)is described below.
nation, enhancing the edge information of cracks in road damaged im- Since the light intensity in the umbra area tends to be almost the
ages, and removing interference information that affects subsequent same, it can be assumed that the shadow factor C(x,y)is a constantc. The
road crack edge recognition. Among many image enhancement algo- most straightforward and simple way to determine c is to find the con-
rithms, the Retinex image enhancement algorithm has excellent stant that minimizes the error in the least squares sense. LetP denote the
enhancement effect for problems such as uneven illumination of images. set of pixels in the bright area near the penumbra area, and let S denote
Retinex is a theory of human color vision proposed by Edwin Land [24]. the set of pixels in the umbra area close to the penumbra area, the po-
Unlike traditional linear and nonlinear methods that can only enhance a sitional relationship ofP andS is shown in Fig. 1. We also assume that the
certain type of image features, Retinex can achieve a balance between sample lengths of P andS are equal. So we have:
dynamic range compression, edge enhancement and color constancy. c=argmin‖P(cid:0) S+a‖2 (2)
The main core idea of Retinex theory is that most of the object a
appearance observed by HVS is determined by the reflection ability of ̃
The restoration image I of the original imageI in the umbra region
the object, and has little relationship with the incident light intensity on
can be expressed as:
the surface of the object [24], so it can well deal with the problem of
uneven illumination. Retinex is most commonly used to enhance med- I(x,y)=̃I(x,y)/c (3)
ical images such as blood vessels and retina. Considering the similarity
of texture features between road crack images and medical images, some Among them, ̃ I(x,y)only represents the original image in the umbra
researchers [25,26] also applied the Retinex image enhancement algo- area, whichI(x,y)is the image after the restoration of the umbra area.
rithm to crack image enhancement. Such algorithms The research and
development of the crack image enhancement process has greatly 2.2. Shadow removal for penumbra areas
improved the effect.
The traditional Retinex algorithm also has defects in image The shadow removal of the penumbra area is a tough challenge for
enhancement processing, and the output image has the phenomenon of
halo camouflage [27,28], that is, the dark area near the edge is still very
dark after image enhancement, which will affect the recognition of
subsequent images. In order to solve the shortcomings of Retinex algo-
rithm in image enhancement processing and improve the image
enhancement effect, this thesis research proposes an improved image
enhancement processing method combining Retinex algorithm and
wavelet transform according to the characteristics of Retinex algorithm
in image enhancement processing. Through the experimental results, it
can be concluded that the improved algorithm in this paper can not only
make up for the shortcomings of the traditional Retinex algorithm, but
also the processed pictures are clearer and have better visual effects.
Fig. 1. Schematic diagram of the location of P andS.
2S. Liu et al. A r r a y15(2022)100193
multiple causes: one is that the boundary of the penumbra area is rela- ∑
tively blurred and difficult to accurately determine; the other is that the Ẽ= E li(t 1,t 2) (7)
li
brightness of the penumbra area varies, that is, the shadow factor is not a
constant. Directly solving the energy functional Eq. (7) is a complicated and
Since the shadow factor C in the penumbra area changes at different time-consuming process. However, as the penumbra region is a very
positions, when calculating the shadow factorC(x,y) of the penumbra narrow band-shaped region, Lt0, Lt1 andLt2 can be approximately
area, we take the straight line segment perpendicular to the boundary of regarded as having the same shape [32]. Therefore, when solving Lt1, We
the penumbra area, as shown in Fig. 2, and build a model for each can pan the whole Lt0 towards the bright area. Similarly, when sol-
straight line segment li. Let t1 andt2 respectively represent the two vingLt2, the whole Lt0 can be Panned towards the umbra region. After
boundary points of the penumbra area on the straight line segment, t1 obtainingC(t), C(x,y)can be obtained. Then the De-shaded image can be
represent the boundary point between the penumbra area and the light calculated by Eq. (8) below:
area, t2 represent the boundary point between penumbra region and I(x,y)=̃I(x,y)/C(x,y)
(8)
shadow region, t0 be the midpoint of thet1 andt2. Let Lt0 denote the curve
consisting oft0 on all line segments. Similarly, letLt1 denote the curve Fig. 3 below shows the experimental results of our research on the
composed of thet1 on the all line segments, andLt2 denote the curve above shadow removal. From the experimental results, it can be
composed of thet2 on the all line segments. concluded that the algorithm proposed in this study has excellent
Then, we build the luminance factor model on the line segment li: shadow removal performance and can achieve seamless shadow
⎧
removal in the umbra/penumbra area. The consistency of illumination
⎪⎨1, t<t
1 intensity between the original shadow and non-shadow areas is main-
C(t)= ⎪⎩f c( ,t), t t1 >≤ tt≤t 2 (4) tained, which is not only conducive to subsequent image enhancement,
2 but also eliminates interference for the final crack feature extraction,
thereby improving the overall recognition accuracy of the crack detec-
Which c can be calculated in Eq. (2). In order to facilitate the solution, tion system.
f(t)selects the cubic curve [30]. And f(t)satisfies the following condi-
tions at t1 andt2: f(t1)=1 andf(t2) = c.The derivative f′(t) off(t) sat- 3. Crack enhancement
isfies: f′(t1)=0 andf′(t2) =0,at t1 andt2.
Lt0 Can be calculated by the following method of minimizing energy, As an efficient image enhancement algorithm, Retinex can be basi-
the energy equation is described as follows: cally divided into Single Scale Retinex (SSR) [33,34], Multi Scale Reti-
E(t 0li)=∑
li
̃I′ (1
t
0li)+λ∑
li
lj∑ ∈N(li)(t 0li(cid:0) t 0lj)2 (5) n ( mMe ux S
l
tR i( -CM sR cS a) lR e[) 3 R6[ ] e3 .
t
5 iT n] h
e
e xa nn aed nx dt M t tw hu el ot i s- iS muc b pa s rl ee oc vti eR o de n t s mi n w ue ix ll
t
l
i
-iw sn ci t at rh lo
e
d uC Rco ee tl o intr h
e
e xR te aras lt gdo oir t ra i io tt hi no man l
after incorporating wavelet transform in this study in detail.
where li is the firsti selected line segment, andNli is the set of line seg-
ments adjacent to line segmentli, the first item of E(t 0li)is used to measure
3.1. Enhancement based on traditional multiscale Retinex
the gradient of the image, the second item of E(tli)is used to measure the
0
̃′ ̃
smoothness of the curve, and I is the gradient of the imageI. Multi-scale Retinex algorithm is a Retinex algorithm developed from
Next, we need to calculate the t1 andt2 for each line segment, so SSR. The multi-scale Retinex is centered on the theory of uniform dis-
thatt0 can be obtained. Once knowingt0, we can get an initial curve, that tribution of incident components. It is believed that the incident
is Lt0. Then Lt0 can be evolved towards the direction ofLt1Lt1 andLt2. component changes slowly in the low frequency band, but in the area
Since t0 is betweent1 andt2, Lt0 should be betweenLt1 andLt2, and Lt1 with large brightness difference, the incident component changes
andLt2 can be seen to have the same shape. For each line segment, we greatly in the high frequency band. In order to improve the image
define the energy function: enhancement effect, multi-scale Retinex expands a Gaussian function
∫ ∫ ∫ G(x,y) with a fixed scaleσ in a single-scale Retinex into k Gaussian
E li(t 1,t 2)=
t1
(̃I(cid:0) m
P)2
dt+
end
(̃I(cid:0) m S)2dt+λ
t2
(̃I(cid:0) f(t))2dt (6) functionsGk(x,y)with different scales. The general value ofk is set to 3,
0 t2 t1 which means that the Gaussian functionsG1, G2, G3 of three different
neighborhood scales of small, medium and large, and the neighborhood
where mS andmP are the average values ofP andS respectively, f(t) is scale sizes are described using Gaussian kernel σ 1 σ 2, σ 3. Multiscale
defined in Eq. (4). In the penumbra region, the problem of brightness
Retinex estimates the first k incident image componentLk by convolving
variation can be transformed into an energy minimization problem [31]. the imageI(x,y)with the Gaussian functionGk of scaleσ k. The component
Then we define the energy functional as follows:
Lk is expressed as Eq. (9):
L k(x,y)=I(x,y)*G k(x,y)
1 x2+y2 (9)
G(x,y)=√̅̅̅̅̅ exp((cid:0) ) k=1,2,3
k 2πσ 2σ2
k k
The expression of R(x,y)in the logarithmic domain can be obtained
by the calculation of the componentsLk at different scales and is
expressed as:
∑k
log(R(x,y))= w[log(I(x,y))(cid:0) log(L(x,y))]
i k
i=1
(10)
∑k
w =1
i
i=1
where wi is the weight coefficient, which takes a value of 1/3. By
Fig. 2. Schematic of the model of the penumbra region. restoring the image from the logarithmic domain to the spatial domain
3S. Liu et al. A r r a y15(2022)100193
Fig. 3. Experiment results of shadow removal.
to calculateR(x,y), the crack image enhanced by the multi-scale Retinex highlight the edge, texture and other details of the image, and can make
algorithm can be obtained, which is expressed as: up for the lack of useful information lost by wavelet transform due to too
many decomposition layers. Therefore, this thesis research adopts a
I(x,y)
R(x,y)= (11) multi-scale Retinex algorithm fused with wavelet transform to enhance
G 1(x,y)*I(x,y)+G 2(x,y)*I(x,y)+G 3(x,y)*I(x,y)
crack images.
Compared with the SSR algorithm, the algorithm sets different scale Improved algorithm uses wavelet transform to decompose the image
factors for operation on the original basis, which can better highlight the into a low-frequency component and multiple high-frequency compo-
color information while maintaining the dynamic compression range, nents according to the scale parameter [39], and performs different
but the algorithm will amplify the noise when processing low-light im- processing on the high and low frequencies respectively. Multi-scale
ages, and It is prone to halo and artifact effect [37]. Retinex enhances detailed information in crack images in high fre-
quency image components. The energy contained in the overview in-
3.2. Enhancement based on improved multiscale Retinex formation and detail information of the crack is calculated by the image
entropy, and ultimately wavelet reconstruction is adopted to acquire the
As the conventional multi-scale Retinex algorithm is prone to halo enhanced crack image according to the proportion of each energy to the
during processing, so as to decrease image distortion attributed to the total energy. Fig. 4 below illustrates the algorithm flow chart:
halo phenomenon and obtain better crack enhancement effect, wavelet Owing to the great segmentation accuracy and short average
transform can be combined for image enhancement. The wavelet response time of the bowler-hat transform algorithm, this research uses
transform decomposes the image into sub-bands of different frequency the bowler-hat transform to extract rough crack profile information. It
bands. According to the scale-space correlation theory, it is known that uses disc-shaped structural elements of different diameters and linear
the noise cannot be transmitted in the scale space. As the number of structures of different lengths and directions. The elements perform
image decomposition layers increases, it can be considered that the sub- opening operations on the low-frequency image components after
band image contains no noise, but the cost is the loss of useful feature wavelet decomposition respectively, and superimpose the maximum
components in the image [38]. The multi-scale Retinex algorithm can difference of the calculation results of the two groups of structural ele-
4S. Liu et al. A r r a y15(2022)100193
Fig. 4. MSR-Wavelet Transform algorithm flow chart.
ments at different scales as the extracted cracks. The bowler-hat trans- as 13, and the direction intervalis θ sep is selected as 10, through the
formation is defined as [40]: interaction of 18 linear structural elements in directions and 13 disc-
I bh=max(|{I∘D d}(cid:0) max θ{I∘L d,θ}|) (12) shaped structures with different radius, the cracked pixels in the
d image are matched. For the disc operator, the pixels larger than the
scaled are retained as crack pixels, while for the line operator, the pixels
where I is the low-frequency image after wavelet decomposition, andIbh along the directionθ and the scale larger than d are retained as crack
is the crack image extracted by bowler-hat transform. D is a disc struc-
pixels, and the other pixels are removed as noise points. Image entropy is
ture operator andL is a linear structure operator. d Indicates different
a vital indicator to determine how much useful information is included
scales,∀d∈[1,dmax], dmax is the largest scale. θ Indicates different di-
in an image. So as to ensure the accuracy of the image after wavelet
rections, andθ∈[0,180∘). θ sep is the step size selected by the angleθ,i.e. θ reconstruction, the image entropy is applied for measuring the energy of
takes a value every θ sep. Since the crack is a linear structure and expands the crack information in the image enhanced by the bowler-hat trans-
in any direction, the width is generally 2 to 13 pixels, so dmax is selected form and the multiscale Retinex. The calculation formula of image en-
Fig. 5. The experimental results of crack enhancement with different algorithms.
5S. Liu et al. A r r a y15(2022)100193
tropy is expressed as: √ √ √̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅ (̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅̅ ∑̅ N̅̅̅̅̅ ∑̅ M̅̅̅̅̅̅̅̅̅̅̅̅̅ )̅̅̅̅̅̅
∑M ∑N √ √∑N ∑M (g(x,y) 2
H= (cid:0) p(x,y)logp(x,y) (13) √ √ (g x,y)(cid:0) y=1 Mx= ×1 N
x=1 y=1 contrat= y=1x=1 (16)
M×N
Among them, p(x,y)denotes the pixel value of the pixel(x,y), M andN
are the width and height of the image, respectively. LetIbh be the image where g(x,y) is the gradient value of the pixel(x,y), M andN are the
processed by bowler-hat transformation, and its entropy isH1, IMSR is the width and height of the image, respectively.
image after multi-scale Retinex enhancement, and its entropy isH2, then The experimental results of the three performance indicators of
the image components that need to be reconstructed are expressed as: brightness mean, contrast, and information entropy are shown in Fig. 6,
I′= H H +1 H I bh+ H H +2 H I MSR (14) a pn ard i st oh ne , i im t ca ag ne bp ero sc ee es nsi n thg a t ti m the e i is m s ah go ew s n e nin h aT na cb el de b1 y. T trh ar do iu tig oh n ath l e s inco gm le- -
1 2 1 2
scale and multi-scale Retinex algorithms in both brightness mean,
Image components are reconstructed by inverse wavelet transform,
contrast mean and the information entropy are much stronger than the
the enhanced crack image can be obtained.
original images, which verifies the effectiveness of the Retinex algo-
rithm in enhancing the damaged pavement images. However, compared
4. Experiments and analysis
with the algorithm in this study, the performance of the traditional al-
gorithm is significantly worse, which not only reduces the amount of
For the sake of fully illustrating the enhancement performance su-
information, but also consumes a longer time. The enhancement algo-
periority of the improved algorithm, the comprehensive image evalua-
rithm used in this study effectively improves the contrast and distinction
tion metrics of the original image, the single-scale Retinex algorithm, the
between the non-crack area and the crack line in the damaged pavement
previous multi-scale Retinex algorithm and the enhancement method
image, highlights the crack feature information in the image, and ach-
proposed in this paper are compared. The experimental results of crack
ieves the purpose of facilitating crack line extraction. In a comprehen-
images based on the above algorithms are shown in Fig. 5. The experi-
sive comparison, the algorithm proposed in this paper still has obvious
mental results shows that when compared with the conventional
advantages in the performance of crack image enhancement.
method, the improved method can better highlight the feature infor-
This study finally adopts the traditional multiscale Retinex algorithm
mation of cracks, improve the overall visual effect of the image to a large
and multiscale Retinex fused with wavelet transform algorithm to
degree, and reduce the phenomenon of halo and artifacts to a certain
enhance the image of the crack datasets, and to recognize the crack. to
extent. The processed pictures are clearer, and the image quality has
verify the crack image enhancement performance of the improved al-
been greatly improved, which is conducive to the subsequent feature
gorithm and the improvement of the crack recognition accuracy. Part of
recognition of cracks.
the crack detection results are shown in Fig. 7, and the crack recognition
So as to objectively compare the crack image enhancement perfor-
performance based on the above two algorithms is shown in Table 2.
mance of each algorithm, experimental tests were carried out on five
From the results in Fig. 6 and Table 2, the overall performance of the
image datasets of concrete highway cracks, asphalt highway cracks,
improved method is higher than that of the previous multi-scale Retinex
rubber runway cracks, bridge cracks, and tunnel cracks. They are
algorithm. The image processing of enhancement achieves a satisfactory
compared from the information entropy (reflecting the amount of in-
effect, and to a certain extent, it weakens or eliminates the shortcomings
formation in the image, calculated as Eq. (13) above), the brightness of its own algorithm, improves the image’s clarity, and improves the
mean value (reflecting the overall light and dark effect of the image,
efficiency for subsequent image recognition.
calculated as Eq. (15) below), contrast mean value (reflecting the rich-
ness of the gray level of the image, calculated as Eq. (16) below), and the
time (the time consumed by the image processing process).
Brightness mean value:
Table 1
∑N ∑M Image processing time comparison table.
g(x,y)
brightness=y=1x=1
(15)
Dataset SSR Algorithm MSR Algorithm Algorithm of this paper
M×N
1 6.3584 4.4532 2.6237
2 6.7521 4.9437 2.8625
Contrast mean value:
3 6.3438 4.4390 2.5170
4 5.9682 4.0465 1.9876
5 7.0169 5.1656 2.9725
Fig. 6. Comprehensive comparison of enhancement performance based on different algorithms.
6S. Liu et al. A r r a y15(2022)100193
Fig. 7. The experimental results of crack recognition.
5. Conclusions
Table 2
Recognition performance of crack detection system.
In the road crack detection system based on image processing, the
Algorithms Total number of Total number of Recognition image enhancement processing of pavement damage is of great signifi-
feature extraction feature recognition accuracy
cance to improve the detection accuracy of crack lines. Therefore, an
Traditional 21,362 16,043 75.1% improved multi-scale Retinex image enhancement algorithm after
MSR fusion wavelet transform is proposed in this paper. The algorithm firstly
The improved 17,452 16,719 95.8%
introduces the Retinex algorithm for crack enhancement. Based on the
MSR
advantage of this algorithm being able to deal with the problem of
7S. Liu et al. A r r a y15(2022)100193
uneven illumination of the image, the defect of the original road [4] Mohan Arun, Poobal Sumathi. Crack detection using image processing: a critical
damaged image illumination in image enhancement is well resolved. At review and analysis. Alex Eng J 2018;57(2):787–98.
[5] Hoang Nhat-Duc, Nguyen Quoc-Lam. Automatic recognition of asphalt pavement
the same time, the wavelet transform is introduced on the basis of the cracks based on image processing and machine learning approaches: a comparative
original multi-scale Retinex, which eliminates the halo artifact effect study on classifier performance. Math Probl Eng 2018;2018.
produced by the traditional algorithm, thereby reducing the image [6] Feng Xiaoran, et al. Pavement crack detection and segmentation method based on
improved deep learning fusion model. Math Probl Eng 2020;2020.
distortion. Make up for the shortcomings of the original algorithm. In
[7] Wang Chunlai, Hou Xiaolin, Liu Yubo. Three-dimensional crack recognition by
addition, the removal of shadows in the umbra/penumbra area main- unsupervised machine learning. Rock Mech Rock Eng 2021;54(2):893–903.
tains the consistency of light intensity between shadowed and non- [8] Chen C, et al. Automatic pavement crack detection based on image recognition. In:
International Conference on Smart Infrastructure and Construction 2019 (ICSIC)
shadowed areas, eliminates the interference caused by high-intensity
Driving data-informed decision-making. ICE Publishing; 2019.
shadows, and improves the efficiency of subsequent crack enhance- [9] Yun Hae-Bum, Mokhtari Soroush, Wu Liuliu. Crack recognition and segmentation
ment and crack recognition to a certain extent. . using morphological image-processing techniques for flexible pavements.
Transport Res Rec 2015;2523(1):115–24.
Through the comparison of brightness mean, contrast and informa-
[10] Maini Raman, Aggarwal Himanshu. Study and comparison of various image edge
tion entropy, it can be seen that the newly proposed image enhancement detection techniques. Int J Image Process 2009;3(1):1–11.
algorithm can perform good preprocessing on the collected road surface [11] Yuan Chunlan, et al. Study on image edge detection based on Sobel operator. Laser
damage images. area) and the “low dark” area (crack line), which Infrared 2009;39(1):85–7.
[12] Canny John. A computational approach to edge detection. IEEE Trans Pattern Anal
highlights the characteristic information of cracks in road images and Mach Intell 1986;6:679–98.
achieves the purpose of extracting crack lines; at the same time, the [13] Mahler David S, et al. Pavement distress analysis using image processing
introduction of bowler-hat transform algorithm makes the average techniques. Comput Aided Civ Infrastruct Eng 1991;6(1):1–14.
[14] Darwin David, Abou-Zeid Mohamed Nagib, Ketcham Kirk W. Automated crack
response time shorter, And the segmentation accuracy is improved. identification for cement paste. Cement Concr Res 1995;25(3):605–16.
In this study, the above method was applied to the preprocessing step [15] Oliveira Henrique, Correia Paulo Lobato. Automatic road crack segmentation using
of crack detection. The experimental results verified the effectiveness entropy and image dynamic thresholding. In: 2009 17th European signal
Processing Conference. IEEE; 2009.
and feasibility of the algorithm given in this paper. Based on the tradi-
[16] Elbehiery H, Hefnawy A, Elewa M. Surface defects detection for ceramic tiles using
tional multi-scale Retinex enhancement algorithm, the recognition ac- image processing and morphological techniques. 2005.
curacy of the crack system was only 75.1%, while The improved [17] Liu, Yiqing, and Justin KW Yeoh. "Automated crack pattern recognition from
images for condition assessment of concrete structures." Autom ConStruct 128
enhancement algorithm proposed in this study has improved the accu-
(2021): 103765.
racy to 95.8%, and its performance is far superior to the traditional [18] Qiao Wenting, et al. Research on concrete beam crack recognition algorithm based
method, and the calculation time of each image is relatively short. The on block threshold value image processing. Struct Durab Health Monit 2020;14(4):
355.
experimental results fully demonstrate that the pavement damaged
[19] Hu Yong, Zhao Chun-xia, Wang Hong-nan. Automatic pavement crack detection
image is enhanced by the new algorithm. extract. Finally, it should be using texture and shape descriptors. IETE Tech Rev 2010;27(5):398–405.
pointed out that improving the time complexity of the improved algo- [20] Qu Zhong, et al. Crack detection of concrete pavement with cross-entropy loss
function and improved VGG16 network model. IEEE Access 2020;8:54564–73.
rithm proposed in this study has obvious significance to the real-time
[21] Yu Tiantang, Zhu Aixi, Chen Yingying. Efficient crack detection method for tunnel
requirements of the algorithm application in this paper. In summary, lining surface cracks based on infrared images. J Comput Civ Eng 2017;31(3):
this study provides an efficient solution for the preprocessing of road 04016067.
damage images for automatic road crack recognition. At the same time, [22] De-Fang Wang, Wei-Ming Zeng, Ni-Zhuan Wang. Road crack detection under
uneven illumination using improved k-means algorithm. Comp Appl Softw 2015;
this method can also be applied to other target detection and recognition 32(7):244–7.
systems such as wall cracks and steel plate cracks. Has a wide range of [23] Wang Ping, et al. Low illumination color image enhancement based on Gabor
application value. filtering and Retinex theory. Multimed Tool Appl 2021;80(12):17705–19.
[24] Land Edwin H. The retinex theory of color vision. Sci Am 1977;237(6):108–29.
[25] Wang Quanlei, et al. Tunnel lining crack recognition based on improved multiscale
Funding retinex and Sobel edge detection. Math Probl Eng 2021;2021.
[26] Qian Bin, Tang Zhenmin, Xu Wei. Pavement crack detection based on improved
tensor voting. In: 2014 9th International Conference on Computer Science &
This study is supported by the Zhejiang Provincial Natural Science
Education. IEEE; 2014.
Foundation of China Grant No. LY17F020034. [27] Jobson Daniel J, Zia-ur Rahman, Woodell Glenn A. A multiscale retinex for
bridging the gap between color images and the human observation of scenes. IEEE
Trans Image Process 1997;6(7):965–76.
Declaration of competing interest [28] Hu Yisheng, Zhang Ming. Image contrast enhancement method based on multi-
scale wavelet transform[J]. Mod Electron Technol 2007;(17):177–8. https://doi.
org/10.16652/j.issn.1004-373x.2007.17.036.
We declare that we have no financial and personal relationships with
[29] Sorncharean Siwaporn, Phiphobmongkol Suebskul. Crack detection on asphalt
other people or organizations that can inappropriately influence our surface image using enhanced grid cell analysis. In: 4th IEEE International
work, there is no professional or other personal interest of any nature or Symposium on Electronic Design, Test and Applications (delta 2008). IEEE; 2008.
[30] Chen Jiguo. Shadow segmentation and removal from a single digital image. MS
kind in any product, service and/or company that could be construed as
thesis. East China Normal University; 2010.
influencing the position presented in, or the review of, the manuscript [31] Arbel Eli, Hel-Or Hagit. Texture-preserving shadow removal in color images
entitled. containing curved surfaces. In: 2007 IEEE Conference on Computer Vision and
Pattern Recognition. IEEE; 2007.
[32] Liu Feng, Gleicher Michael. Texture-consistent shadow removal. In: European
Acknowledgements Conference on Computer Vision. Berlin, Heidelberg: Springer; 2008.
[33] Wu Lifang, Zhou Peng, Xu Xiao. An illumination invariant face recognition scheme
to combining normalized structural descriptor with single scale retinex. In: Chinese
None.
Conference on Biometric Recognition. Cham: Springer; 2013.
[34] Tajeripour Farshad, Fekri-Ershad Shervan. Developing a novel approach for stone
References porosity computing using modified local binary patterns and single scale retinex.
Arabian J Sci Eng 2014;39(2):875–89.
[35] Rahman Zia-ur, Jobson Daniel J, Woodell Glenn A. Investigating the relationship
[1] Tanaka Y, Fathalla E, Maekawa K. Numerical evaluation of remaining fatigue life of
between image enhancement and image compression in the context of the multi-
road bridge deck with data assimilation approach. Bridge Maintenance, Safety, scale retinex. J Vis Commun Image Represent 2011;22(3):237–50.
Management, Life-Cycle Sustainability and Innovations. CRC Press; 2021.
p. 1152–60. [36] eL nin
h
aH na co en min eg n,
t
.S Ohi
p
tZ ih ke 2n 0w 1e 4i ;.
1
M 25u (l 2ti 4-s )c :7a 1le
4
3re –t 8in
.
ex improvement for nighttime image
[2] Babashamsi Peyman, et al. Perspective of life-cycle cost analysis and risk
[37] Meylan Laurence, Susstrunk Sabine. High dynamic range image rendering with a
assessment for airport pavement in delaying preventive maintenance. retinex-based adaptive filter. IEEE Trans Image Process 2006;15(9):2820–30.
Sustainability 2022;14(5):2905.
[3] Evdorides HT, Snaith MS, Anyala M. An analytical study of road pavement fatigue.
In: Proceedings of the Institution of Civil Engineers-Transport, vol. 159. Thomas
Telford Ltd; 2006. No. 2.
8S. Liu et al. A r r a y15(2022)100193
[38] Jung Cl´audio Rosito, Schacanski J. Adaptive image denoising in scale-space using [40] Sazak Çig˘dem, Nelson Carl J, Boguslaw Obara. The multiscale bowler-hat
the wavelet transform. In: Proceedings XIV Brazilian Symposium on Computer transform for blood vessel enhancement in retinal images. Pattern Recogn 2019;88:
Graphics and Image Processing. IEEE; 2001. 739–50.
[39] Yang Yi, Su Zhengwei, Sun L. Medical image enhancement algorithm based on
wavelet transform. Electron Lett 2010;46(2):120–1.
9