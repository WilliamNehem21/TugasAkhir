	Electronic Notes in Theoretical Computer Science 167 (2007) 225–254	
www.elsevier.com/locate/entcs

On the Cauchy Completeness of the Constructive Cauchy Reals
Robert S. Lubarsky 1 ,2
Dept. of Mathematical Sciences Florida Atlantic University Boca Raton, FL 33431, USA

Abstract
Intuitionistic set theory without choice axioms does not prove that every Cauchy sequence of rationals has a modulus of convergence, or that the set of Cauchy sequences of rationals is Cauchy complete. Several other related non-provability results are also shown.
Keywords: Cauchy sequence, modulus of convergence, intuitionistic set theory, topological model, Kripke model


Introduction
Are the reals Cauchy complete? This is, for every Cauchy sequence of real numbers, is there a real number which is its limit?
This sounds as though the answer should be “of course”. After all, the reals are defined pretty much to make this true. The reason to move from the rationals to the reals is exactly to “fill in the holes” that the rationals have. So however you define R, you’d think its Cauchy completeness would be immediate. At the very least, this property would be a litmus test for any proffered definition.

1 Thanks are due to Thomas Streicher for his careful reading of the first proof, and to Michael Rathjen for bringing the question that got this started to my attention and for his support during this work.
2 Email: Robert.Lubarsky@alum.mit.edu





1571-0661 © 2007 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2006.09.012

In fact, for the two most common notions of real number, Dedekind and Cauchy real, this is indeed the case, under classical logic. First off, classically Cauchy and Dedekind reals are equivalent anyway. Then, taking a real as an equivalence class of Cauchy sequences, given any Cauchy sequence of reals, a canonical representative can be chosen from each real, and a limit real can be built from them by a kind of diagonalization, all pretty easily.
Intuitionistically, though, this whole procedure breaks down. Starting even at the beginning, Cauchy and Dedekind reals are no longer equivalent notions (see [2] or [4]). While the Dedekind reals are complete, working with the Cauchy reals, it’s not clear that a representative can be chosen from each equivalence class, or, even if you could, that a limit could be built from them by any means.
It is the purpose of this paper to show that, indeed, such constructions are not in general possible, answering a question of Martin Escardo and Alex Simpson ([1]).
While the original motivation of this work was to show the final theorem, that the Cauchy reals are not provably Cauchy complete, it is instructive to lay out the framework and examine the related questions so laid bare. A Cauchy real is understood as an equivalence class of Cauchy sequences of rationals. When working with a Cauchy sequence, one usually needs to know not only that the sequence converges, but also how fast. In classical set theory, this is definable from the sequence itself, and so is not problematic. The same cannot be said for other contexts. For instance, in recursion theory, the complexity of the convergence rate might be important. In our context, intuitionistic set theory, the standard way to define a modulus of convergence just doesn’t work. Certainly given a Cauchy sequence X(n) and positive rational ϵ, there is an integer N such that for m, n > N | X(n) - X(m) |< ϵ: that’s the definition of a Cauchy sequence. A modulus of convergence is a function f such that for any such ϵ f on ϵ returns such an N. Classically this is easy: let f return the least such N. Intuitionistically that won’t work. And there’s no obvious alternative. So a real is taken to be an equivalence class of pairs ⟨X, f ⟩, where X is a Cauchy sequence and f a modulus of convergence.
One immediate source of confusion here is identifying reals with sequence- modulus pairs. A real is an equivalence class of such pairs, and it is not obvious how a representative can be chosen constructively from each real; in fact, this cannot in general be done, as we shall see. This distinction has not always be made though. For instance, as observed by Fred Richman, in [7], the Cauchy completeness of the reals was stated as a theorem, but what was proved was the Cauchy completeness of sequence-modulus pairs. To be precise, what was shown was that, given a countable sequence, with its own modulus of

convergence, of sequence-modulus pairs, then there is a limit sequence, with modulus. For that matter, it is not hard (and left to the reader) that, even if the given sequence does not come equipped with its own modulus, it still has a Cauchy sequence as a limit, although we will have to punt on the limit having a modulus. But neither of those two observations is the Cauchy completeness of the reals.
Nonetheless, these observations open up the topic about what kinds of behavior in the limit one can expect given certain input data. There are two, independent parameters. Does the outside Cauchy sequence have a modu- lus of convergence? And are its individual members sequence-modulus pairs, or merely naked sequences? Notice that, while the first question is yes-no, the second has a middle option: the sequences have moduli, but not uni- formly. Perhaps each entry in the big sequence is simply a Cauchy sequence of rationals, and it is hypothesized to have a modulus somewhere, with no information about the modulus given. These possibilities are all summarized in the following table.
Entries in the outside Cauchy sequence are:

Not to put the cart before the horse, is it even possible to have a Cauchy sequence with no modulus of convergence, or with only non-uniform mod- uli? It has already been observed that the obvious classical definition of such does not work intuitionistically, but it still remains to be shown that no such definition is possible.
The goal of this paper is to prove the negative results as much as possible, that any given hypothesis does not show that there is a limit Cauchy sequence, or in certain cases that there is no limit with a modulus.
The positive results are all easy enough (even if the last one is a bit tricky) and so are left as exercises. They are:
Every Cauchy sequence with modulus of sequence-modulus pairs has a

limit sequence with modulus.
Every Cauchy sequence of sequence-modulus pairs has a limit sequence.
Every Cauchy sequence with modulus of Cauchy sequences has a limit sequence.
In tabular form, the positive results are:
Entries in the outside Cauchy sequence are:


Regarding the first and last columns, the negative results are that these are the positive results cited above are the best possible. In detail:
Theorem 2.1 IZFRef does not prove that every Cauchy sequence has a modulus of convergence. It follows that IZFRef does not prove that every Cauchy sequence of sequence-modulus pairs converges to a Cauchy sequence with a modulus of convergence.
Theorem 4.1 IZFRef does not prove that every Cauchy sequence of Cauchy sequences converges to a Cauchy sequence.
Theorem 5.1 IZFRef does not prove that every Cauchy sequence with a modulus of convergence of Cauchy sequences converges to a Cauchy sequence with a modulus of convergence.
The middle column is discussed briefly in the questions in the last section of this paper.
In tabular form, these negative results are:
Entries in the outside Cauchy sequence are:


Then there is the major negative result, the original and ultimate motivation of this work:
Theorem 6.1 IZFRef does not prove that every Cauchy sequence of reals has a limit.
Recalling that a real is here taken as an equivalence class of sequence- modulus pairs, to prove this result it would suffice to construct a Cauchy sequence (perhaps itself without modulus) of reals, with no sequence-modulus pair as a limit. We will do a tad better, constructing a Cauchy sequence, with modulus, of reals, with no Cauchy sequence, even without modulus, as a limit. At this point a word about the meta-theory is in order. The results here are stated as non-theorems of IZFRef , which is the variant of IZF in which the Collection schema is replaced by the Reflection schema. The point is that these independence results are not meant to be based on a weakness of the underlying set theory. Hence the set theory taken is the strongest version of the intuitionistic theories commonly considered. The results would remain valid if IZF were augmented by yet stronger hypotheses, such as large cardinals. Of course, these remarks do not apply if IZF is augmented by whatever choice principle would be enough to build the sequences and moduli here claimed not to exist. Clearly Dependent Choice is strong enough for everything at issue here: choosing representatives from equivalence classes, building moduli, constructing Cauchy sequences. The question what weaker choice principle/s
would suffice is addressed in [5].
Regarding the methodology, counter-examples are constructed in each case. These examples could be presented as either topological or Kripke mod- els. While certain relations among topological and Kripke models are known, it is not clear to the author that the natural models in the cases before us are really the same. While the family resemblance is unmistakable (compare

sections 2 and 3 below, for instance), it can be deceiving. For instance, the first model of [4] seems to be merely the Kripke version of one of the models of [2] (also in in [6], VI.8), there presented as a sheaf model but easily enough recastable as topological. But there are differences. For instance, consider Bas Spitters’ proof that in the topological model the reals are not uncountable. (His proof consists of a countable list of reals and a demonstration that every real is not apart from all reals on his list. Recalling that in the topological model a real is given by a continuous function, the countable list consists of the two families of functions x + r and −x + r, where r ranges over the rationals.) Pretty much the same argument works in the Kripke model, but it can stand a simplification that would not work in the topological model. (In the Kripke model, it suffices to consider reals of only the form x + r.) Such a difference is certainly subtle, arguably small, but exists nonetheless, and is enough to say that the models are not the same. A better understanding of the relations among Kripke and topological models would be a worthwhile project for some other time. For now, we would like to present the reader with adequate in- formation without being long-winded. Hence all of the constructions will be presented as topological models, since there is better technology for dealing with them. In particular, there is already a meta-theorem (see [3]) that the (full) model over any Heyting algebra models IZF (easily, IZFRef too). So we will never have to prove that our topological models satisfy IZFRef . In contrast, we know of no such meta-theorem that would apply to the Kripke models in question. In the simplest case, the first theorem, the Kripke model will also be given, so the reader can see what’s going on there. But even a cursory glance at that argument should make it clear why the author does not want to repeat the proofs of IZFRef and all the auxiliary lemmas, and the reader likely does not want to read them, three more times.
One last word about notation/terminology. For p an open set in a topo- logical space and φ a formula in set theory (possibly with parameters from the topological model), “p ⊆  φ  ”, “p H φ”, and “p forces φ” all mean the same thing. Also, “WLOG” stands for “without loss of generality”.

Not every Cauchy sequence has a modulus of conver- gence
Theorem 2.1 IZFRef does not prove that every Cauchy sequence has a mod- ulus of convergence. It follows that IZFRef does not prove that every Cauchy sequence of sequence-modulus pairs converges to a Cauchy sequence with a modulus of convergence.
The second assertion follows immediately from the first: given a Cauchy

sequence X(n), for each n let Xn be the constant sequence X(n) paired with some modulus of convergence independent of n. Sending X to the sequence
⟨Xn | n ∈ N⟩ embeds the Cauchy reals into Cauchy sequences of sequence- modulus pairs. If provably every one of the latter had a modulus, so would each of the former.
To prove the first assertion, we will build a topological model with a specific Cauchy sequence Z(n) of rationals with no modulus of convergence.
The topological space T consists of all Cauchy sequences of rationals.
A basic open set is given by (p, I), where p is a finite sequence of rationals and I is an open interval. A Cauchy sequence X is in (the open set determined by) (p, I) if p ⊆ X, rng(X\p) ⊆ I, and lim(X) ∈ I. (Notice that, under this representation, the whole space T is given by (∅, R), and the empty set is given by (p, ∅) for any p.)
For this to generate a topology, it suffices to show that the basic open sets are closed under intersection. Given (p, I) and (q, J), if p and q are not compatible (i.e. neither is an extension of the other), then (p, I) ∩ (q, J) =
∅. Otherwise WLOG let q ⊇ p. If rng(q\p) /⊆ I then again (p, I) ∩ (q, J) =
∅. Otherwise (p, I) ∩ (q, J) = (p∪q, I∩J) = (q, I∩J).
Let M be the Heyting-valued models based on T, as describes in e.g. [3]. Briefly, a set in M is a collection of objects of the form ⟨σ, (p, I) ⟩, where σ inductively is a set in M. It is shown in [3] thatM |= IZFColl (assuming IZFColl in the meta-theory). Similarly, assuming IZFRef in the meta-theory yields M
|= IZFRef .
We are interested in the term {⟨p¯, (p, I)⟩ |(p, I) is an open set}. (Here p¯ is the canonical name for p. Each set in V has a canonical name in M by

choosing (p, I) to be (∅, R) hereditarily: call this term Z.
x¯ = {⟨y¯, (∅, R)⟩ | y ∈ x}.) We will

Proposition 2.2  Z is a Cauchy sequence  = T.
Proof. To see that  Z is total  = T, let N be an integer. (Note that each integer in M can be identified locally with an integer in V. For notational ease, we will identify integers in M and V.) Let p be any sequence of rationals of length > N. Then (p, R) ⊆  Z(N) = p(N) ⊆  N ∈ dom(Z)  . As T is covered by the open sets of that form, T ⊆  N ∈ dom(Z)  . That Z is a function is similarly easy.
As for Z being Cauchy, again let N be an integer and X be in T. Since X is Cauchy, there is an integer M such that beyond M X stays within an interval I of size 1/(2N). Of course, X’s limit might be an endpoint of I. So let J extend I on either side and still have length less that 1/N. Then X ∈ (XTM, J) ⊆ ∀ m, n > M | Z(m) - Z(n) |≤ 1/N  , making Z “Cauchy for 1/N”, to coin a

phrase.	 
In order to complete the theorem, we need only prove the following
Proposition 2.3  Z has no modulus of convergence   = T.
Proof. Suppose (p, I) ⊆  f is a modulus of convergence for Z  . WLOG I is a finite interval. Let n be such that 1/n is less than the length of I, and let ϵ be (length(I) - 1/n)/2.
Let (q, J) ⊆ (p, I) force a value m for f(n). WLOG length(q) > m, as q could be so extended. If J=I, then (q, J) could be extended simply by extending q with two values a distance greater than 1/n apart, thereby forcing f not to be a modulus of convergence. So J ⊂ I. That means either inf J > inf I or sup J < sup I. WLOG assume the latter. Let mid J be the midpoint of J, q0 be q extended by mid J, and J0 be (mid J, sup J). Then (q0, J0) ⊆ (q, J), and therefore (q0, J0) ⊆ f(n) = m  .
What (q1, J1) is depends:
CASE I: There is an open set K containing sup(J0) such that (q0, K)
⊆ f(n) = m  . Then let jmax be the sup of the right-hand endpoints (i.e. sups) of all such K’s. Let q1 be q0 extended by sup J0.
Claim: (q1, (sup J0, jmax)) ⊆ f(n) = m  .
Proof. Let j ∈ (sup J0, jmax). By hypothesis, there is a K such that (q1, (sup J0, j)) ⊆ (q1, K) ⊆ f(n) = m  . Since (q1, (sup J0, jmax)) is the union of the various (q1, (sup J0, j))’s over such j’s, the claim follows.	 
Of course, J1 will be (sup J0, jmax).
CASE II: Not Case I. Then extend by the midpoint again. That is, q1 is q0 extended by mid J0, and J1 is (mid J0, sup J0). Also in this case, (q1, J1) H f(n) = m.
Clearly we would like to continue this construction. The only thing that might be a problem is if the right-hand endpoint of some Jk equals (or goes beyond!) sup I, as we need to stay beneath (p, I). In fact, as soon as sup(Jk)
> sup(I) - ϵ (if ever), extend qk by something within ϵ of sup I, and continue the construction with left and right reversed. That is, instead of going right, we now go left. This is called “turning around”.
What happens next depends.
CASE A: We turned around, and after finitely many more steps, some Jk has its inf under inf(I) + ϵ. Then extend qk by something within ϵ of inf I. This explicitly blows f being a modulus of convergence for Z.
CASE B: Not Case A. So past a certain point (either the stage at which we turned around, or, if none, from the beginning) we’re marching monotoni- cally toward one of I’s endpoints, but will always stay at least ϵ away. WLOG

suppose we didn’t turn around. Then the construction will continue for in- finitely many stages. The qk’s so produced will in the limit be a (monotonic and bounded, hence) Cauchy sequence X. Furthermore, lim X is the limit of the sup(Jk)’s. Finally, X ∈ (p, I). Hence there is an open set (q’, K) with X ∈ (q’, K) ⊆  f(n) m’  , for some m’. Let k be such that sup(Jk) ∈ K, and qk ⊇ q’. Consider (qk, Jk). Note that (qk, Jk ∩ K) extends both (qk, Jk) and (q’, K), hence forces both f(n) = m and f(n) = m’, which means that m=m’.
Therefore, at this stage in the construction, we are in Case I. By the construction, Jk+1 (sup Jk, jmax), where jmax ≥ sup K > lim X limk (sup(Jk))
≥ sup(Jk+1) = jmax, a contradiction.	 

Same theorem, Kripke model version
Theorem 2.1 IZFRef does not prove that every Cauchy sequence has a mod- ulus of convergence.
Construction of the Model
Let M0 ≺ M1 ≺ ... be an ω-sequence of models of ZF set theory and of elementary embeddings among them, as indicated, such that the sequence from Mn on is definable in Mn, and such that each thinks that the next has non-standard integers. Notice that this is easy to define (mod getting a model of ZF in the first place): an iterated ultrapower using any non-principal ultrafilter on ω will do. We will ambiguously use the symbol f to stand for any of the elementary embeddings inherent in the Mn-sequence.
The Kripke model M will have underlying partial order a non-rooted tree; the bottom node (level 0) will have continuum (in the sense of M0) many nodes, and the branching at a node of level n will be of size continuum in the sense of Mn+1. (We will eventually name each node by associating a Cauchy sequence to it. Some motivation will be presented during this section, and the final association will be at the end of this section.) Satisfaction at a node will be indicated with the symbol |=. There is a ground Kripke model, which, at each node of level n, has a copy of Mn. The transition functions (from a node to a following node) are the elementary embeddings given with the original sequence of models (and therefore will be notated by f again). Note that by the elementarity of the extensions, this Kripke model is a model of classical ZF. More importantly, the model restricted to any node of level n is definable in Mn, because the original M-sequence was so definable.
The final model M will be an extension of the ground model that will be described like a forcing extension. That is, M will consist of (equivalence classes of) the terms from the ground model. The terms are defined at each

node separately, inductively on the ordinals in that model. At any stage α,a term of stage α is a set σ of the form {⟨σj, (pj, Ij)⟩ | j ∈ J}, where J is some index set, each σi is a term of stage < α, each pj is a finite function from N to Q, and each Ij is an open rational interval on the real line. Note that all sets from the ground model have canonical names, by choosing each pj to be the empty function and Ij to be the whole real line, hereditarily.
Notice also that the definition of the terms given above will be interpreted differently at each node of the ground Kripke model, as the N and Q change from node to node. However, any term at a node gets sent by the transition function f to a corresponding term at any given later node. The definitions given later, such as the forcing relation H, are all interpretable in each Mn, and coherently so, via the elementary embeddings.
As a condition, each finite function p is saying “the Cauchy sequence in- cludes me”, and each interval I is saying “future rationals in the Cauchy sequence have to come from me”. For each node of level n there will be an associated Cauchy sequence r (in the sense of Mn) such that at that node the true p’s and I’s will be those compatible with r (or, perhaps, those with which r is compatible, as the reader will). You might reasonably think that compatibility means “p ⊂ r and rng(r\p) ⊆ I”: roughly, “r extends p, and anything in r beyond p comes from I”. But that’s not quite right. Consider the Cauchy sequence r(n) = 1/n (n ≥ 1). rng(r) ⊆ (0, 2), but in a non-standard extension, r’s pattern could change at a non-standard integer; at that point, it would be too late for r to change by a standard amount, but it could change by an infinitesimal amount. So the range of r could include (infinitely small) negative numbers, which are outside of (0, 2). Hence we have the following
Definition 3.1 A condition (p, I) and a Cauchy sequence r are compatible if p ⊆ r, rng(r\p) ⊆ I, and lim(r) ∈ I.
(p, I) is compatible with a finite function q if p ⊆ q and rng(q\p) ⊆ I.
Given this notion of compatibility, speaking intuitively here, a term σ can be thought of as being interpretable (with notation σr) inductively in Mn as
{σr | ⟨σj, pj, Ij⟩∈ σ and r is compatible with (pj, Ij)}. (This notion is hidden in the more formal development below, where we define and then mod out by
=M .)
Our next medium-term goal is to define the primitive relations at each node, =M and ∈M (the subscript being used to prevent confusion with equality and membership of the ambient models Mn). In order to do this, we need first to develop our space’s topology.
Definition 3.2 (q, J) ≤ (p, I) ((q, J) extends (p, I)) if q ⊇ p, J ⊆ I, and rng(q\p) ⊂ I.

C = {(pj, Ij) | j ∈ J} covers (p, I) if each (pj, Ij) extends (p, I) and each Cauchy sequence r compatible with (p, I) is compatible with some (pj, Ij).
≤ induces a notion of compatibility of conditions (having a common ex- tension). We say that a typical member ⟨σ, (p, I) ⟩ of a term is compatible with (q, J) if (p, I) and (q, J) are compatible.
We need some basic facts about this p.o., starting with the fact that it is a p.o.
Lemma 3.3	(i) ≤ is reflexive, transitive, and anti-symmetric.
If (p, I) and (q, J) are each compatible with a Cauchy sequence r, then they are compatible with each other.
If (p, I) and (q, J) are compatible, then their glb in the p.o. is (p∪q, I∩J).
{(p, I)} covers (p, I).
A cover of a cover is a cover. That is, if C covers (p, I), and, for each (pj, Ij) ∈ C, Cj covers (pj, Ij), then	Cj covers (p, I).
If C covers (p, I) and (q, J) ≤ (p, I), then (q, J) is covered by C ∧ (q, J) =def {(pj∪q, Ij∩J) | (q, J) is compatible with (pj, Ij) ∈ C}.
Proof. Left to the reader.	 
Now we are in a position to define =M and ∈M . This will be done via a forcing relation H.
Definition 3.4 (p, I) H σ =M τ and (p, I) H σ ∈M τ are defined inductively on σ and τ , simultaneously for all (p, I):
(p, I) H σ =M τ iff for all ⟨σj, (pj, Ij)⟩ ∈ σ compatible with (p, I) (p ∪
pj,I ∩ Ij) H σj ∈M τ and vice versa, and
(p, I) H σ ∈M τ iff there is a cover C of (p, I) such that for all (pj, Ij) ∈ C
there is a ⟨τk, (pk, Ik)⟩∈ τ such that (pj, Ij) ≤ (pk, Ik) and (pj, Ij) H σ =M τk.
(We will later extend this forcing relation to all formulas.)
Definition 3.5 At a node (with associated real r), for any two terms σ and
τ , σ =M τ iff, for some (p, I) compatible with r, (p, I) H σ =M τ .
Also, σ ∈M τ iff for some (p, I) compatible with r, (p, I) H σ ∈M τ .
Thus we have a first-order structure at each node.
The transition functions are the same as before. That is, if σ is an object at a node, then it’s a term, meaning in particular it’s a set in some Mn. Any later node has for its universe the terms from some Mm,m ≥ n. With f the

elementary embedding from Mn to Mm, f can also serve as the transition func- tion between the given nodes. These transition functions satisfy the coherence conditions necessary for a Kripke model.
To have a Kripke model, f must also respect =M and ∈M , meaning that f must be an =M - and ∈M -homomorphism (i.e. σ =M τ → f(σ) =M f(τ ), and similarly for ∈M ). In order for these to be true, we need an additional restriction on the model. By way of motivation, one requirement is, intuitively speaking, that the sets σ can’t shrink as we go to later nodes. That is, once σj gets into σ at some node, it can’t be thrown out at a later node. σj gets into σ because r is compatible with (pj, Ij) (where ⟨σj, (pj, Ij)⟩ ∈ σ). So we need to guarantee that if r and (p, I) are compatible and r’ is associated to any extending node then r’ and (p, I) are compatible for any condition (p, I). This holds exactly when r’ extends r and all of the entries in r’\r are infinitesimally close to lim(r). This happens, for instance, when r’ = f(r). Other such examples would be f(r) truncated at some non-standard place and arbitrarily extended by any Cauchy sequence through the reals with standard part lim(r); in fact, all such r’ have that form. We henceforth take this as an additional condition on the construction: once r is associated to a node, then for any r’ associated to an extending node, rng(r’\r) must consist only of rationals infinitely close to lim(r).
Lemma 3.6 f is an =M and ∈M -homomorphism.
Proof. If σ =M τ then let (p, I) compatible with r witness as much. At any later node, (p, I) = f((p, I)) = (f(p), f(I)) H f (σ) =M f (τ ). Also, the associated real r’ would still be compatible with (p, I). So the same (p, I) would witness f (σ) =M f (τ ) at that node. Similarly for ∈M .	 
We can now conclude that we have a Kripke model.
Lemma 3.7 This Kripke model satisﬁes the equality axioms:
∀x x = x
∀x, y x = y → y = x
∀x, y, z x = y ∧ y = z → x = z
∀x, y, z x = y ∧ x ∈ z → y ∈ z
∀x, y, z x = y ∧ z ∈ x → z ∈ y.
Proof. 1: It is easy to show with a simultaneous induction that, for all (p, I) and σ, (p, I) H σ =M σ, and, for all ⟨σj, (pj, Ij)⟩ ∈ σ compatible with (p, I), (p ∪ pj,I ∩ Ij) H σi ∈M σ.
2: Trivial because the definition of (p, I) H σ =M τ is itself symmetric. 3: For this and the subsequent parts, we need some lemmas.

Lemma 3.8 If (p’, I’) ≤ (p, I) H σ =M τ then (p’, I’) H σ =M τ, and similarly for ∈M .

Proof. By induction on σ and τ .	 

Lemma 3.9 If (p, I) H ρ =M σ and (p, I) H σ =M τ then (p, I) H ρ =M τ.

Proof. Again, by induction on terms.	 

Returning to proving property 3, the hypothesis is that for some (p, I) and (q, J) each compatible with r, (p, I) H ρ =M σ and (q, J) H σ =M τ . By the first lemma, (p ∪ q, I ∩ J) H ρ =M σ, σ =M τ , and so by the second, (p ∪ q, I ∩ J) H ρ =M τ . Also, (p ∪ q, I ∩ J) is compatible with r.
4: Let (p, I) H ρ =M σ and (q, J) H ρ ∈M τ . We will show that (p ∪ q, I
∩ J) H σ ∈M τ . Let C be a cover of (q, J) witnessing (q, J) H ρ ∈M τ . We will show that (p ∪ q, I ∩ J) ∧ C = (p, I) ∧ C is a cover of (p ∪ q, I ∩ J) witnessing (p ∪ q, I ∩ J) H σ ∈M τ . Let (qi, Ji) ∈ C and ⟨τk, pk, Ik⟩ be the corresponding member of τ . By the first lemma, (p ∪ qi, I ∩ Ji) H ρ =M σ, and so by the second, (p ∪ qi,I ∩ Ji) H σ =M τk.
5: Similar, and left to the reader.	 

With this lemma in hand, we can now mod out by =M , so that the symbol “=” is interpreted as actual set-theoretic equality. We will henceforth drop the subscript M from = and ∈, although we will not distinguish notationally between a term σ and the model element it represents, σ’s equivalence class. At this point, we need to finish specifying the model in detail. What re- mains to be done is to associate a Cauchy sequence to each node. At the bottom level, assign each Cauchy sequence from M0 to exactly one node. Inductively, suppose we chose have the sequence r at a node with ground model Mn. There are continuum-in-the-sense-of-Mn+1-many immediate suc- cessor nodes. Associate each possible candidate r’ in Mn+1 with exactly one such node. (As a reminder, that means each member of rng(r’\r) is infinitely
close to lim(r).)
By way of notation, a node will be named by its associated sequence.
Hence “r |= φ” means φ holds at the node with sequence r.
Note that, at any node of level n, the choice of r’s from that node on is definable in Mn. This means that the evaluation of terms (at and beyond the given node) can be carried out over Mn, and so the Kripke model (from the given node on) can be defined over Mn, truth predicate and all.

The Forcing Relation
Which (p, I)’s count as true determines the interpretation of all terms, and hence of truth in the end model. We need to get a handle on this. As with forcing, we need a relation (p, I) H φ which supports a truth lemma. Note that, by elementarity, it doesn’t matter in which classical model Mn or at what node in the ground Kripke model H is being interpreted (as long as the parameters are in the interpreting model, of course).
Definition 3.10 (p, I) H φ is defined inductively on φ:
(p, I) H σ =M τ iff for all ⟨σj, (pj, Ij)⟩ ∈ σ compatible with (p, I) (p ∪
pj,I ∩ Ij) H σj ∈M τ and vice versa
(p, I) H σ ∈M τ iff there is a cover C of (p, I) such that for all (pj, Ij) ∈ C
there is a ⟨τk, (pk, Ik)⟩∈ τ such that (pj, Ij) ≤ (pk, Ik) and (pj, Ij) H σ =M τk. (p, I) H φ ∧ ψ iff (p, I) H φ and (p, I) H ψ
(p, I) H φ ∨ ψ iff there is a cover C of (p, I) such that, for each (pj, Ij) ∈
C, (pj, Ij) H φ or (pj, Ij) H ψ
(p, I) H φ → ψ iff for all (q, J) ≤ (p, I) if (q, J) H φ then (q, J) H ψ
(p, I) H ∃x φ(x) iff there is a cover C of (p, I) such that, for each (pj, Ij)
∈ C, there is a σ such that (pj, Ij) H φ(σ) (p, I) H ∀x φ(x) iff for all σ (p, I) H φ(σ)
Lemma 3.11	(i) If (q, J) ≤ (p, I) H φ then (q, J) H φ.
If C covers (p, I), and (pj, Ij) H φ for all (pj, Ij) ∈ C, then (p, I) H φ.
(p, I) H φ iff for all r compatible with (p, I) there is a (q, J) compatible with r such that (q, J) H φ.
Truth Lemma: For any node r, r |= φ iff (p, I) H φ for some (p, I) compatible with r.
Proof. 1. A trivial induction, using of course the earlier lemmas about ≤
and covers.
Easy induction. The one case to watch out for is →, where you need to invoke the previous part of this lemma.
Trivial, using 2.
By induction on φ, in detail for a change.
In all cases, the right-to-left direction (“forced implies true”) is pretty easy, by induction. (Note that only the → case needs the left-to-right direction in this induction.) Hence in the following we show only left-to-right (“if true at a node then forced”).
=: This is exactly the definition of =.
∈: This is exactly the definition of ∈.

∧: If r |= φ ∧ ψ, then r |= φ and r |= ψ. Inductively let (p, I) H φ and (q, J) H ψ, where (p, I) and (q, J) are each compatible with r. That means that (p, I) and (q, J) are compatible with each other, and (p ∪ q, I ∩ J) suffices.
∨: If r |= φ ∨ ψ, then WLOG r |= φ . Inductively let (p, I) H φ, (p, I) compatible with r. {(p, I)} suffices.
→: Suppose to the contrary r |= φ → ψ but no (p, I) compatible with r forces such. Work in the node f(r). (Recall that f is the universal symbol for the various transition functions in sight. What we mean more specifically is that if r ∈ Mn, i.e. if r is a node from level n, then f(r) is the image of r in Mn+1, i.e. in the Kripke structure on level n+1.) Let (p, I) be compatible with f(r) and p have non-standard (in the sense of Mn) length (equivalently, I has infinitesimal length). Since (p, I) /H φ → ψ there is a (q, J) ≤ (p, I) such that (q, J) H φ but (q, J) /H ψ. By the previous part of this lemma, there is an r’ compatible with (q, J) such that no condition compatible with r’ forces ψ. At the node r’, by induction, r’ |= ψ, even though r’ |= φ (since r’ is compatible with (p, I) H φ). This contradicts the assumption on r (i.e. that r |= φ → ψ), since r’ extends r (as nodes).
∃: If r |= ∃x φ(x) then let σ be such that r |= φ(σ). Inductively there is a (p, I) compatible with r such that (p, I) H φ(σ). {(p, I)} suffices.
∀: Suppose to the contrary r |= ∀x φ(x) but no (p, I) compatible with r forces such. As with →, let (p, I) non-standard be compatible with f(r). Since (p, I) /H ∀x φ(x) there is a σ such that (p, I) /H φ(σ). By the previous part of this lemma, there is an r’ compatible with (p, I) such that, for all (q, J) compatible with r’, (q, J) /H φ(σ). By induction, that means that r’ |= φ(σ). This contradicts the assumption on r (i.e. that r |= ∀x φ(x)), since r’ extends r (as nodes).


The Final Proofs
Using H, we can now prove
Theorem 3.12 This Kripke model satisﬁes IZFRef .
Proof. Note that, as a Kripke model, the axioms of intuitionistic logic are satisfied, by general theorems about Kripke models.
Empty Set: The interpretation of the term ∅ will do.
Infinity: The canonical name for ω will do. (Recall that the canonical name
x¯ of any set x ∈ V is defined inductively as {⟨y¯, (∅, R)⟩| y ∈ x}.)
Pairing: Given σ and τ , {⟨σ, (∅, R)⟩, ⟨τ, (∅, R)⟩} will do.

Union: Given σ, {⟨τ, J ∩ Ji⟩ | for some σi, ⟨τ, J⟩∈ σi and ⟨σi, Ji⟩∈ σ} will do.
Extensionality: We need to show that ∀x ∀y [∀z (z ∈ x ↔ z ∈ y) → xy]. So let σ and τ be any terms at a node r such that r |= “∀z (z ∈ σ ↔ z ∈ τ )”. We must show that r |= “σ = τ ”. By the Truth Lemma, let r ∈ J H “∀z (z ∈ σ ↔ z ∈ τ )”; i.e. for all r’ ∈ J, ρ there is a J’ containing r’ such that J ∩ J’ H ρ ∈ σ ↔ ρ ∈ τ . We claim that J H “στ ”, which again by the Truth Lemma suffices. To this end, let ⟨σi, Ji⟩ be in σ; we need to show that J ∩ Ji H σi ∈ τ . Let r’ be an arbitrary member of J ∩ Ji and ρ be σi. By the choice of J, let J’ containing r’ be such that J ∩ J’ H σi ∈ σ ↔ σi ∈ τ ; in particular, J ∩ J’ H σi ∈ σ → σi ∈ τ . It has already been observed in 3.7, part 1, that J ∩ J’ ∩ Ji H σi ∈ σ, so J ∩ J’ ∩ Ji H σi ∈ τ . By going through each r’ in J ∩ Ji and using 3.11, part 3, we can conclude that J ∩ Ji H σi ∈ τ , as desired. The other direction (“τ ⊆ σ”) is analogous.
Set Induction (Schema): Suppose r |= “∀x ((∀y ∈ x φ(y)) → φ(x))”; by the Truth Lemma, let J containing r force as much. We must show r
|= “∀x φ(x)”. Suppose not. Using the definition of satisfaction in Kripke models, there is an r’ extending (i.e. infinitesimally close to) r (hence in J) and a σ such that r’ |= φ(σ). By elementarity, there is such an r’ in Mn, where n is the level of r. Let σ be such a term of minimal V-rank among all r’s ∈ J. Fix such an r’. By the Truth Lemma (and the choice of J), r’
|= “(∀y ∈ σ φ(y)) → φ(σ)”. We claim that r’ |= “∀y ∈ σ φ(y)”. If not, then for some r” extending r’ (hence in J) and τ , r” |= τ ∈ σ and r” |= φ(τ ). Unraveling the interpretation of ∈, this choice of τ can be substituted by a term τ of lower V-rank than σ. By elementarity, such a τ would exist in Mn, in violation of the choice of σ, which proves the claim. Hence r’
|= φ(σ), again violating the choice of σ. This contradiction shows that r
|= “∀x φ(x)”.
Separation (Schema): Let φ(x) be a formula and σ a term. Then {⟨σi,J ∩
Ji⟩ | ⟨σi, Ji⟩ ∈ σ and J H φ(σi)} will do.
Power Set: A term σˆ is a canonical subset of σ if for all ⟨σi, Jˆi⟩∈ σˆ there is a Ji ⊇ Jˆi such that ⟨σi, Ji⟩ ∈ σ. {⟨σˆ, (∅, R)⟩ | σˆ is a canonical subset of σ} is a set (in Mn), and will do.
Reflection (Schema): Recall that the statement of Reflection is that for every formula φ(x) (with free variable x and unmentioned parameters) and set z there is a transitive set Z containing z such that Z reflects the truth of φ(x) in V for all x ∈ Z. So to this end, let φ(x) be a formula and σ be a set at a node r of level n (in the tree which is this Kripke model’s partial order). Let k be such that the truth of φ(x) at node r and beyond is Σk

definable in Mn. In Mn, let X be a set containing σ, r, and φ’s parameters such that X ≺k Mn. Let τ be {⟨ρ, (∅, R)⟩| ρ ∈ X is a term}. τ will do.

We are interested in the canonical term {⟨p¯, (p, I)⟩ | p is a finite function from N to Q and I is a non-empty, open interval from the reals with rational endpoints}, where p¯ is the canonical name for p. We will call this term Z. Note that at node r Z gets interpreted as r.
Proposition 3.13 For all nodes r, r |= “Z is a Cauchy sequence”.
Proof. To see that ⊥ |= “Z is total”, suppose r |= “N is an integer”. Then (⟨N, r(N)⟩, R) is compatible with r and forces “Z(N) = r(N)”. That Z is a function is similarly easy.
As for Z being Cauchy, again let r |= “N is an integer”. Since r is Cauchy, there is an integer M such that beyond M r stays within an interval I of size 1/(2N). Of course, future nodes might be indexed by Cauchy sequences s extending r that go outside of I, but only by an infinitesimal amount. So let J extend I on either side and still have length less that 1/N. Then (rTM, J) is compatible with r, and forces that Z beyond M stay in J, making Z “Cauchy for 1/N”, to coin a phrase.	 
In order to complete the theorem, we need only prove the following
Proposition 3.14 For all nodes r, r |= “Z has no modulus of convergence.”
Proof. Suppose r |= “f is a modulus of convergence for Z.” Let (p, I) com- patible with r force as much. WLOG I is a finite interval. Let n be such that 1/n is less than the length of I, and let ϵ be (length(I) - 1/n)/2.
Let (q, J) ≤ (p, I) force a value m for f(n). WLOG length(q) > m, as q could be so extended. If J=I, then (q, J) could be extended simply by extending q with two values a distance greater than 1/n apart, thereby forcing f not to be a modulus of convergence. So J ⊂ I. That means either inf J > inf I or sup J < sup I. WLOG assume the latter. Let mid J be the midpoint of J, q0 be q extended by mid J, and J0 be (mid J, sup J). Then (q0, J0) ≤ (q, J), and therefore (q0, J0) H f(n) = m.
What (q1, J1) is depends:
CASE I: There is an open set K containing sup(J0) such that (q0, K) H f(n) = m. Then let jmax be the sup of the right-hand endpoints (i.e. sups) of all such K’s. Let q1 be q0 extended by sup J0.
Claim: (q1, (sup J0, jmax)) H f(n) = m.
Proof. Let r be any Cauchy sequence compatible with (q1, (sup J0, jmax)). Since lim r < jmax, r (that is, rng(r\q0)) is actually bounded below jmax. By

the definition of jmax, there is an open K containing sup J0 such that r is bounded by sup K. As r is bounded below by sup J0, r (again, rng(r\q0)) is contained within K. As (q0, K) H f(n) = m, r |= f(n) = m.	 
Of course, J1 will be (sup J0, jmax).
CASE II: Not Case I. Then extend by the midpoint again. That is, q1 is q0 extended by mid J0, and J1 is (mid J0, sup J0). Also in this case, (q1, J1) H f(n) = m.
Clearly we would like to continue this construction. The only thing that might be a problem is if the right-hand endpoint of some Jk equals (or goes beyond!) sup I, as we need to stay beneath (p, I). In fact, as soon as sup(Jk)
> sup(I) - ϵ (if ever), extend qk by something within ϵ of sup I, and continue the construction with left and right reversed. That is, instead of going right, we now go left. This is called “turning around”.
What happens next depends.
CASE A: We turned around, and after finitely many more steps, some Jk has its inf within inf(I) + ϵ. Then extend qk by something within ϵ of inf I. This explicitly blows f being a modulus of convergence for Z.
CASE B: Not Case A. So past a certain point (either the stage at which we turned around, or, if none, from the beginning) we’re marching monotoni- cally toward one of I’s endpoints, but will always stay at least ϵ away. WLOG suppose we didn’t turn around. Then the construction will continue for in- finitely many stages. The qk’s so produced will in the limit be a (monotonic and bounded, hence) Cauchy sequence r. Furthermore, lim r is the limit of the sup(Jk)’s. Finally, r is compatible with (p, I). Hence r |= “f is total”, and so r |= f(n) = m’, for some m’. Let some condition compatible with r force as much. This condition will have the form (q’, K), where lim r ∈ K. Let k be such that sup(Jk) ∈ K, and qk ⊇ q’. Consider (qk, Jk). Note that (qk, Jk ∩ K) extends both (qk, Jk) and (q’, K), hence forces both f(n) = m and f(n) = m’, which means that m=m’.
Therefore, at this stage in the construction, we are in Case I. By the construction, Jk+1 (sup Jk, jmax), where jmax ≥ sup K > lim r limk (sup(Jk))
≥ sup(Jk+1) = jmax, a contradiction.	 

Not every Cauchy sequence of Cauchy sequences con- verges
Theorem 4.1 IZFRef does not prove that every Cauchy sequence of Cauchy sequences converges to a Cauchy sequence.
The statement of the theorem itself needs some elaboration. The distance

d(x0n, x1n) between two Cauchy sequences x0n and x1n is the sequence | x0n − x1n |. x0n < x1n if there are m, N ∈ N such that for all k > N x0k +1/m < x1k. A rational number r can be identified with the constant Cauchy sequence xn =
r. xn = 0 if ∀m ∃N ∀k > N | xk |< 1/m. x0n and x1n are equal (as reals, equivalent as Cauchy sequences if you will) if d(x0n, x1n) = 0. With these definitions in place, we can talk about Cauchy sequences of Cauchy sequences, and limits of such. The theorem is then that it is consistent with IZFRef to have a convergent sequences of Cauchy sequences with no limit.
Note that we are not talking about reals! A real number would be an equiv- alence class of Cauchy sequences (omitting, for the moment, considerations of moduli of convergence). It would be weaker to claim that the sequence of reals represented by the constructed sequence of sequences has no limit. After all, given a sequence of reals, it’s not clear that there is a way to choose a Cauchy sequence from each real. We are claiming here that even if your task is made easier by being handed a Cauchy sequence from each real, it may still not be possible to get a “diagonalizing”, i.e. limit, Cauchy sequence.
The Topological Space and Model
Let T be the space of Cauchy sequences of Cauchy sequences. By way of notation, if X is a member of T, then Xj will be the jth Cauchy sequence in X; as a Cauchy sequence of rationals, Xj will have values Xj(0), Xj(1), etc. Still notationally, if Xn ∈ T, then the jth sequence in Xn is Xnj. In the classical meta-universe, the Cauchy sequence Xj has a limit, lim(Xj); in addition, the sequence X has a limit, which will be written as lim(X).
A basic open set p is given by a finite sequence ⟨(pj, Ij) | j < np⟩ of basic open sets from the space of the previous theorem (i.e. pj is a finite sequence of rationals and Ij is an open interval), plus an open interval Ip. X ∈ p if Xj ∈ (pj, Ij) for each j<np, if lim(Xj) ∈ Ip for each j≥np, and lim(X) ∈ I. Note that q ⊆ p (q extends p) if nq ≥ np, (qj, Kj) ⊆ (pj, Ij) for j < np, Kj ⊆ Ip for j ≥ np, and Iq ⊆ Ip.
p and q are compatible (where WLOG np ≤ nq) if, for j < np (pj, Ij) and (qj, Kj) are compatible, for np ≤ j < nq Kj∩ Ip /= ∅, and Iq∩ Ip /= ∅. In this case, p ∩ q is not the basic open set you’d think it is, but rather a union of such. The problem is that for np ≤ j < nq it would be too much to take the jth component to be (qj, Kj∩ Ip), because that would leave out all extensions of qj with entries from Kj\Ip before they finally settle down to Kj∩ Ip. So p
∩ q will instead be covered by basic open sets in which the jth component will be (rj, Kj∩ Ip), where (rj, Kj) ⊆ (qj, Kj). (So the given basic open sets form not a basis for the topology, but rather a sub-basis.)
As always, the sets in the induced Heyting-valued model M are of the form

{⟨σk, pk⟩ | k ∈ K}, where K is some index set, each σk is a set inductively, and each pk is an open set. Note that all sets from the ground model have canonical names, by choosing each pk to be T (i.e. np = 0 and Ip = R), hereditarily. M satisfies IZFRef .

The Extensions ≤j and ≤∞
In the final proof, we will need the following notions.
Definition 4.2 j-extension ≤j: q ≤j p for some j < np if q and p satisfy all of the clauses of q extending p except possibly for the condition on the jth component: (qj, Kj) need not be a subset of (pj, Ij), although we will still insist that (qj, Ij) be a subset of (pj, Ij).
More concretely, qj comes from pj by extending with elements from Ij; it’s just that we’re no longer promising to keep to Ij in the future. Notice that ≤j is not transitive; the transitive closure of ≤j will be notated as ≤∗.
Definition 4.3 ∞-extension ≤∞: q ≤∞ p ifq andp satisfy all of the clauses of q extending p except possibly for the last, meaning that Iq need not be a subset of Ip.
∗ is the transitive closure of ≤∞.
Lemma 4.4 Suppose q ⊆ p, q ⊆ f(n)=m  for some particular m and n, and
j < np. Then for all x ∈ Ij there is an r ⊆ p, r ≤∗ q such that r ⊆ f(n)=m 
and x ∈ Lj, where (rj, Lj) is r’s jth component.
Proof. If x ∈ Kj, then we are done: let r be q. So assume WLOG that x
≥ sup(Kj). The inspiration for this construction is the construction of the previous theorem. The main difference is that not only do we have (qj, Kj) to contend with, we also have all of q’s other components around. Hence the notion of a j-extension: we will do the last theorem’s construction on the jth coordinates, and leave all the others alone.
First off, we would like to show that q has a j-extension q’ ⊆ p also forcing f (n)= m such that sup(Kj) ∈ K’j. Toward this end, let X ∈ T bea member of (the open set determined by) q except that lim(Xj) = sup(Kj). X is in p, so there is some r ⊆ p such that X ∈ r and r forces a value for f(n), say m’. q and r are compatible though: apart from the jth component, X is in both, and the only thing happening in the jth component is that, in r, sup(Kj) ∈ Lj, meaning that Kj and Lj overlap. So any common extension of both q and r would have to force f(n)=m and f(n)=m’; since p already forces that f is a function, m=m’. Using r, it is easy to construct the desired q’: take the jth

component from r, and let each other component be the intersection of the corresponding components from r and q.
If there is such a q’ such that x ∈ K’j, then we are done. Else we would like to mimic the last theorem’s construction by having in our next condition the interval part of the jth component be (sup(Kj), jmax) (for a suitably defined jmax). The problem is, q has all these other components around. For any real y < jmax we could find a j-extension of q with (sup(Kj), y) in the jth component, but not necessarily for y = jmax itself.
To this end, consider all such q’ as above. Each q’ can be extended (to say q”) by restricting the interval in the jth component to (sup(Kj), sup(K’j)). Let q1 be such a q” where that interval is at least half as big as possible (i.e. among all such q”, where of course sup(K’j) has to be bounded by sup(Ij)).
Continue this construction so that qn is defined from qn−1 just as q1 was defined from q. WLOG dovetail this construction with extending all other components so that after infinitely many steps we would have produced an X
∈ T. (This remark needs a word of justification about the jth components. By the definition of j-extension alone, it is not clear that a sequence of j-extending conditions q0 ≥j q1 ≥j ... converges to a point in T. In our case, though, by the construction itself, the various Knj’s are monotonically increasing and bounded, hence the Xj so determined is Cauchy.)
If at some finite stage we have covered x, then we are done. If not, then sup(Xj) = supn(sup(Knj)) ≤ x ∈ Ij, so that X ∈ p. So there is some r ⊆ p with X ∈ r such that r forces a value for f(n), say m’. Let ϵ be sup(Lj)
- sup(Xj). Eventually in the construction, Knj will be contained within ϵ of sup(Xj). With r as the witness, at the next stage K(n+1)j would go beyond sup(Xj), which is a contradiction. Hence this case is not possible, and at some finite stage we must have covered x, as desired.


We have a similar lemma for ∞-extensions.

Lemma 4.5 Suppose q ⊆ p andq ⊆  f(n)=m  for some particular m and n.

Then for all x ∈ Ip there is an r ⊆ p, r ≤∗
q such that r ⊆  f(n)=m  and x

∈ Ir.

Proof. Similar to the above.	 

Observe that the same arguments work for preserving finitely many values of f simultaneously.

The Final Proof
We are interested in the canonical term {⟨p¯j, p⟩ | p is an open set}, where p¯j is the canonical name for the sequence ⟨pj | j < np⟩ from p. We will call this term Z. It should be clear that T = Z is a Cauchy sequence of Cauchy sequences  . Hence we need only prove
Proposition 4.6 T = Z does not have a limit  .
Proof. Suppose p ⊆  f is a Cauchy sequence  . It suffices to show that for some q ⊆ p, q ⊆ f /= lim(Z)  .
If p can ever be extended to force infinitely many values for f simultane- ously, then do so, and further extend (it suffices here to extend merely the last component) to force Z away from f’s limit. This suffices for the theorem. If this is not possible, then the construction will be to build one or two sequences of open sets, pk and possibly rk, indexed by natural numbers k. It is to be understood even though not again mentioned that the construction below is to be dovetailed with a countable sequence of moves designed to produce a single member of T in the end (i.e. each individual component must shrink to a real as in the previous theorem, the npk ’s must be unbounded as k goes through N, and the last components Ipk must shrink to something of length
0).
First, let p0 be built by extending p by cutting Ip to its bottom third, and let L be some point in Ip’s top half. If p0 can be extended (to p1) so that f is forced to have an additional value (that is, beyond what has already been forced) in Ip’s top half, then do so. Else proceed as follows. First extend p0 to force an additional value for f, necessarily in Ip’s bottom half. Then by the second lemma above, ∞-extend that latter condition, to q say, preserving the finitely many values of f already determined, and getting L into Iq. Typically nq > np, so let q¯ be such that nq¯ = nq, if j < np then q¯’s jth component is the same as p’s, if np ≤ j < nq then q¯’s jth component is (∅, Ip), and Iq¯ Ip.
Note that q ⊆ q¯ ⊆ p, so we can apply the first lemma above to q and q¯.
Starting from q, iteratively on j from np up to nq, j-extend to get L into the interval part of the jth component, while preserving the finitely many values of f already determined. Call the last condition so obtained r0. Finally, ∞- extend r0 to get the last component to be a subset of Ip0 , while still preserving f of course. Let this latter condition be p1.
Stages k > 0 will be similar. To start, if possible, extend pk to force an additional value for f in Ip’s top half. Call this condition pk+1.
If that is not possible, first extend pk to force a new value for f, necessarily in Ip’s bottom half. Then ∞-extend (to q say) to get L into the last component Iq. After that, j-extend for each j from nri to nq to get L in those components,

where i is the greatest integer less than k such that ri is defined. (It bears mentioning that rh is defined if and only if at stage h we are in this case.) If need be, shrink those components to be subsets of Iri , for the purpose of getting rk ⊆ ri (once we define rk). That last condition will be rk. Next,
∞-extend rk to get the last component to be a subset Ipk . This final condition is pk+1.
This completes the construction.
If the second option happens only finitely often, let k be greater than the last stage where it happens. Then not only does pk force lim(Z) to be in Ip’s bottom third, as all pi’s do actually, but also pk is respected in the rest of the construction: for i > k, pi ⊆ pk. Let l ≥ k be such that 6/l < length(Ip) (i.e. the distance between Ip’s top half and bottom third is greater than 1/l). Recall that p ⊆  f is a Cauchy sequence  ; that is, p ⊆  ∀ϵ > 0 ∃N ∀m, n ≥ N |f (m) − f (n)| < ϵ . Since 1/l > 0, p ⊆  ∃N ∀m, n ≥ N |f (m) − f (n)| <
1/l . That means there is a cover C of p such that each q ∈ C forces a
particular value for N. Let S be	pj, and let q ∈ C contain S. Similarly,
let qˆ containing S force a value for f(N). q ∧qˆ∧ pk is non-empty because it contains S, and q ∧qˆ∧ pk forces by the construction that f(N) is in Ip’s top half, by the choice of q that lim(f) is away from Ip’s bottom third, and by choice of k that lim(Z) is in Ip’s bottom third. In short, q ∧qˆ∧ pk ⊆  f /= lim(Z)  .
Otherwise the second option happens infinitely often. Then we have an infinite de scending sequence of open sets rk, and a similar argument works.
Let S be	j rj, where the intersection is taken only over those j’s for which
rj is defined.	Let k be such that rk ⊆ lim(Z) - midpoint(Ip) < ϵ  , for
some fixed ϵ > 0. Let q containing S be such that, for a fixed value of N, q
⊆  ∀m, n ≥ N |f (m) − f (n)| < ϵ . Let qˆ force a particular value for f(N), necessarily in Ip’s bottom half. Again, q ∧qˆ∧ pk ⊆ f /= lim(Z)  .


The given Cauchy sequence has a modulus, but the limit doesn’t
Theorem 5.1 IZFRef does not prove that every Cauchy sequence with a mod- ulus of convergence of Cauchy sequences converges to a Cauchy sequence with a modulus of convergence.
Definition 5.2 c is a convergence function for a Cauchy sequence ⟨Xj | j ∈
N⟩ if c is a decreasing sequence of positive rationals; for all n, if j, k ≥ n then
| Xj − Xk |≤ c(n); and lim(c(n)) = 0.

Notice that convergence functions and moduli of convergence are easily convertible to each other: if c is the former, then d(n) := the least m such that c(m) ≤ 2−n is the latter; and if d is the latter, then c(n) := 2−m, where m is the greatest integer such that max(m, d(m)) ≤ n, is the former. Therefore the current construction will be of a Cauchy sequence ⟨Xj | j ∈ N⟩ with a convergence function but no limit. Without loss of generality, the convergence function in question can be taken to be c(n)= 2−n.
Let the topological space T be {⟨Xj | j ∈ N⟩ | ⟨Xj | j ∈ N⟩ is a Cauchy sequence of Cauchy sequences with convergence function 2−n }. As in the previous section, for X ∈ T, Xj will be the jth Cauchy sequence in X’s first component. The real number represented by Xj, i.e. Xj’s limit, will be written as lim(Xj). In the classical meta-universe, the limit of the sequence ⟨Xj | j ∈ N⟩ will be written as lim(X).
T is a subset of the space from the previous section, and the topology of T is to be the subspace topology. That is, a basic open set p is given again by a finite sequence ⟨(pj, Ij) | j < np⟩ and an open interval Ip. X ∈ p if, again, Xj ∈ (pj, Ij) for each j<np, lim(Xj) ∈ Ip for each j≥np, and lim(X) ∈ Ip. p and q are compatible under the same conditions as before, and p ∩ q is covered by basic open sets, just as in the last theorem; the convergence function causes no extra trouble.
Note that q ⊆ p (q extends p) if all of the same conditions from the last section hold: nq ≥ np, (qj, Kj) ⊆ (pj, Ij) for j < np, Kj ⊆ Ip for j ≥ np, and Iq ⊆ Ip.
In the following, we will need to deal with basic open sets in canonical form. The issue is the following. Suppose, in p, I0 (0, 1) and I1 = (0, 10). Then X1 could certainly contain elements from (0, 10). However, when it comes to taking limits, X1 has 2 as an upper bound, because of I0 and the convergence function 2−n, but this is not reflected in I1.
Definition 5.3 p is in canonical form if, for j < k < np, |sup(Ij) - sup(Ik) |≤
2−j, and also |sup(Ij) - sup(Ip) |≤ 2−j.
The value of canonical form is that, if for j < np lim(Xj)sup(Ij) and if lim(X) = sup(Ip), then, although X /∈ p, X could still be in T.
Proposition 5.4 Every open set is covered by open sets in canonical form.
Proof. Let X ∈ p open. If, inq ⊆ p, Jk is an interval with midpoint lim(Xk) and radius independent of k, and Iq an interval with midpoint lim(X) and the same radius, then q will be canonical. We will construct such a q containing X.
By way of choosing the appropriate radius, as well as nq, let δ be half the

distance from lim(X) to the closer of Ip’s endpoints. Let N ≥ np be such that for all k ≥ N lim(Xk) is within δ of lim(X). Let r ≤ δ be such that for all k
< N (lim(Xk) - r, lim(Xk) + r) ⊆ Ik. Let nq ≥ N be such that for all k ≥ nq lim(Xk) is within r of lim(X). For k < nq let Jk be the neighborhood with center lim(Xk) and radius r, and let qk be an initial segment of Xk long enough so that beyond it Xk stays within Jk. Let Iq be the neighborhood with center lim(X) and radius r. This q suffices.	 
As always, the sets in the induced Heyting-valued model M are of the form
{⟨σk, pk⟩ | k ∈ K}, where K is some index set, each σk is a set inductively, and each pk is an open set. Note that all sets from the ground model have canonical names, by choosing each pk to be T (i.e. np = 0 and Ip = R), hereditarily. M satisfies IZFRef .
We are interested in the canonical term {⟨p¯j, p⟩| p is an open set}, where p¯j is the canonical name for the sequences ⟨pj | j < np⟩ from p. We will call this term Z. It should be clear that T = Z is a Cauchy sequence of Cauchy sequences with convergence function 2−n . Hence we need only prove
Proposition 5.5 T =  No Cauchy sequence equal to lim(Z) has a modulus of convergence  .
Proof. Suppose p ⊆  f is a modulus of convergence for a Cauchy sequence g  , p in canonical form. It suffices to show that for some q ⊆ p, q ⊆  g /= lim(Z)  .
Let ϵ < (length Ip)/2. Let q ⊆ p in canonical form force “f(ϵ)= N”; WLOG nq > N. We can also assume (by extending again if necessary) that q forces a value for g(N); WLOG g(N) ≤ midpoint(Ip). Let X ∈ p be on the boundary of q; that is, Xk extends qk (k < nq), Xk beyond length(qk) is a sequence through Jk with limit sup(Jk), and X beyond nq is a sequence through Iq with limit sup(Iq) (more precisely, ⟨lim(Xk) | k ≥ nq⟩ is such a sequence).
(Technical aside: By the canonicity of q’s form, X ∈ T. But why should X be in p? This could fail only if sup(Jk) = sup(Ik) or if sup(Iq) = sup(Ip). The latter case would actually be good. The point of the current argument is to get a condition r (forcing the things q forces) such that Ir contains points greater than g(N) + ϵ, which would fall in our lap if sup(Iq) sup(Ip). If sup(Iq)
< sup(Ip) and sup(Jk) = sup(Ik), then Xk must be chosen so that lim(Xk) is slightly less than this sup. Could this interfere with 2−n being a convergence function for X? No, by the canonicity of p. If l is another index such that sup(Jl) sup(Il), then by letting lim(Xl) be shy of this sup by the same amount as for k the convergence function 2−n is respected (for these two indices). If sup(Jl) < sup(Il), then what to do depends on whether sup(Jk) and sup(Jl) are strictly less than 2−min(k,l) apart or exactly that far apart. In the former

case, there’s some wiggle room in the kth slot for lim(Xk) to be less than sup(Jk). In the latter, sup(Jl) must be sup(Jk) either increased or decreased by 2−min(k,l). The first option is not possible, by the canonicity of p, as sup(Jl)
< sup(Il). In the second option, having lim(Xk) be less than sup(Jk) brings
lim(Xk) and lim(Xl) even closer together. Similar considerations apply to comparing lim(Xk) and limk(Xk) sup(Iq).)
Let q1 in canonical form containing X force values for f(ϵ) and g(f(ϵ)). Since q1 and q are compatible, they force the same such values. WLOG q1 is such that sup(Iq1 ) is big (that is, sup(Iq1 ) - sup(Iq) is at least half as big as possible). Continuing inductively, define qn+1 from qn as q1 was defined from q. Continue until Iqn contains points greater than g(N) + ϵ. This is guaranteed to happen, because, if not, the infinite sequence qn will converge to a point X in p. Some neighborhood r of X forcing values for f(ϵ) and g(f(ϵ)) will contain some qn, witnessing that qn+1 would have been chosen with larger last component than it was, as in the previous proofs.
Once the desired qn is reached, shrink Iqn to be strictly above g(N) + ϵ. Call this new condition r. r forces “lim(Z) > g(N) + ϵ”, and r also forces “g
≤ g(N) + ϵ”. So r forces “g /= lim(Z)”, as desired.	 

The reals are not Cauchy complete
Theorem 6.1 IZFRef does not prove that every Cauchy sequence of reals has a limit.
As stated in the introduction, what we will actually prove will be what seems to be the hardest version: there is a Cauchy sequence, with its own modulus of convergence, of real numbers, with no Cauchy sequence as a limit, even without a modulus of convergence. Other versions are possible, such as changing what does and doesn’t have a modulus. After all of the preceding proofs, and after the following one, it should not be too hard for the reader to achieve any desired tweaking of this version.
Let T consist of all Cauchy sequences of Cauchy sequences, all with a fixed convergence function of 2−n. An open set p is given by a finite sequence
⟨(pj, Ij) | j < np⟩ as well as an interval Ip, with the usual meaning to X ∈ p.
Recall from the previous section:
Definition 6.2 p is in canonical form if, for each j < k < np | sup(Ij) - sup (Ik) |≤ 2−j. Also, | sup(Ij) - sup (Ip) |≤ 2−j.
Also from the last section:
Proposition 6.3 Every open set is covered by sets in canonical form.

Henceforth when choosing open sets we will always assume they are in canonical form.
Definition 6.4 p and q are similar, p∼q, if np = nq, Ip = Iq, IkJk, and length(pk) = length(qk). So p and q have the same form, and can differ only and arbitrarily on the rationals chosen for their components.
If moreover pk = qk for each k ∈ J then we say that p and q are J-similar, p∼J q.
If p∼q, this induces a homeomorphism on the topological space T, and therefore on the term structure. (To put it informally, wherever you see pk, or an initial segment or extension thereof, replace it (or the corresponding part) with qk, and vice versa. This applies equally well to members of T, open sets, and (hereditarily) terms.)
Definition 6.5 If p, q, and r are open sets, σ is a term, and q and r are similar, then the image of p under the induced homeomorphism is notated by pqr and that of σ by σqr.
Lemma 6.6 p H φ(→σ) iff pqr H φ(→σqr).
Proof. A straightforward induction.	 
Definition 6.7 σ has support J if for all p∼J q ⊥ H σσpq. σ has finite support if σ has support J for some finite set J.
The final model M is the collection of all terms with hereditarily finite support.
As always, let Z be the canonical term. Note that Z is not in the symmetric submodel! However, each individual member of Z, Zj, is, with support {j}. Also, so is ⟨[Zj] | j ∈ N⟩, which we will call [Z], with support ∅. (Here, for Y a Cauchy sequence, [Y] is the equivalence class of Cauchy sequences with the same limit as Y, i.e. the real number of which Y is a representative.) That’s because no finite change in Zj affects [Zj]. (Notice that even though each member of [Zj] has support {j}, [Zj]’s support is still empty.) It will ultimately be this sequence [Z] that will interest us. But first:
Proposition 6.8 M |= IZFRef .
Proof. As far as the author is aware, symmetric submodels have been studied only in the context of classical set theory, not intuitionistic, and, moreover, the only topological models in the literature are full models, in which the terms of any given model are all possible terms built on the space in question, not submodels. Nonetheless, the same proof that the full model satisfies IZF (easily, IZFRef ) applies almost unchanged to the case at hand. To keep the

author honest without trying the patience of the reader, only the toughest axiom, Separation, will be sketched.
To this end, suppose the term σ and formula φ have (combined) support J (where the support of a formula is the support of its parameters, which are hidden in the notation used). The obvious candidate for a term for the appropriate subset of σ is {⟨σi,p ∩ pi⟩ | ⟨σi, pi⟩ ∈ σ ∧ p H φ(σi)}, which will be called Sepσ,φ. We will show that this term has support J.
To this end, let q∼J r. We need to show that ⊥ H Sepσ,φ = (Sepσ,φ)qr. In one direction, any member of (Sepσ,φ)qr is of the form ⟨σi,p ∩ pi⟩qr, where
⟨σi,p ∩ pi⟩ ∈ Sepσ,φ, i.e. ⟨σi, pi⟩ ∈ σ and p H φ(σi). We need to show that (p ∩ pi)qr H (σi)qr ∈ Sepσ,φ. Since ⊥ H σσqr and (pi)qr H (σi)qr ∈ σqr, (pi)qr H (σi)qr ∈ σ. In addition, by the lemma above, pqr H φqr((σi)qr) (where φqr is the result of taking φ and applying the homeomorphism to its parameters). Since φ’s parameters have support J, ⊥ H φqr = φ, and pqr H φ((σi)qr). Summarizing, (p ∩ pi)qr H (σi)qr ∈ σ ∧ φ((σi)qr), so (p ∩ pi)qr H (σi)qr ∈ Sepσ,φ, as was to be shown.
The other direction is similar.	 
So there was no harm in taking the symmetric submodel. The benefit of having done so is the following
Lemma 6.9 Extension Lemma: Suppose q, r ⊆ p, q ⊆  f (n) = m  and for j ∈ J (qj, Kj) (rj, Lj) (i.e. q and r agree on f’s support). Then r has an extension forcing f(n) = m.
Proof. Take a sequence of refinements of q converging to a point X on q’s boundary, as follows. Consider j < nr,j /∈ J. If Kj∩ Lj is non-empty, then just work within the latter set. Else either sup(Kj) < inf(Lj), in which case let lim(Xj) sup(Kj), or inf(Kj) > sup(Lj), in which case let lim(Xj)= inf(Kj). (In what follows, we will consider only the first of those two cases.) Similarly for Iq and Ir. As usual, since X ∈ p, X has a neighborhood forcing a value for f(n); since X is on q’s boundary, any such neighborhood has to force the same value for f(n) that q did. Let q1 be such a neighborhood where, for j the smallest integer not in J, sup((K1)j) - sup(Kj) is at least half as big as possible.
To continue this construction, consider what would happen if sup (K1)j < inf(Lj). We would like to take another point X, this time on the boundary of q1, with lim(Xj) sup(K1)j. The only possible obstruction is that (q1)j might have entries far enough away from sup(K1)j so that the constraint of the convergence function would prevent there being such an X. In this case, change (q1)j so that this is no longer an obstruction. Since j /∈ J, the new condition is J-similar to the old, and so will still force the same value for f(n).

Repeat this construction, making such that each of the finitely many com- ponents j < nr, j /∈ J and the final component get paid attention infinitely often (meaning sup((Kn+1)j) - sup((Kn)j) is at least half as big as possible). This produces a sequence qn. Eventually qn will be compatible with r. If not, let X be the limit of the qn’s. If X /∈ r then for some component j lim(Xj) < inf(Lj). X has a neighborhood, say q∞, forcing f(n) m. At some large enough stage at which j gets paid attention, the existence of q∞ would have made the jth component of the next qn contain lim(Xj), a contradiction.	 
With the Extension Lemma in hand, the rest of the proof is easy. It should be clear that [Z] has convergence function 2−n. So it remains only to show
Proposition 6.10   [Z] has no limit  = T.
Proof. Suppose p ⊆  f is a Cauchy sequence  . It suffices to find a q ⊆ p such that q ⊆ f /= lim([Z]) .
By the Extension Lemma, all of f’s values are determined by f’s finite support J. So f cannot be a limit for [Z], as any such limit has to be affected by infinitely many components.	 

Questions
There is a variant of the questions considered nestled between the individual Cauchy sequences of the big Cauchy sequence being adorned with a modulus of convergence and not. It could be that each such sequence has a modulus of convergence, but the sequence is not paired with any modulus in the big sequence. Looked at differently, perhaps the big sequence is one of Cauchy sequences with moduli of convergence but not uniformly. Certainly this extra information would not weaken any of the positive results. Would it weaken any of the negative theorems though? Presumably not: knowing that each of the individual sequences has a modulus doesn’t seem to help to build a limit sequence or a modulus for such, if there’s no way you can get your hands on them. Still, in the course of trying to prove this some technical difficulties were encountered, so the questions remain open.
The negative results here open up other hierarchies. Starting with the ra- tionals, one could consider equivalence classes of Cauchy sequence with moduli of convergence. By the last theorem, that may not be Cauchy complete. So equivalences classes can be taken of sequences of those. This process can be continued, presumably into the transfinite. Is there a useful structure theo- rem here? All of this can be viewed as taking place inside of the Dedekind reals, which are Cauchy complete. There is a smallest Cauchy complete set of reals, namely the intersection of all such sets. As pointed out to me by the

referee, this could be a proper subset of the Dedekind reals, since that is the case in the topological model of [2]. Naturally enough, the same is also the case in the Kripke model of [4]. Is there any interesting structure between the Cauchy completion of the rationals and the Dedekind reals? What about the corresponding questions for other notions of reals, such as simply Cauchy sequences sans moduli?
As indicated in the introduction, the first two models, one topological and the other Kripke, are essentially, even if not substantially, different. What is the relation between the two?
In the presence of Countable Choice, all of the positive results you could want here are easily provable (e.g. every Cauchy sequence has a modulus of convergence, the reals are Cauchy complete, etc.). Countable Choice itself, though, is a stronger principle than necessary for this, since, as pointed out to me by Fred Richman, these positive results are true under classical logic, but classical logic does not imply Countable Choice. Are there extant, weaker choice principles that would suffice instead? Can the exact amount of choice necessary be specified? These questions will start to be addressed in the forthcoming [5], but there is certainly more that can be done than is even attempted there.

References
Escardo, M.H. and A.K. Simpson, A Universal Characterization of the Closed Euclidean Interval (Extended Abstract), “Sixteenth Annual IEEE Symposium on Logic in Computer Science,” pp.115-125, 2001
Fourman, M.P. and J.M.E. Hyland, Sheaf models for analysis, in M.P. Fourman, C.J. Mulvey, and D.S. Scott (eds.), “Applications of Sheaves,” Lecture Notes in Mathematics Vol. 753 (Springer-Verlag, Berlin Heidelberg New York, 1979), pp. 280-301
Grayson, R.J., Heyting-valued models for intuitionistic set theory, in M.P. Fourman, C.J. Mulvey, and D.S. Scott (eds.), “Applications of Sheaves,” Lecture Notes in Mathematics Vol. 753 (Springer-Verlag, Berlin Heidelberg New York, 1979), pp. 402-414
Lubarsky, R. and M. Rathjen, On the constructive Dedekind reals, in preparation
Lubarsky, R. and F. Richman, in preparation
MacLane, S. and I. Moerdijk, “Sheaves in Geometry and Logic” (Springer-Verlag, New York, 1992)
Troelstra, A.S. and D. van Dalen, “Constructivism in Mathematics, Vol. 1” (North Holland, Amsterdam New York Oxford Todyo, 1988)
