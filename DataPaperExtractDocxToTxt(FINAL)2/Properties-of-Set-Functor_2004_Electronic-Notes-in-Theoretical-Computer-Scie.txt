Electronic Notes in Theoretical Computer Science 104 (2004) 61–80  
www.elsevier.com/locate/entcs


Properties of Set Functors *

Daniela Cancila1	Furio Honsell2	Marina Lenisa3 ,4
Dipartimento di Matematica e Informatica, Universit`a di Udine, Via delle Scienze 206, 33100 Udine, ITALY.
tel. +39 0432 558417, fax: +39 0432 558499


Abstract
We prove that any endofunctor on a class-theoretic category has a ﬁnal coalgebra. Moreover, we characterize functors on set-theoretic categories which are identical on objects, and functors which are constant on objects.
Keywords: Categories of sets, partially defined endofunctors, identity functor, constant functor, final coalgebra.


Introduction
In recent years, set-theoretic categories, i.e. categories where objects are sets (classes) of a possible non-wellfounded universe and morphisms are set(class)- theoretic functions, have been used as a convenient setting for studying the foundations of the coalgebraic approach to coinduction, see [1,2,6] [7,8,10,18,19,17]. Both among category theorists and among set-theorists however, set-theoretic categories had not received much attention for opposed ideological motiva- tions.

 Research partially supported by the MIUR Project COFIN 2001013518 Cometa. This work has been presented at the Types Conference in Torino, April 30 – May 4 2003.
1 Email:cancila@dimi.uniud.it.
2 Email:honsell@dimi.uniud.it.
3 Email:lenisa@dimi.uniud.it.
4 Corresponding author.


1571-0661 © 2004 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2004.08.019


In this paper, we address three questions concerning the structure of end- ofunctors in set-theoretic categories.
The first question concerns the class of set-theoretic functors which have ﬁ- nal coalgebra. We show that all class-theoretic endofunctors, i.e. endofunctors on a category whose objects are classes and whose morphisms are functional classes, have final coalgebra. This strengthens earlier results of Aczel, Adamek et al. [1,3,4], in non-wellfounded Set Theory, see [11].
The latter two questions are basic and concern the constraints which might arise from the object part of a functor onto the morphism part, because of the special nature of sets. In particular:
Are functors constant on objects constant on morphisms?
Are functors identical on objects identical on morphisms?
We solve thouroughly these questions, which originate as back as the funda- mental book of MacLane, [15].
In particular, we show that:
any functor on a set-theoretic category C which has constant cardinality
< supcard C on objects, where supcard C is the supremum of the cardinality of objects in C, is naturally isomorphic to a constant functor;
the above result does not extend to functors which are constantly equal on objects to an object of cardinality maxcard C;
any functor F on a cartesian closed set-theoretic category which is the
identity on objects is naturally isomorphic to the identity functor;
however, the result above fails on the restriction of set-theoretic categories on inﬁnite objects.
A preliminary version of this paper appears in Chapter 3 of [9].


Summary
In Section 1, we recall some definitions and basic facts concerning set the- ory and set-theoretical categories. In particular, we recall the definitions of set based functor and of inclusion preserving functor, and Aczel-Mendler Fi- nal Coalgebra Theorem. In Section 2, we study some properties of inclusion preserving functors, which will be useful in proving the main results of the paper. In Section 3, we strengthen Aczel-Mendler Theorem, by showing that all class-theoretic functors admit final coalgebras. In Section 4, we study two classes of partially specified endofunctors on set-theoretic categories: functors which are constant on objects and functors which are identical on objects. Directions for future work appear in Section 5.


Notation.
Throughout this paper we omit parentheses whenever no misunderstanding is possible. Moreover we use the following notation.
Let f : A → B be any function on sets (or classes), and let A' ⊆ A, then:
gr(f ) denotes the graph of f ;
img f denotes the image of f ;
fA' : A' → B denotes the function obtained from f by restricting the domain of f to A';

Preliminaries
Set Theory Preliminaries
In this paper we will refer often to large objects, such as proper classes, or even very large objects, such as functors over categories whose objects are classes. A foundational formal theory which can accommodate naturally all our arguments is not readily available. A substantial formalistic effort would be needed to “cross all our t’s” properly. We shall therefore adopt a pragmatic attitude and freely assume that we have classes and functors over classes at hand. Worries concerning consistency can be eliminated by assuming that our ambient theory is a Set Theory with an inaccessible cardinal κ, and the model of our object theory consists of those sets whose hereditary cardinal is less than κ, Vκ say, the classes of our model are the subsets of Vκ, and functors live at the appropriate ranks of the ambient universe.

Categorical Preliminaries
We define a set-theoretic category as follows:
Definition 1.1 A set-theoretic category is a category which is naturally iso- morphic to an initial segment of Card (CARD).
Typical examples of set-theoretic categories are the following, where U is a collection of Urelementen:
Set(U ) (Set∗(U )) :
objects: sets belonging to a (non-wellfounded) Universe, morphisms: set-theoretic total functions.
F inSet(U ) (F inset∗(U )) :
the subcategory of Set(U ) (Set∗(U )) of finite sets.
Class(U ) (Class∗(U )) :


objects: classes of (non-wellfounded) sets, morphisms: functional classes.
HCκ(U ) (HC∗ (U )) :
objects: (non-wellfounded) sets whose hereditary cardinal is < κ, κ inac- cessible,
morphisms: set-theoretic functions.
Card (CARD) : 
objects: cardinals (including Ord), morphisms: set-theoretic functions.
Throughout this paper, we shall always assume that set-theoretic functors F : C → C, where C is a generic set-theoretic category, satisfy the property that F (∅) = ∅ and, for all f : ∅ → A, F (f ) = ∅. This assumption is not particularly committing since we have the following
Proposition 1.2 For every set-theoretic functor F : C → C, there exists a functor G : C → C such that, for A /= ∅, F (A)= G(A) and for all f : A → B, F (f )= G(f ), and where G(∅)= ∅, and G(f )= ∅ for f : ∅→ A.
Proof. One can easily check that, if F is a functor, then also G is a functor, since there exists none function f : A → ∅, unless A is empty, and the only function f : ∅→ A is the empty one.	 
A well-known fact, which will be useful in the sequel, is the following:
Lemma 1.3 Let F : C → C. Then
if f : A → B is injective, then F (f ): F (A) → F (B) is injective;
if f : A → B is surjective, then F (f ): F (A) → F (B) is surjective.
Now we recall some definitions on set-theoretic functors. In the literature, these latter have been originally given only for functors defined on Class, or Class∗. However, they can be suitably modified for any set-category.
Definition 1.4 ([1,2]) Let F : Class∗ → Class∗ be a functor.
F is inclusion preserving if
∀A, B. A ⊆ B =⇒ (F (A) ⊆ F (B) ∧ F (ιA,B)= ιF (A),F (B)) ,
where ιA,B : A → B is the inclusion map from A to B.
F is set based if, for each class A and each x ∈ F (A), there exists a set
a0 ⊆ A and x0 ∈ F (a0) such that x = F (ιa0 ,A)(x0).
In 1989, Aczel and Mendler proved that any functor on Class∗ which is set based has final coalgebra.


Theorem 1.5 (Final Coalgebra Theorem, [2]) Every set based functor on Class∗ has a ﬁnal coalgebra.
The above theorem holds for any class-theoretic functor.
In Section 3, we will prove that Aczel-Mendler’s Final Coalgebra Theorem can be extended to all endofunctors on class-theoretic categories.

Properties of Inclusion Preserving Functors
In this section, we study properties of inclusion preserving functors. In par- ticular, we show that
a functor is inclusion preserving if and only if its value on morphisms de- pends only on the graphs of the morphisms;
any functor on a set-theoretic category is naturally isomorphic to an inclu- sion preserving functor.
Throughout this section, let C range over a generic set-theoretic category.
We start with an easy lemma, which says that inclusion preserving functors preserve images of functions:
Lemma 2.1 Let F : C → C be an inclusion preserving functor.	Then,
F (img f )= img F (f ) .
Proof. Let f : A → B. Then F (f ): F (A) → F (B). But F (f )= F (ιimgf,B ◦ f|imgf ) = ιF (imgf),F B ◦ F (f|imgf ), since F is inclusion preserving. Therefore, img F (f ) = img F (f|imgf ) = F (img f ), since f|imgf is surjective and by Lemma 1.3 F preserves surjective functions.	 
Proposition 2.2 Let F : C → C. Then F is inclusion preserving if and only if its value on any morphism depends only on the graph of the morphism and not on the target, i.e. for all A, B and for all f : A → B, f : A → B , gr(f )= gr(f ) ⇒ gr(F (f )) = gr(F (f )).
Proof.
⇒) Let f : A → B, f : A → B be such that gr(f )= gr(f ). Then img(f )= 
'	'	'

img(f ), hence f|img f = f|img f ' , f = ιimg f,B ◦ f|img f , and f
= ιimg f,B' ◦

f|img f . Hence, since F is inclusion preserving, F (f )= ιF (img f),F B◦F (f|img f )
'	'
and F (f )= ιF (img f ),FB' ◦ F (f|img f ), i.e. gr(F (f )) = gr(F (f )).
⇐) Let A ⊆ B. Then gr(ιA,B)= gr(idA), and hence gr(F (ιA,B)) = gr(F (idA)) = gr(idFA). Therefore, F (A) ⊆ F (B) and gr(F (ιA,B)) = gr(ιF A,FB), and hence F (ιA,B)= ιF A,FB.
 


Trivially, not every functor is inclusion preserving. Just consider any func- tor obtained by mapping isomorphically the value on a given class into a class which is disjoint from the value of the functor on a subclass.
However, in the next proposition we prove that any functor is naturally isomorphic to an inclusion preserving functor.
Proposition 2.3 Let F : C → C. Then there exists G : C → C inclusion preserving such that G is naturally isomorphic to F.
Proof. Let G : C → C be the functor defined by:  for all A, G(A) =
F^(ιA,V )(F A), and for all f : A → B, G(f ) = G(A) → G(B), G(f ) :
F (ιB,V )|imgF (ι	) ◦ F (f ) ◦ (F (ιA,V )|imgF (ι	))−1.
We prove that G is well defined. By definition, G preserves identities. Now we show that G preserves composition. Let f : A → B and g : B → C,
G(g ◦ f )= F (ιC,V )|imgF (ι	) ◦ F (g ◦ f ) ◦ (F (ιA,V )|imgF (ι	))−1
= F (ιC,V )|imgF (ι	) ◦ F (g) ◦ F (f ) ◦ (F (ιA,V )|imgF (ι	))−1
= F (ιC,V )|imgF (ι	) ◦ F (g) ◦ (F (ιB,V )|imgF (ι	))−1 ◦
F (ιB,V )|imgF (ι	) ◦ F (f ) ◦ (F (ιA,V )|imgF (ι	))−1
= G(g) ◦ G(f )
We prove that the functor G is naturally isomorphic to F . Let τ = {τA : GA → F A}A be the family of bijective functions, which are defined by τA = (F (ιA,V )|imgF (ι  ))−1. We prove that τ is a natural isomorphism. Let f : A →
B. We show that τB ◦ G(f ) ◦ τ −1 = F (f ). By substitution on Gf ,

τB ◦ G(f ) ◦ τ −1 = τB ◦ F (ιB,V )|imgF (ι


B,V
) ◦ F (f ) ◦ (F (ιA,V )|imgF (ι


A,V
))−1 ◦ τ −1

= F (f ) by definition of τA, τB
It remains to prove that G is inclusion preserving, that is, G(ιA,B)= ιGA,GB. Let A ⊆ B and let ιA,B : A → B. Then,
G(ιA,B )= (F (ιB,V ) ◦ F (ιA,B ) ◦ (F (ιA,V )|imgF (ι	))−1)|imgF (ι	)
= (F (ιB,V ◦ ιA,B ) ◦ (F (ιA,V )|imgF (ι	))−1)|imgF (ι	)
= (F (ιA,V ) ◦ (F (ιA,V )|imgF (ι	))−1)|imgF (ι	)
= ιGA,GB


Corollary 2.4 Every set based functor F is naturally isomorphic to a stan- dard functor.

Strengthening the Final Coalgebra Theorem
For simplicitly, in this section, we work in a universe satisfying the Axiom N,
i.e. all proper classes are in one-to-one correspondence with Ord. In the sequel, we refer to this assumption as the “blanket assumption”. Under this hypoth- esis, we prove the strong result that every inclusion preserving functor is set based. Therefore, by the Final Coalgebra Theorem of [2], we can derive that every inclusion preserving functor has a final coalgebra. By Proposition 2.3 of Section 2, using the fact that the property of having final coalgebras re- flect under isomorphism, we can prove a very strong final coalgebra theorem, ensuring that all functors on C admit final coalgebra.
In this section, we let C range over a class-theoretic category, unless dif- ferently stated.
We start by proving some instrumental results.
Lemma 3.1 Let F : C → C be inclusion preserving. If there exists A such that {F (a) | a ∈ A ∧ a set} ⊂ F (A) 5 , then for all B we have  {F (b) | b ∈ B ∧ b set}⊂ F (B).
Proof. We proceed by contradiction. We assume that A be a class such that  {F (a)  |  a ∈ A ∧ a set} ⊂ F (A) whereas B is a class such that
{F (b) | b ∈ B ∧ b set} = F (B). By the blanket assumption, there exists a bijective function σ : B → A. Then, for all x ∈ F (A), since F preserves isomorphisms, there exists y ∈ F (B) such that x = F (σ)(y). Moreover, since
{F (b)  |  b ∈ B ∧ b set} = F (B), there exists a set b ⊆ B such that y ∈ F (b). But then x ∈ imgF (σ)|Fb. Now, one can easily check that, since F is inclusion preserving, F (σ|b) = F (σ)|Fb. Hence x ∈ imgF (σ|b), i.e., by Lemma 2.1, x ∈ F (imgσ|b), and imgσ|b is a subset of A. Contradiction. 
Definition 3.2 Let F : C → C be a functor and let A be a proper class. Then
x ∈ F (A) is unreachable if x /∈  {F (a) | a ∈ A ∧ a set}.
Lemma 3.3 Let F be inclusion preserving. If x ∈ F (A) is unreachable, then there does not exist f : a → A, for a set a, such that x ∈ img F (f ) .
Proof. We proceed by contradiction. We assume that for set a, there exists a function f : a → A such that x ∈ imgF (f ), Let a0 = img (f ), then by Lemma 2.2, F (f )|imgF (f) : F (a) → F (a0) But if x ∈ F (f ), then x ∈ F (a0), which contradicts the hypothesis x unreachable.	 
In Lemma 3.4 below, we exploit the assumption that V is isomorphic to
Ord. If we consider the branches of a binary tree of height Ord, then we obtain

5 This symbol denotes strict inclusion.


2Ord injective functions, whose domain is Ord and which pairwise coincide on a non-empty set. Hence we have:
Lemma 3.4 i) There exist 2Ord injective functions fα : V → V such that img(fα) is a proper class and for all α /= β, img(fα) ∩ img(fβ) is a non- empty set.
There exist 2Ord proper classes {A}α such that α ≤ 2Ord and Aα ∩ Aβ is a non-empty set, for all α /= β.
Proposition 3.5 Let F : C → C be an inclusion preserving functor such that if A ∩ B is a set, then F (A) ∩ F (B) is included into the image of a set. Then, F is set based.
Proof. We proceed by contradiction. We assume that F is not set based. By Lemma 3.4.ii, there exist 2Ord proper classes Aα such that Aα ∩ Aβ is a set for all α /= β. By Lemma 3.1, for each class Aα there exists an unreachable element xα ∈ Aα.
But since for all α, β, Aα ∩ Aβ is a set, then xα /∈ Aα ∩ Aβ, for all α /= β, otherwise xα would not be unreachable, by using the fact that F (Aα) ∩ F (Aβ) is a set by hypothesis.
Therefore there exist 2Ord distinct unreachable elements. This contradicts the fact that |V | = Ord.	 
Now we are in the position of proving the following crucial result.
Proposition 3.6 Let F : C → C be an inclusion preserving functor, and therefore set based.
Proof. We proceed by contradiction. We assume F inclusion preserving and
F is not set based.
By Lemma 3.4.i, there are 2Ord injective functions fα : V → V such that imgfα is a proper class and img(fα) ∩ img(fβ) is a set, for all α /= β. Now we define 2Ord functions gα : V → V such that
img(gα ◦ fα) is a proper class and
img(gα ◦ fβ) is a set, for all α /= β. Let gα : V → V be defined by
g (x)= ⎧⎨ x	if x ∈ imgfα
⎩ ∅	otherwise .
By (b) and Lemma 2.1, we obtain that F (img(gα ◦ fβ)) = imgF (gα ◦ fβ) doesn’t contain any unreachable.


By (a) and Lemma 2.1, we obtain that F (img(gα ◦ fα)) = imgF (gα ◦ fα). Moreover, by Lemma 3.1, imgF (gα ◦ fα) contains an unreachable. Hence, for all α, there exists xα ∈ imgF (fα), whose image by F (gα), in the sequel noted by x¯α, is an unreachable. Moreover, xα /∈ imgF (fβ) for all β /= α, because xα should be otherwise in the image of the set img(gα ◦ fβ). Hence, there exists 2Ord distinct unreachable elements. This contradicts the fact that
|V | = Ord.	 
By Proposition 3.6, we have the following result, which generalizes the Final Coalgebra Theorem [2].
Corollary 3.7 Any inclusion preserving functor has ﬁnal coalgebra.
The following is a simple, but useful, proposition, which allows us to reflect properties of final coalgebras between pairs of functors, and to derive the main result of this section.
Proposition 3.8 Let C be a set-theoretic category, let F, G : C −→ C, and let
τ : F −→·	G be a natural transformation. If (νG, α	) is a ﬁnal G-coalgebra,
νG
and τνG is a bijection, then (νG, τ −1 ◦ ανG) is a ﬁnal F-coalgebra.

Proof. For sake of brevity, we mean by ανG
the function given by τ −1 ◦ α
νG,

as shown in the following diagram.

X 	f	 νG 

...
'	...

βX....
.,..c
(1)
ανG .
... .

F (X)
¸¸¸F (f )
 F (
,c
νG)
¸¸¸¸τ

ανG

τ ¸¸¸
(2)
¸¸νG

X  ¸¸z 
G(X)
¸¸¸z ct
 G (νG)
G(f )

Let (X, βX ) be a F -coalgebra. We first show that there exists a F -coalgebra morphism from (X, βX) into (νG, ανG). Since (X, τX ◦ βX ) is a G-coalgebra and
(νG, ανG : νG → G(νG)) is a final coalgebra, then a unique function f : X →
(νG) exists such that ανG ◦ f = G(f ) ◦ τX ◦ βX  (∗).
Since τX is a natural transformation, G(f ) ◦ τX = τν(G) ◦ F (f ) . 
By substitution, the equation (*) becomes: ανG ◦ f = τν(G) ◦ F (f ) ◦ βX.
Since τνG is bijective, the function τ −1 exists. Therefore τ −1 ◦ ανG ◦ f =
νG	νG
τ −1◦τνG ◦F (f )◦βX, i.e. τ −1◦ανG ◦f = F (f )◦βX, and hence f is a F -coalgebra

νG
morphism from (X, β
νG
) into (νG, α
), that is, existence for (νG, τ −1 ◦ α	)

X	νG
coalgebra.
νG	νG


Now we assume by contradiction that there exists another F -coalgebra morphism

f ' : (X, β ) → (νG, α	). Then, F (f ') ◦ β
= τ −1 ◦ α
f '	(∗∗ ∗)

X	νG
X	νG	νG

Since τ is a natural transformation, G(f ') ◦ τX = τνG ◦ F (f ').
By bijectivity of τ , we have (τ −1 ◦ G(f ')) ◦ τX = (τ −1 ◦ τνG) ◦ F (f '), i.e.
νG	νG
(τ −1 ◦ G(f ')) ◦ τ	= F (f '). By substitution of F (f ' ) in (***), (τ −1 ◦ G(f ')) ◦
νG	X	νG
τX ◦ βX = (τ −1 ◦ ανG) ◦ f ', i.e. G(f ') ◦ τX ◦ βX = ανG ◦ f ', which contradicts the final G-coalgebra (νG, ανG) .	 
Finally, by Proposition 3.8 and 3.6, we have the following strong result.
Theorem 3.9 Let F be an endofunctor on a class-theoretic category C. Then
F has ﬁnal coalgebra.
Clearly, the above theorem does not hold in a generic set-theoretic category,
e.g. it does not hold for the powerset functor in Set.

Functors partially specified by their value on objects
In this section, we study two special kinds of functors on set-theoretic cate- gories: the functors which are constants on objects, and the functors which are the the identity on objects. First we prove that if F is a class-theoretic functor which has constant cardinality < Ord on objects, then F is naturally isomorphic to an inclusion preserving functor which is constant on objects and constantly equal to the identity on functions. However, the last property does not hold for functors, which are constantly equal to a class on objects. Suitable adaptations of the above results hold in a generic set-theoretic category. As far as functors which are the identity on objects, we prove that any such functor on a set-theoretic category which is cartesian closed, is naturally isomorphic to the functor which is the identity both on objects and functions. However, the above result does not hold on the categories obtained by restricting any set theoretic category C to its infinite objects, InfC.
Throughout this section, let C range over a set-theoretic category.
Constant Functor
We call constant any functor F : C → C which is constant on objects, i.e. there exists A¯ such that F (A) = A¯ for all A, and it is constantly equal to identity on functions, i.e. F (f )= idA¯ for all function f : A → B.
The main result of this subsection is that any functor on a set-theoretic category C which has constant cardinality < supcard C on objects, where supcard C is the supremum of the cardinality of objects in C, is naturally


isomorphic to a constant functor. For simplicitly, in this subsection we focus on the case of class-theoretic categories, the other cases being similar.
The core of this subsection is to prove that if F is a functor which has con- stant set-cardinality on objects, then F is naturally isomorphic to an inclusion preserving functor G, which is constant. To this end, we need the following Lemmata 4.1 and 4.2.
Lemma 4.1 Let C be a class-theoretic category. Let G : C → C be an inclusion preserving functor, which has constant cardinality κ < Ord, on objects. Then there exists A¯ such that G(B)= G(A¯), for all B ⊇ A¯.
Proof. Let A be a non empty set. We define an increasing chain as follows: A0 = A, Aα+1 = (Aα)+ for any cardinality α, and Aλ =  γ<λ Aγ for any limit cardinality, where, for any α, (Aα)+ is an arbitrary element such that (Aα)+ ⊃ Aα and G(Aα)+ ⊃ G(Aα), if such a set exists, otherwise (Aα)+ = Aα. Since |G(A)| = κ for all A, at most after 2k steps the chain is definitely constant. Let A¯ be the last element of the chain, that is G(A¯)= G(B) for all B ⊇ A¯.
 
Lemma 4.2 Let C be a class-theoretic category. Let G : C → C be an inclusion preserving functor, which has constant cardinality κ < Ord on objects. Then,

for any inﬁnite cardinality µ, there exists a family A0
sets of cardinality µ, such that
of at least 22κ disjoint

G is constant on A0, i.e. G(A) = A0, for all A ∈ A0, moreover, for all
A, B ∈ A0 such that A /= B, for all f : A → B, G(f )= idA0 ;
for all A ∈ A0, for all f : A → A, G(f )= idA0 ;
for all A ∈ A0, for all B such that B ⊆ A, G(B)= A0;
for all A ∈ A0 and for all B such that |B| = |A| and f : B → B, G(B)= A0
and G(f )= idA0 ;
for all C such that |C| ≤ µ, G(C)= A0, moreover for all f : A → B such that |A|, |B|≤ µ, G(f )= idA0 .
Proof.
By Lemma 4.1, there exists A¯ such that G(B)= G(A¯), for all B ⊇ A¯. We define A to be any family of 22k disjoint sets of infinite cardinality µ. Since for any A ∈ A, there exists B ⊇ A¯ ∪ A, then the value of G on elements of A is a subset of G(A¯). Therefore since |G(A¯)| = κ, G is constant at least on 22κ elements of A. Let A0 be the family of elements of A on which G is constantly equal on objects to, say, A0.
Now we show that, for all A, B ∈ A0 such that A /= B, and f : A → B,

G(f )= idA0 . The following diagrams straightforwardly commutes.

A ¸	f	 B ,

¸¸¸
f ∪id
¸,¸¸¸

¸¸¸
(1)
B 
(2)
¸¸idB

ιA,A∪B
¸¸z 
A ∪ B ¸,ι
¸¸
B,A∪B	B


Hence, if we apply G to all diagrams, these still commute. Since G is inclusion preserving and the diagram (2) commutes, G(f ∪ idB) = idGB. Hence by diagram (1), also G(f )= idG(B), i.e. G(f )= idA0 .
Let A ∈ A0, f : A → A, Since all elements of A0 are disjoint and have the same cardinality, there exists B ∈ A0, such that B ∩ A = ∅ and an isomor- phism τ : A → B. The following diagram straightforwardly commutes

A	f	 A 
¸¸¸¸	 ¸,
τ ¸¸¸	−1

vz 
B
f ◦τ


The diagram commutes also when we apply G. Hence, G(f )= G(f ◦ τ −1) ◦ G(τ ). But by (i), both G(τ ) = idA and G(f ◦ τ −1) = idA . Therefore, G(f )= idA0 .
Let A ∈ A0, and B ⊆ A. Let π : A → B be such that π|B = idB. Then, by (ii), ιB,A ◦ π : A → A is such that G(ιB,A ◦ π) = idA0 . Moreover, since gr(π)= gr(ιB,A ◦ π), by Proposition 2.2, also gr(G(π)) = idA0 . Therefore, G(A)= G(B).
Let B be such that |B| = |A| and A ∈ A0. We prove that G(B)= A0. Since A and B have the same infinite cardinality, also |B ∪ A| = |A|. Hence, there exists an isomorphism τ : B ∪ A → A. The following diagram straightfor- wardly commutes.
B ∪,A¸¸

ιA,B∪A 
     
A	τ|A
¸¸¸τ
¸¸
 A 

Then, we apply G to the diagram above. By (ii), G(τ|A)= idA0 . Moreover G is inclusion preserving, and, therefore, G(ιA,B∪A) = ιGA,G(B∪A). Hence, since G(τ ) is bijective, G(B ∪ A) = G(A) and G(τ ) = idA0 . In order to conclude, we still need to show that G(B ∪ A)= G(B).
Let π : B ∪ A → B be a function such that π|B = idB. The following



diagram trivially commutes.


,,,,, B¸¸¸¸¸¸¸ι






B¸¸,B∪A

,,,,,,
B ∪,A,
ιA,B∪A

A	τ ◦ιB,B∪A◦π◦ιA,B∪A
¸¸¸¸¸z˛
B ∪ A
τ
 J 


We apply G to the diagram above. Since G is inclusion preserving, and G(A)= G(B ∪ A), then G(ιA,B∪A)= idA0 . Moreover, by (ii), G(τ ◦ ιB,B∪A ◦ π ◦ ιA,B∪A)= idA0 and, by above, G(τ )= idA0 . Hence, G(ιB,B∪A) ◦ G(π)= idA0 . As a result, G(π) need to be injective and not only surjective. More- over, since G is inclusion preserving, G(π)= idA0 . Therefore, G(B ∪ A)= G(B).
We are left to show that, if |A| = |B| and f : B → B, then G(f )= idA0 .
The following diagram straightforwardly commutes.
B	f	 B 
τ	τ
J	 J 
A	τ ◦f ◦τ −1	A
We apply G to the diagram above. By (ii), G(τ ◦ f ◦ τ −1)= idA . Since the
diagram commutes, G(f )= G(τ −1) ◦ idA  ◦ G(τ ). Hence, G(f )= idA .
0
Let C be such that |C| ≤ µ. Then there exists C1 such that C ⊆ C1 and
|C1| = µ. By (iv), G(C1) = A0, then using (iv), with an argument similar to the one used for proving (iii), one can show that G(C) = A0. Here, we only prove that, for all f : A → B, |A|, |B| ≤ µ, G(f ) = idA0 . There are two cases: either A ∩ B = ∅ or A ∩ B /= ∅.
(a)
A ¸	f	 B ,¸¸


¸¸¸¸
ιA,A∪B¸¸¸¸ (1)

(2)
idB

z 
f ∪idB

A ∪ B ¸,ι
B,A∪B	B

Since A∩B = ∅, both diagrams, (1) and (2), commute. We apply the func- tor G to both diagrams. Since by above, G(A)= G(A ∪ B)= G(B), then G(ιA,A∪B) = idA0 . Analogously, G(ιB,A∪B) = idA0 . By commutativity of diagram (2), G(idB)= G(f ∪ idB) ◦ G(ιB,A∪B). Hence, G(f ∪ idB)= idA0 . Therefore, by commutativity of diagram (1), Gf = idGA.
(b) Let A' and B' be such that A ∼= A' and B ∼= B', that is, there exist two

isomorphisms τA : A → A' and τB : B → B'. Let A' ∩ A = ∅, B' ∩ B = ∅,
A'∩B' = ∅. By (a), G(τA)= idA , G(τB)= idA and G(τB ◦f ◦τ −1)= id0.

Therefore, G(τB) ◦ G(f ) ◦ G(τ −1)= idA
and hence G(f )= idA0 .


Proposition 4.3 Let C be a class-theoretic category. Any endofunctor G on C which is inclusion preserving and has constant cardinality on objects < Ord is a constant functor.
Proof. We proceed by contradiction. We assume that G is not constant everywhere on objects. Then there exist A, B such that G(A) /= G(B). Let
|A| ≥ |B|. If |A| is infinite, then we immediately have a contradiction by Lemma 4.2.(v). Otherwise, if |A| is finite, then we consider a set A0 of infinite cardinality µ, such that A0 ⊇ A, B. Then by Lemma 4.2.(v) we have a contradiction. Therefore, G must be constant on objects. Moreover, using again Lemma 4.2.(v), one can easily check that G must give the identity on every morphism, i.e. G is a constant functor.	 
Corollary 4.4 Let C be a class-theoretic category. Any endofunctor F on C which has constant cardinality < Ord on objects is naturally isomorphic to a constant functor.
Proof. By Proposition 2.3, any functor F is naturally isomorphic to an in- clusion preserving functor G : C → C. Hence also G has constant cardinality on objects. Therefore, by Proposition 4.4, G is a constant functor.	 
However, Corollary 4.4 doesn’t extend to functors F constantly equal to a class. We show it via a counterexample:

Counterexample
Let F : C → C be defined as follows. For all A, let F (A) = ∪k∈OrdAκ, where Aκ denotes the function space [κ → A], i.e. all sequences of elements of A of length κ. For all f : A → B, let F (f ): ∪κ∈OrdAk → ∪κ∈OrdBk be such that F (f )(a) = b iff ∀i f (ai) = bi. Then, there exists a functor G : C → C such that, for all A, G(A)= Ord, G is naturally isomorphic to F and inclusion preserving. But G cannot be constantly equal to the identity on functions. Moreover, there is no constant functor G' which is inclusion preserving and naturally isomorphic to G.
Identity Functor
We call identity the functor F : C → C which is the identity both on objects,
i.e. F (A) = A for all A, and on functions, i.e. F (f ) = f for all functions

f : A → B.
The main result of this section is that functors on a cartesian closed set- theoretic category which are the identity on objects are naturally isomorphic to the identity functor. We will prove that the function σ, defined below, is the wanted natural isomorphism.
Definition 4.5 Let F : C → C be such that F (A) = A for all A. For all A, we define σA : A → A such that σA ≡ λa.F (ι{a},A)(a).
Proposition 4.6 Let F : C → C be such that F (A) = A for all A. If σA is bijective for all A, then F is naturally isomorphic to the identity.
Proof. Let f : A → B. If A = ∅, then we have immediately that F (f ) ◦ σA = σB ◦ f . Therefore, let us assume A /= ∅. The following diagram straightfor- wardly commutes.
A	f	 B 

,,
ι{a},A
,,
ι{fa},B

{a}
 {f a}
δ{a},{fa}

We apply F to the diagram above. Hence, for all a ∈ A , F (f ) ◦ F (ι{a},A)(a)= F (ι{fa},B) ◦ F (δ{a},{fa})(a), i.e. by definition of σA and δA, F (f ) ◦ σA(a) = σB ◦ f (a), for all a ∈ A, hence σ is a natural transformation from Id to F . Moreover, since σ is bijective, it is an isomorphism.	 
In the sequel, we prove that, in any set-theoretic category C which is cartesian closed, σA must be injective for all A. To this end, we start by building a non-trivial category, denoted by CF , which turns out to be cartesian closed with finite coproducts. Then we proceed by contradiction, assuming that for some A, σA is not injective, and we show that under this assumption, every morphism f : C → C in CF has a fixed point. Therefore, we get a contradiction since, by [16,12], every cartesian closed category with coproducts and fixed points is inconsistent, i.e. trivial (see Theorem 4.13).
Definition 4.7 Let F : C → C. We define the “image category” CF by
Obj(CF )= {(F (A), A) | A ∈ Obj(C)} and by Mor((F (A), A), (F (B), B)) =
{(F (f ),f ) | f : A → B}.

Notation.
In order to improve readability, we will denote objects F (A, A) and mor- phisms (F (f ),f ) of the image category simply by F (A) and F (f ), respectively.


Lemma 4.8 Let C be a cartesian closed set-theoretic category, and let F : C → C. Then, the category CF is a non-trivial cartesian closed category with ﬁnite coproducts.
Proof. The product G(A)×˜ G(B) on CF can be defined in terms of the product on CF by G(A×B). Projections on the image category are G(π1), G(π2), where π1, π2 are the projections in C.
Similarly for coproduct.
Moreover, one can check that CF is cartesian closed, by defining the ex-
ponent object FBFA by F (BA), the function eval, e˜v : F (BA)×˜ F (A) →

F (B) by F (ev), where ev : BA × A → B, and the isomorphism
Λ˜FC :

C(F (C)×˜ F (A),F (B)) → C(F (C), (FB)FA) by for any F (f ) : F (C × A) →
F (B), Λ˜FC (Ff )= F (ΛC(f )) where ΛC : C(C × A, B) → C(C, BA).	 
Lemma 4.9 Let F : C → C such that F (A) = A for all A. If σA is not injective for some A, then for all a1, a2 ∈ A, σA(a1)= σA(a2).
Proof. Let f : A → A be such that f (a1) = a3,f (a2) = a2, and f (a3) = a1. The following diagrams straightforwardly commute.


{a3}
ι{a3},A
δ{a3},{a1} {a }
1 ¸¸¸
¸¸¸

J	f
¸A,,,
2},A
z¸ A , ,¸
 
  ι

ι


δ{a2},{a2}
  
 {a 2}
{a2},A
F (ι{a3},A)


{a1}	 {a 3}
{a1 },{a3}
We apply F to the above diagrams. By hypothesis and by definition of σ,
F (ι{a1 },A)(a1)= F (ι{a2 },A)(a2). Hence, F (f )(F (ι{a1},A)(a1)) = F (f )(F (ι{a2},A)(a2)).
Since the diagram commute
F (f )(F (ι{a1},A)(a1)) = F (ι{a3 },A)(a3) and F (f )(F (ι{a2 },A)(a2)) = F (ι{a2 },A)(a2) ,
hence F (ι{a3 },A)(a3)= F (ι{a2 },A)(a2).	 
Proposition 4.10 Let F : C → C be such that F (A)= A for all A. If σA is not injective for some A then for all f : A → A, F (f ) has a ﬁxed point.
Proof. We show that F (ι{a},A) is a fixed point of any f : A → A. The

following diagram straightforwardly commutes.
A	f	 A 

,,
ι{a},A
,,
ι{fa},A

{a}
 {f a}
δ{a},{fa}

We apply F to the above diagram. Then F (f )(F (ι{a},A)(a)) = F (ι{fa},A)(f (a)), which, by Lemma 4.9, is equal to F (ι{a},A)(a), i.e. F (ι{a},A)(a) is a fixed point of F (f ).	 
Lemma 4.11 Let F : C → C be such that F (A) = A for all A. If σA is not injective for some A, then for all B, if b1, b2 ∈ B, then σB(b1)= σB(b2).
Proof. Let b1, b2 ∈ B. Then, there exists a function h : A → B such that for some a1, a2 ∈ A, h(a1) = b1 and h(a2) = b2. The following diagram trivially commutes.

A,,,¸ ¸¸
¸ {a2},A
¸¸¸
 B,, ,
{b2 },B 
    

ι{a1},A
{a2} 	 {b 2}
δ{a2},{b2}
ι{b1},B



{a1}
 {b 1}
{a1},{b1 }

We apply F to the above diagram. Hence, since by hypothesis F (ι{a1 },A)(a1)= 
F (ι{a2 },A)(a2), also F (ι{b1 },B)(b1)= F (ι{b2 },B )(b2).	 
By Lemma 4.11, we have
Theorem 4.12 Let F : C → C be such that F (A) = A, for all A. If σA is not injective for some A, then for all B /= ∅, and for all f : B → B, F (f ) has ﬁxed point.
Now we are in the position of stating the main result of this section, i.e. Theorem 4.14 below. This follows from the following inconsistency result of fixed points in a cartesian closed category with coproducts, applied to the image category of Definition 4.7.
Theorem 4.13 ([16,12]) Let C be a cartesian closed category with ﬁxed points and coproducts. Then C is inconsistent.
Theorem 4.14 Let C be a cartesian closed set-theoretic category, and let F : C \ {∅} → C \ {∅} such that F (A) = A for all A. Then for all A, σA is injective.


Proof. By Lemma 4.8 and Theorem 4.12, (C \ {∅})F is cartesian closed with finite coproducts. Hence, by Theorem 4.13, (C \ {∅})F is trivial. Therefore we have a contradiction with Lemma 4.8.	 
In particular, if C = SetFin, then, since injectivity implies bijectivity, by Proposition 4.6, we obtain the following
Theorem 4.15 Let F : SetFin \ {∅} → SetFin \ {∅} be such that F (A)= A
for all A. Then F is naturally isomorphic to the identity functor.
In the next theorem, we generalize Theorem 4.15 to the case of C. In particular, for any inclusion preserving functor G, we prove that σA is also surjective for all classes A. We start by proving the following instrumental lemma.
Lemma 4.16 Let F : C \ {∅} → C \ {∅} be such that F (A) = A for all A. Then, for all f : A → B, F (f )|imgσA ⊆ img(σB).
Proof. Assume by contradiction that there exist a, a1 ∈ A such that a1 =
σA(a) and such that F (f )(a1) /⊆ img(σB). The following diagram commutes:
A	f	 B 

,,
ι{a},A
,,
ι{fa},B

{a}
 {f a}

δ{a},{fa}

Applying F to the above diagram and by definition of δ, we have F (f ) ◦ F (ι{a},A)(a)= F (ι{fa},B)(f (a)), i.e. by definition of σ, F (f )(σA(a)) = σB(f (a)) which contradicts the hypothesis F (f )(a1) /∈ img(σB).	 
Proposition 4.17 Let F : C \ {∅} → C \ {∅} such that F (A)= A for all A. Then, for all A, σA is surjective.
Proof. We proceed by contradiction, and we assume that there exists A such that σA is not surjective. Let F¯ : C \ {∅} → C \ {∅} be the functor defined by:
- for all A, F¯(A)= A¯ + {∗}, and
- for all f : A → B, F¯(f ): A¯ + {∗} → B¯ + {∗}


F¯(f )(a)= 
⎧⎨ ∗	if a = ∗∨ ∀a /∈ A¯
⎩ F (f )(a)	otherwise .

Then, since σA is not surjective, the F¯-image category, denoted by (C \ {∅})F¯

is non trivial. Moreover, by construction, (C \ {∅})F¯
has fixed points. By



Lemma 4.8, C \ {∅})F¯
is a closed category with coproducts. Therefore, by

Proposition 4.13, C \ {∅})F is trivial. Contradiction.	 
Finally, we have
Theorem 4.18 Let C be a cartesian closed category, and let F : C \ {∅} → C \ {∅} be such that F (A)= A for all A. Then, F is naturally isomorphic to the identity functor.
The above argument can be easily extended to prove the following:
Proposition 4.19 Let F : C \ {∅} → C \ {∅} be such that F (A) = A for all
A. If the set-theoretic category consisting of those objects whose cardinality is
< supcard C is cartesian closed, then F is naturally isomorphic to the identity functor.
We are confident that, using this approach, the above result holds in any set-theoretic category.
Notice that, however, Theorem 4.18 above fails if we consider the restric- tion of any set-theoretic category C to infinite objects. The following is a counterexample:
Counterexample.
Let InfC be the category which is obtained from C by considering only infinite objects.
Let A ∈ InfC. We define an injective function ρA : A → A such that
A \ img(ρA) = {a¯}. Let F : InfC → InfC be a functor such that F (A) = A for all A ∈ InfC. For all f : A → B, and for all x ∈ A, we define F (f ) as follows.


F (f )(a)= 
⎧⎨ ¯b	if a = a¯ 
⎩ ρB ◦ f ◦ ρ−1(a)	if	a /= a¯ 

One can easily check that F is a functor.
However, even if F is the identity on objects, F is not the identity on morphisms. For example, F does not map constant functions into constant functions.

Directions For Future Work
The results of this paper should be compared to those in [14,5] on endofunctors on sets uniquely defined by their value on objects, and results of [3,4] on final coalgebra theorems, and results of [13].


We conjecture that if F is constant on morphisms, then either for any class A, FA is a singleton, or imgF = {FA | A ∈ ObjClass∗(U )} is a proper class. It would be interesting to explore to what extent the argument in Subsec-
tion 3 can be extended to the case of set-theoretic categories.

References
P. Aczel. Non-Well Founded Sets, volume 14. CSLI Lecture Notes, Stanford, 1988.
P. Aczel and N. Mendler. A Final Coalgebra Theorem. Category Theory and Computer Science, D.H.Pitt et al. eds., Springer LNCS, 389:357–365., 1989.
J. Adamek, S. Milius, and J. Velebil. Final Coalgebras and a Solution Theorem for Arbitrary Endofunctor. ENTCS, 65(1), 2002.
J. Adamek, S. Milius, and J. Velebil. A General Final Coalgebra Theorem. submitted to Mathematical Structures in Computer Science, 2003.
A. Barkhudaryan, R. El Bashir, and V. Trnkova. Endofunctor on set. In Categorical Methods in Algebra and Topology (CaTMAT) Conference Proceeding, 200o.
M. Barr. Terminal coalgebras in well-founded set theory. TCS, 114:299–315, 1993.
M. Barr. Additions and corrections to “Terminal coalgebras in well-founded set theory”. TCS,
124:189–192, 1994.
J. Barwise and L. Moss. Vicious Circles. Number 60 in Lecture Notes. CSLI Publications, 1996.
D. Cancila. Investigation in the Categorical Foundation and Application of Coalgebras and Hyperset. PhD thesis, Dipartimento di Matematica e Informatica, Universit`a di Udine, 2003.
N. Danner and L. Moss. On the Foundations of Corecursion. Logic Journal of the IGPL,
5(2):231–257, 1997.
M. Forti and F. Honsell. Set Theory with Free Construction Principles. In Classe di Scienze, volume 10:(4), pages 493–522. Annali Scuola Normale Sup. di Pisa, 1983.
H. Huwig and A. Poign´e. A note on inconsistencies caused by fixpoints in a cartesian closed category. TCS, 73:101–112, 1990.
A. Joyal and I. Moerdijk. Algebraic Set Theory. Cambridge University Press, 1995.
V. Koubek. Set functors. Comment. Math. Univ. Carolinae, 12:175–195, 1971.
S. Mac Lane. Categories for the Working Mathematician. Springer-Verlag, 1971.
F.W. Lawvere. Diagonal Arguments and Cartesian Closed Categories. Lecture Notes in Mathematics, 92:134–145, 1969.
L. Moss. Parametric Corecursion. TCS, 2000.
J. Rutten and D. Turi. On the Foundations of Final Semantics: Non-Standard Sets, Metric Spaces, Partial Orders. In J. de Bakker et al., editor, REX, volume 666, pages 477–530. Springer LNCS, 1993.
J. Rutten and D. Turi. On the foundations of final coalgebra semantics: non-well-founded sets, partial orders, metric spaces. Mathematical Structures in Computer Science, 8(5):481–540, 1998.
