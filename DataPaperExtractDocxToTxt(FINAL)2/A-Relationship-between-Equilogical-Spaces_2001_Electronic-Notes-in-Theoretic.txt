Electronic Notes in Theoretical Computer Science 45 (2001)
URL: http://www.elsevier.nl/locate/entcs/volume45.html 21 pages


A Relationship between Equilogical Spaces and Type Two Effectivity

Andrej Bauer 1
Institut Mittag-Leﬄer
The Royal Swedish Academy of Sciences

Abstract
In this paper I compare two well studied approaches to topological semantics— the domain-theoretic approach, exemplified by the category of countably based equilogical spaces, Equ, and Type Two Effectivity, exemplified by the category of Baire space representations, Rep(B). These two categories are both locally cartesian closed extensions of countably based T0-spaces. A natural question to ask is how they are related.
First, we show that Rep(B) is equivalent to a full coreflective subcategory of Equ, consisting of the so-called 0-equilogical spaces. This establishes a pair of adjoint functors between Rep(B) and Equ. The inclusion Rep(B) → Equ and its coreflection have many desirable properties, but they do not preserve exponentials in general. This means that the cartesian closed structures of Rep(B) and Equ are essentially different. However, in a second comparison we show that Rep(B) and Equ do share a common cartesian closed subcategory that contains all countably based T0-spaces. Therefore, the domain-theoretic approach and TTE yield equivalent topological semantics of computation for all higher-order types over countably based T0-spaces. We consider several examples involving the natural numbers and the real numbers to demonstrate how these comparisons make it possible to transfer results from one setting to another.


Introduction
In this paper I compare two approaches to topological semantics—the domain- theoretic approach, exemplified by the category of countably based equilogical spaces [6,23], Equ, and Type Two Effectivity (TTE) [27,26,25,14], exemplified by the category of Baire space representations, Rep(B). These frameworks have been extensively studied, albeit by two somewhat separate research com- munities. The present paper relates the two approaches and helps transfer results between them.

1 E-mail: Andrej.Bauer@andrej.com, URL: http://andrej.com
◯c 2001 Published by Elsevier Science B. V. Open access under CC BY-NC-ND license.


Domain-theoretic models of computation arise from the idea that the re- sult of a (possibly infinite) computation is approximated by the ﬁnite stages of the computation. As the computation progresses, the finite stages approx- imate the final result ever so better. This leads to a formulation of partially ordered spaces, called domains, in which every element is the supremum of the distinguished “finite” elements that are below it. We recommend [1] and [24] for an introduction to domain theory.
The TTE framework arises from the study of (possibly infinite) computa- tions performed by Turing machines that read infinite input tapes and write results on infinite output tapes. If we view input and output tapes as a se- quences of natural numbers, then Turing machines correspond to computable partial operators on the Baire space B = NN. We obtain a purely topological model of computation by considering all continuous partial operators on B, not just the computable ones. We recommend [27] for an introduction to TTE. The use of equilogical spaces as an exemplification of the domain-theoretic approach to topological semantics needs an explanation. Already in the orig- inal manuscript [23] Scott showed that equilogical spaces are equivalent to partial equivalence relations (PERs) on algebraic lattices.	He also proved that the category of algebraic domains is a cartesian closed subcategory of equilogical spaces, and it is not hard to see that the same holds for continu- ous lattices. In [6,5] we showed that equilogical spaces are a generalization of domain theory with totality [9,8,7,20,21]. The crucial observation needed for those results is that equilogical spaces are equivalent to the category of dense PERs on algebraic domains (a PER on a domain is said to be dense if its ex- tension is a dense subset of the domain). The equivalence remains if we take dense PERs on continuous domains instead. In this sense, it is fair to say that equilogical spaces generalize several domain-theoretic frameworks and contain a number of important categories of domains that have been studied, but of course not all of them. In this paper we focus solely on the countably based
equilogical spaces, and call them simply “equilogical spaces”.
As the ambient category of TTE we take the category of Baire space repre- sentations, Rep(B), which is defined in Section 3. Contemporary formulations of TTE often use the Cantor space in place of the Baire space, but since we are not concerned with computational complexity here, it does not matter which one we use because they yield in equivalent categories. We call Baire space representations just “representations”.
Equilogical spaces and representations both form locally cartesian closed extensions of the category of countably based T0-spaces, ωTop0. Thus they are both appealing models of computation on topological spaces. This is why it is important from the programming semantics point of view to understand precisely how they are related.
The general framework within which we carry out the comparison is realiz- ability theory, since Equ and PER(B) are just realizability models; the former is equivalent to the PER model on the Scott-Plotkin graph model PN, whereas

the latter is equivalent to the PER model on the Second Kleene Algebra B. We can then use Longley’s theory of applicative morphisms between partial com- binatory algebras (PCAs) to compare the two PER models [17]. While this may be the most general and elegant technique that could be used to compare other semantic frameworks as well, it has a distinctly anti-topological flavor. But we can translate all the results from realizability back into the language of topology, which is precisely what we do. This immediately gives us the first result: a simple topological description of Rep(B), without any mention of the partial combinatory structure of the Second Kleene Algebra.
From the topological description of Rep(B) so obtained, it is apparent that Rep(B) is equivalent to a full subcategory of Equ. This subcategory is denoted by 0Equ and consists of all the 0-equilogical spaces, which are those equilogical spaces whose underlying topological spaces are 0-dimensional. The inclusion I : 0Equ → Equ has a coreflection D : Equ → 0Equ. These two functors have many desirable properties, but they do not preserve the function spaces in general.
We compare Equ and Rep(B) in another way, by demonstrating that they share a common cartesian closed subcategory that contains all countably based T0-spaces. This subcategory was discovered by Menni and Simpson [19,18] as the category of ω-projecting T0-quotients, and by Schr¨oder [22] as the category of sequential T0-spaces with admissible representations. We prove that these two categories coincide. Therefore, the domain-theoretic approach and TTE yield equivalent topological semantics of computation for all higher-order types over countably based T0-spaces.
Finally, we discuss various consequences and the potential for transfer of results between the two settings, in particular with respect to the natural numbers, the real numbers, and their higher-order function spaces.
The paper is organized as follows. In Section 1 we review the basic def- initions and facts about equilogical spaces and ω-projecting quotients. In Section 3 we review Baire space representations and admissible representa- tions. Sections 4 and 5 contain the two comparisons of Equ and Rep(B). In Section 6 we obtain various transfer results between the two settings.
The material presented here is part of my Ph.D. dissertation [4], written under the supervision of Dana Scott. The omitted proofs can be found in the dissertation.
I gratefully acknowledge helpful discussions about this topic with Steven Awodey, Lars Birkedal, Peter Lietz, Alex Simpson, Matthias Schro¨der, and Dana Scott. Peter and I found the equivalence of 0-equilogical spaces and Baire space representations together. I could have never proved the coinci- dence of ω-projecting quotients and admissible representations without talking to Matthias and Alex. I also thank the knowledgeable anonymous referee for helpful suggestions on how to better present the material.

Equilogical Spaces and ω-projecting Quotients
An equilogical space was defined by Scott [23,6] to be a T0-space with an equivalence relation. Here we are only interested in countably based equilog- ical spaces, which are countably based T0-spaces with equivalence relations. We denote the category of countably based T0-spaces and continuous maps by ωTop0. We omit the qualifier “countably based” from now on, unless we are explicitly dealing with spaces that are not countably based.
More precisely, an equilogical space is a pair X = (|X|, ≡X) where |X| ∈ ωTop0 and ≡X is an equivalence relation on the underlying set of |X|. The associated quotient of an equilogical space X is the topological quotient X  =
|X|/≡X. The canonical quotient map |X| → X  is denoted by qX. Note that X  need not be T0 or countably based. A morphism f : X → Y between equilogical spaces X and Y is a continuous map f : X  → Y  that is tracked by some (not necessarily unique) continuous map g : |X|→ |Y |, which means that the following diagram commutes:
|X| 	g	 |Y |

qX	qY
J	J 
	

Any map g that appears in the top row of such a diagram is equivariant, or extensional, meaning that, for all x, y ∈ |X|, x ≡X y implies gx ≡Y gy. 2 The category of equilogical spaces and morphisms between them is denoted by Equ.
An exponential of X and Y is an object E = Y X with a morphism e : E × X → Y , called the evaluation map, such that, for all Z and f : Z × X → Y , there exists a unique map f : Z → E, called the transpose of f , such that the following diagram commutes:

E ×,X¸,¸¸
¸¸¸¸e

f × 1X
Z × X
¸¸¸¸
¸¸z 
f	 Y 


A weak exponential is defined in the same way but without the uniqueness requirement for f . A category is said to be cartesian closed when it has the terminal object, finite products, and all exponentials. It is locally cartesian closed when every slice is cartesian closed.

2 We could define morphisms between equilogical spaces to be equivalence classes of equiv- ariant maps, which is the original definition from [23].


The category Equ is equivalent to the PER model PER(PN) [4, Theo- rem 4.1.3], which is a regular locally cartesian closed category. This equiva- lence gives us a description of exponentials in Equ, though a very impractical one. A somewhat better description can be obtained as follows. Suppose X and Y are equilogical spaces, and (W, e) is a weak exponential of |X| and |Y | in ωTop0. Define a relation ≡E on W by
f ≡E g ⇐⇒ ∀ x, y ∈ |X| . (x ≡X y =⇒ e(f, x) ≡Y e(g, y)) .
Let E = (|E|, ≡E) be the equilogical space whose underlying space is
|E| =	f ∈ W	f ≡E f	⊆ W . 
It is easy to check that E with the morphism induced by the evaluation map e : |E|× |X|→ |Y | is the exponential of X and Y [4, Proposition 4.1.7]. The category ωTop0 has weak exponentials, thus the following construction shows that Equ has exponentials. It would be desirable to have a good theory of weak exponentials of topological spaces, as that would give us better descriptions of exponentials in Equ. In certain cases (weak) exponentials have good descrip- tions. For example, if |X| is locally compact and Hausdorff, then the space of continuous maps W = C(|X|, |Y |) with the compact-open topology together with the usual evaluation map is an exponential of |X| and |Y | in ωTop0.
Every countably based T0-space X can be viewed as an equilogical space (X, =X) where =X is equality on X. This defines a full and faithful inclusion functor I : ωTop0 → Equ. The inclusion preserves finite limits, coproducts, and all exponentials that already exist in ωTop0. Preservation of exponentials follows directly from the above description of exponentials in Equ.
There is the associated quotient functor Q : Equ → Top that maps an equilogical space X to the associated quotient QX = X  and a morphism f : X → Y to the continuous map Qf = f : X  → Y . Here Top is the category of all topological spaces and continuous maps, because the associated quotient need not be countably based or T0. Clearly, Q is a faithful functor, and it is not hard too see that it is not full. Menni and Simpson [19,18] showed that there is a largest subcategory C of Equ such that Q restricted to C is full. They worked with equilogical spaces built from all countably based topological spaces, as opposed to just T0-spaces, but their results hold when we restrict them to T0-spaces. We are restricting to T0-spaces because Schr¨oder proved his results for T0-spaces. Below we summarize the relevant findings from [19,18].
Definition 2.1 A subset S ⊆ X of a topological space X is sequentially open when every sequence with limit in S is eventually in S. A topological space X is a sequential space when every sequentially open set V ⊆ X is open in X. The category of sequential spaces and continuous maps between them is denoted by Seq.

Theorem 2.2 Sequential spaces form a cartesian closed category that con- tains ωTop0. The inclusion ωTop0 → Seq preserves ﬁnite limits and all expo- nentials that already exist in ωTop0.
Proof. This is well known and follows from the fact that Seq is a reflective subcategory of the cartesian-closed category Lim of limit spaces [15], and the reflection preserves products.	✷
Definition 2.3 Let X ∈ ωTop0 and q : X → Y be a continuous map. Then q is said to be ω-projecting when for every Z ∈ ωTop0 and every continuous map f : Z → Y there exists a lifting g : Z → X such that f = q ◦ g.
An equilogical space X is ω-projecting when the canonical quotient map qX : |X| → X  is ω-projecting. The full subcategory of Equ on the ω- projecting equilogical spaces is denoted by EPQ0. Let PQ0 be the category of those T0-spaces Y for which there exists an ω-projecting map q : X → Y .
The name PQ0 stands for “ω-projecting quotient”, and EPQ0 stands for “equilogical ω-projecting quotient”.
Theorem 2.4 (Menni & Simpson [19]) The category PQ0 is a cartesian closed subcategory of Seq, EPQ0 is a cartesian closed subcategory of Equ, and the categories PQ0 and EPQ0 are equivalent via the restriction ofthe associated quotient functor Q : EPQ0 → PQ0.
Proof. See [19]. In fact, Menni and Simpson prove that PQ0 is the largest common subcategory C of Equ and Top such that Q restricted to C is full. ✷

Type Two Effectivity
In this section we review the basic setup of Type Two Effectivity. The Baire space B = NN is the set of all infinite sequences of natural numbers, equipped with the product topology. Let N∗ be the set of all finite sequences of natural numbers. The length of a finite sequence a is denoted by |a|. If a, b ∈ N∗ we write a ± b when a is a prefix of b. Similarly, we write a ± α when a is a prefix of an infinite sequence α ∈ B. A countable topological base for B consists of the basic open sets, for a ∈ N∗,
a::B =	a::β	β ∈ B	=	α ∈ B	a ± α	.
The expression a::β denotes the concatenation of the finite sequence a ∈ N∗ with the infinite sequence β ∈ B. We write n::β instead of [n]::β for n ∈ N and β ∈ B. The base a::B a ∈ N∗ is a clopen countable base for the topology of B, which means that B is a countably based 0-dimensional T0-space. Recall that a space is 0-dimensional when its clopen subsets form a base for its topology. A 0-dimensional T0-space is always Hausdorff.
In order to obtain a simple topological description of Baire space represen- tations, we need to characterize subspaces of B and those partial continuous

maps B ~ B that can be encoded as elements of B. This is accomplished by the Embedding and Extension Theorems for B, which we prove next.
Theorem 3.1 (Embedding Theorem for B) A topological space is a 0- dimensional countably based T0-space if, and only if, it embeds into B.
Proof. Clearly, every subspace of B is a countably based 0-dimensional T0- space. Suppose X is a countably based 0-dimensional T0-space with a count- able base Uk k ∈ N of clopen sets. Define the map e : X → B by
ex = λn ∈ N . (if x ∈ Un then 1 else 0) .
It is easy to check that e is a topological embedding.	✷
For topological spaces X and Y , a partial map f : X ~ Y is said to be continuous when the restriction to its domain f : dom(f ) → Y is a continuous (total) map, where dom(f ) is equipped with the subspace topology inherited from X. There is no requirement that dom(f ) be an open subset of X. We consider partial continuous maps B ~ B and characterize those that can be encoded as elements of B.
Given a finite sequence of numbers a = [a0,..., ak−1], let seq a be the encoding of a as a natural number, for example
k−1
seq [a0,..., ak−1]=	pi1+ai ,
i=0
where pi is the i-th prime number. For α ∈ B let αn = seq [α0,..., α(n − 1)].
For α, β ∈ B, define α* β by

α*β = n ⇐⇒ ∃ m ∈ N . α(βm)= n +1 ∧∀ k < m . α(βk)= 0	.
If there is no m ∈ N that satisfies the above condition, then α* β is undefined. Thus, * is a partial operation B × B ~ N. It is continuous because the value of α* β depends only on finite prefixes of α and β. The continuous function application  |  : B × B → N ~ N is defined by
(α | β)n = α* (n::β) .
The Baire space B together with | is a partial combinatory algebra, where α|β is considered to be undefined when α | β is not a total function, see [13] for details. Every α ∈ B represents a partial function ηα : B ~ B defined by
ηαβ = α | β . 
We say that a partial map f : B ~ B is realized when there exists α ∈ B such that f = ηα. Such an α is called a realizer for f . Because | is a continuous operation, a realized map is always continuous, although not every partial

continuous map is realized. Recall that a Gδ-set is a set that is equal to a countable intersection of open sets.
Proposition 3.2 If U ⊆ B is a Gδ-set then the function u : B ~ B deﬁned by
λn:N . 1	α ∈ U , 
uα =
undeﬁned	otherwise
is realized.
Proof. The set U is a countable intersection of countable unions of basic open sets, U = i∈N  j∈N ai,j::B. Define a sequence υ ∈ B for all i,j ∈ N by υ(seq (i::ai,j)) = 2, and set υn = 0 for all other arguments n. Clearly, if ηυα is total then its value is λn. 1, so we only need to verify that dom(ηυ )= U . If α ∈ dom(ηυ ) then υ* (i::α) is defined for every i ∈ N, therefore there exists ci ∈ N such that υ(seq (i::[α0,..., α(ci)])) = 2, which implies that α ∈ ai,ci. Hence α ∈ i∈N ai,ci::B ⊆ U . Conversely, if α ∈ U then for every i ∈ N there exists some ci ∈ N such that α ∈ ai,ci. For every i ∈ N, υ(seq (i::[α0,..., α(ci)])) = 2, therefore (ηυα)i = υ * (i::α) = 1. Hence α ∈ dom(ηυ ).	✷
Corollary 3.3 Suppose α ∈ B and U ⊆ B is a Gδ-set. Then there exists β ∈ B such that ηαγ = ηβγ for all γ ∈ dom(ηα) ∩ U and dom(ηβ ) = U ∩ dom(ηα).
Proof. By Proposition 3.2there exists υ ∈ B such that for all β ∈ B
η β =	λn:N . 1	β ∈ U , 
υ	undefined	otherwise .
It suffices to show that the function f : B ~ B defined by
(fβ)n = ((ηυβ)n) · ((ηαβ)n)
is realized. This is so because coordinate-wise multiplication of sequences is realized, and so are pairing and composition.	✷
Theorem 3.4 (Extension Theorem for B) (a) Every partial continuous map B ~ B can be extended to a realized one. (b) The realized partial maps B ~ B are precisely those continuous partial maps whose domains are Gδ-sets.
Proof. (a) Suppose f : B ~ B is a partial continuous map. Consider the set
A ⊆ N∗ × N2 defined by
A =	⟨a, i, j⟩∈ N∗ × N2
a::B ∩ dom(f ) /= ∅ and ∀ α ∈ (a::B ∩ dom(f )) . ((fα)i = j)	.
If ⟨a, i, j⟩ ∈ A, ⟨a',i, j'⟩ ∈ A and a ± a' then j = j' because there exists
α ∈ a'::B ∩ dom(f ) ⊆ a::B ∩ dom(f ) such that j = (fα)i = j'. We define

a sequence φ ∈ B as follows. For every ⟨a, i, j⟩ ∈ A let φ(seq (i::a)) = j + 1, and for all other arguments let φn = 0. Suppose that φ(seq (i::a)) = j +1 for some i,j ∈ N and a ∈ N∗. Then for every prefix a' ± a, φ(seq (i::a')) = 0 or φ(seq (i::a')) = j + 1. Thus, if ⟨a, i, j⟩ ∈ A and a ± α then φ* (i::α)= j. We show that (ηφα)i = (fα)i for all α ∈ dom(f ) and all i ∈ N. Because f is continuous, for all α ∈ dom(f ) and i ∈ N there exists ⟨a, i, j⟩ ∈ A such that a ± α and (fα)i = j. Now we get (ηφα)i = (φ | α)i = φ* (i::α)= j = (fα)i.
(b) First we show that ηα is a continuous map whose domain is a Gδ-set. It is continuous because the value of (ηαβ)n depends only on n and finite prefixes of α and β. The domain of ηα is the Gδ-set

=    β ∈ B  (α | β)n defined} =      β ∈ B  α* (n::β)= m} .

Each of the sets β ∈ B α* (n::β)= m is open because * and :: are contin- uous operations. Now let f : B ~ B be a partial continuous function whose domain is a Gδ-set. By part (a) of this theorem there exists φ ∈ B such that fα = ηφα for all α ∈ dom(f ). By Corollary 3.3 there exists ψ ∈ B such that dom(ηψ )= dom(f ) and ηψα = ηφα for every α ∈ dom(f ).	✷
A Baire space representation, or simply a representation, is a partial sur- jection δS : B ~ S, where S is a set. A representation δS : B ~ S of a set S induces a quotient topology on S, defined by
U ⊆ S open ⇐⇒ δ−1(U ) open in dom(δS) .
We denote by S  the topological space S with the quotient topology induced by δS. A realized map f : (S, δS) → (T, δT ) is a function f : S → T such that there exists a partial continuous map g : B ~ B which tracks f , meaning that dom(f ) ⊆ dom(g) and that, for every α ∈ dom(f ), f (δSα)= δT (gα). A realized map f is always continuous as map f : S  → T . The category of Baire space representations and realized maps is denoted by Rep(B).
The category Rep(B) is equivalent to the PER model PER(B) where B is equipped with the structure of the Second Kleene Algebra. The objects of PER(B) are partial equivalence relations on B. If A is a PER on B we denote it by A when we think of it as an object and by =A when we think of it as a binary relation. For A, B ∈ PER(B), we say that α ∈ B realizes a morphism [α]: A → B when, for all β, γ ∈ B, if β =A γ, then α | β and α | γ are defined, and α|β =B α|γ. Here α and α' realize the same morphism, [α]= [α'], when, for all β, γ ∈ B, β =A γ implies α | β =B α' | γ. The equivalence of Rep(B) and PER(B) assigns to each representation δS : B ~ S the PER =S defined by
α =S β ⇐⇒ δS(α)= δS(β) .
If f : (S, δS) → (T, δT ) is a realized map in Rep(B), tracked by g : B ~ B, then

by Extension Theorem 3.4 there exists α ∈ B such that ηα is a continuous extension of g. Under the equivalence Rep(B) PER(B), the morphism f corresponds to the morphism [ηα]. The most relevant consequence of this equivalence is that Rep(B) is a regular locally cartesian closed category, since every PER model on a PCA is such a category [4]. For example, the expo- nential BA of PERs A, B ∈ PER(B) is defined by
α =BA α' ⇐⇒ ∀ β, γ ∈ B . (β =A γ =⇒ (α | β) ↓ =B (α' | γ) ↓) .
Unfortunately, this description of exponentials in not very helpful in particular cases, and it completely obscures the topological properties of exponentials. In many important cases better descriptions are available, cf. Theorem 4.5.
In TTE we are typically interested in representations of topological spaces, rather than arbitrary sets. For this reason it is important to represent a topological space X with a representation (X, δX) which has a reasonable relation to the topology of X. An obvious requirement is that the original topology of X should coincide with the quotient topology of X  . However, as is well known by the school of TTE, this requirement is too weak because it allows ill-behaved representations. A desirable condition on representations of topological spaces is that all continuous maps between them be realized. Thus, we are led to further restricting the allowable representations of topological spaces as follows.
Definition 3.5 An admissible representation of a topological space X is a partial continuous quotient map δ : B ~ X such that every partial continuous map f : B ~ X can be factored through δ. This means that there exists g : B ~ B such that fα = δ(gα) for all α ∈ dom(f ).
The main effect of this definition is that if δX : B ~ X and δY : B ~ Y are admissible representations, then every continuous map f : X → Y is realized, and conversely, every realizer that respects δX and δY induces a continuous map X → Y .
The requirement that an admissible representation δ : B ~ X be a quotient map implies that X is a sequential space, since it is a quotient of the sequential space dom(δ). It is easy to show that any two admissible representations are isomorphic in Rep(B). An obvious question to ask is which sequential spaces have admissible representations.
Definition 3.6 Let AdmSeq be the full subcategory of Seq on those sequential
T0-spaces that have admissible representations.
Schro¨der [22] has characterized AdmSeq as follows.
Definition 3.7 [Schr¨oder [22]] A pseudobase for a space X is a family B of subsets of X such that whenever ⟨xn⟩n∈N →O(X) x∞ and x∞ ∈ U ∈ O(X) then there exists B ∈ B such that x∞ ∈ B ⊆ U and ⟨xn⟩n∈N is eventually in B.

Theorem 3.8 (Schro¨der [22]) A sequential space has an admissible repre- sentation if, and only if, it is T0 and has a countable pseudobase.
From Schr¨oder’s proof of Theorem 3.8 we get a specific admissible rep- resentation δ for a T0-space X with a countable pseudobase Bk k ∈ N , defined by
δ(α)= x ⇐⇒
∀ k ∈ N . (x ∈ Bαk) ∧∀ U ∈ O(X) . (x ∈ U =⇒ ∃ k ∈ N . Bαk ⊆ U ) .
The above formula says that α is a δ-representation of x when α enumerates (indices of) a sequence of pseudobasic open neighborhoods of x that get arbi- trarily small. In case X is a T0-space with a countable base Uk k ∈ N , we may use an equivalent but simpler admissible representation δ', defined by
δ'(α)= x ⇐⇒	Uαk	k ∈ N	=	Un	n ∈ N ∧ x ∈ Un	.
The above formula says that α is a δ'-representation of x when it enumerates the basic open neighborhoods of x.
If X ∈ AdmSeq then its admissible representation is determined up to iso- morphism in Rep(B). Therefore, AdmSeq is equivalent to the full subcategory of Rep(B) on the admissible representations, so that AdmSeq can be thought of as a subcategory of Rep(B). The following result by Schro¨der [22] tells us that the inclusion of AdmSeq into Rep(B) preserves the cartesian closed structure.
Theorem 3.9 (Schro¨der [22]) Let (X, δX) and (Y, δY ) be admissible repre- sentations for sequential T0-spaces X and Y . Then the product (X, δX) × (Y, δY ) formed in Rep(B) is an admissible representation ofthe product X ×Y formed in Seq, and similarly the exponential (Y, δY )(X,δX ) formed in Rep(B) is an admissible representation for the exponential Y X formed in Seq.
Rep(B) as a subcategory of Equ
In this section we describe Rep(B) as a full subcategory of equilogical spaces. We then study the properties of the inclusion Rep(B) → Equ.
Definition 4.1 A 0-equilogical space is an equilogical space whose underlying topological space is 0-dimensional. The category 0Equ is the full subcategory of Equ on 0-equilogical spaces.
Thus 0Equ is formed just like Equ, where we use 0Dim instead of ωTop0.
Theorem 4.2 The categories 0Equ, Rep(B), and PER(B) are equivalent.
Proof. We show that 0Equ and PER(B) are equivalent, since we already know that PER(B) and Rep(B) are equivalent. By Embedding Theorem 3.1 for B,a countably based T0-space is 0-dimensional if, and only if, it embeds in B. Thus every 0-equilogical space is isomorphic to one whose underlying topological

space is a subspace of B. This makes it clear that equivalence relations on 0-dimensional countably based T0-spaces correspond to partial equivalence relations on B. Morphisms work out, too, since by the Extension Theorem for B 3.4 every partial continuous map on B can be extended to a realized one.	✷
The inclusion functor I : 0Equ → Equ has a right adjoint D : Equ → 0Equ, which is defined as follows. For every countably based T0-space X there exists an admissible representation δX : B ~ X. The subspace X0 = dom(δ) ⊆ B is a countably based 0-dimensional Hausdorff space. Now if X = (|X|, ≡X) is an equilogical space, let DX = (X0, ≡DX) where a ≡DX b if, and only if, δXa ≡X δXb. If f : X → Y is a morphism in Equ, tracked by g : |X| → |Y |, then Df is the morphism tracked by a continuous map h : X0 → Y0 that tracks g : X → Y , as shown in the following commutative diagram:
X0 	h	 Y0 

δX	δY
J	 J 
X	g	Y
Such a map h exists because δX and δY were chosen to be admissible repre- sentations. The main properties of the adjoints I E D are summarized in the following theorem.
Theorem 4.3
Functors I and D are a section and a retraction, i.e., D ◦ I is naturally equivalent to 10Equ.
I is full and faithful and preserves countable colimits and limits (which
are precisely all the limits and colimits that exist in Equ).
D is faithful and preserves countable limits and colimits (which are pre- cisely all the limits and colimits that exist in 0Equ).
D is not full, but its restriction to EPQ0 is full.
Proof. (i) This follows by a general category-theoretic argument from the fact that I is full and faithful, cf. the dual of [11, Proposition 3.4.1].
It is obvious that I is full and faithful since it is just the inclusion functor of a full subcategory. It preserves colimits because it is a left adjoint, and it preserves limits because the inclusion 0Dim → ωTop0 does.
It is obvious that D is faithful, and it preserves limits because it is a right adjoint. That D preserves finite colimits can be verified explicitly, and it also follows from [17, Proposition 2.5.11]. That D preserves countable coproducts holds because a countable coproduct of admissible representations is again an admissible representation.
If D were full then by [11, Proposition 3.4.3] it would follow that


the counit of the adjunction η : I ◦ D → 1Equ is a natural isomorphism, which obviously is not the case. For example, ηR is not a natural isomorphism, where
R are the real numbers equipped with the Euclidean topology, because every morphism R → I(DR) is constant, as it must be tracked by a continuous map from R into the 0-dimensional Hausdorff space |I(DR)|. However, when D is restricted to EPQ0 then we can show that it is full as follows. Suppose X, Y ∈ EPQ0, and let rX : X0 → |X| and rY : Y0 → |Y | be admissible representations. Suppose f : DX → DY is a morphism tracked by a continuous map g : X0 → Y0. The situation is shown in the following diagram:
X 	g	 Y 

rX	rY
J	h	J 

|X|
 |Y |


qX	qY
J	f	J 
X 	 Y 
Because qY is ω-projecting, f is tracked by an arrow h : |X|→ |Y | so that the lower square commutes. Therefore f is a morphism in Equ, hence Df = f . ✷
Remark 4.4 Since I and D both preserve all limits and colimits that exist, one wonders whether they have any further adjoints. 3 This does not seem to be the case. One might try embedding the categories Equ and Rep(B) into larger categories and extending I and D, in hope that the “missing” adjoint can be obtained that way. This idea was worked out in [2] for a general applicative retraction I E D between PER models. The PER models were embedded into suitable toposes of sheaves over PCAs. The adjunction I E D then extends to an adjunction at the level of toposes, with a further right adjoint. This makes it possible to apply the logical transfer principle from [3] to show that a certain class of first-order sentences is valid in the internal logic of Equ if, and only if, it is valid in the internal logic of Rep(B).
The next question to ask is whether I and D preserve any exponentials.
Theorem 4.5
Functor D restricted to EPQ0 preserves exponentials.
If X, Y ∈ 0Equ and there exists in ωTop0 a 0-dimensional weak exponen- tial of |X| and |Y |, then I preserves the exponential Y X.
Functor I preserves the natural numbers object N, the exponentials NN
and 2N, and the object Rc ofCauchy reals.

3 Note that Equ and 0Equ are only countably complete and cocomplete so that we cannot directly apply the Adjoint Functor Theorem.


Functor I does not preserve exponentials in general. In particular, it does not preserve NNN .
Proof. (i) This follows from results obtained in Section 5, and so we postpone the proof until then. It can be found on page 16.
If W ∈ 0Dim is a weak exponential of X and Y in ωTop0, then it is also a weak exponential of X and Y in 0Dim. Therefore, the construction of Y X from W in Equ, as described in Section 2coincides with the one in 0Equ.
The Baire space NN and the Cantor space 2N both satisfy the condition from (ii). The real numbers object Rc is a regular quotient of N × 2N [4, Proposition 5.5.3], and the left adjoint I preserves it because it preserves N, 2N, products, and coequalizers.
Let X = NNN in 0Equ, and let Y = NNN in Equ. The space |X| is a Hausdorff space. The space |Y | is the subspace of the total elements of the Scott domain DY = [N⊥ω → N⊥]. The equivalence relation on |Y | is the consistency relation of DY restricted to |Y |. Suppose f : |Y | → |X| repre- sented an isomorphism, and let g : |X|→ |Y | represent its inverse. Because f is monotone in the specialization order and |X| has a trivial specialization order, a ≡Y b implies fx = fy. Therefore, g ◦ f : |Y | → |Y | is an equivariant retraction. By [4, Proposition 4.1.8], Y is a topological object. By [4, Corol- lary 4.1.9], this would mean that the topological quotient  Y  is countably based, but it is not, as is well known. Another way to see that Y cannot be topological is to observe that Y is an exponential of the Baire space, but the Baire space is not exponentiable in ωTop , and in particular NNN is not a topological object in Equ.	✷
Remark 4.6 In [2] we used a logical transfer principle between Equ and
Rep(B) to prove that I does not preserve R Rc either.
As already mentioned in the introduction, we could obtain the results of this section by applying Longley’s theory of applicative adjunctions between applicative morphisms of partial combinatory algebras [17]. Lietz [16] used this approach to compare the realizability toposes RT(PN) and RT(B).

A Common Subcategory of Equ and Rep(B)
In Sections 2 and 3 we saw that sequential spaces contain cartesian closed subcategories PQ0 and AdmSeq which are also cartesian closed subcategories of Equ and Rep(B), respectively. In this section we prove that PQ0 and AdmSeq are the same category.
Lemma 5.1 Suppose B = Bi  i ∈ N  is a countable pseudobase for a space
Y . Let X be a ﬁrst-countable space and f : X → Y a continuous map. For every x ∈ X and every neighborhood V of fx there exists a neighborhood U of x and i ∈ N such that fx ∈ f (U ) ⊆ Bi ⊆ V .

Proof. Note that the elements of the pseudobase do not have to be open sets, so this is not just a trivial consequence of continuity of f . We prove the lemma by contradiction. Suppose there were x ∈ X and a neighborhood V of fx such that for every neighborhood U of x and for every i ∈ N, if Bi ⊆ V then f∗(U ) /⊆ Bi. Let U0 ⊇ U1 ⊇ · · · be a descending countable neighborhood system for x. Let p : N → N be a surjective map that attains each value infinitely often, that is for all k, j ∈ N there exists i ≥ k such that pi = j. For every i ∈ N, if Bpi ⊆ V then f∗(Ui) /⊆ Bpi. Therefore, for every i ∈ N there exists xi ∈ Ui such that if Bpi ⊆ V then fxi /∈ Bpi. The sequence ⟨xn⟩n∈N converges to x, hence ⟨fxn⟩n∈N converges to fx. Because B is a pseudobase there exists j ∈ N such that Bj ⊆ V and ⟨fxn⟩n∈N is eventually in Bj, say from the k-th term onwards. There exists i ≥ k such that pi = j. Now we get fxi ∈ Bpi ⊆ V , which is a contradiction.	✷
Theorem 5.2 PQ0 and AdmSeq are the same category.
Proof. It was independently observed by Schro¨der that PQ0 is a full subcat- egory of AdmSeq, which is the easier of the two inclusions. The proof goes as follows. Suppose q : X → Y is an ω-projecting quotient map. We need to show that Y is a sequential space with an admissible representation. It is sequential because it is a quotient of a sequential space. There exists an admissible representation δX : B ~ X. Let δY = q ◦ δX. Suppose f : B ~ Y is a continuous partial map. Because q is ω-projecting f lifts though X, and because δX is an admissible representation, it further lifts through B.
It remains to prove the converse, namely that if a sequential T0-space X has an admissible representation then there exists an ω-projecting quotient q : Y → X. Since X has an admissible representation it has a countable pseudobase B = Bi i ∈ N , by Theorem 3.8. The powerset PN ordered by inclusion is an algebraic lattice. We equip it with the Scott topology, which is generated by the subbasic open sets ↑n = a ∈ PN n ∈ a , n ∈ N. Let q : PN ~ X be a partial map defined by
qa = x ⇐⇒
(∀ n ∈ a.x ∈ Bn) ∧∀ U ∈ O(X) . (x ∈ U =⇒ ∃ n ∈ a. Bn ⊆ U ) .

The map q is well defined because qa = x and qa = y implies that x and y share the same neighborhoods, so they are the same point of the T0-space X. Furthermore, q is surjective because B is a pseudobase. To see that p is continuous, suppose pa = x and x ∈ U ∈ O(X). There exists n ∈ N such that x ∈ Bn ⊆ U . If n ∈ b ∈ dom(p) then pb ∈ Bn ⊆ U . Therefore, a ∈ ↑n and p∗(↑n) ⊆ Bn ⊆ U , which means that p is continuous. Let Y = dom(p).
Let us show that q : Y → X is ω-projecting. Suppose f : Z → X is a continuous map and Z ∈ ωTop0. Define a map g : Z → PN by
gz =  n ∈ N  ∃ U ∈ O(Z) . (z ∈ U ∧ f∗(U ) ⊆ Bn)} .


The map g is continuous almost by definition. Indeed, if gz ∈ ↑n then there exists a neighborhood U of z such that f∗(U ) ⊆ Bn, but then g∗(U ) ∈ ↑n. To finish the proof we need to show that fz = p(gz) for all z ∈ Z. If n ∈ gz then fz ∈ Bn because there exists U ∈ O(Z) such that z ∈ U and f∗(U ) ⊆ Bn. If fz ∈ V ∈ O(X) then by Lemma 5.1 there exists U ∈ O(Z) and n ∈ N such that z ∈ U and f∗(U ) ⊆ Bn ⊆ U . Hence, n ∈ gz. This proves that fz = p(gz).	✷
Remark 5.3 Matthias Schro¨der has showed recently that if a sequential T0- space X arises as a topological quotient of a subspace of B, then X has an admissible representation. This result implies Theorem 5.2, and also gives a very nice characterization of PQ0: it is precisely the category of all T0-spaces that are topological quotients of countably based T0-spaces (and a similar characterization holds when the T0 condition is dropped).
The relationships between the categories are summarized by the following diagram:
Se,q ,	,,,_Eq u  PER(PN)

,,,,,,,,
,,,,,,,,
ωTop 	 PQ  =	,,
¸¸¸¸¸¸¸¸
¸¸¸¸¸¸¸¸
,,

I E D


(1)

¸	J 
0Equ  Rep(B)  PER(B)
The unlabeled arrows are full and faithful inclusions, preserve countable limits, and countable coproducts. The inclusion ωTop0 → PQ0 preserves all exponen- tials that happen to exist in ωTop0, and the other three unlabeled inclusions preserve cartesian closed structure. The right-hand triangle involving the two inclusions and the coreflection D commutes up to natural isomorphism (and the one involving the inclusion I does not).
We still owe the proof of Theorem 4.5(i), namely, that D restricted to EPQ0 preserves exponentials. But this is now obvious, since the right-hand triangle involving D commutes.
Transfer Results between Equ and Rep(B)
The correspondence (1) explains why domain-theoretic computational models agree so well with computational models studied by TTE—as long as we only build spaces by taking products, coproducts, exponentials, and regular subspaces, starting from countably based T0-spaces, we remain in PQ0, the common cartesian closed core of equilogical spaces and TTE.
As a first example of a transfer result, we translate a characterization of Kleene-Kreisel countable functionals [12] from Equ to Rep(B). In [6] we proved that the iterated exponentials N, NN, NNN , . . . of the natural numbers object N


in Equ are precisely the Kleene-Kreisel countable functionals. Because N is the natural numbers object in Rep(B) as well, and it belongs to PQ0, the same hierarchy appears in Rep(B).
Proposition 6.1 In Rep(B), the hierarchy of exponentials N, NN, NNN , ..., built from the natural numbers object N, corresponds to the Kleene-Kreisel countable functionals.
As a second example, we consider transfer between the internal logics of Equ and Rep(B). Because Equ and Rep(B) are equivalent to realizability models PER(PN) and PER(B), respectively, they admit a realizability inter- pretation of first-order intuitionistic logic. This has been worked out in detail in [4]. It is often advantageous to work in the internal logic, because it lets us argue abstractly and conceptually about objects and morphisms. We never have to mention explicitly the realizers of morphisms or the underlying topo- logical spaces, which makes arguments more perspicuous. Every map that can be defined in the internal logic is automatically realized (and computable, if we work with the computable versions of the realizability models).
Suppose we want to use internal logic to construct a particular map f : X → Y where X, Y ∈ PQ0. For example, we might want to define the definite in- tegration operator I : R[0,1] → R,


If =
1
f (x) dx .
0

It may happen that X and Y are much more amenable to the internal logic of Rep(B) than to the internal logic of Equ, or vice versa. In such a case we can pick whichever internal logic is better and work in it, because if a map f : X → Y is definable in one internal logic, then it exists as a morphism in both Equ and Rep(B).
Let us see how this applies in the case of definite integration. The real num- bers R are much better behaved in Rep(B) than in Equ, because R can be char- acterized in the internal logic of Rep(B) as the Cauchy complete Archimedean ﬁeld, which gives us all the properties of R we could wish for. On the other hand, in the internal logic of Equ, R does not seem to be characterizable at all, and it does not even satisfy the Archimedean axiom
∀ x ∈ R . ∃ n ∈ N .x < n ,
because in Equ there is no continuous choice map c : R → N that would satisfy x < cx for all x ∈ R. 4 This makes it impractical to argue about R in the internal logic of Equ. The situation with the space R[0,1] of continuous real function on the unit interval is similar—it is much better behaved in

4 The Archimedean axiom is valid in Rep(B) because there is a continuous choice map
|DR|→ N such that [a] < ca for all a ∈ |DR|, where [a] the real number represented by the realizer a. The point is that ca may depend on the realizer a.


the internal logic of Rep(B) than in the internal logic of Equ. In particular, in Rep(B) the statement “every map f : [0, 1] → R is uniformly continuous” is valid, whereas it is not valid in the internal logic of Equ. This makes it clear that the internal logic of Rep(B) is the better choice. Indeed, in the internal logic of Rep(B) definite integral may be defined in the usual way as a limit of Riemann sums. The convergence of Riemann sums can then be proved constructively because Rep(B) “believes” that all maps from [0, 1] to R are uniformly continuous. Once we have constructed the definite integral operator I : R[0,1] → R in Rep(B), we can transfer it to Equ via PQ0.

Conclusion
Let me conclude by commenting on the following comparison of domain theory and TTE from Weihrauch’s recently published book on computable analysis [27, Section 9.8, p. 267]:
“The domain approach developed so far is consistent with TTE. Roughly speak- ing, a domain (for the real numbers) contains approximate objects as well as precise objects which are treated in separate sets in TTE. A computable do- main function must map also all approximate objects reasonably. In many cases, constructing a domain which corresponds to given representation still is a diffi- cult task. Concepts for handling multi-valued functions and for computational complexity have not yet been developed for the domain approach. The elegant handling of higher type functions in domain theory can be simulated in TTE by means of function space representations [δ → δ'] (Definition 3.3.13). To date, there seems to be no convincing reason to learn domain theory as a prerequisite for computable analysis.”
The present paper provides a precise mathematical comparison of TTE and the domain approach, as exemplified by equilogical spaces. The corre- spondence (1) gives us a clear picture about the relationships between the domain approach and TTE. Overall, it supports the claim that these two ap- proaches are consistent, at least as far as computability on PQ0 is concerned. Indeed, domains are built from the approximate as well as the precise objects, and I join Weihrauch in pointing out that it is a good idea to distin- guish the precise objects from the approximate ones. In domain theory this is most easily done by taking seriously domains with totality, or more generally PERs on domains, which leads to the notion of equilogical spaces and domain
representations, which were studied by Blanck [10].
I hope that the adjoint functors I and D between Equ and Rep(B) will ease the task of constructing a domain which corresponds to a given representation. Power-domains are the domain-theoretic models of non-deterministic com-
putation, and I believe they could be used to model multi-valued functions.
In this paper we did not consider the computational complexity or even computability in Equ and Rep(B). In [4] the inclusion Rep(B) → Equ and its coreflection are constructed for the computable versions of equilogical spaces

and TTE, from which we may conclude that computability in domain theory is essentially the same as in TTE.
By Theorem 4.5, the higher type function spaces in equilogical spaces do not generally agree with the corresponding function space representations in TTE. However, the two approaches to higher types do agree on an impor- tant class of spaces, namely the category PQ0, which contains all countably based T0-spaces, therefore also all countably based continuous and algebraic domains. Higher types seem not to catch a lot of interest in the TTE com- munity. This may be because the descriptions of higher types in terms of representations can get quite unwieldy and are hard to work with. The the- ory of cartesian closed categories and the internal logic of Rep(B) ought to be helpful here, as they allows us to talk about the higher types abstractly, without having to refer to their representations all the time. After all, higher types cannot be ignored in computable analysis: real numbers are a quotient of type 1, integration and differentiation operators have type 2, solving a dif- ferential equation is a type 3 process, and still higher types are reached when we study spaces of distributions and operators on Hilbert spaces.
Finally, is there a convincing reason to learn domain theory as a prereq- uisite for computable analysis? By Theorem 4.2, Rep(B) is a full subcategory of Equ. This may suggest the view that the domain approach is more general than TTE. At any rate, they are not competing approaches. They fit with each other very well, and each has its advantages: domain theory handles higher types more elegantly and is more general than TTE, whereas TTE provides a more convenient internal logic and handles questions about com- putational complexity better. So why not learn both, and a bit of category theory, realizability, and constructive logic on top?
References
Amadio, R. and P.-L. Curien, “Domains and Lambda-Calculi,” Cambridge Tracts in Theoretical Computer Science 46, Cambridge University Press, 1998.
Awodey, S. and A. Bauer, Sheaf toposes for realizability (2000), available at
http://andrej.com/papers.
Awodey, S., L. Birkedal and D. Scott, Local realizability toposes and a modal logic for computability, in: L. Birkedal, J. van Oosten, G. Rosolini and D. Scott, editors, Tutorial Workshop on Realizability Semantics, FLoC’99, Trento, Italy, 1999, Electronic Notes in Theoretical Computer Science 23 (1999).
Bauer, A., “The Realizability Approach to Computable Analysis and Topology,” Ph.D. thesis, Carnegie Mellon University (2000), available as CMU technical report CMU-CS-00-164 and at http://andrej.com/thesis.
Bauer, A. and L. Birkedal, Continuous functionals of dependent types and equilogical spaces, in: Computer Science Logic 2000, 2000, available at http:
//andrej.com/papers.


Bauer, A., L. Birkedal and D. Scott, Equilogical spaces, Preprint submitted to Elsevier (1998).
Berger, U., Total sets and objects in domain theory, Annals of Pure and Applied Logic 60 (1993), pp. 91–117, available at http://www.mathematik. uni-muenchen.de/~berger/articles/apal/diss.dvi.Z.
Berger, U., “Continuous Functionals of Dependent and Transitive Types,” Habilitationsschrift, Ludwig-Maximilians-Universita¨t Mu¨nchen (1997).
Berger, U., Effectivity and density in domains: A survey, Electronic Notes in Theoretical Computer Science 23 (2000).
Blanck, J., “Computability on Topological Spaces by Effective Domain Representations,” Ph.D. thesis, Department of Mathematics, Uppsala University (1997).
Borceux, F., “Handbook of Categorical Algebra I. Basic Category Theory,” Encyclopedia of Mathematics and Its Applications 51, Cambridge University Press, 1994.
Kleene, S., Countable functionals, in: Constructivity in Mathematics, 1959, pp. 81–100.
Kleene, S. and R. Vesley, “The Foundations of Intuitionistic Mathematics, especially in relation to recursive functions,” North-Holland Publishing Company, 1965.
Kreitz, C. and K. Weihrauch, Theory of representations, Theoretical Computer Science 38 (1985), pp. 35–53.
Kuratowski, C., “Topologie,” Warszawa, 1952.
Lietz, P., Comparing realizability over Pω and K2 (1999), available at http:
//www.mathematik.tu-darmstadt.de/~lietz/comp.ps.gz.
Longley, J., “Realizability Toposes and Language Semantics,” Ph.D. thesis, University of Edinburgh (1994).
Menni, M. and A. Simpson, The largest topological subcategory of countably- based equilogical spaces, in: Preliminary Proceedings of MFPS XV, 1999, available at http://www.dcs.ed.ac.uk/home/als/Research/.
Menni, M. and A. Simpson, Topological and limit-space subcategories of countably-based equilogical spaces (2000), submitted to Math. Struct. in Comp. Science.
Normann, D., Categories of domains with totality (1998), available at http:
//www.math.uio.no/~dnormann/.
Normann, D., The continuous functionals of ﬁnite types over the reals, Preprint Series 19, University of Oslo (1998).


Schro¨der, M., Extended admisibility (2000), to appear in Theoretical Computer Science.
Scott, D., A new category? (1996), unpublished Manuscript. Available at http:
//www.cs.cmu.edu/Groups/LTC/.
Stoltenberg-Hansen, V., I. Lindstro¨m and E. Griffor, “Mathematical Theory of Domains,” Number 22 in Cambridge Tracts in Computer Science, Cambridge University Press, 1994.
Weihrauch, K., Type 2 recursion theory, Theoretical Computer Science 38
(1985), pp. 17–33.
Weihrauch, K., “Computability,” EATCS Monographs on Theoretical Computer Science 9, Springer, Berlin, 1987.
Weihrauch, K., “Computable Analysis,” Springer-Verlag, 2000.
