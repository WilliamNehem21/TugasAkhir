Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 352 (2020) 173–190
www.elsevier.com/locate/entcs
Continuous Monads
Ernie Manes 1
Department of Mathematics and Statistics University of Massachuseetts at Amherst USA

Abstract
Continuous monads are an axiomatic class of submonads of the double power set monad. ρ-sets are an axiomatic generalization of directed sets. The ρ-generalization of continuous lattices arises as the algebras of a continuous monad and conversely. Each ρ-continuous poset has two topologies which respectively generalize the Scott and Lawson topologies. Each ρ-contnuous lattice is compact in the canonical topology if and only if the corresponding continuous monad contains the ultrafilter monad.
Keywords: continuous monad, conditional suprema, continuous lattice, completely distributive lattice, Scott monad


Introduction
The vitality of the 1980 six-author Compendium of Continuous Lattices [3] stems, in part, by invoking two distinct traditions. With the Scott topology, the partial order x ≤ y in a continuous lattice is interpreted to mean that “y has at least as much information as x”. A “set of finite approximations of f ” forms a directed set whose supremum f is the semantics of the computation. This is the forerunner of “domain theory” (cf [1], [4] and others). On the other hand, a continuous lattice with the Lawson topology is a particular type of compact topological semilattice, part of the very different tradition of topological algebra.
Recall that a continuous lattice is a complete lattice satisfying x = W{y : y  x}
for all x, where the way below relation y   x means that for all directed D, if
x ≤ W D then there exists d ∈ D with y ≤ d. If X is a continuous lattice then
U ⊂ X is Scott open if U is an upper set (i.e. x ≥ u ∈ U ⇒ x ∈ U ) and if whenever
D ⊂ X is directed with W D ∈ U then U ∩ D /= ∅. These form the open sets of the
Scott topology.

1 Email: egmanes@gmail.com

https://doi.org/10.1016/j.entcs.2020.09.009
1571-0661/© 2020 The Author(s). Published by Elsevier B.V.
This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).

In any category, given a subcategory M, an object I is M-injective if given
I	f	m
→−− X −−→ Y with m ∈M there exists g : Y → I with gm = f . Let CLσ be the
category of continuous lattices and morphisms which preserve directed suprema. In the seminal paper [10], Dana Scott proved that CLσ is isomorphic (via the Scott topology) to the full subcategory of To-spaces and continuous maps of all M- injective objects where M is the subcatgory of subspace inclusions. That the Scott topology determines the partial order is seen from x ≤ y ⇔ x ∈ {y}.
Given a continuous lattice, the topology of open sets generated by the Scott open sets and the complements (↑ x)j of the principal upper sets is called the Lawson topology. The Lawson topology is compact Hausdorff. On a continuous lattice, the Lawson topology determines the Scott topology since the Scott open sets are the Lawson open upper sets. The partial order is not determined by the Lawson topology since the 4-element Boolean algebra and the 4-element chain are different continuous lattices with the same Lawson topology. Let CLλ be the subcategory of CLσ again with all continuous lattices as objects, but with morphisms that also preserve arbitrary infima. Via the Lawson topology, CLλ is a full subcategory of the category of compact Hausdorff topological semilattices with continuous semilattice homomorphisms as morphisms.
This preliminary report is based on the following idea. Alan Day [2] and Os- wald Wyler [11] have independently shown that CLλ is isomorphic to the category of algebras of the filter monad. The filter monad is a member of the broader class of continuous monads whose algebras are cousins to continuous lattices. There, directed sets are replaced by ρ-sets with ρ characteristic of the particular monad. These new posets have two topologies, the Sierpin´ski topology and the canonical topology which respectively recover the Scott and Lawson topologies when the con- tinuous monad is the filter monad.
We give specific examples (see Table 5) and shall develop tools to find other examples.
As a rule, deep results for topological semigroups require compactness (see [7]). Continuous monads whose algebras have compact Hausdorff canonical topology are characterized in Theorem 8.12.
We thank the referees for helpful suggestions.
Continuous Monads
We begin by reminding the reader of fundamental definitions.
Definition 2.1 A monad T in a category K is T = (T, η, μ) with T : K → K a functor and η : id → T , μ : TT → T natural transformations subject to the equations μ(ηT )= idT = μ(Tη) and μ(Tμ)= μ(μT ).
Definition 2.2 If T = (T, η, μ) is a monad in K, a T-algebra is (X, ξ) with ξ : TX → X satisfying ξ ηX = idX and ξ μX = ξ(Tξ). Here, ξ is the structure map of the algebra. A T-homomorphism f : (X, ξ) → (Y, θ) is a morphism f : X → Y satisfying θ(Tf ) = fξ. This gives rise to the category KT of T-algebras with

underlying functor KT → K.
Let T be an object function ob(K) → ob(K) and let ηX : X → TX be a morphism for each X. Given morphisms μX : TTX → TX, to establish that (T, η, μ) is a monad, one must define Tf : TX → TY for each f and prove two axioms to show that T is a functor; there are two more axioms to show η and T are natural; then, in verifying the remaining three axioms, one must chase elements of TTTX (if K is the category of sets) which is horrendous, say, if TX is the set of filters on X.
There is a well-known equivalent definition of a monad, T = (T, η, (·)#) where again T is an object function ob(K) → ob(K) and ηX is a morphism X → TX together with a new operator f : X → TY '→ f # : TX → TY subject to a total of three axioms in which T is never iterated. The axioms are f #ηX = f , (ηX )# = idTX 

f
and for X −−→
Y −−→ Z, (g#
f )#
= g#f
#. Here, (X, ξ) is an algebra if ξ ηX = idX

and if given f, g : W → TX with ξf = ξg then also ξf # = ξg#.
The correspondences between the definitions are as follows. f # = TX	Tf 
μY	f	ηY	#	#

TTY −−→ TY , Tf = (X −−→ Y −−→ TY ) , μX = (idTX )
. (X, ξ) is an algebra

for (T, η, μ) if and only if it is an algebra for (T, η, (·)#). We will often use both viewpoints and think of a monad as (T, η, μ, (·)#).
In this paper we will be interested only in monads in the category Set of sets and (total) functions.
Example 2.3 The monad B = (B, η, μ, (·)#) is defined by
BX = 22X
ηX x = prin(x) = {A ⊂ X : x ∈ A}

f
For X −−→
Y, (Bf )A = {D ⊂ Y : f−1D ∈ A}
μX (H)= {A ⊂ X : 2A ∈ H} where 2A = {A ∈ BX : A ∈ A}

f
For X −−→
BY, f #(A)= {B ⊂ Y : {x : B ∈ fx}∈ A}



Definition 2.4 Let T be a monad in Set. If for each set X, we are given SX ⊂ TX, then S is a submonad of T if S is closed under the monad operations, that is, if

f	#
x ∈ X then ηX x ∈ SX and, if f : X → SY , then (X −−→ SY ⊂ TY )
into SY . In that case, (S, η, (·)#) is a monad in its own right.
maps SX

Given a group, a subset is or is not a subgroup accordingly as it is closed under the group operations. The situation with submonads is exactly the same. For T a monad in Set, given SX ⊂ TX for every set X, S either is or is not a submonad S of T.
It is obvious that any intersection of submonads is a submonad.
Definition 2.5 For A ∈ BX, let Ac = {D ⊂ X : ∃A ∈ A D ⊃ A}. Then A is closed under supersets if and only if A = Ac. For F ∈ BX, F is a filter on X if

∅ /= F = Fc and if the intersection of two elements of F is again in F. The unique filter with ∅ ∈ F is 2X and it is called the improper filter. All other filters are proper.
Example 2.6 FX = {F ∈ BX : F is a filter on X} is a submonad of B, the filter monad.
The papers of Day and Wyler already cited established that an F-algebra is a continuous lattice. Here, the structure map ξ : FX → X is ξ(F) = WA∈F  A. This type of “lim-inf” operator was central to Scott’s motivation in [10] to relate
the convergence to f of finite approximations of f as a topological limit (in the Scott
topology). We would hope that continuous monads will have this sort of structure. For more insight, let us recall that the algebras of a monad are a model of universal algebra [6]. We think of (TX, μX ) as the free algebra generated by X with inclusion of the generators ηX . If (Y, θ) is an algebra and f : X → Y is a function there exists a unique T-homomorphism ψ : (TX, μX ) → (Y, θ) with

ψ ηX
Tf 
= f , namely ψ = TX −−→
TY −−θ→ Y . The elements of free algebras are built

up recursively from variables given operations by applying operations to expressions already built. Now notice that a filter F on X satisfies

(1)
F = 
   prin(x)

A∈F x∈A
This shows how a filter is a lim-inf expression (noting that prin(x) is the typical variable) and suggests that the algebras should at least be complete lattices.
Not every submonad of B will be appropriate. In fact, B itself is far off. The
B-algebras are complete atomic Boolean algebras, with structure map ξ : BX → X, ξ(A) = W{x : x is an atom and ↑x ∈ A} (this is proved on pages 116-118 in [6])
and here there is no lim-inf in sight.
Now notice that F ∈ BX satisfies (1) if and only if F = Fc. This leads us to the definition of a pre-continuous monad.
Example 2.7 BcX = {A ∈ BX : A = Ac} is a submonad of B. We now define the central structure of this paper.
Definition 2.8 A continuous monad is a submonad of Bc satisfying the follow- ing three axioms.
(CM.1) If ∅ /= A ⊂ X, Prin(A) ∈ TX where Prin(A)= {A}c.
(CM.2) If A∈ TX then {2A : A ∈ A}c ∈ T (2X ).
(CM.3) If Ai ∈ TXi (i ∈ I) then {  Ai : Ai ∈ Ai}c ∈ T (  Xi).
A pre-continuous monad is a submonad of Bc satisfying (CM.1). For a submonad T of Bc, To is a submonad of T if ToX = {A ∈ TX : A /= 2X}. The proof is in Lemma 7.2. It is routine to check that To is pre-continuous if T is and is continuous if T is.
We will postpone the roles of (CM.2, CM.3) to later sections.

Example 2.9 Bc is a continuous monad.
Example 2.10 The filter monad F is a continuous monad.
Example 2.11 The neighborhood monad first defined in [5] is the submonad of Fo defined by NX = {F ∈ FoX :  F /= ∅}. For f : X → NY , for each x ∈ X let yx ∈ A for each A ∈ fx. Given F ∈ NX, let xo ∈ W for all W ∈ F and set y = yx . Consider W ∈ f #F. As {x : W ∈ fx} ∈ F, W ∈ f xo, so y ∈ W . This monad is continuous.
Example 2.12 Let βX be the set of ultrafilters on X. This is a submonad of the filter monad but it is not pre-continuous.
Example 2.13 IX = {A ∈ BcX : A has the finite intersection property} is a submonad of Bc. To see this, let A ∈ IX and let W1,..., Wk ∈ f #(A). Then Ai = {x : Wi ∈ fx}∈A so there exists x ∈ A1 ∩· · ·∩ Ak. For that x, all Wi ∈ fx so W1 ∩· · · ∩ Wk /= ∅ as needed. This monad is continuous.
We note that the empty family is a member of each IX. This is unavoidable as follows. Let P be a partition of a set X in such a way that there is a subset A of X which is not a union of blocks of P. Let f : X → X/P be the canonical projection. Then {A}∈ IX and (If ){A} = {W ⊂ X/P : f−1W = A} = ∅.
Routinely, every intersection of continuous monads is a continuous monad. This is an important general tool to construct examples. For example, given a particular ultrafilter there exists a smallest continuous monad containing that ultrafilter.
Nonempty Infima
In this section, we establish that every algebra of a pre-continuous monad is a partially ordered set with non-empty imfima.
The power set monad P = (P, η, μ) is well known, PX = 2X , ηXx =
{x}, μXA =   A.  Here for f : X → PY , f #A =  a∈A fa.  For example,

(g#
f )#
= g#f #
because both sides map A to
a∈A
b∈fa gb.

Notice that PoX = {A ∈ PX : A /= ∅} is a submonad of P. The following propo-
sition is unusual in that we are able to characterize that algebras of all submonads at once.
Proposition 3.1 Let T be a submonad of P. Then the category of T-algebras is isomorphic over Set to the category of partially-ordered sets (X, ≤) in which A ⊂ X has an inﬁmum whenever A ∈ TX. The morphisms are those functions which preserve such inﬁma.
Proof. Let D be the category of all posets (X, ≤) in which  A exists whenever A ∈ TX. A morphism f : (X, ≤) → (Y, ≤) in D must satisfy f ( A) = (f A) whenever A ∈ TX; notice that fA = (Tf )A indeed is in TY . Given (X, ≤) in D, define ξ : TX → X by ξA =  A. The T-algebra axioms on ξ are
ξ({x})= x for all x ∈ X

ξ(  A)= ξ{ξA : A ∈ A} for all A∈ TTX 
To see these axioms hold, ξ({x})= ∧{x} = x and, for A ∈ TTX, ξ({ξA : A ∈ A})= ξ({  A : A ∈ A})=  {  A : A ∈ A} =  (  A)= ξ(  A).
A T-homomorphism f : (X, ξ) → (Y, θ) must satisfy θ(Tf ) = fξ. This is precisely the statement that  (f A) = f ( A) for all A ∈ TX. It remains to show that for an arbitrary T-algebra (X, ξ) there exists a partial order ≤ for which (X, ≤) ∈D with ξ(A)=  A for all A ∈ TX. To that end, define x ∧ y = ξ{x, y}. Then x ∧ y = y ∧ x trivially and x ∧ x = ξ({x}) = x. To see this operation is associative,
x ∧ (y ∧ z)= ξ{ξ{x}, ξ{y, z}} = ξ{{x}∪ {y, z}} = ξ{x, y, z}
and (x∧y) ∧z = ξ{x, y, z} similarly. Thus (X, ≤) ia a poset with x ≤ y if x∧y = x. To complete the proof we must show that ξA =   A for arbitrary A ∈ TX. If
∅ ∈ TX then for all x ∈ X, x ∧ ξ∅ = ξ{ξ{x}, ξ∅} = ξ{{x}∪ ∅} = x so ξ∅ is indeed the greatest element, the empty infimum. Now let ∅ /= A ∈ TX. For a ∈ A, ξ{a, ξA} = ξ(A ∪ {a}) = ξ(A) so ξA ≤ a for all a ∈ A. Finally, suppose y ≤ a for all a ∈ A. Then we have ξ{y, ξA} = ξ{A ∪ {y}} = ξ( ({a, y} : a ∈ A) = ξ{ξ{a, y} : a ∈ A} = ξ{y} = y so ξA ≤ y and ξA =  A.	2
In the previous theorem, passing to the opposite order (X, ≤) '→ (X, ≥) is
an isomorphism of the category D with the category of posets (X, ≥) in which every A ∈ TX has a supremum, ξA = W A. It is only a matter of taste as to
whether ξA should be an infimum rather than a supremum. Since the structure
map μX : TTX → TX is the union map, our choice would seem in bad taste. The justification for the choice lies in the fact that we wish to represent submonads of P as submonads of Bc, identifying the subset A ⊂ X with its principal filter Prin(A)= {A}c ∈ BcX, and Prin is order reversing, A ⊂ W ⇔ Prin(A) ⊃ Prin(W ).
Proposition 3.2 τ : P → Bc, τX (A)= Prin(A) is a monad map, representing P
as a submonad of Bc.
Proof. For basic facts about monad maps we refer the reader to [6, Definition 2.2,

Proposition 2.15, Theorem 3.39]. We must prove that X ηX
τ
−−→
BcX  =

X	prinX	c
X	τX	c
PτX

−−−−−−→ B X and that PPX 
−−−−→ PX −−−−→ B X	=	PPX 
−−−−→

PBcX τBcX	c  c	μX	c
−−−−→ B B X −−−−→ B X. The first equality is obvious. For the second,
μX τBcX (P τX ) A = μX τBcX{Prin(A): A ∈ A}
= μX{B ⊂ BcX : {Prin(A): A ∈ A}⊂B 
= {W ⊂ X : {Prin(A): A ∈ A}⊂ 2W}
= {W ⊂ X : ∀ A ∈A A ⊂ W}
= {W ⊂ X :   A⊂ W} = τX (  A).
2
In general, if λ : S → T is a monad map and ξ : TX → X is a T-algebra,

then SX λX
ξ
TX −−→
X is an S-algebra. If T is a continuous monad, Po
is a

submonad of T by (CM.1). Thus every T-algebra (X, ξ) is a poset with non-empty infima  A = ξ(Prin(A)).
Proposition 3.3 If T is a continuous monad and X is any set, the poset (TX, ⊂)
is closed under non-empty intersections.

Proof. The non-empty infimum operation of (TX, μ
) is given by P TX	τTX 


μ
−−−−→
TX. This operation is
X	o	−−−−→

  Ai = μX{Prin(Ai)} = μX{B ⊂ TX : {Ai}⊂ B}
= {W ⊂ X : {Ai}⊂ 2W} = {W ⊂ X : W ∈ Ai for all i}
=  Ai
2
Let L denote the category of Po-algebras, that is, the category of posets with non-empty infima and morphisms which preserve these. We have the following “L- splitting lemma” which will find use below in Lemma 6.3, Proposition 6.4, Theorem 7.4, Lemma 8.5 and Corollary 7.6.
Lemma 3.4 Every surjective morphism in L splits.
Proof. Let f : X → Y be a surjective L-morphism and define g : Y → X by the non-empty infimum
gy =   {x : fx = y}
It is routine to check that g is a morphism with fg = idY .	2

Conditionals
The set FX of filters on X is {A ∈ BcX : A is directed in (2X, ⊃)}. New monads result by generalizing “directed set” to “ρ-set” according to the next definition. There are two definitions with two sets of axioms depending on whether or not a greatest element is desired in the semantics.
Definition 4.1 A pre-conditional for suprema is an assignment ρ to each poset (X, ≤) of a collection of subsets of X called ρ-sets in such a way that axioms (ρ.1, ρ.2, ρ.3) hold.
(ρ.1) Every subset with a greatest element is a ρ-set.
(ρ.2) The image of a ρ-set under an order-preserving map is a ρ-set. (ρ.3) If Ai is a ρ-set in (Xi, ≤i) then   Ai is a ρ-set in  (Xi, ≤i).
For a pre-conditional ρ, define
TρX = {A ∈ BcX : A is a ρ-set in (2X\{∅}, ⊃)}

TρX = {A ∈ BcX : A is a ρ-set in (2X, ⊃)}
With further axioms, these will be seen to be submonads of Bc which are contin-
uous. We note that if (ρ.2) holds then TρX ⊂ TρX. We say that a pre-conditional

ρ is a proper conditional if axioms (ρ.4, ρ.5) hold whereas ρ is an improper conditional if axioms (ρ.4, ρ.5) hold.

(ρ.4 | ρ.4) If {Ai : i ∈ I} is a ρ-set in (TρX, ⊂) | (TρX, ⊂) then  Ai ∈ TρX | TρX. (ρ.5 | ρ.5) If A ∈ TρX | TρX and Bx ∈ TρY | TρY for each x ∈ X then {D ⊂ Y :
{x : D ∈ Bx}∈ A} ∈ TρY | TρY .
Pre-conditionals, improper conditionals and proper conditionals each form a complete lattice with pointwise intersection as infimum. We name the following examples all of which are simultaneously improper conditionals and proper condi- tionals. Verification is routine.
Example 4.2 The least conditional is ρg where a ρg-set is a set with a greatest element.
The greatest conditional is ρa where all subsets are ρa-sets.
A ρc-set is a consistent set, that is, every finite subset has an upper bound. A ρb-set is a bounded set, that is, the whole set has an upper bound.
A ρd set is a directed set.
ρdb = ρd ∩ ρb.
ρ-Continuous Posets
Let ρ be a an proper conditional. A ρ-poset is a poset in which every non-empty subset has an infimum and every ρ-set has a supremum. Morphisms of ρ-posets must preserve non-empty infima and ρ-suprema. Let ρ be an improper conditional. The subcategory of improper ρ-posets has as objects all ρ-posets with a greatest element and whose morphisms also preserve the greatest element.
In a ρ-poset, define the ρ-below relation
x  ρ y ⇔ for D a ρ-set with   D ≤ y ∃ d ∈ D with x ≤ d
A ρ-continuous poset is a ρ-poset such that for all x there exists a ρ-set D
with D ⊂ {y : y  ρ x} such that x = W D. Morphisms preserve non-empty infima
and ρ-suprema. An improper ρ-continuous poset is a ρ-continuous poset with a greatest element. Morphisms must additionally preserve the greatest element.
Thus an improper ρd-continuous poset is but a continuous lattice and a ρd- continuous poset is but a dcpo with non-empty infima.
Regarding the following definition, note that we assume the axiom of choice.
Definition 5.1 A ρ-poset is completely ρ-distributive if it satisfies the equation
xjk =      xj,gj	(CDρ)
j∈J k∈K(j)	g j∈J
whenever J /= ∅, K(j) /= ∅ (j ∈ J ), g ∈  j∈J K(j) and all suprema are ρ-suprema.
In (CDρ), the left hand side is always ≥ the right hand side, so the equation holds if ≤ can be shown.
Before going further, we note that, in (CDρ), if the supremum on the left hand side is a ρ-supremum then the supremum on the right hand side necessarily also is

as follows. We assume Qj = {xjk : k ∈ K(j)} is a ρ-set for each j. By axiom (ρ.3), Q =  Qj is a ρ-set in XJ . Notice that (qj) ∈ Q ⇔ ∃f ∈  K(j) with qj = xj,fj. As J /= ∅,  : XJ → X exists and is order preserving so, by (ρ.2), the supremum on the right hand side is a ρ-supremum.
Theorem 5.2 A ρ-poset is ρ-continuous if and only if it is completely ρ- distributive.
Proof. The proof is very like that of [3, Theorem I.2.3] or [1, Theorem 7.1.1]. 2
The proof of the next lemma is obvious.
Lemma 5.3 Let ρ be a conditional for suprema as in Deﬁnition 4.1 and let X ⊂ 2Y , a poset under inclusion. Suppose that (X, ⊂) has non-empty intersections and ρ- suprema which are unions. Then (X, ⊂) is a completely ρ-distributive poset.
Example 5.4 Improper ρa-continuous posets are completely distributive lattices.
Universal-Algebraic Properties of ρ-Posets
Any category monadic over Set has the properties we study in this section which concern products, subalgebras and homomorphic images. We establish some of these properties for ρ-posets.
Proposition 6.1 Let ρ be a proper or improper conditional and let (Xi, ≤i) be ρ-posets (i ∈ I). Consider the product poset (X, ≤) = (Xi, ≤i) (with the coordi- natewise ordering) with projections πi : X → Xi. Then (X, ≤) is a ρ-poset if each (Xi, ≤i) is and then πi : (X, ≤) → (Xi, ≤i) is a product in the category of ρ-posets. If each (Xi, ≤i) is ρ-continuous then (X, ≤) also is.
Proof. πi : (X, ≤) → (Xi, ≤i) is a product in L. If A is a ρ-set in (X, ≤) then Ai = πiA is a ρ-set in (Xi, ≤i) by (ρ.2) so αi = Ai exists. As the partial order is coordinatewise, α = (αi) = A. Using similar reasoning, (CDρ) holds if it holds coordinatewise. The remaining details are routine.	2
Definition 6.2 Let ρ be a proper or improper conditional and let (X, ≤) be a ρ- poset, A ⊂ X. Say that A is a sub ρ-poset if it is closed under non-empty infima, if it contains the greatest element if ρ is improper, and if every ρ-set in A has its supremum in A. (In more detail: if B is a ρ-set in A it is a ρ-set in X so has a supremum in X which we require to be in A).
It is evident that if A is a sub ρ-poset then it is a ρ-poset in its owns right and that the inclusion of (A, ≤) in (X, ≤) is a morphism of ρ-posets. It is further clear that an instance of (CDρ) in A is also an instance of (CDρ) in X, so (A, ≤) is ρ-continuous if (X, ≤) is.
Lemma 6.3 Let ρ be a proper or improper conditional and let f : (X, ≤) → (Y, ≤) be a surjective morphism in L. Let C be a ρ-set of (Y, ≤). Then there exists a ρ-set A ⊂ X with fA = C.

Proof. By Lemma 3.4, there exists γ : (Y, ≤) → (X, ≤) in L with fγ = idY . Then
A = γC is a ρ-set and fA = fγC = C.	2
Proposition 6.4 Let ρ be a proper or improper conditional and let f : (X, ≤) →
p
(Y, ≤) be a morphism of ρ-posets with image factorization f = (X, ≤) −−→ (fX, ≤
) −−i→ (Y, ≤) (i an inclusion) in L. Then (fX, ≤) is a sub ρ-poset of (Y, ≤) and p : (X, ≤) → (fX, ≤) is a morphism of ρ-posets. Moreover, if (X, ≤) and (Y, ≤) are ρ-continuous, so too is (fX, ≤).
Proof. The result holds in L. As p is a surjective morphism in L, if B is a ρ-set in (fX, ≤) there exists a ρ-set A in (X, ≤) with fA = B by Lemma 6.3. Thus
f (W A)= W B in (Y, ≤). As f (W A) ⊂ fX, (fX, ≤) is closed under ρ-suprema. To
see (fX, ≤) is ρ-continuous, starting with (yjk) in (CDρ) for fX, use Lemma 6.3 to choose (xjk) with f (xjk)= yjk and each {xik : k ∈ K(j)} a ρ-set in (X, ≤). In this way, (CDρ) in X gives (CDρ) in fX.	2
Proposition 6.5 Let (X, ≤) be a ρ-poset and let R ⊂ X×X be an equivalence rela- tion which is alsoa sub-ρ-poset. Let θ : X → X\R be the canonical projection. Then there exists a unique ρ-poset structure on X\R such that θ : (X, ≤) → (X\R, ≤) is a morphism of ρ-posets.
Proof. There exists unique ≤ such that θ : (X, ≤) → (X\R, ≤) is a morphism in L. Let A ⊂ X be a ρ-set. There exists x ∈ X wih θa ≤ θx for all a ∈ A (for example,
let x = W A). For any such x, the map X → X, y '→ y ∧ x is order preserving,
so {a ∧ x : a ∈ A} is a ρ-set in (X, ≤). For a ∈ A, θ(a ∧ x) = θa ∧ θx = θa, so (a ∧ x, a) ∈ R for all a ∈ A. It follows that {(a ∧ x, a) : a ∈ A} is a ρ-set in
R with supremum (W(a ∧ x : a ∈ A), W A) ∈ R (noting that R is assumed closed
under ρ-suprema). Thus θ(W A) = θ(W(a ∧ x : a ∈ A) ≤ θx. This shows that
θ(W A)= W(θA) so X\R has and θ preserves ρ-suprema.	2
The Main Theorems
Definition 7.1 A submonad T of Bc is improper if 2X ∈ TX for all sets X and is otherwise proper.
Evidently, T is improper ⇔ {∅} ∈ T∅.
Lemma 7.2 Let T be an improper submonad of Bc. Then ToX = TX\{2X} is a proper submonad.
Proof. Let f : X → ToY , A ∈ ToX. Suppose 2X ∈ f #A. Then ∅ = {x : 2X ∈
fx}∈ A, the desired contradiction, so To is a submonad.	2
Theorem 7.3 If ρ is a proper conditional then Tρ is a proper continuous monad. If ρ is an improper conditional then Tρ is an improper continuous monad. Conversely, if T is a continuous monad then, accordingly as T is proper or improper there exists a largest proper conditional, respectively improper conditional ρ with T = Tρ,



respectively T = Tρ; for this ρ, A ⊂ (X, ≤) is a ρ-set if and only if {↑a : a ∈ A}c ∈
TX.
Proof. First assume that T is a continuous monad. For (ρ.1), If A ⊂ (X, ≤) with greatest element ao, {↑a : a ∈ A}c = Prin((↑ao)) ∈ TX by (CM.1).
For (ρ.2), let f : (X, ≤) → (Y, ≤) be monotone, A ⊂ X a ρ-set. We must show B = {↑fa : a ∈ A}c ∈ TY given that A = {↑a : a ∈ A}c ∈ TX. Define g : X → TY by gx = Prin(↑(fx)). This is well-defined by (CM.1). Then b ≥ a ⇒↑(f b) ⊂↑(fa) so
B = {D ⊂ Y : ∃ a ∈ A ↑(fa) ⊂ D}
= {D ⊂ Y : ∃ a ∈ A ∀ b ≥ a ↑(f b) ⊂ D}
= {D ⊂ Y : ∃a ∈ A {x :↑(fx) ⊂ D} ⊃ ↑a}
= {D ⊂ Y : {x : D ∈ gx}∈A 
= g#(A) ∈ TY 
For (ρ.3), let Ai be a ρ-set in (Xi, ≤i) so that {↑a : a ∈ Ai}c ∈ TXi. We must show  i(↑a : a ∈ Ai)c ∈ T (  Xi). We have
  (↑a : a ∈ Ai)c = {↑a : a ∈  Ai}c
i
= {A ⊂   Xi : ∃ a ∈   Ai ↑a ⊂ A}
= {A ⊂  Xi : ∀ i ∃ai ∈ Ai   ↑ai ⊂ A}
=  {(↑ai)c : ai ∈ Ai} ∈ T (  Xi)	(by CM.3)

We next show that T = Tρ given that {∅} ∈ T∅. The case that T = Tρ if
{∅} ∈/ T∅ is similar.

TρX = {A ∈ BcX : A is a ρ-set in (2X, ⊃)}
= {A ∈ BcX : {↑A : A ∈ A}c ∈ T (2X )}
= {A ∈ BcX : {2A : A ∈ A}c ∈ T (2X )}

so TX ⊂ TρX by (CM.2). Conversely, if A ∈ TρX, consider PrinX : 2X → TX 
mapping A to Prin(A). We have
(PrinX )#(↑A : A ∈ A}c = {D ⊂ X : {E ⊂ X : D ∈ Prin(D)}∈ {↑A : a ∈ A}c
= {D ⊂ X : ∃ A ∈A 2A ⊂ 2D}
= {D ⊂ X : ∃ A ∈A D ⊃ A}
= Ac = A

showing that TρX ⊂ TX.

In particular, Tρ or Tρ are submonads which gives (ρ.5) or (ρ.5). To complete the proof of one direction, we’ll show (ρ.4). The proof of (ρ.4) is similar. Let
{Ai : i ∈ I} be a ρ-set in (TρX, ⊂)= (TX, ⊂) so that {↑Ai : i ∈ I}c ∈ TTX. Then
  Ai = {D ⊂ X : ∃ i D ∈ Ai}
= {D ⊂ X : ∃ i 2D ⊃ ↑Ai}

= μX{↑Ai : i ∈ I}c ∈ TX = TρX
Now the converse statement. Let ρ be a proper conditional and show that Tρ is a continuous monad. The improper case is similar. Thus TρX = {A ∈ BcX : A is a ρ-set in (2X\{∅}, ⊃)}.
To show (CM.1), let ∅ /= A ⊂ X. Then Prin(A) ∈ TρX by (ρ.1) because A is the greatest elememt of Prin(A).
In particular, prin(x) ∈ TρX for x ∈ X. Together with (ρ.5) this shows that Tρ
is a submonad of Bc.
For (CM.2), the map f : (2X, ⊃) → (22X , ⊃), fA = ↑ 2A = {D : D ⊃ 2A} is order-preserving so by (ρ.2) maps a ρ-set A∈ TX to a ρ-set {2A : A ∈ A}c ∈ T (2X ). For (CM.3) let Ai ∈ TXi (i ∈ I) and show {  Ai : Ai ∈ Ai}c ∈ T (  Xi). By (ρ.3),  Ai is a ρ-set in  (2Xi \{∅}, ⊃). Using the axiom of choice, we have an
order-preserving map

(  (2Xi \{∅}), ⊃)	f
((2 Xi )\{∅}, ⊃)

defined by f (Ai) =   Ai. Thus {  Ai : Ai ∈ Ai} is a ρ-set in (2  Xi , ⊃). As
B '→ Bc is order-preserving, {  Ai : Ai ∈ Ai}c ∈ T (  Xi).
To complete the proof, we must show that if ρ is a proper conditional with Tρ^ = T then ρ ⊂ ρ. Let A ⊂ (X, ≤) be a ρ-set. Then the map f : (X, ≤) → (2X\{∅}, ⊃), fx = {A ⊂ X : A ⊃↑x} is order preserving so fA = {↑a : a ∈ A}c ∈ Tρ^X = TX and so A is a ρ-set.	2
Theorem 7.4 Let T be a continuous submonad of Bc and let ρ be the corresponding largest conditional of Theorem 7.3. If T is proper, its category of algebras SetT is the category of ρ-continuous posets. If T is improper, SetT is the category of improper ρ-continuous posets.
Proof. We know from Proposition 3.3 that TX is closed under non-empty inter- sections and by (ρ.4, ρ.4), ρ-suprema exist. Thus, by Lemma 5.3, (TX, ⊂) isa com- pletely ρ-distributive ρ-poset. For A ⊂ X with inclusion i : A → X, Ti : TA → TX maps A to {B ⊂ X : A ∩ B ∈ A}. Applying this to A = ∅, if ∅ ∈ T∅ then (Ti)∅ = ∅∈ TX so (TX, ⊂) has ∅ as least element. Also, if {∅} ∈ T∅, (Ti){∅} = 2X provides (TX, ⊂) with greatest element 2X . Thus (TX, ⊂) is an object of C(T, ρ), here defined to be the category of ρ-continuous posets if T is proper or the cat- egory of improper ρ-continuous posets if T is improper. Now let (Y, ≤) be an object of C(T, ρ) and let f : X → Y be a function. Claim that (TX, ⊂) is freely generated by X. For this, we must prove that there exists a unique morphism ψ : (TX, ⊂) → (Y, ≤) in C(T, ρ) with ψ prinX = f . Define such ψ by

(4)
ψ(A)= 
   fx 

A∈A x∈A
This map is well defined as follows. Define (PTX, ⊃) to be (2X\{∅}, ⊃) or (2X, ⊃
) accordingly as T is proper or improper. The map (P X, ⊃) → (Y, ≤), B '→
  B is order-preserving and so, for each B ∈ TY , maps the ρ-set B to the ρ-set
{∧B : B ∈ B}. For A ∈ TX, (Tf )A = {B ⊂ Y : f−1B ∈ A} ∈ TY . Thus

WA∈A x∈A fx = Wf−1B∈A B exists as desired. That ψ extends f is verified as follows: ψ(prin(x)) = Wx∈A  fA = prin(fx). Since A =  A∈A  x∈A prin(x), any
morphism extending f must agree with ψ on nonempty A. Since ψ∅ is the empty
supremum, ψ is indeed unique. To complete this part of the proof we must show that ψ preserves non-empty infima and ρ-suprema. The case of ρ-suprema is easy to verify:

ψ(  Ai)= 
i
For infima, the calculation is as follows.
   fx =   ψAi
A∈Ai x∈A	i

  ψAj  =	  fx =	 
     fx	(CDρ)

j	j A∈Aj x∈A
g∈ Aj
j x∈gj

ψ(  Aj)=		  fx 
j	A∈  Aj x∈A
If A ∈  j Aj, define g ∈  Aj as the constant function gj = A. Then  x∈A fx =
  j  x∈gj fx ≤  j ψAj so ψ(  j Aj) ≤  j ψAj. Conversely, let g ∈  j Aj. Then


j	x∈gj
fx = 

x∈∪gj
fx ≤ W

A∈∩Aj

x∈A
fx since ∪gj ∈ ∩Ac
= ∩Aj.  Thus

  j ψAj ≤ ψ(  Aj).
To finish the proof we must establish the “Beck coequalizer condition” which, here, means we must show that if (X, ξ) is a T-algebra then there exists a unique partial order ≤ such that (X, ≤) is an object of C(T, ρ) with ξ : (TX, ⊂) → (X, ≤) a morphism in C(T, ρ).  To that end, let R be the equivalence relation of ξ, R = {(A, B) ∈ TX × TX : ξA = ξB}. Let p, q : R → X be the two projec- tions and consider p#, q# : TR → TX. Since ξp# and ξq# are T-homomorphisms (TR, μR) → (X, ξ) which agree when preceded by prinR, ξp# = ξq#. Thus there exists a unique function θ : TR → R with pθ = p#, qθ = q#. As p, q are jointly monic, θ prinR = idR. (In fact, one easily goes on to prove that (R, θ) isa T-algebra, but we do not need this here). As a result, θ is surjective so that R is the image of [p#, q#]: TR → TX × TX and this map is a morphism in C(T, ρ) by Proposition
6.4. Now use Propositon 6.5.	2
One easily computes that the free continuous lattice on three elements has seven elements. In general, TX is finite if X is, so we have
Corollary 7.5 A ﬁnitely-generated ρ-continuous poset is ﬁnite.
The next result is well known for continuous lattices [3, Lemma I.1.12].
Corollary 7.6 Each ρ-continuous poset is ρ-meet continuous, that is, the law
(∨xi) ∧ x = ∨(xi ∧ x)   (MCρ)
holds whenever {xi} is a ρ-set.
Proof. The law trivially holds in (TX, ⊂) and such a law is preserved by quotients using Lemma 6.3.	2
Lemma 7.7 Let T be a continuous monad with largest conditional ρ with T = Tρ. Let A ⊂ (X, ≤) be a ρ-set and let B ⊂ X be such that A, B are mutually coﬁnal,

that is, for a ∈ A there is d ∈ D with a ≤ d and for d ∈ D there is a ∈ A with
d ≤ a. Then B is a ρ-set.
Proof. {↑a : a ∈ A}c = {↑b : b ∈ B}c.	2
Corollary 7.8 Let ρ be the largest conditional with T = Tρ for continuous T. If
(X, ≤) is a ρ-continuous poset and x ∈ X then {y : y   x} is a ρ-set. Thus for all x, x = W{y : y  ρ x}.
In view of the theory of this section, it is easy to establish the following table which identifies the conditionals for specific continuous monads. We have filled in the third column only in cases where there is an established name for the corre- sponding ρ-continuous poset in the literature.





(5)






The Sierpin´ski and Canonical Topologies
For a continuous monad T, its inclusion in Bc is a monad map which then induces a forgetful functor over Set from the category of completely distributive lattices to ρ-continuous posets. Such functors always preserve limits. It follows that 2 is canonically a ρ-continuous poset and that the power 2X is a product in three cat- egories, completely distributive lattices, ρ-continuous posets for T = Tρ and posets with non-empty infima. All three are the same as posets because the restriction to Po determines the infimum. Now via ξ, (X, ξ) is a quotient of the free algebra
X
(TX, μX ) which is in turn a subalgebra of the product algebra 22 . It follows that
the two-element algebra generates the variety of ρ-continuous posets in that every algebra is a quotient of a subalgebra of a power of 2. In the same way, each topol- ogy on 2 induces a topology on a T-algebra (X, ξ), namely TX has the subspace topology of the product topology and X then has the quotient topology.
Definition 8.1 Let (X, ξ) be a T-algebra. The Sierpin´ski topology on (X, ξ) is induced by the topology on 2 = {0, 1} in which {1} is open {2} is not. The canonical topology on (X, ξ) is induced by the discrete topology on 2.

We now explore some properties of these topologies.
Lemma 8.2 Let 2 have any topology and let TX → 22X have the subspace topology of the product topology where T is any submonad of B. Let f : X → Y be a function. Then Tf : TX → TY is continuous.
Proof. The monad inclusion ιX : TX → BX is a natural transformation giving rise, for A ⊂ Y , to the diagram

TX	iX
) BX

Tf	Bf
πf−1A

v	v
	)
TY	iY	BY	A	Y
The triangle shows Bf is continuous. As ιY is a subspace and (Bf )ιX is continuous,
Tf is continuous.	2
Lemma 8.3 Let T be a continuous monad. In both the Sierpin´ski and canonical topologies, TX is a subspace of 22X .
Proof. Consider the diagram

TTX 
μX	) TX 

ιTX 
v
B(ιX )

(ι monad map)	ιX
v
)	νX	)	X

BTX	BBX
BX = 22

Here, νX is continuous since it is continuous followed by each projection, πB νX = π2B. B(ιX ) is continuous by Lemma 8.2. Now let ιTX be a subspace and let μX be a quotient. We must show ιX is a subspace. Equivalently, instead let ιX be a subspace and prove that μX is a quotient. As ιXμX is continuous, μX is continuous. For prinX : X → TX, it is a monad law that μXT (prinX )= idTX . As T (prinX ) is continuous by Lemma 8.2, μX is split epic in Top, hence is a quotient map.   2
Proposition 8.4 Let S be a continuous monad which is a submonad of the contin- uous monad T. The following hold for a T-algebra (X, ξ) which is also, then, an

S-algebra SX  ιX
ξ
TX −−→
X where ι is the inclusion monad map.

SX is a subspace of TX in both the Sierpin´ski and canonical topologies.
If U ⊂ X is Sierpin´ski-open in (X, ξ) it is again Sierpin´ski-open in (X, ξ ιX ). Similarly for the canonical topology.
Proof. We have ιX is a subspace because jX and jX ιX are. For the second statement, if U ⊂ (X, ξ) is open (in either topology) then ξ−1U is open in TX so (ξ ιX )−1U = SX ∩ ξ−1U is open in SX since SX is a subspace of TX.	2
Let T be a continuous monad. For A1,..., Am, B1,.  , Bn ⊂ X, define

2(A1,..., Am)= {A ∈ TX : all Ai ∈ A},  2j(B1,..., Bn)= {A ∈ TX : all Bj ∈/ A}
By the definition of the cartesian product topology, a base for the Sierpin´ski topology on TX is all 2(A1,..., Am) whereas a base for the canonical topology on TX is all 2(A1,..., Am)   2j(B1,..., Bn).
Lemma 8.5 For a ρ-continuous poset (X, ξ), a Sierpin´ski-open set U ⊂ X is an upper set.
Proof. This is true in (TX, μX ) because 2(A1,..., Am) is an upper set and any union of upper sets is upper. Thus ξ—1U is an upper set. By Lemma 3.4 there exists order-preserving g : X → TX with ξg = idX . If u ∈ U and u ≤ v then gu ≤ gv with gu ∈ ξ—1U so gv ∈ ξ—1U and v = ξgv ∈ U .	2
Proposition 8.6 In a ρ-continuous poset, the order and the Sierpin´ski topology are related by {y} =↓y, that is, the order is the specialization order of its Sierpin´sky topology which is then necessarily To.
Proof. Let T be a continuous monad with algebra (X, ξ). For y ∈ X, ξ—1(↓y)= {A ∈ TX : ξ(A) ≤ y} = {A :     A ≤ y}
A∈A
If (Ai) isa net in ξ—1(↓y) which converges to A∈ TX then, for A ∈ A, A∈ 2A so Ai is eventually in 2A, that is, A is eventually in Ai. This shows  A ≤ y and, so, ξ—1(↓y) is Sierpin´ski-closed in TX. By Lemma 8.5, closed sets are lower sets. Thus
↓y is the smallest closed set containing y as needed.	2
In this paper, a compact space is not required to be Hausdorff. The constructions in the next proof mirror the approach of [11].
Theorem 8.7 Let T be a continuous monad. Then every algebra (X, ξ) is compact in its canonical topology if and only if every ultraﬁlter on X belongs to TX.
Proof. The usual beta-compactification of (discrete) X is realized as the set βX of all ultrafilters on X which is a subspace of the Cantor space 22X . First suppose that TX is compact. Then TX is a closed subspace of 22X . Let U ∈ βX. As X is dense in βX, there exists a net prin(x ) converging to U in 22X . As prin(x ) ∈ TX 
i	i
and TX is closed, this shows U ∈ TX. Conversely, we assume that β is a submonad of T inducing a forgetful functor Φ : SetT → Setβ. (It is well known that β is a submonad of Bc and that Setβ is the category of compact Hausdorff spaces). Φ maps the T-subalgebra TX of 22X to the closed subspace TX of the Cantor space so TX is compact in its canonical topology. As (X, ξ) is a quotient, it too is compact.2
Definition 8.8 A continuous monad T is a Scott monad if βX ⊂ TX for all sets
X.
Proposition 8.9 Let S be a Scott monad which is a submonad of the Scott monad
ι
T. The following hold for a T-algebra (X, ξ) and the resulting S-algebra SX

ξ
TX −−→ X where ι is the inclusion monad map.
The canonical topologies of (X, ξ) and (X, ξ ιX ) coincide and are compact Haus- dorff.
If S is an improper Scott monad, (X, ξ) and (X, ξ ιX ) are continuous lattices and the compact Hausdorff topology of (i) is the Lawson topology.
Proof. For (i), a continuous identity function from a compact space to a Hausdorff space must be a homeomorphism. For (ii), FX ⊂ SX by Proposition 3.3 because every proper filter is an intersection of ultrafilters.	2
It may seem puzzling that the Fo algebras, “continuous lattices without greatest element” remain compact in the canonical topology. This is explained by the fact that, in a continuous lattice, the greatest element is isolated in the Lawson topology.
Proposition 8.10 For a Scott monad T with largest conditional ρ. the following hold.
Every directed set is a ρ-set.
If (X, ξ) is a T-algebra, every subalgebra Q ⊂ X is closed in the canonical topology.
Proof. For (i), if A ⊂ (X, ≤) is directed then {↑x : x ∈ A}c is a filter and hence is in TX. For (ii), ξ—1 maps subalgebras to subalgebras so it suffices to show that each subalgebra Q ⊂ (TX, μX ) is closed in the canonical topology. Let (Ai) be a net in A which converges to A in TX. We have
A ∈ A ⇔ A is eventually in Ai
⇔ A ∈    Aj
i j≥i
But this union is a directed union hence is a ρ-supremum of infima which is again in the subalgebra Q.	2
The proof of our final result is left to the reader.
Proposition 8.11 Let T be a Scott monad, (X, ξ) an algebra, U ⊂ X. The fol- lowing are equivalent.
( (A∈ TX) ∧ (ξA∈ U )) ⇒ U ∈ A.
U =↑U and, for all ρ-sets D, W D ∈ U ⇒ U ∩ D /= ∅.
U is open in the Sierpin´ski topology.
In particular, a Sierpin´ski-open set is Scott-open.
Theorem 8.12 Let T be a continuous monad. Then every algebra (X, ξ) is com- pact in its canonical topology if and only if every ultraﬁlter on X belongs to TX.
Proof. The usual beta-compactification of (discrete) X is realized as the set βX of all ultrafilters on X which is a subspace of the Cantor space 22X . First suppose that TX is compact. Then TX is a closed subspace of 22X . Let U ∈ βX. As X is

dense in βX, there exists a net prin(x ) converging to U in 22X . As prin(x ) ∈ TX and TX is closed, this shows U ∈ TX. Conversely, we assume that β is a submonad of T inducing a forgetful functor Φ : SetT → Setβ. (It is well known that β is a submonad of Bc and that Setβ is the category of compact Hausdorff spaces). Φ maps the T-subalgebra TX of 22X to the closed subspace TX of the Cantor space so TX is compact in its canonical topology. As (X, ξ) isa quotient, it too is compact.2

References
S. Abramsky and A. Jung, Domain theory, in S. Abramsky, D. M. Gubbay and T. S. E. Maibaum (eds.), “Handbook of Logic in Computer Science”, vol. 3, Clarendon Press, Oxford (1994).
A. Day, Filter monads, continuous lattices and closure systems, Canadian Journal of Mathematics
XXVII (1975), 50–59.
G. Giertz, K. H. Hofmann, K. Keimel, J. D. Lawson, M. Mislove and D. S. Scott, “A compendium of continuous lattices”, Springer-Verlag, Berlin, Heidelberg and New York (1980).
C. Gunter, “Semantics of Programming Languages: Structures and Techniques”, MIT Press (1992).
E. G. Manes, A class of fuzzy theories, Journal of Mathematical Analysis and its Applications 85
(1982), 409–451.
E. G. Manes, Monads of sets, in M. Hazewinkel (ed.), Handbook of Algebra, Vol. 3, Elsevier Science B.V., Amsterdam (2003), 67–153.
K. H. Hofmann and P. M. Mostert, ”Elements of Compact Semigroups”, Charles E. Merrill, Columbus, Ohio (1966).
G. Markowski, Free completely distributive lattices, Proceedings of the American Mathematical Society
76 (1979), 227–228.
G. Raney, Completely distributive lattices, Proceedings of the American Mathematical Society 3, Number 5 (1952), 677–680.
D. S. Scott, Continuous lattices, Lecture Notes in Mathematics 871, Springer-Verlag, Berlin, Heidelberg and New York, (1972), 97–136.
O. Wyler, Algebraic theories of continuous lattices, Lecture Notes in Mathematics 871, Springer-Verlag, Berlin, Heidelberg and New York, (1981), 390–413.
