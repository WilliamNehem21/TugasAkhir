

Electronic Notes in Theoretical Computer Science 270 (1) (2011) 147–154
www.elsevier.com/locate/entcs

On Orthomodular Posets Generated by Transition Systems
Luca Bernardinello1 Lucia Pomello1 Stefania Rombol`a1
Universit`a degli studi di Milano–Bicocca DISCo–viale Sarca 336, U14–20126 Milano (Italy)

Abstract
We study orthomodular structures formed by some sets of states of finite transition systems. These sets, called regions, can be interpreted as local states of a distributed, concurrent system, that can be modelled by a Petri net. The main result shows that such orthomodular structures have enough elements to represent meets of certain subsets of elements.
Keywords: concurrency, Petri nets, orthomodular posets, quantum logic


Introduction
We study a class of orthomodular structures arising from finite automata. The elements of such structures are defined as certain subsets of the set of states of an automaton. These subsets can be interpreted as local states, in contrast to the given global states of an automaton, in a sense which will be explained in the following. This line of research comes from our interest in the theory of Petri nets, a formal model of concurrent and distributed systems, introduced by Carl Adam Petri with the aim of building a theory of systems embodying principles derived from modern physics, specifically from the special theory of relativity and from
quantum mechanics ([4]).
A Petri net models a system in terms of local states (conditions) and local changes of state, or events ([5], [6]). Events are fully characterized by the changes that their occurrences produce in the local states of a system: the conditions which were true before the occurrence of an event e, and become false afterwards, are the preconditions of e, while the conditions which were false and become true are the postconditions.

1 This work has been partially supported by MIUR

1571-0661 © 2011 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2011.01.013

In this way, the model explicitly captures the relations of causal dependence, replacing temporal order by causal order, and simultaneity by concurrency.
Building on these simple elements, Petri defines an essentially asynchronous computational model, endowed with a set of universal, reversible logic gates.
The theory of Petri nets has later been developed also in other directions, based on a specific operational semantics: certain aggregations of local states form poten- tial global states of the system; the behaviour of the system can then be described by a finite state automaton (or transition system), built on the global states, where state transitions are labelled by the names of local events.
In this paper, we present some results towards the characterization of the class of orthomodular structures generated from the finite automata which describe the behaviour of nets of conditions and events, which form a basic class of Petri nets.
Preliminary definitions
In this section we introduce the basic definitions needed in the following.
Condition Event Net Systems
Condition Event net systems (shortly, CE net systems) were introduced by Carl Adam Petri ([5]) as a basic model of general systems.
Definition 2.1 A net is a triple N = (B, E, F ), where B and E are finite sets,
F ⊆ (B × E) ∪ (E × B), and
B ∩ E = ∅;
dom(F ) ∪ ran(F )= B ∪ E.
The elements of B are called local states or conditions, the elements of E local changes of state or events, and F is called the flow relation.
For each x ∈ B∪E, define •x = {y ∈ B∪E|(y, x) ∈ F}, x• = {y ∈ B∪E|(x, y) ∈ F}. For e ∈ E, an element b ∈ B is a precondition of e if b ∈ •e; it is a postcondition of e if b ∈ e•.
A net N = (B, E, F ) is simple iff for each x, y ∈ B ∪E (•x = •y and x• = y•) ⇒
x = y; N = (B, E, F ) is pure iff for each e ∈ E •e ∩ e• = ∅.
Given a net N = (B, E, F ), define K = IP(B), where IP(X) denotes the powerset of X. The elements of K are called cases of N . A case is a potential global state of the system that N models. Occurrences of transitions, which are subject to the firing rule, defined below, change the current case.
Let m1, m2 ⊆ B be two cases of N , and e ∈ E be an event. We will say that the occurrence of e at m1 brings the net system from m1 to m2, denoted by m1 [ e⟩ m2, if
•e ⊆ m1, e• ∩ m1 = ∅, m2 = (m1 \ •e) ∪ e•.
When m1 [ e⟩ m2, for some e ∈ E, we say that m2 is forward reachable in one step from m1. We call ρ the relation of forward reachability in one step. Then (ρ∪ρ−1)∗ is the full reachability relation of N .

Definition 2.2 A Condition Event net system (CE net system) is a quadruple N = (B, E, F, C), where (B, E, F ) is a simple and pure net, and C is an equivalence class of the full reachability relation. The elements of C are called reachable cases
The semantics of CE net systems can be defined in several ways. One kind of operational semantics is given by sequential case graphs.
Definition 2.3 The sequential case graph of a CE net system N is the triple
SCG(N )= (C, E, T ), where T = {(c1, e, c2) | c1, c2 ∈ C, e ∈ E, c1 [ e⟩ c2}.
Different net systems can be equivalent with respect to this semantics, in the sense that they generate isomorphic case graphs.
For any CE net system there is an equivalent CE net system which is saturated
of local states (conditions), as shown by Ehrenfeucht and Rozenberg ([3]).
Definition 2.4 Let N = (B, E, F, C). Then it exists N∗ = (B∗, E,F∗, C∗) such that:
SCG(N ) is isomorphic to SCG(N∗)
B ⊆ B∗ and F ⊆ F∗;
N∗ is saturated, namely it is not possible to add a new condition to B∗ without generating a non-simple net or changing the behaviour of N∗.
The set of local states of a saturated net system can be endowed with a partial ordering, corresponding to a form of logical implication.
Definition 2.5 Let N = (B, E, F, C) a CE net system.
∀b1, b2 ∈ B : b1 ≤N b2 ⇔ ∀c ∈ C : b1 ∈ c ⇒ b2 ∈ c.
The algebraic structure generated by ≤N on the conditions of N∗ will be dis- cussed in the following.
Transition systems
We start by defining the kind of finite state automata of interest.
Definition 2.6 A transition system is a structure A = (S, E, T ), where S is a set of states, E a set of events, T ⊆ S × E × S is a set of transitions.
A transition system is ﬁnite if S and E are finite. In the rest of the paper we will only consider finite transition systems satisfying the following axioms:
the underlying graph of the transition system is simply connected;
∀(s1, e, s2) ∈ T : s1 /= s2;
∀(s1, e1, s2), (s1, e2, s3) ∈ T : s2 = s3 ⇒ e1 = e2;
∀e ∈ E : ∃(s1, e, s2) ∈ T .
A region is a set of states such that all occurrences of a given event have the same crossing relation (entering, leaving or non-crossing) with respect to the region

itself, and this property holds for all events [3]. A region can be interpreted as a local state of a system whose behaviour is described by the transition system. Such local states correspond to conditions, which are either true or false in a global state. A region r is the set of global states in which the corresponding condition is true.
Definition 2.7 Let A = (S, E, T ) be a transition system. A set of states r ⊆ S is said to be a region iff ∀e ∈ E, ∀(s1, e, s2), (s3, e, s4) ∈ T we have (s1 ∈ r ∧ s2 ∈/ r) ⇒ (s3 ∈ r ∧ s4 ∈/ r) ∧ (s1 ∈/ r ∧ s2 ∈ r) ⇒ (s3 ∈/ r ∧ s4 ∈ r).
The set of all regions of A will be denoted by RA. From the definition it follows that: ∅,S ∈ RA and ∀r ∈ RA : S \ r ∈ RA. For each s ∈ S, Rs will denote the set of regions containing s.
The conditions defining regions allow us to formalize the crossing relation be- tween events and regions. This is captured by the notions of pre- and post-sets of regions and pre- and post-sets of events.
Definition 2.8 Let A = (S, E, T ) be a transition system. Let r ∈ RA. Then the
pre-set of r, denoted by •r, and the post-set of r, denoted by r•, are defined by:
•r = {e ∈ E| ∃(s1, e, s2) ∈ T : s1 /∈ r and s2 ∈ r}, r• = {e ∈ E| ∃(s1, e, s2) ∈ T : s1 ∈ r and s2 /∈ r}. Let e ∈ E. Then the pre-set and the post-set of e, denoted by, respectively, •e and e•, are defined by: •e = {r| r ∈ RA and e ∈ r•}, e• = {r| r ∈ RA and e ∈ •r}.
Now we are ready to give the definition of condition event transition systems (CE transition systems), which form the class of transition systems isomorphic to the sequential case graphs of CE net systems.
Definition 2.9 A finite transition system A = (S, E, T ) is a condition event tran- sition system (CE transition system) iff it satisfies the following axioms:
A1. ∀s1, s2 ∈ S : Rs1 = Rs2 ⇒ s1 = s2;
A2. ∀s ∈ S ∀e ∈ E : •e ⊆ Rs ⇒ ∃s1 ∈ S (s, e, s1) ∈ T ; A3. ∀s ∈ S ∀e ∈ E : e• ⊆ Rs ⇒ ∃s1 ∈ S (s1, e, s) ∈ T .
The sequential case graph of a CE net system is a CE transition system. Vice versa, given an abstract CE transition system A = (S, E, T ), it is always possible to build a CE net system N (A) such that its sequential case graph is isomorphic to A. The conditions of N (A) are the regions of A, and N (A) is saturated of conditions.
Orthomodular posets
Orthomodular posets can be considered as a generalization of Boolean algebras, where meet and join are partial operations, while each element has a complement.
Definition 2.10 An orthomodular poset P = ⟨P, ≤, 0, 1, (.)∗⟩ is a partially ordered set ⟨P, ≤⟩, equipped with a minimum and a maximum element, respectively denoted by 0 and 1, and with a map (.)∗ : P → P , such that the following conditions are verified (where ∨ and ∧ denote, respectively, the least upper bound and the greatest

lower bound with respect to ≤, when they exist): ∀x, y ∈ P
(x∗)∗ = x;
x ≤ y ⇒ y∗ ≤ x∗;
x ≤ y ⇒ y = x ∨ (y ∧ x∗); x ≤ y∗ ⇒ x ∨ y ∈ P ;
x ∧ x∗ = 0.
The third condition above is known as orthomodular law.
Two elements, x, y, of an orthomodular poset P are orthogonal (denoted by x⊥y) if and only if x ≤ y∗; x and y are compatible (denoted by x$y) if there are three elements, x0, y0,z ∈ P , pairwise orthogonal, such that x = x0 ∨ z and y = y0 ∨ z. An orthomodular poset P is coherent if for all x, y, z ∈ P , pairwise compatible, it holds (x ∨ y)$z.
In the following, we will use OMP as a shorthand for orthomodular poset.
We are interested in certain subsets of an OMP, here called prime ﬁlters, which can be seen as a generalization of ultrafilters in Boolean algebras. They correspond to two-valued states as defined in the literature on quantum logics (see, for example, [7]); for our purposes, it is convenient to see them as subsets rather than as maps.
Definition 2.11 Let P = ⟨P, ≤, 0, 1, (.)∗⟩ be an OMP. A non empty subset f ⊆ P
is a prime ﬁlter iff for all x, y ∈ P :
(x ∈ f and x ≤ y) ⇒ y ∈ f
(x, y ∈ f and x$y) ⇒ x ∧ y ∈ f
0 /∈ f
∀x, y ∈ P : (x $ y and x ∨ y ∈ f ) ⇒ (x ∈ f or y ∈ f )
The set of all prime filters of P will be denoted by FP (P ). For x ∈ P , [x] will denote the set of all prime filters of P which contain x.
We will call an OMP P prime if the set of prime filters has enough elements to “separate” distinct elements of P , that is, if, for all x, y ∈ P , there exists f ∈ FP (P ) such that x ∈ f ⇔ y /∈ f .
Regional orthomodular posets
Let A = (S, E, T ) be a transition system. The set of regions of A is partially ordered by set inclusion. The resulting partially ordered set has a minimum, the empty set, and a maximum, the set S of all states. We can actually prove that it is a coherent and prime orthomodular poset (see [1]). We will denote this poset by H(A)= (RA, ⊆, (.)∗, ∅, S). In general, H(A) is not a lattice. If A is a CE transition system, H(A) is a Boolean algebra only if A can be realized as the case graph of a state machine net system, namely a CE net system such that any event has exactly one precondition and one postcondition, and each reachable case consists in exactly one condition.

When A is a CE transition system, there is a strong relation between its states and the prime filters of H(A). Let s ∈ S; the set of regions containing s is a prime filter of RA; this filter will be denoted by fs. On the other hand, in general not all prime filters of H(A) correspond to states of A. Nonetheless, we can interpret all filters as states of another transition system, in which A is embedded. More generally, given a coherent and prime OMP, we can always define a CE transition system (hence, also a CE net system), as follows.
Definition 3.1 Let P be a coherent and prime OMP. Define
J (P )= (FP (P ), EP , TP )
where EP = {⟨f\g, g\f⟩|f, g ∈ FP (P ),f /= g}, and (f, e, g) ∈ TP iff e = ⟨f\g, g\f⟩.
Notice that different pairs of prime filters can produce the same event; this means that the event can occur in different global states, with the same local effect.
We now have two maps: H associates a coherent, prime orthomodular poset to a transition system; J goes the other way round. In [1], it was shown that J (P ) belongs to the class of transition systems generated by nets of condition and events (namely, CE transition systems). In the same paper, it was shown that A is embedded in JH(A) for all CE transition system A, and that P is embedded in HJ (P ). In both cases, the embedding is given by a natural notion of morphism.
We conjecture that H(A) and HJH(A) are isomorphic OMPs, and that J (P ) and JHJ (P ) are isomorphic transition systems, but these remain open problems. If the two conjectures were true, we could interpret HJ and JH as a kind of saturation in the respective domains.
A related open problem is the characterization of orthomodular posets generated by transition systems via regions. In the following, we describe a step towards that end.
Definition 3.2 An orthomodular poset P is regional if it is isomorphic to H(A) for some transition system A.
Every regional OMP is coherent and prime; however, there are coherent and prime OMPs which are not regional; a simple case is described in the following example.
Example 3.3 Let B = {1,..., 6} and Ω = {X ⊆ {1,..., 6}||X| is an even number}. It is easy to verify that P = ⟨Ω, ⊆, ∅, B, (.)∗⟩, where the orthocomplementation is the complement relative to B, is a coherent and prime orthomodular poset. P has six prime filters; a typical prime filter is given by the set of all X ∈ Ω containing a given i ∈ B. The corresponding transition system, J (P ), has six states, and is such that all subsets of states are regions. Hence, HJ (P ) is a Boolean algebra with six atoms, and P is embedded into HJ (P ).
As this example shows, the class of coherent and prime OMPs is strictly larger than the class of regional OMPs.

In our search for a characterization of regional orthomodular posets, we look for peculiar properties of concrete regions which can be translated in the abstract setting of OMPs.
Lemma 3.4 Let A be a CE transition system. Let x, y, z be regions of A and
x ∩ y = y ∩ z = z ∩ x; then x ∩ y ∩ z is a region of A.
The proof of this lemma consists in a routine verification. An analogous property can be stated for OMPs.
Definition 3.5 Let P be a coherent prime OMP. P is said to be rich if the following property holds:
[x] ∩ [y]= [y] ∩ [z]= [z] ∩ [x] ⇒ ∃w ∈ P : [w]= [x] ∩ [y] ∩ [z]
Notice that the OMP described in Example 3.3 is coherent and prime, but not rich, and not regional.
Theorem 3.6 Every regional OMP is rich.
Proof. Let P be a regional OMP. Then there exists a CE transition system A = (S, E, T ) such that P is isomorphic to H(A). In this proof, we work on H(A).
Take x, y, z ∈ RA such that [x] ∩ [y]= [y] ∩ [z]= [z] ∩ [x].
We have already remarked that the correspondence between the prime filters of H(A) and the states of A is not bijective; more exactly, there can be prime filters of H(A) that do not correspond to states of A. We can then decompose the set of prime filters [x] into two disjoint subsets: [x]= X1 ∪X2, where X1 = {f ∈ [x]|f = fs for some s ∈ S} and X2 = [x] \ X1. In a similar way, we decompose [y]= Y1 ∪ Y2, and [z]= Z1 ∪ Z2.
Then X1∩Y1 = Y1∩Z1 = Z1∩X1. To prove this statement, note that Y1∩X2 = ∅, and Y2 ∩ X1 = ∅, so that [x] ∩ [y]= (X1 ∩ Y1) ∪ (X2 ∩ Y2), and similarly for [y] ∩ [z] and [x] ∩ [z].
The set X1 contains all filters corresponding to states of A, and containing x; we can identify it with x as a region of A, because the correspondence between states and filters is injective. Then, we deduce that x ∩ y = y ∩ z = z ∩ x, where we consider x, y, z as regions. From Lemma 3.4, it follows that w = x ∩ y ∩ z is a region of A, and an element of H(A).
It is easy to show that, in any orthomodular poset P , for all p, q ∈ P such that p $ q it holds [p] ∩ [q]= [p ∧ q]. In H(A), we have w = x ∩ y, hence w = x ∧ y, so [w]= [x] ∩ [y]= [x] ∩ [y] ∩ [z].	2
It is still an open problem whether all coherent, prime, and rich OMPs are regional.
While working on the characterization of regional OMPs, we plan to study mu- tual relations among various properties of OMPs. In particular, we know that an OMP can be rich and non prime (take for instance an OMP without prime filters); we will investigate whether richness and the existence of enough prime filters imply coherence.

Orthomodular lattices generated by occurrence nets
We have shown that a natural order relation defined on the local states of a CE net system gives rise to an orthomodular poset, when the net system is saturated with respect to local states. A different way of generating orthomodular posets from Petri nets builds on occurrence nets. These are acyclic nets of conditions and events, originally introduced as a model for concurrent processes; they can naturally be used to define a semantics of general CE net systems, expressed within net theory. Petri has defined an occurrence net with a regular structure as a kind of discrete representation of a relativistic spacetime. It is then possible to define a closure sys- tem on subsets of elements of the net, and a corresponding orthocomplement. The closed subsets form an orthomodular lattice; this result resembles results by several authors (see, for example, [2]) on the usual Minkowski spacetime, and suggests a
different line of research.

References
L. Bernardinello, C. Ferigato, and L. Pomello. An algebraic model of observable properties in distributed systems. Theoretical Computer Science, 290:637–668, 2003.
W. Ceg-la and A. Florek. Causal logic of Minkowski space. Commun. Math. Phys., 57, 1977.
A. Ehrenfeucht and G. Rozenberg. Partial (set) 2-structures i & ii. Acta Inform., 27(4):315–368, 1990.
C. A. Petri. Kommunikation mit Automaten. Institut fu¨r Instrumentelle Mathematik, Schriften des IIM, 2, 1962.
C. A. Petri. Concepts of net theory. Mathematical Foundations of Computer Science, pages 137–146, 1973.
C. A. Petri. State–transition structures in physics and in computation. Journal of Theoretical Physics, 21(12):979–992, 1982.
P. Pt´ak, P. Pulmannov´a. Orthomodular Structures as Quantum Logics. Kluwer Academic Publishers, 1991.
