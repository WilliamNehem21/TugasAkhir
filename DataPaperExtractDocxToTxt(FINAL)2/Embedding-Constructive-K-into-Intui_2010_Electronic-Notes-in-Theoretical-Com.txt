

Electronic Notes in Theoretical Computer Science 262 (2010) 205–219
www.elsevier.com/locate/entcs

Embedding Constructive K into Intuitionistic K
Kurt Ranalter1
Dipartimento di Informatica Universit`a degli Studi di Verona

Abstract
We investigate an embedding of CK natural deduction proofs into IK natural deduction proofs. CK and IK can both be regarded as intuitionistic analogs of the basic classical modal logic K. Since, in general, the proof theory of these logics is given by means of quite different techniques the embedding can be considered as an attempt to reconcile these two approaches. Further, we show that the embedding naturally extends to the case of CS4 and IS4, and propose a framework that allows one to obtain a modular approach for all the intermediate systems.
Keywords: intuitionistic (or constructive) modal logic and possibility, extended natural deduction systems


Introduction
Finding a good proof theory for modal logic, whether classical or intuitionistic, has turned out to be a rather delicate issue. One of the reasons is that modal logic comes in various guises, thus making it difficult to develop a modular and uniform framework that provides means to take into account the varieties of modal logic. Nonetheless, there exist quite a few recent proposals that can be regarded as satisfactory solutions to the problem: see, for instance, [15,6,18,11] and the references provided there.
In this note we focus on the proof theory of intuitionistic modal logic. Its language is defined by the grammar A ::= p | ⊥ | A ∨ A | A ∧ A | A → A |  A |  A. So, it can be seen as an extension of intuitionistic propositional logic IPL. Since in intuitionistic modal logic the possibility operator cannot be defined in terms of the necessity operator there is some controversy about the right axiomatization of intuitionistic possibility. We consider two axiomatizations of an intuitionistic analog

1 Email: kurt.ranalter@univr.it

1571-0661 © 2010 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2010.04.015

axiom schemes:  (IPL) axiom schemes of IPL
( K)  (A1 → A2) → ( A1 →  A2) ( K)  (A1 → A2) → ( A1 →  A2) (   ) (  A1 →  A2) →  (A1 → A2)
(  D)  ⊥→ ⊥,  (A1 ∨ A2) → (  A1 ∨  A2)
(4)  A →   A,   A →  A
(T)  A → A, A →  A
inference rules: (NEC) if A is a theorem then so is  A
(MP) if A1 → A2 and A1 are theorems then so is A2

Fig. 1. Axioms and rules

of the basic modal logic K: given the axiom schemes and inference rules listed in figure 1, CK consists of (IPL,  K,  K, NEC, MP) and IK of (IPL,  K,  K,   ,
 D, NEC, MP).
Both systems have been studied for quite different reasons. Simpson [18] provides a thorough investigation of IK, one of the motivations being to develop a truly intuitionistic approach to modal logic (basically by exploiting the analogy to first- order intuitionistic logic). As pointed out in [13, section 4], CK can only be regarded as a “constructive or sub-intuitionistic analog”. It is worth mentioning, however, that it plays an important role from the point of view of applications. On the one hand, de Paiva shows in [8] that its axiom schemes are at the core of most proposals for the formalization of context. On the other hand, Mendler and Scheele [13] use it for their investigation of constructive description logics. An interesting feature of this work is that they also consider extensions of the basic framework with one or both variants of the ( D) axioms, thus giving rise to intermediate systems in between CK and IK.
A natural question that arises is whether it is possible to provide a modular proof theory for all of these systems. Mendler and Scheele propose a tableau calculus that can deal with all the cases except for the (  ) axiom scheme. Since it is not clear to us how the framework might be exploited to deal with the missing case, we shall adopt a different strategy, namely to stick to the natural deduction systems given in [3] and [18].
It is worth mentioning that the natural deduction systems for CK and IK which we shall denote by NCK and NIK, respectively, are based on quite different ideas. NIK and closely related systems such as, for instance, Brau¨ner and de Paiva’s proposal for a proof theory of intuitionistic hybrid logic [5] or Negri’s proposal for a proof theory of classical modal logic [15] incorporate aspects of the relational (or

Kripke) semantics into the framework, but NCK does not. As a consequence of this, NIK comes equipped with proper introduction and elimination rules for both the modal operators. Although the lack of this feature in the modal rules of NCK has sometimes been criticized as a weakness, one may argue that this is not the case. The point is that: (a) thanks to the embedding we propose in this note, the NCK modal rules can be regarded as derived rules of NIK; (b) the particular form of the NCK modal rules simply provides means to rule out the derivations of the ( D) axiom schemes.
A nice feature of the embedding of NCK proofs into NIK proofs is that it readily extends to the cases of CS4 = CK + (4, T) and IS4 = IK + (4, T), and their natural deduction systems NCS4 and NIS4, given in [1] and [18], respectively. Let us just mention a few applications of these systems: the -fragment of CS4 and IS4 provides a logical foundation for staged computation [7]; as shown in [4,1,16], the
 -fragment of CS4 is closely related to Moggi’s computational λ-calculus [14] and to Fairtlough and Mendler’s lax logic [9]. A more comprehensive list is provided in [1, section 2].
Returning to the issue of finding a modular proof theory for all the systems in between CK and IK, we have the following options: either to look for suitable restrictions of NIK or to find a way of extending NCK. In this note we shall take the second option and, following a simple idea taken from [10], introduce an extra modal rule for each of the missing axioms. One of the reasons for doing so is that the proposed embedding suggests that, if we took the first option, we would have to work at the level of proofs. This in an important issue that we plan to address in future work.
This note is organized as follows: in section 2 we introduce the natural deduction systems NCK and NIK and discuss their main properties; in section 3 we show that the modal rules of NCK can be seen as derived rules in NIK, i.e. that NCK proofs can be embedded into NIK proofs; in section 4 we extend this result to CS4 and IS4; in section 5 we consider a modular approach for all the systems in between CK and IS4.

Natural deduction
We provide a concise introduction to the systems NCK and NIK, the natural deduc- tion systems for the intuitionistic analogs CK and IK of the basic classical modal logic K. Since we do not consider the computational properties of these systems, let us just mention that both are strongly normalizing and confluent (see, for instance, [3,10,18]).

Constructive variant
The rules of NCK, the natural deduction system for constructive K introduced in [3], are reproduced in figure 2.  Note that, whenever a rule has more than one




Ξ,A ▶ A

(ax)
Ξ ▶⊥ 
(⊥ E)
Ξ ▶ A



Ξ1 ▶ A1	Ξ2 ▶ A2 (∧ I) Ξ ▶ A1 ∧ A2

Ξ ▶ Ai
Ξ ▶ A1 ∧ A2 (∧ E)
Ξ ▶ Ai

Ξ' ▶ A1 ∨ A2	Ξ1, A1 ▶ A	Ξ2, A2 ▶ A

Ξ ▶ A1
∨ A2
(∨ I)
Ξ ▶ A
(∨ E)



Ξ, A1 ▶ A2 (→ I) Ξ ▶ A1 → A2
Ξ1 ▶ A1 → A2	Ξ2 ▶ A1 (→ E) Ξ ▶ A2


Ξ1 ▶  A1	...	Ξn ▶  An	A1,..., An ▶ A (  K)
Ξ ▶  A


Ξ1 ▶ A1	...	Ξn ▶  An	Ξ' ▶  A	A1,..., An,A ▶ B


Ξ ▶  B

( K)



Fig. 2. The system NCK

premise, the multiset Ξ in the conclusion of the rule denotes the multiset union of Ξ1, . .., Ξn, and Ξ' where possible multiple occurrences of a formula may have been contracted. The only non-standard rules of the system are the modal rules ( K) and ( K): the former already occurs in [2] and the latter is a simple variant of it. They are designed in such a way as to make sure that NCK is closed under substitution. They are also well motivated from a category-theoretic perspective (see [3,10]):  can be seen as a monoidal functor and  as a functor that is strong with respect to .

Lemma 2.1 The following rules are admissible in NCK.

Ξ ▶ B
(weak)
Ξ,A ▶ B
Ξ, A,A ▶ B
(con)
Ξ,A ▶ B
Ξ1 ▶ A	Ξ2,A ▶ B (sub) Ξ ▶ B


Theorem 2.2 If A is a theorem of CK then ▶ A in NCK.

Proof. (NEC) is simply an instance of the ( K) rule. The two modal axioms are derived as follows.
Derivation of ( K):



	
 (A1 → A2) ▶  (A1 → A2)	 A1 ▶  A1
·
·
·
A1 → A2, A1 ▶ A2 (  K)





Derivation of ( K):
 (A1 → A2),  A1 ▶  A2  (→ I)
  (A1 → A2) ▶  A1 →  A2	(→ I)
▶  (A1 → A2) → (  A1 →  A2)

·
·
·

  (A1 → A2) ▶  (A1 → A2)	 A1 ▶  A1	A1 → A2, A1 ▶ A2 (  K)
 (A1 → A2),  A1 ▶  A2  (→ I)
  (A1 → A2) ▶  A1 →  A2	(→ I)
▶  (A1 → A2) → (  A1 →  A2)

Intuitionistic variant
The rules of NIK, the natural deduction system for intuitionistic K introduced in [18], are given in figure 3. Since they incorporate aspects of the relational (or Kripke) semantics into the syntax of proof, their presentation differs significantly from more traditional versions such as the one of figure 2 above. The key idea is to consider indexed formulae w: A where w can be seen as a possible world, thus providing means to represent the fact that A holds at w. Further, a special class of relational assumptions wRv provides means to represent the fact that the world v is accessible from w.
Remark 2.3 In a sequent r | Δ ▶ w: A we use the vertical bar on the left hand side of the turnstile ▶ to separate the two kinds of assumptions: the set of relational assumptions r and the multiset of indexed formulae Δ. It is worth mentioning that our presentation of the rules is a mixture of the ones given in [15,18]. On the one hand we use a vertical bar as in the sequent calculus considered by Simpson. On the other hand we follow Negri and simply use a set of relational assumption instead of a graph. (Note that Negri actually uses multisets but we can avoid this because of the vertical bar.)
Remark 2.4 Let us consider the four rules for the modal operators in more detail. With respect to the  operator we have that, according to the standard possible world semantics, the formula  A holds at world w if and only if the formula A holds at all worlds v that are accessible from w (i.e. at all worlds v such that wRv). Now, the rationale behind the (  I) rule is that if A holds at any arbitrary world v that is accessible from w then A holds at w. The ( E) rule can be best explained by observing that if  A holds at w then, if the world v is accessible from w, A holds at v. Regarding the  operator, we have that the formula  A holds at world w if and only if the formula A holds at some world v that is accessible from w. The (  I) rule can thus be best explained by observing that if A holds at v and v is




r | Δ, w: A ▶ w: A

(ax)
r | Δ ▶ w: ⊥

r | Δ ▶ u: A

(⊥ E)



r1 | Δ1 ▶ w: A1	r2 | Δ2 ▶ w: A2 (∧ I)
r1 ∪ r2 | Δ ▶ w: A1 ∧ A2

r | Δ ▶ w: Ai	(∨ I)
r | Δ ▶ w: A1 ∨ A2
r | Δ ▶ w: A1 ∧ A2 (∧ E)
r | Δ ▶ w: Ai



r1 | Δ' ▶ w: A1 ∨ A2	r2 | Δ1, w: A1 ▶ u: A	r2 | Δ2, w: A2 ▶ u: A

r1 ∪ r2 | Δ ▶ u: A

(∨ E)



r | Δ, w: A1 ▶ w: A2 (→ I)
r | Δ ▶ w: A1 → A2
r1 | Δ1 ▶ w: A1 → A2	r2 | Δ2 ▶ w: A1 (→ E)
r1 ∪ r2 | Δ ▶ w: A2



r ∪ wRv | Δ ▶ v: A

r | Δ ▶ w:  A

(  I)†
r | Δ ▶ w:  A

r ∪ wRv | Δ ▶ v: A

(  E)



r | Δ ▶ v: A

r ∪ wRv | Δ ▶ w:  A

(  I)
r1 | Δ1 ▶ w: A	r2 ∪ wRv | Δ2, v: A ▶ u: B


r1 ∪ r2 | Δ ▶ u: B

(  E)†

†where: v must not occur in the conclusion

Fig. 3. The system NIK


accessible from w, then  A holds at w. The basic idea of the (  E) rule is that if the derivation of u: B depends on the assumption that A holds at some v that is accessible from w then one can replace this assumption by a derivation of w: A. The (  E) rule therefore exhibits the same non-local behavior as the (⊥ E) rule and the (∨ E) rule.

Remark 2.5 It is straightforward to verify that the non-modal rules have the same shape as the non-modal rules of figure 2. Note that, whenever a rule has more than one premise, the multiset Δ in the conclusion of the rule denotes the multiset union of Δ1, Δ2, and Δ' where possible multiple occurrences of an indexed formula may have been contracted.

Lemma 2.6 The following rules are admissible in NIK.

r | Δ ▶ u: B


r | Δ, w: A ▶ u: B

(weak)
r | Δ, w: A, w: A ▶ u: B


r | Δ, w: A ▶ u: B

(con)

r | Δ ▶ u: A
(weak)
r ∪ wRv | Δ ▶ u: A
r1 | Δ1 ▶ w: A	r2 | Δ2, w: A ▶ u: B (sub)
r1 ∪ r2 | Δ ▶ u: B




Remark 2.7 Since the (  I) and (  E) rules have the side condition that v must not occur in the conclusion of the rule, we need a so called substitution lemma for the proof of the previous result. We follow [15] and define substitution as follows.

(wRv)[u/x] ≡ wRv (x /= w, x /= v) (wRv)[u/x] ≡ wRu (x /= w, x = v) (wRv)[u/x] ≡ uRv  (x = w, x /= v)
(wRv)[u/x] ≡ uRu	(w = x = v) (w: A)[u/x] ≡ w: A		(x /= w)
(w: A)[u/x] ≡ u: A	(x = w)

This definition can be extended to sets of relational assumptions and multisets of indexed formulae componentwise. It is not difficult to show that if r | Δ ▶ w: A then r[u/x] | Δ[u/x] ▶ (w: A)[u/x]. Since the substitution lemma plays a crucial role in the embedding, it is worth pointing out that we use the following convention: we implicitly assume that the world v it introduces is fresh, i.e. does not already occur in the derivation.


Theorem 2.8 If A is a theorem of IK then ∅| ϵ ▶ w: A in NIK.


Proof. The (NEC) rule follows immediately from the admissibility of weakening by an instance of the ( I) rule. The modal axioms are derived as follows (cf. [18, figure 4-2]).
Derivation of ( K):

	

∅| w:  (A1 → A2) ▶ w:  (A1 → A2) (  E)
wRv | w:  (A1 → A2) ▶ v: A1 → A2
∅| w:  A1 ▶ w:  A1 (  E)
wRv | w:  A1 ▶ v: A1 (→ E)

wRv | w:  (A1 → A2), w:  A1 ▶ v: A2 (  I)
∅| w:  (A1 → A2), w:  A1 ▶ w:  A2 (→ I)
∅| w:  (A1 → A2) ▶ w:  A1 →  A2	(→ I)
∅| ϵ ▶ w:  (A1 → A2) → ( A1 →  A2)
Derivation of ( K): (with B = A1 → A2)




∅| w:  B ▶ w:  B
(  E)




∅| w:  A1 ▶ w:  A1
wRv | w:  B ▶ v: B	∅| v: A1 ▶ v: A1 (→ E)
wRv | w:  B, v: A1 ▶ v: A2  (  I)
wRv | w:  B, v: A1 ▶ w:  A2 (  E)

∅| w:  B, w:  A1 ▶ w:  A2 (→ I)
∅| w:  B ▶ w:  A1 →  A2	(→ I)
∅| ϵ ▶ w:  B → (  A1 →  A2)
Derivation of (  ):





∅| w:  A1 →  A2 ▶ w:  A1 →  A2
∅| v: A1 ▶ v: A1	(  I)
wRv | v: A1 ▶ w:  A1 (→ E)

wRv | w:  A1 →  A2, v: A1 ▶ w:  A2 (  E)
wRv | w:  A1 →  A2, v: A1 ▶ v: A2 (→ I)
wRv | w:  A1 →  A2 ▶ v: A1 → A2 (  I)
∅| w:  A1 →  A2 ▶ w:  (A1 → A2)	(→ I)
∅| ϵ ▶ w: (  A1 →  A2) →  (A1 → A2)
Derivation of ( D0):





∅| w:  ⊥▶ w:  ⊥
wRv | v: ⊥▶ v: ⊥

wRv | v: ⊥▶ w: ⊥
(⊥ E)
(  E)




Derivation of ( D2): (with B = A1 ∨ A2)
∅| w: ⊥▶ w: ⊥

∅| ϵ ▶ w:  ⊥→⊥ 
(→ I)





(i = 1, 2)





∅| v: B ▶ v: B




∅| v: Ai ▶ v: Ai	(  I)
wRv | v: Ai ▶ w:  Ai	(∨ I)
wRv | v: Ai ▶ w:  A1 ∨  A2 (∨ E)

∅| w:  B ▶ w:  B
wRv | v: B ▶ w:  A1 ∨  A2 (  E)

∅| w:  B ▶ w:  A1 ∨  A2	(→ I)
∅| ϵ ▶ w:  B → ( A1 ∨  A2)

Embedding CK into IK
We show now that CK is a fragment of IK, i.e. that every theorem of CK is also a theorem of IK. Although this fact follows immediately from the axiomatizations given above, we establish it by showing that the modal rules of NCK can be seen as derived rules of NIK, thus giving rise to a hitherto unnoticed map from CK proofs into IK proofs.
Remark 3.1 As above, we use Ξ to denote multisets of non-indexed formulae and if Ξ = A1,..., An then both w: Ξ and w: (A1,..., An) are used as shorthand notation for w: A1,..., w: An. Analogously, w: (Ξ1,..., Ξn) is used as shorthand notation for w: Ξ1,..., w: Ξn.
Lemma 3.2 The following ( K) rule is derivable in NIK.
(i = 1,..., n)
∅| w: Ξi ▶ w: Ai	∅| w: (A1,..., An) ▶ w: A (  K)
∅| w: (Ξ1,..., Ξn) ▶ w:  A
Proof. The ( K) rule can be derived as follows. (i = 1,..., n)

∅| w: Ξi ▶ w:  Ai (  E)
wRv | w: Ξi ▶ v: Ai
(substitution, 2.7)
∅| v: (A1,..., An) ▶ v: A

========================================== (sub)
wRv | w: (Ξ1,..., Ξn) ▶ v: A (  I)
∅| w: (Ξ1,..., Ξn) ▶ w:  A
Lemma 3.3 The following (  K) rule is derivable in NIK.
(i = 1,..., n)
∅| w: Ξi ▶ w: Ai	∅| w:Ξ ▶ w: A	∅| w: (A1,..., An, A) ▶ w: B (  K)
∅| w: (Ξ1,..., Ξn, Ξ) ▶ w:  B
Proof. The (  K) rule can be derived as follows.
(i = 1,..., n)

∅| w: Ξi ▶ w:  Ai (  E)
wRv | w: Ξi ▶ v: Ai
(substitution, 2.7)
∅| v: (A1,..., An, A) ▶ v: B



∅| w:Ξ ▶ w:  A
============================================ (sub)
wRv | w: (Ξ1,..., Ξn), v: A ▶ v: B  (  I)
wRv | w: (Ξ1,..., Ξn), v: A ▶ w:  B (  E)
∅| w: (Ξ1,..., Ξn, Ξ) ▶ w:  B

Corollary 3.4 If Ξ ▶ A in NCK then ∅| w:Ξ ▶ w: A in NIK.	 
Example 3.5 To give you a taste of how the embedding works let us consider two derivations of ( A1 ∧  A2) →  (A1 ∧ A2).  (This is listed as an axiom in [3];

however, in [12] it is shown that it can actually be derived). It is straightforward to see that from

	

B ▶ B B ▶ A2
(∧ E)
B ▶ B B ▶ A1
(∧ E)
·
·
·
A2, A1 ▶ A1 ∧ A2 (  K)



one obtains
B ▶  (A1 ∧ A2)  (→ I)
▶ B →  (A1 ∧ A2)

∅| w: B ▶ w: B
(∧ E)
∅| w: B ▶ w:  A2 (  E)	·

wRv | w: B ▶ v: A2


∅| v: (A2, A1) ▶ v: A1 ∧ A2 (sub)

∅| w: B ▶ w: B
(∧ E)
∅| w: B ▶ w: A1
wRv | w: B, v: A1 ▶ v: A1 ∧ A2	(  I)
wRv | w: B, v: A1 ▶ w:  (A1 ∧ A2) (  E)

∅| w: B ▶ w:  (A1 ∧ A2) (→ I)
∅| ϵ ▶ w: B →  (A1 ∧ A2)
where B is shorthand for  A1 ∧  A2. In a similar fashion, the derivations of the ( K,  K) axioms provided in theorem 2.8 can be obtained from the ones provided in theorem 2.2.


Remark 3.6 Most interestingly, the above derived rules suggest a further derived rule that, suitably adapted, could be added to NCK: the (  ) rule introduced below would provide means to derive the (  ) axiom scheme that does not occur in [3]. One can therefore argue that the modal rules of NCK (together with the novel ( ) rule) provide a clever way to rule out the derivations of the ( D) axiom schemes. This raises the question of whether one can find suitable restrictions on the NIK rules that achieve the same. Given that all the derived rules considered in this section have in common that they incorporate a certain sequence of modal rules and, thus, operate on the level of proofs, it would seem unlikely that such a restriction would be sufficient.


Lemma 3.7 The following (  ) rule is derivable in NIK.
∅| w: (A1,..., An) ▶ w: A	∅| w: (Ξ,  A) ▶ w:  B (  )
∅| w:Ξ ▶ w:  (A1 → (... → (An → B) .. .))


Proof. The (  ) rule can be derived as follows:





Ξ ▶  A

Ξ ▶ A

( T)
Ξ ▶ A

Ξ ▶  A

( T)


Ξ1 ▶  A1	...	Ξn ▶  An	 A1,...,  An ▶ A ( K4)
Ξ ▶  A


Ξ1 ▶ A1	...	Ξn ▶  An	Ξ' ▶  A	 A1,...,  An,A ▶  B


Ξ ▶  B

( K4)



Fig. 4. NCS4 modal rules



r ∪ wRw | Δ ▶ x: A
(refl)
r | Δ ▶ x: A
r ∪ wRu | Δ ▶ x: A
(trans)
r ∪ wRv ∪ vRu | Δ ▶ x: A



Fig. 5. NIS4 geometric rules
(substitution, 2.7)
∅| v: (A1,..., An) ▶ v: A	(  I)
wRv | v: (A1,..., An) ▶ w:  A	∅| w: (Ξ,  A) ▶ w:  B (sub)
wRv | w: Ξ, v: (A1,..., An) ▶ w:  B (  E)
wRv | w: Ξ, v: (A1,..., An) ▶ v: B
================================= (→ I)
wRv | w:Ξ ▶ v: A1 → (... → (An → B) .. .) (  I)
∅| w:Ξ ▶ w:  (A1 → (... → (An → B) .. .))
Case study: CS4 vs IS4
The embedding considered in the previous section naturally extends to the case of CS4 and IS4. The rules of NCS4, the natural deduction system for constructive S4 introduced in [1], are the non-modal rules of figure 2 together with the modal rules given in figure 4. The rules of NIS4, the natural deduction system for intuitionistic S4 introduced in [18], are the rules of figure 3 together with the so called geometric rules given in figure 5. In other words, whereas NIS4 is an extension of NIK with rules for dealing with relational assumptions, NCS4 differs from NCK with respect to the modal rules.
Example 4.1 To illustrate how these additional rules work let us consider the derivations of the ( 4) axiom scheme both in NCS4 and NIS4. Note that, as already pointed out in example 3.5 above, the NIS4 derivation of the ( 4) axiom scheme given below may be obtained by applying the proposed embedding to the corresponding NCS4 derivation. Similar remarks also apply to the ( 4,  T,  T)

axiom schemes.
NCS4 derivation:

	





NIS4 derivation:
  A ▶   A	 A ▶  A

  A ▶  A
(→ I)
▶   A →  A
( K4)




∅| u: A ▶ u: A wRu | u: A ▶ w: A
(  I)
(trans)

∅| v:  A ▶ v:  A	wRv ∪ vRu | u: A ▶ w:  A

	
(  E)

∅| w:   A ▶ w:   A
wRv | v:  A ▶ w:  A
(  E)

∅| w:   A ▶ w:  A

∅| ϵ ▶ w:   A →  A
(→ I)

Lemma 4.2 The following ( T) and ( T) rules are derivable in NIS4.

∅| w:Ξ ▶ w: A

∅| w:Ξ ▶ w: A

( T)
∅| w:Ξ ▶ w: A

∅| w:Ξ ▶ w:  A

( T)

Proof. The ( T) and (  T) rules can be derived as follows.

∅| w:Ξ ▶ w: A wRw | w:Ξ ▶ w: A
∅| w:Ξ ▶ w: A

(  E)
(refl)
∅| w:Ξ ▶ w: A wRw | w:Ξ ▶ w: A
∅| w:Ξ ▶ w:  A

(  I)
(refl)


Lemma 4.3 The following ( K4) rule is derivable in NIS4.
(i = 1,..., n)
∅| w: Ξi ▶ w: Ai	∅| w: ( A1,...,  An) ▶ w: A ( K4)
∅| w: (Ξ1,..., Ξn) ▶ w:  A
Proof. The ( K4) rule can be derived as follows. (i = 1,..., n)
∅| w: Ξi ▶ w:  Ai (  E)
wRu | w: Ξi ▶ u: Ai	(trans)

wRv ∪ vRu | w: Ξi ▶ u: Ai (  I)
wRv | w: Ξi ▶ v:  Ai
(substitution, 2.7)
∅| v: ( A1,...,  An) ▶ v: A

================================================= (sub)
wRv | w: (Ξ1,..., Ξn) ▶ v: A (  I)
∅| w: (Ξ1,..., Ξn) ▶ w:  A





Ξ ▶  A
( 4)
Ξ ▶   A
( 4)
Ξ ▶  ⊥
( D )
Ξ ▶  (A1 ∨ A2) (  D )



Ξ ▶   A


Ξ ▶  A
Ξ ▶⊥	0
Ξ ▶  A1
2
∨  A2



Fig. 6. Extra modal rules
Lemma 4.4 The following (  K4) rule is derivable in NIS4.
(i = 1,..., n)
∅| w: Ξi ▶ w: Ai	∅| w:Ξ ▶ w: A	∅| w: (  A1,...,  An, A) ▶ w:  B (  K4)
∅| w: (Ξ1,..., Ξn, Ξ) ▶ w:  B
Proof. The (  K4) rule can be derived as follows.

⎧⎪
Π = ⎨


(substitution, 2.7)


∅| u: B ▶ u: B
(
wRu | u: B ▶ w:  B


I)
(trans)

∅| v: (  A1,...,  An, A) ▶ v:  B	wRv ∪ vRu | u: B ▶ w:  B
⎪
 










∅| w:Ξ ▶ w:  A
(i = 1,..., n)
∅| w: Ξi ▶ w:  Ai (  E)
wRu | w: Ξi ▶ u: Ai	(trans)
wRv ∪ vRu | w: Ξi ▶ u: Ai (  I)
wRv | w: Ξi ▶ v:  Ai	Π
============================= (sub)
wRv | w: (Ξ1,..., Ξn), v: A ▶ v:  B (  E)

∅| w: (Ξ1,..., Ξn, Ξ) ▶ w:  B

Corollary 4.5 If Ξ ▶ A in NCS4 then ∅| w:Ξ ▶ w: A in NIS4.	 
On a modular approach
An interesting observation about the NCS4 modal rules above is that both the ( K) and the ( K) rule from NCK have been modified in such a way as to make it possible to derive both of the axiom schemes ( 4, 4). However, as one can easily see from Lemmas 5.1 and 5.2 below, the same can be achieved by keeping the standard NCK rules and, together with the ( T) and ( T) rules given in figure 4, just adding the ( 4) and ( 4) rules given in figure 6. Such a modular approach has actually been advocated by Kakutani in [10]. An advantage is that it also works for all the intermediate systems between CK and IS4, simply by taking into consideration the (  ) rule from section 3 above as well as the (  D0) and (  D2) rules given in figure
6. That both the ( D0) and the ( D2) rule can be seen as derived rules in NIK follows immediately from the derivations of the corresponding axioms in theorem

2.8 above.
Lemma 5.1 The ( K4) rule is derivable from the ( 4) and ( K) rules.
Proof. The ( K4) rule can be derived as follows.

Ξ1 ▶  A1 ( 4)
Ξ1 ▶   A1	... 
Ξn ▶  An  ( 4)
Ξn ▶   An	 A1,...,  An ▶ A ( K)
Ξ1,..., Ξn ▶  A

Lemma 5.2 The ( K4) rule is derivable from the ( 4), ( K), and ( 4) rules.
Proof. The (  K4) rule can be derived as follows.

Ξ1 ▶  A1 ( 4)
Ξ1 ▶   A1	... 
Ξn ▶  An  ( 4)
Ξn ▶   An	Ξ ▶  A	 A1,...,  An,A ▶  B (  K)
Ξ1,..., Ξn, Ξ ▶   B (  4)
Ξ1,..., Ξn, Ξ ▶  B


Conclusion
In this fairly technical note we have put together some rather straightforward obser- vations concerning two classes of natural deduction systems for intuitionistic modal logics. Let us call them the C- and I-systems. A typical aspect of a C-system such as NCS4 considered in section 4 is that it tries to accommodate as many features as possible in a single modal rule such as ( K4) or ( K4), thus making it difficult to get a modular approach. However, by adapting a different approach it is possible to obtain a perfectly modular class of C-systems. Although the introduction of an extra rule for each modal axiom scheme seems to be a heavy burden, the proposed embedding into the class of I-systems provides a neat theoretical underpinning, giving a sort of sanity check.
As we pointed out in remark 3.6, it would seem that, despite the fact that I-systems provide means to obtain a fine grained analysis of C-systems, they are in a way less flexible. Although the proposed embedding strongly suggests that one could try to restrict the set of relational assumptions to either the empty set or a singleton, it is not clear how one could avoid the derivation of certain axiom schemes such as, for instance, ( D0,  D2). One option that we plan to address in future research is to look for an indirect criterion via a transformation of I-system derivations into C-system derivations.
It would be worthwhile investigating the tension between the two kinds of systems from a semantic point of view. Since relational (or Kripke) models do not provide a semantics of proofs, one has to work with categorical models instead. The main advantage of C-systems such CK or CS4 is that they come equipped with a neat categorical semantics (see for instance [3,10,1]) which also motivates the modal rules.

Nonetheless, it is not so obvious how I-systems could be endowed with a categorical semantics. Some preliminary steps in that direction have been taken in [17] where we have investigated a reformulation of Simpson’s rules for IK in the style of [19]: since White’s proof theory is derived from a categorical semantics this could serve as a good starting point.

References
Alechina, N., M. Mendler, V. de Paiva and E. Ritter, Categorical and Kripke semantics for constructive S4 modal logic, in: L. Fribourg, editor, Computer Science Logic, LNCS 2142, 2001, pp. 292–307.
Bellin, G., A system of natural deduction for GL, Theoria 2 (1985), pp. 89–114.
Bellin, G., V. de Paiva and E. Ritter, Extended Curry-Howard correspondence for a basic constructive modal logic, in: Proceedings of Methods for Modalities, 2001.
Benton, N., G. Bierman and V. de Paiva, Computational types from a logical perspective, Journal of Functional Programming 8 (1998), pp. 177–193.
Brau¨ner, T. and V. de Paiva, Intuitionistic hybrid logic, Journal of Applied Logic 4 (2006), pp. 231–255.
Bru¨nnler, K. and L. Straßburger, Modular sequent systems for modal logic, in: Proceedings of Tableaux, 2009.
Davies, R. and F. Pfenning, A modal analysis of staged computation, Journal of the ACM 48 (2001),
pp. 555–604.
de Paiva, V., Natural deduction and context as (constructive) modality, in: P. Blackburn, C. Ghidini,
R. Turner and F. Giunchiglia, editors, Context, LNAI 2680, 2003, pp. 116–129.
Fairtlough, M. and M. Mendler, Propositional lax logic, Information and Computation 137 (1997),
pp. 1–33.
Kakutani, Y., Calculi for intuitionistic normal modal logic, in: Proceedings of Programming and Programming Languages, 2007.
Martini, S. and A. Masini, A computational interpretation of modal proofs, in: H. Wansing, editor,
Proof Theory of Modal Logics, Kluwer, 1996 pp. 213–241.
Mendler, M. and V. de Paiva, Constructive CK for contexts, in: L. Serafini and P. Bouquet, editors,
Context Representation and Reasoning, CEUR Proceedings 136, 2005.
Mendler, M. and S. Scheele, Towards constructive description logics for abstraction and refinement, in:
F. Baader, C. Lutz and B. Motik, editors, Description Logic, CEUR Proceedings 353, 2008.
Moggi, E., Notions of computation and monads, Information and Computation 93 (2001), pp. 55–92.
Negri, S., Proof analysis in modal logic, Journal of Philosophical Logic 34 (2005), pp. 507–544.
Pfenning, F. and R. Davies, A judgmental reconstruction of modal logic, Mathematical Structures in Computer Science 11 (2001), pp. 511–540.
Ranalter, K., On the dynamics of intuitionistic modal proofs (2009), submitted for publication.
Simpson, A., “The Proof Theory and Semantics of Intuitionistic Modal Logic,” Ph.D. thesis, University of Edinburgh (1994).
White, G., Davidson and Reiter on actions, Fundamenta Informaticae 84 (2008), pp. 259–289.
