Electronic Notes in Theoretical Computer Science 210 (2008) 49–63	
www.elsevier.com/locate/entcs

Semantic Abstraction and Quantum Computation
Alessandra Di Pierro1
Dipartimento di Informatica University of Pisa
Pisa, Italy
Herbert Wiklicky2
Department of Computing Imperial College
London, UK

Abstract
We present a logico-algebraic approach to probabilistic abstract interpretation based on the ortholattice structure of the projective measurement operators in quantum mechanics. On this base, we present a novel interpretation of quantum measurement as a probabilistic abstraction showing that the measurement of a physical observable essentially corresponds to a static analysis of the observed property.
Keywords: Probabilistic abstract interpretation, quantum measurement, quantum computation.


Introduction
Some of the best known quantum algorithms, e.g. for the Deutsch problem or the phase estimation at the heart of Shor’s quantum factorisation algorithm, ultimately aim in determining some properties of an unknown function f , represented by a black-box unitary operator Uf .
Our treatment is not concerned with the specification and description of Uf ; in particular, it is not directed towards the immediate definition of a programming lan- guage for quantum computation. Instead we aim in investigating the mechanism at the base of the “detection”, or analysis of properties of Uf and thus f , namely quan- tum measurement. We show that this aspect of quantum algorithms corresponds

1 Email: dipierro@di.unipi.it
2 Email: herbert@doc.ic.ac.uk

1571-0661 © 2008 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2008.04.017

to a particular static analysis technique, namely abstract interpretation, which is used in the classical setting for constructing approximations of the programs’ se- mantics relatively to a given property of interest [7,8]; in addition, probabilistic abstract interpretation provides an estimation of such an approximation in terms of the distance between the analysis results and the concrete semantics [11,10].
This correspondence relies on a similar “logical structure” at the basis of both quantum measurement and probabilistic abstract interpretation. As is well-known in Quantum Mechanics, projection operators on a Hilbert space form a non-Boolean – in particular, non-distributive – lattice. This result dates back to the 1936 article by Birkhoff and von Neumann [3] where the authors’ claimed objective was to “find a calculus of propositions which is formally indistinguishable from the calculus of linear subspaces of a Hilbert space with respect to set products, linear sums and orthogonal complements, and resembles the usual calculus of propositions with respect to and, or and not”. In this paper we present a re-formulation of the theory of probabilistic abstract interpretation [11,10] in terms of orthogonal projections and we show that probabilistic abstractions possess the same lattice structure as the Birkhoff and von Neumann lattice of projections with respect to the ordering given by the inclusion relation on subspaces [21,3].
The intuitive reason why quantum physics and abstract interpretation require a similar non-standard logical treatment lies in the common characteristics of mea- surements and abstractions. In quantum physics it is well known that certain phys- ical observables are not commensurable; this means that a simultaneous measure- ment of for example the position and the momentum of a particle is impossible, as measuring the position first “destroys” the information about the momentum and vice versa. The famous Heisenberg uncertainty relation can be expressed via the statement that the commutator between the position and momentum operator is not zero. In a similar way certain abstractions “destroy” information which makes a subsequent abstraction meaningless.
Based on the intrinsic similarity between quantum physics and probabilistic abstract interpretation, we show that the quantum measurement of a physical ob- servable corresponds essentially to a static analysis of the observed property. More precisely, given a property the corresponding abstract domain (or equivalently the corresponding projection) can be seen as the result of the quantum measurement of an observable including the property; vice versa any physical observable (or equiv- alently any self-adjoint operator) can be seen as a linear combination of projections corresponding to some probabilistic abstract interpretations.



Semantical Abstractions
In this section, we recall some preliminary notions and results concerning the logic of projections in quantum mechanics, and introduce the ortholattice of probabilistic abstract interpretations.

The Lattice of Projections
If Y is a closed subspace of a Hilbert space 3 7, each vector in 7 can be expressed uniquely in the form y + z with y ∈ Y and z ∈ Y ⊥, where Y ⊥ is a complementary subspace to Y (i.e. Y ∪ Y ⊥ = 7 and Y ∩ Y ⊥ = ∅). The linear operator P : 7 → Y defined by P(y+z)= y is called the orthogonal projection 4 from 7 onto Y . It is easy to show that projection operators P are bounded (their norm is always less than or equal to 1) idempotent (P2 = P) and Hermitian. An operator A is said to be self- adjoint or Hermitian if it coincides with its adjoint A∗, that is the unique operator such that the condition ⟨A∗x, y⟩ = ⟨x, Ay⟩ holds for all x, y ∈ 7 (cf. e.g.[15, Thm 2.4.2]). In particular, projections are a special kind of self-adjoint operators, that is positive operators. An operator A is called positive, denoted by A ± 0, if there exists an operator B such that A = B∗B. Projections can be identified with the closed subspaces of 7. In particular, as the range YE = {Ex | x ∈ 7} of an orthogonal projection is a closed subspace (cf. [6, Proposition II.3.2.b]), this correspondence is defined by associating to each projection on 7 its range YE. The closed subspaces of 7 form a complete lattice under the operations of intersection and (closed linear span of) union. The one-to-one correspondence between this set and the collection У(7) of all orthogonal projections on 7 allows us to transfer the lattice structure of the set of all closed subspaces of 7 to У(7), thus turning the latter into a complete lattice.
A partial order on projections (and in general on self-adjoint operators) can be defined directly by: E ± F iff F — E is positive (e.g. [15, p105]). This is equivalent to the partial order defined via set inclusion on closed subspaces. More precisely, if E and F are projections from a Hilbert space 7 onto closed subspaces Y and Z respectively, then E ± F iff Y ⊆ Z (cf. [15, Proposition 2.5.2]).
The projections У(7) form a complete lattice with respect to this order, i.e. the least upper bound E H F and the greatest lower bound E H F always exist for any pair E and F. The bottom element is given by the projection onto the null space,
i.e. the operator mapping all vectors x ∈7 to the null vector, and the top element is the identity operator I, i.e. the operator mapping each vector x ∈ 7 to itself. The concrete construction of E H F and E H F is in general not a trivial task. Only for commuting projections, i.e. EF = FE, we have (cf e.g. [15, Prop 2.5.3]):
E H F = E + F — EF and E H F = EF.
A general way to construct E H F (and by exploiting de Morgan’s law also E H F) is via an infinite approximation sequence and has been suggested by Halmos [12, Problem 122]:
E	F = lim (EFE)n.
n→∞
For each projection E, we can define an (ortho)complement E⊥ = I — E; this corresponds to a projection into the closed subspace orthogonal to the image YE

3 A linear space is a Hilbert space if it has a scalar (or inner) product ., . and it is complete with respect to the norm generated by the scalar product.
4 In operator theory and quantum physics “orthogonal” is often omitted, i.e. the term “projections” refers to “orthogonal projections”.

of E. Thus, the orthogonal projection operators (and their corresponding closed subspaces of Hilbert spaces) form an ortholattice [2, Ex 10, II.10]. More precisely, У(7) is a complete orthomodular lattice [16, Proposition I.5.1].
Ortholattices can be seen as non-distributive analogs of Boolean algebras [2, I.10]. They are defined as follows (see e.g. [2, Def I.10] or [9, Def 2.1]):
Definition 2.1 An ortholattice (L, ±, .⊥, 0, 1) is a lattice (L, ±) with universal bounds 0 and 1, i.e.
(L, ±) is a partial order (i.e. ± is reflexive, antisymmetric, and transitive),
all pairs of elements a, b ∈ L have a least upper bound or supremum, denoted by a H b, and a greatest lower bound or infimum, denoted by a H b,
0 ± a and a ± 1 for all a ∈ L.
and a complementation operation a '→ a⊥ satisfying:
a H a⊥ =0 and a H a⊥ =1 
(a H b)⊥ = a⊥ H b⊥ and (a H b)⊥ = a⊥ H b⊥
(a⊥)⊥ = a
In general H and H in an ortholattice are not distributive, in the sense that the relations
(a H b) H (a H c) ± a H (b H c) and a H (b H c) ± (a H b) H (a H c) are not in general equalities.
We say that two elements a and b in an ortholattice commute, denoted by [a, b]= 
0, iff a = (aHb)H(aHb⊥). An ortholattice is called an orthomodular lattice if [a, b]= 0 implies [b, a]= 0.
An important property of any ortholattice is given by the following proposition.

Proposition 2.2 ([2]) In any ortholattice, a ± b implies [a, b]= 0.
In the ortholattice У(7) of orthogonal projections on a Hilbert space 7, two projections E and F commute, i.e. EF = FE, iff their associated closed subspaces commute (cf. [16, Lemma 4]). Thus, in this case [YE, YF ] = 0 implies [YF , YE]= 0, and therefore У(7) is orthomodular.
Probabilistic Abstract Interpretation
Probabilistic Abstract Interpretation [11,10] is based on the notion of a categorical adjunction between Hilbert spaces defined by a bounded linear operator (repre- senting the abstraction) and its Moore-Penrose pseudo-inverse (representing a con- cretisation operator). If C an Ð are two probabilistic domains, i.e. Hilbert spaces, and A : C → Ð and G : Ð → C are bounded linear operators between (the con- crete domain) C and (the abstract domain) Ð, such that G is the Moore-Penrose pseudo-inverse of A, then we say that (C, A, Ð, G) forms a probabilistic abstract interpretation.

Definition 2.3 Let 71 and 72 be two Hilbert spaces and A : 71 '→ 72 a bounded linear map between them. A bounded linear map A† = G : 72 '→ 71 is the Moore-Penrose pseudo-inverse of A iff
A ◦ G = PA and G ◦ A = PG,
where PA and PG denote orthogonal projections onto the ranges of A and G.
Note that the multiplication of operators is usually denoted reversely to the corresponding function composition, i.e. AB = B ◦ A.
A necessary and sufficient condition for the existence of the Moore-Penrose pseudo-inverse for a bounded linear operator A on a Hilbert space 7 is that A is normally solvable, i.e. its range {Ax | x ∈ 7} is closed [4, Thm 4.24]. All operators on a finite dimensional Hilbert space are Moore-Penrose invertible.
The properties of the Moore-Penrose pseudo-inverse (cf. e.g. [1]) guarantees a form of optimality of the abstractions constructed via PAI; in fact, they are the closest to the concrete semantics one can construct, where closeness is defined via the distance induced by the norm on the Hilbert space. As this is a numerical quantity, we can get an estimate of the information lost in the abstraction [11].

Ortholattice Structure of Probabilistic Abstract Interpretations
We can restrict w.l.o.g. to abstraction operators which are surjective, i.e. A(C)= Ð. In fact, given a PAI (C, A, Ð, G), we can always partition the abstract domain Ð by identifying those elements with the same concrete meaning. In this way we can ensure that any abstract object in Ð is the image of a concrete object in C, i.e. we reduce the abstract domain to one which does not contain redundant objects, or equivalently, we turn the abstraction operator A into a surjective one. In this case the closed subspace of C corresponding to the projection G ◦ A = PG is isomorphic to A(C); thus we can restrict ourselves to considering only probabilistic abstract interpretations of the form (C, PG, PG(C), I). This will allow us to identify orthogonal projections on a Hilbert space 7 (or equivalently its closed subspaces) with all probabilistic abstract interpretations for the given concrete domain 7.
Proposition 2.4 Let 7 be a Hilbert space and let P ⊆ 7 be a closed subspace of
7. Then (7, A† ◦ A, P, I) is a PAI iff A† ◦ A(7)= P.
Based on this identification, we can define the lattice of probabilistic abstract interpretations on a given Hilbert space 7 by means of the lattice of orthogonal projections introduced in Section 2.1. Since the projection A† ◦ A and the closed subspace of a Hilbert space 7 associated to it are uniquely determined by 7 and the abstraction operator A on 7, we can simply denote a probabilistic abstract interpretation by a pair (A, 7) or its associated projection A† ◦ A on 7.
As already mentioned, the problem of constructing the least upper bound E H F of two orthogonal projections E and F on 7 is in general considered as being not trivial. However, for commutative projections this can be constructed as E H F = EF = FE and in the general case, using the Moore-Penrose pseudo-inverse,

according to [1]:

E H F = 2E : F = 2E(E + F)†F.


Probabilistic Abstraction and Quantum Measurement
The close relationship between probabilistic abstract interpretation and ortholat- tices — in effect the inherent logic of quantum physics [21,3] — allows us to develop a new interpretation and perhaps a better understanding of quantum physics, mea- surement and computation.
For a presentation of the basic model of quantum physics which goes back to von Neumann’s work in the 1930 and which is based on a Hilbert space formulation see for example [14]. An arguably more elegant framework which generalises the Hilbert space based framework onto a C∗ algebraic level was developed in the 1950 [20,5]. We refer to [18,17] for an introduction to quantum computation and the common (notational) conventions.
One of the basic features of quantum physics is the fact that on the quantum level the state of a system is not directly accessible, instead the observer needs to perform a “measurement” on the quantum system in order to obtain information about the system. This measurement results in two effects: (i) the observer “mea- sures” some value on his “instrument” and (ii) on the quantum level, the state is changed or “reduced” according to the result of the measurement. Which values can be observed and how the state might be reduced, depends on the physical ob- servable. The postulates of quantum mechanics identify a physical observable O with a Hermitian or self-adjoint operator on the state space of the system being observed.
In general, even if there is no ambiguity about which state the system is in, it is left to chance which of several possible observations (together with the associate state reductions) will materialise. The probabilities of certain observations depend on the state observed and its relation to the intended observable O (see e.g. [14, p99] or [18, p88]):
The value measured is an eigenvalue λm of O
The probability for observing λm is ⟨x|Pmx⟩ where Pm is a projection onto the eigenspace of O corresponding to λm.
The state |x⟩ is reduced by projecting it onto the corresponding eigenspace

√⟨x|Pmx⟩
Pm |x⟩.

This formal model of quantum measurement, aka projective measurement 5 , de- pends on the possibility of a spectral decomposition of observables, i.e. finite- dimensional self-adjoint operators (see e.g. [19, Thm 10.21] and for the general, infinite-dimensional case [15, Thm 5.2.2]).
Theorem 3.1 (Spectral Decomposition) For a ﬁnite-dimensional self-adjoint

5 We are not concerned here with the more general notion of POVM measurements as in e.g. [18, 2.2.6].

operator O, the eigenvalues λi are real numbers and the projection operators Pi on the sub-spaces spanned by the eigenvectors corresponding to an eigenvalue λi are

orthogonal and satisfy	i Pi = I and
O =

λiPi.
i

Considering the relation between the ortholattice of projections and the ortho- lattice of probabilistic abstract interpretations we can define observables out of PAI’s:
Proposition 3.2 Given a PAI (A, 7) we can construct a corresponding physical observable O = λ•AA† + λ◦(I — AA†) on 7 whose measurement in a state vector
|x⟩ returns either the value λ• or the value λ◦.
In this proposition we reverse the spectral decomposition in the sense that we take a projection P = AA† and construct its ortho-complement P⊥ = I — P such that P + P⊥ = I. By choosing any real numbers λ• and λ◦ as measurement values and constructing the linear combination of P and P⊥, we always end up with a self-adjoint operator, i.e. a physical observable.
The reverse of this construction is also possible; it is a simple consequence of the spectral decomposition theorem:
Proposition 3.3 Given a physical observable O on 7, we can always deﬁne a set of PAI’s (Ai, 7) such that O =	i λiAiAi , for some λi ∈	.
From the spectral decomposition theorem we can always write a physical observ- able as a linear combination of projections. For projections we have P = P†; thus they can be seen directly as a PAI with A = G = P or G = I|range(P). However, this decomposition of projections into an abstraction A and concretisation G, i.e. P = AG, is not unique.
The decomposition of physical observables into PAI’s also suggests a new philo- sophical interpretation of the measurement problem. A measurement can be in- terpreted as a probabilistic choice (depending on the state) among several different abstractions. This choice has two effects: (i) The measurement instrument indicates which measurement has happened (by displaying the corresponding measurement value, i.e. eigenvalue) and (ii) the state is abstracted accordingly and then again concretised (= projective reduction). The second effect could be seen as forcing the (world) state through the “eye of the needle” corresponding to the abstrac- tion/concretisation pair representing the chosen abstraction.

Examples
In this section we demonstrate the results in the previous section by presenting ex- amples of the translation of classical functions (and their properties) into a quantum computation setting and, vice versa, the classical interpretation of the measurement part of quantum algorithms.

Classical (Irreversible) Functions


Given a classical function f : {0,... , 2n — 1} → {0,... , 2m — 1} we first construct its representation as a unitary operator Uf on m + n qubits such that Uf (|x⟩ |0⟩)= 
|x⟩ |x ⊕ f (x)⟩ with “⊕” the bitwise sum operation, i.e. x ⊕ y = x + y mod 2 (cf. e.g. [18]).
For example, for the classical (irreversible) function f : {0,... , 3} → {0, 1} de- fined below and represented by the matrix F such that |x⟩·F = |f (x)⟩, a (reversible) unitary representation is given by the operator Uf






⎡ 0 1 ⎤
⎡⎢ 0 1 0 0 0 0 0 0 ⎤

⎢ 0 0 1 0 0 0 0 0 ⎥

⎢ 1 0 ⎥	⎢ 0 0 0 1 0 0 0 0 ⎥


⎣ 0 1 ⎦

0 0 0 0 0 1 0 0 
0 0 0 0 0 0 0 1 
0 0 0 0 0 0 1 0 



Consider now the functions fi represented by the following 8 × 4 matrices Fi
(rows correspond to arguments 0, 1,... , 7 and columns to results 0, 1, 2, 3):



0 1 0 0 
0 1 0 0 
0 0 1 0 
0 1 0 0 
F1 =
0 0 1 0 
0 0 1 0 
0 0 1 0 
⎣ 0 0 0 1 ⎦
0 1 0 0 
0 1 0 0 
1 0 0 0 
0 0 1 0 
F2 =
0 0 1 0 
0 0 0 1 
0 0 1 0 
⎣ 1 0 0 0 ⎦



1 0 0 0 
1 0 0 0 
1 0 0 0 
1 0 0 0 
F3 =
1 0 0 0 
1 0 0 0 
1 0 0 0 
⎣ 1 0 0 0 ⎦
0 0 0 1
0 0 0 1
0 0 0 1
0 0 0 1
F4 =
0 0 0 1
0 0 0 1
0 0 0 1
⎣ 0 0 0 1 ⎦
0 0 0 1 
0 0 0 1 
0 0 0 1 
0 0 0 1 
F5 =
1 0 0 0 
0 0 0 1 
0 0 0 1 
⎣ 0 0 0 1 ⎦

The corresponding Ufi = Ui are 32 × 32 matrices which we will not explicitly write down as they would require a considerable amount of space.
We are interested in analysing the zero-ness of the functions fi, that is the proba- bility of getting a null value by applying fi. A probabilistic abstraction correspond- ing to this property can be defined by the following matrix and its pseudo-inverse:

Z = ⎢ 0 1 ⎥	Z† = ⎡ 1 0 0 0 ⎤ .

⎢ 0 1 ⎥
⎣ 0 1
1 1 ⎦
 


The abstraction Z classifies the function outputs into “zero” and “non-zero” values. From this abstraction we can construct the projection

⎢ 0	⎥
0 3 3 3
1 1 1
3 3
We now show that this corresponds to a physical observable for a quantum system associated to each Ui.
We can construct a quantum circuit for Ui which starts with the 5 qubits input vector (i.e. a 32 = 25 dimensional vector):
|x⟩ |0⟩ = |0⟩ |0⟩ |0⟩ |0⟩ |0⟩ .

To this we apply:

H ⊗ H ⊗ H ⊗ I ⊗ I

where H is the Hadamard gate and I the identity, to get the superposition state:

1
√
i=0
|i⟩
|0⟩ |0⟩

Next we apply Ui to this vector in order to obtain

7
1 
√
i=0
7
1 
|i⟩ |0 ⊕ f (i)⟩ = √
i=0
|i⟩ |f (i)⟩

In short, the circuit corresponds to the unitary operator:
(H ⊗ H ⊗ H ⊗ I ⊗ I) · Ufi .
We now apply the abstraction/measurement PZ to the last two qubits register (we thus have to consider I ⊗ I ⊗ I ⊗ PZ as our projection operator). Consider the output vector of the circuit for each of our functions fi
|yi⟩ = |0⟩ |0⟩ |0⟩ |0⟩ |0⟩· (H ⊗ H ⊗ H ⊗ I ⊗ I) · Ufi .
In order to check their “zero-ness” we measure the physical observable:
Az = λZPZ + λZ⊥ PZ⊥ = λZPZ + λZ⊥ (I — PZ)
with any two “measure values” λZ and λZ⊥ . We get the following probabilities of measuring λZ and λZ⊥ :
which we calculate as:
prob(λZ)= ⟨yiPZ |yi⟩ and prob(λZ⊥ )= ⟨yi(I — PZ )|yi⟩ .
As we only test for yes/no answers we have:
prob(λZ⊥ )= ⟨yi(I — PZ)|yi⟩ = ⟨yi|yi⟩— ⟨yiPZ|yi⟩ =1 — ⟨yiPZ|yi⟩ .
As expected, these results show that the more often fi = 0 holds the higher the probability that we measure λZ instead of λZ⊥ : In the case of the constant zero function f3 = 0 this probability is 1.
The Deutsch Algorithm Revisited
The arguably best-known quantum algorithms are implemented essentially via a unitary transformation followed by a measurement in some appropriate base. Fur- thermore, they exploit various tricks to take advantage of the quantum parallelism and achieve a substantial speedup in comparison with corresponding classical algo- rithms.
By taking a semantic rather than a complexity theoretical viewpoint, we present a re-interpretation of the Deutsch algorithm which shows how these tricks can ac- tually be seen as semantical abstractions aiming at “collecting” into an appropriate domain (base) the computational properties of interest.

We briefly recall the Deutsch problem and the quantum circuit for solving it. We consider here the case of a unary Boolean function, but the result can straight- forwardly be generalised to the case of n-ary Boolean functions in the same way as the Deutsch algorithm can be generalised to the Deutsch-Jozsa algorithm (see e.g. [18]).
The problem solved by the Deutsch algorithm is to determine whether a func- tion f is constant or balanced, where ’balanced’ means that it returns 1 for half the domain and 0 for the other half. The quantum circuit implementing this algo- rithm takes two input qubits initialised to |0⟩ and |1⟩ respectively. It first applies Hadamard on the first qubit, forming all possible inputs; the second will be the answer qubit. Next, the circuit runs the operator Uf implementing the function (and given as a black box) once; this exclusive or’s the result with the answer qubit. Finally, Hadamard is applied on the input qubit again, and the answer qubit is measured. If it is 0, the function is constant, otherwise the function is balanced.
Consider a function f : {0, 1} → {0, 1} and classify it either as constant – if f (0) = f (1) – or balanced – if f (0) /= f (1). There are four possible pairs (f (0),f (1) for a function f which we abstract into two classes c(onstant) and b(alanced). This abstraction from a four element concrete space {(0, 0), (0, 1), (1, 0), (1, 1)} into a two element abstract space {c, b} corresponds to a matrix D with its Moore-Penrose pseudo-inverse D† and the projection PD = DD† given by:

⎡ 1 0 ⎤
1 0 0 1 ⎤

⎢ 0 1 ⎥
⎡ 1 0 0 1 ⎤
⎢ 0	0 ⎥

⎢ 0 1 ⎥
0 2 2 0
⎢⎣ 0 2 2 0 ⎥

	

Our aim is to show that PD can be used to define a physical observable whose measurement is consistent with the final measurement in the Deutsch circuit. In fact, consider the physical observable
A = λcPD + λbP⊥D
and measure it on the output vector of the Deutsch circuit for the function f
|of ⟩ = (|0⟩ |1⟩) · (H ⊗ H) · Uf .
It turns out that we will get with probability one λc if the unknown function f is constant and λb in the case that f is a balanced function.
We can verify the result of this measurement on all four possible functions fi :
{0, 1} → {0, 1}:


⎡ 0 1 ⎤
⎡ 0 1 0 0 ⎤
⎢ 1 0 0 0 ⎥


⎣ 0 0 1 0 ⎦


⎡ 1 0 ⎤
⎡ 1 0 0 0 ⎤
⎢ 0 1 0 0 ⎥







⎡ 1 0 ⎤
⎣ 0 0 1 0 ⎦
⎡ 1 0 0 0 ⎤
⎢ 0 1 0 0 ⎥







⎡ 0 1 ⎤
⎣ 0 0 0 1 ⎦
⎡ 0 1 0 0 ⎤
⎢ 1 0 0 0 ⎥


0 0 0 1
We denote by oi the output vector of the Deutsch circuit corresponding to fi:
|oi⟩ = (|0⟩ |1⟩) · (H ⊗ H) · Ui
which in the concrete cases are given by:
|o1⟩ = — 1 1	1 1 
|o2⟩ = 1 — 1 — 1 1 

|o3⟩ = 1 — 1
1 — 1 

2
|o4⟩ = — 1
2 2	2
1 1	1
2 2

If we compute the probabilities of obtaining λb and λc in the usual way we get:
⟨o1PD | o1⟩ =0 
⟨o2PD | o2⟩ =1 
⟨o3PD | o3⟩ =0 
⟨o4PD | o4⟩ =1 

which reflect the fact that f1 and f3 are indeed constant functions, while f2 and f4
are balanced.
Our presentation differs slightly from the usual presentation of the Deutsch circuit as:
(|0⟩ |1⟩) · (H ⊗ H) · Ui · (H ⊗ I)
In the notation of [18, p33] we measure |ψ3⟩ = (|0⟩ |1⟩) · (H ⊗ H) · Ui instead of

|ψ4⟩ = (|0⟩ |1⟩) · (H ⊗ H) · Ui · (H ⊗ I). The reason for this is that our measurement is with respect to a non-standard base given by the eigenvectors of PD:
|d1⟩ = 0 — √1	1  0

|d2⟩ =  √1
0 0 — √1

|d3⟩ = √1
0 0 1
2

|d4⟩ =  0 1	1  0

and not |0⟩ |0⟩, |0⟩ |1⟩, |1⟩ |0⟩, |1⟩ |1⟩. The last Hadamard gate, i.e. H⊗I in the orig- inal Deutsch circuit has exactly the purpose of transforming |φ3⟩ into the standard base.

Conclusion
In this paper we identified a close link between the logic of quantum measurements and probabilistic abstract interpretation. This is based on a re-interpretation of an abstraction A on a probabilistic domain 7 via the orthogonal projection AA† on 7, where A† is a generalised inverse of A.
The set of projections on a Hilbert space 7 (e.g. any finite dimensional vector space) is naturally equipped with two distinct structures: it is a subset of the algebra of bounded linear operators, and it carries a lattice structure which reflects the inclusion ordering among closed subspaces of 7. This means that we can use both algebraic operations (scalar product, vector addition and algebra product) and logical operations (intersection and union) in order to construct “new” projections from old ones.
Probabilistic abstract interpretations inherit both the linear algebra and the orthomodular structure of the set of projections on a Hilbert space. While the logical structure provides the theoretical basis for combining program analyses and for various refinement techniques in the classical and probabilistic programming languages setting, the algebraic structure allows us to define linear combinations of PAI’s which correspond to “truly randomised” abstractions and cannot be for- mulated within the framework of classical abstract interpretation. These are at the base of a new philosophical interpretation of the measurement problem as the problem of probabilistically choosing among several properties (abstractions) to be observed.
We aim to investigate the relation between the lattice and algebraic structure of PAI’s further. This will require in particular a more detailed study of the non- commutative situation, a better understanding of the vector lattice or Riesz space of positive operators which can be obtained by linear combination of projection operators, and the role of spectral theorems in decomposing (positive) operators into linear combinations of projections.
Such investigations may lead to new approaches to (measurement based) quan-

tum computation; we will explore in particular the possibility of developing declarative- like quantum programming languages whose operational semantics exploits the idea of an incremental construction of observables starting from a set of possible, i.e. physically implementable, measurements. It appears that only algebraic operations are physically realisable but that logical combinations are conceptually easier to understand. It would therefore be important to understand how to bridge the gap in the non-commutative case, e.g. how to “compensate” for the difference between
P ∩ Q and PQ in general and in particular cases.

References
A. Ben-Israel and T.N.E. Greville. Generalised Inverses — Theory and Applications, volume 15 of
CMS Books in Mathematics. Springer Verlag, New York, Berlin, second edition, 2003.
G. Birkhoff. Lattice Theory, volume 25 of Colloquium Publications. American Mathematical Society, Providence, Rhode Island, second (revised) edition, 1948.
G. Birkhoff and J. von Neumann. The logic of quantum mechanics. Annals of Mathematics, 37:823–843, 1936. in [13].
A. B¨ottcher and B. Silbermann. Introduction to Large Truncated Toeplitz Matrices. Springer Verlag, New York, 1999.
O. Bratteli and D.W. Robinson. Operator Algebras and Quantum Statistical Mechanics, volume 1 &
2. Springer Verlag, New York, Heidelberg, Berlin, 1979/81.
J. Conway. A Course in Functional Analysis, volume 96 of Graduate Texts in Mathematics. Springer Verlag, second edition, 1990.
P. Cousot and R. Cousot. Abstract interpretation: a unified lattice model for static analysis of programs by construction or approximation of fixpoints. In Proceedings of POPL’77, pages 238–252, Los Angeles, 1977.
P. Cousot and R. Cousot. Systematic design of program analysis frameworks. In Proceedings of POPL’79, pages 269–282, San Antonio, Texas, 1979.
M.L. Della Chiara and R. Giuntini. Quantum logics. Technical Report, arXiv:quant-ph/0101028, January 2001. v2.
A. Di Pierro and H. Wiklicky. Concurrent constraint programming: towards probabilistic abstract interpretation. In Proceedings of PPDP’00, pages 127–138. ACM, 2000.
A. Di Pierro and H. Wiklicky. Measuring the precision of abstract interpretations. In Proceedings of LOPSTR’00, volume 2042 of Lecture Notes in Computer Science, pages 147–164. Springer Verlag, 2001.
P.R. Halmos. A Hilbert Space Problem Book, volume 19 of Graduate Texts in Mathematics. Springer Verlag, Berlin, Heidelberg, New York, second edition, 1982.
C.A. Hooker, editor. The Logico-Algebraic Approach to Quantum Mechanics, volume I: Historical Evolution. Reidel, Dordrecht, Boston, 1975.
C.J. Isham. Lectures on Quantum Theory. Imperial College Press, 1995.
R.V. Kadison and J.R. Ringrose. Fundamentals of the Theory of Operator Algebras: Elementary Theory, volume 15 of Graduate Studies in Mathematics. AMS, 1997. Reprint from Academic Press edition 1983.
G. Kalmbach. Orthomodular Lattices. Academic Press, London, 1983.
S.J. Lomonaco, editor. Quantum Computation: A Grand Mathematical Challenge for the Twenty-First Century and the Millennium, volume 58 of Proceedings of Symposia in Applied Mathematics. AMS, Providence, Rhode Island, 2002.
M.A. Nielsen and I.L. Chuang. Quantum Computation and Quantum Information. Cambridge University Press, Cambridge, UK, 2000.


S. Roman. Advanced Linear Algebra, volume 135 of Graduate Texts in Mathematics. Springer Verlag, second edition, 2005.
W Thirring. Quantum Mathematical Physics. Springer, Berlin, Heidelberg, second edition, 2002.
V.S. Varadarajan. Geometry of Quantum Theory, volume I. Van Nostrand, Princeton, 1968.
