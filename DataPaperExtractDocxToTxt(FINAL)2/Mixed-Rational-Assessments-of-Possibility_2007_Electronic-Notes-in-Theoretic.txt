Electronic Notes in Theoretical Computer Science 169 (2007) 33–42	
www.elsevier.com/locate/entcs

Mixed Rational Assessments of Possibility and Probability Measures
Tommaso Flaminio2
Dipartimento di Matematica e Informatica Universita` degli Studi di Siena
Pian dei Mantellini 44 53100 Siena, Italy
Enrico Marchioni1 ,3
Departamento de Lo´gica Universidad de Salamanca Campus Unamuno - Edificio FES 37007 Salamanca, Spain

Abstract
In this paper we introduce the modal-fuzzy logic FPΠ(RL- Δ) for reasoning about probability and possibility at the same time. We will use such a logical formalism in order to treat mixed assessments of both those kinds of measures. The main result of this paper is a characterization of the coherence for rational mixed assessments by means of the logical consistency of a suitably defined FPΠ(RL- Δ)-theory. By means of this characterization, we will also prove that the problem of testing the coherence of a mixed assessment is NP-complete.
Keywords: Probability Measure, Possibility Measure, Fuzzy Logics, Coherence, Computational Complexity.


Introduction
Probability theory and possibility theory [4] are two important mathematical tools which aim at formalizing different aspects of the management of uncertain informa- tion (see [20]). While probability has been deeply investigated in a logical setting (see [16], and the references therein), there are not many logical treatments of pos- sibility theory, with the relevant exception of possibilistic logic (see [3]).

1 Marchioni recognizes support of the grant No. AP2002-1571 of the Ministerio de Educaci´on y Ciencia of Spain.
2 Email: flaminio@unisi.it
3 Email: marchioni@usal.es

1571-0661 © 2007 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2006.07.027

In this paper we present a logic to reason with probabilistic and possibilistic information at the same time. The logic we introduce is a fuzzy modal logic like those introduced in [5,7,17,9,13,14] where simple and conditional probability and possibility have been studied. The basic idea underlying this approach consists in regarding the probability (the possibility) of an event (i.e. an equivalence class of Boolean propositional formulas) as the truth degree of the sentence ϕ is probable (ϕ is possible respectively). In order to do that, we only need to add to the language of a suitably chosen fuzzy logic a unary modality P , for probable, (Π for possible) and adequate axioms reflecting those of the related measure. In this way Ha´jek, Godo and Esteva introduced in [14] the logic FP(L- ) (FΠ(L- )), where FP stands for Fuzzy- Probabilistic. In this setting the probability (possibility) of ϕ can be understood as the truth degree of the modal formula P (ϕ) (Π(ϕ)) which reads ϕ is probable (ϕ is possible). A more expressive variant of this logic will be introduced in this work so as to allow the treatment of both simple probability and possibility measures.
An important issue in probability and possibility theory is the concept of coher- ence. Recall that a probabilistic assessment χ : P (ϕi) = αi (i = 1,... , n) is said coherent iff there exists a probability measure θ defined over the Boolean algebra generated by the events ϕi, such that, for each i = 1,... , n, θ(ϕi)= P (ϕi). Analo- gously, the notion of coherence can be defined for assessments of simple possibility. In [9,7,17] the probabilistic and the possibilistic coherence have been character- ized by means of the logical consistency of a suitably defined theory relying on a particular fuzzy logic.
The main goal of the present work consists in providing a logical analysis of mixed assessments of probability and possibility, i.e. assessments of both measures over the same set of events. When can we say that a mixed assessment is coherent? In order to give an answer to this question, we will introduce the notion of internal and external coherence for mixed assessments. We will say that a mixed assessment is coherent iff it satisfies both the internal and the external coherence properties. Roughly speaking, a mixed assessment is coherent iff each assessment is coherent per se (internal coherence) and moreover the assessments satisfy the law saying that if an event is probable, then it is possible too (external coherence).
This idea was first studied in [1], where a nice characterization theorem was proved. In this work we will frame that characterization into a logical setting and also provide some results about the computational complexity for the coherence test for mixed rational assessments.
The paper is organized as follows: in the next section we will introduce some basic notions and results about the logic RL- Δ, which will be exploited in order to build the fuzzy modal logic FPΠ(RL- Δ), that we will study in the same section. In Section 3 we introduce a formal definition of coherence for mixed assessments and we characterize the coherence of mixed assessments by means of the logical consistence of suitably defined theories over FPΠ(RL- Δ). In Section 4 we investigate the computational complexity for the coherence test. We end with some comments about the present and the future work.

A modal logic for probability and possibility
The logic RL- Δ and DMVΔ-algebras
In this first subsection we introduce and recall some results and notions concerning the logic RL- Δand the related class of DMVΔ-algebras (see [11,7]).
Definition 2.1 The formulas of RL- Δ are built from a countable set of propositional variables p0, p1,.. ., the propositional constants 0 and, as usual, from the binary connectives → and ⊕ and the unary connectives ¬, Δ and, for each n ∈ N, δn.
The axioms and rules of RL- Δ are:
(L- ) All the axioms and rules of L- ukasiewicz logic (see [13] for more details). (Δ) The following axioms schema for Δ:
(Δ1) Δ(ϕ → ψ) → (Δϕ → Δψ),
(Δ2) Δϕ ∨ ¬Δϕ, (Δ3) Δϕ → ϕ,
(Δ4) Δϕ → Δ(Δϕ),
(Δ5) Δ(ϕ ∨ ψ) ↔ (Δϕ ∨ Δψ).
The rule of Generalization:  ϕ  .
(Dn) For each n ∈ N, the following axiom schemas for δn: (D1) n.δnϕ ↔ ϕ,
(D2) ¬δnϕ ⊕ (n − 1).¬(δnϕ),
where n.ϕ is an abbreviation for ϕ ⊕ ... ⊕ ϕ.
n-times
The algebraic counterpart of RL- Δ is a class of algebras called in [7] DMVΔ- algebras. Roughly speaking, every DMVΔalgebra can be regarded as an MV-algebra (see [13]) enriched with the Baaz delta and the division operator δn (one for each n ∈ N). DMVΔ-algebras form a variety.
The prototypical example of a DMVΔ-algebra is the system [0, 1]DMVΔ = ⟨[0, 1], ⊕, ¬, Δ, {δn}n∈N, 0, 1⟩
where [0, 1] is the real unit interval and, for each x, y ∈ [0, 1]:
x ⊕ y = min{1,x + y},
¬x =1 − x,
Δ(x)=1 if x =1 and Δ(x)= 0 otherwise,
for each n ∈ N, δn(x)= x/n.
An evaluation of RL- Δ-formulas into [0, 1]DMVΔ is a map e from the set of propo- sitional variables into interval [0, 1], which can be extended (in unique way) to all RL- Δ-formulas by means of the following inductive conditions: for all ϕ, ψ, e(ϕ → ψ)= max{0, 1 − e(ϕ)+ e(ψ)}, e(ϕ ⊕ ψ)= min{1, e(ϕ)+ e(ψ)}, e(Δϕ) = 1 if e(ϕ)=1 and e(Δϕ) = 0 otherwise, for each n ∈ N, e(δnϕ)= e(ϕ)/n.
For every theory Γ (i.e. set of formulas) and for every formula ϕ, we say that

ϕ follows from Γ in RL- Δ (RL- Δ∪Γ ▶ ϕ) iff there is a finite sequence ψ1,... , ψn of formulas such that ψn = ϕ and for i = 1,... , n, either ψi is an axiom of RL- Δ, or ψi ∈ Γ, or ψi can be derived by RL- Δ-rules from a finite number of formulas ψj and j < i.
In [7] RL- Δ is shown to be complete with respect to the standard DMVΔ-algebra. This means that, if RL- Δ∪Γ /▶ ϕ, then there is an evaluation e on the standard DMVΔ-algebra [0, 1]DMVΔ such that e(γ) = 1 for every γ ∈ Γ and e(ϕ) < 1.
The logic FPΠ(RL- Δ) and its semantic
In this section we introduce the modal fuzzy logic FPΠ(RL- Δ) in order to reason about both probability and possibility measures. FPΠ(RL- Δ) is built up over RL- Δ extending its language by including modal formulas which represent the probability and the possibility of Boolean events.
We define the language in two steps. First, we take into account classical Boolean formulas ϕ, ψ, etc., defined in the usual way from a denumerable class of propo- sitional variables p0, p1,.. ., the truth constant 0 and classical connectives (∧, ¬). Then, modal sentences are formulas of the form 0, P (ϕ), Π(ϕ), where ϕ is a Boolean formula and the unary operators P (·) and Π(·) stands for probability and possibility, respectively. Compound modal formulas are built by means of the RL- Δ-connectives (→, &, ∧, ∨, Δ, and for each n ∈ N, δn). We shall denote modal formulas by upper case Greek letters Φ, Ψ, etc. Nested modalities are not allowed.
The logic FPΠ(RL- Δ) has the following axioms and rules:
All the axioms and rules of classical logic for Boolean formulas.
All the axioms and rules of RL- Δ restricted to modal formulas.
Probabilistic modal axioms for P : (FP 1) P (¬ϕ) ≡ ¬P (ϕ),
(FP 2) P (ϕ → ψ) → (P (ϕ) → P (ψ)),
(FP 3) P (ϕ ∨ ψ) ≡ [(P (ϕ) → P (ϕ ∧ ψ)) → P (ψ)].
Possibilistic modal axioms for Π: (F Π1) Π(ϕ ∨ ψ) → (Π(ϕ) ∨ Π(ψ)), (F Π2) ¬Π(0).
Deduction rules are
P-modalization:  ϕ ,
Π-modalization:  ϕ  ,
Π-monotonicity: 	ϕ→ψ	.
Definition 2.2 A probabilistic-possibilistic Kripke model (PΠ-Kripke Model) is a structure K = ⟨W, U , e, ρ, μ⟩, where:
W is a non-empty set of possible worlds and U is a Boolean algebra of subsets of
W .
e : V × W → {0, 1} is such that, for each fixed w ∈ W , the function e(·, w): V →

{0, 1} is a Boolean evaluation. Moreover let [ϕ]W = {w ∈ W | e(ϕ, w)= 1}.
ρ : U → [0, 1] is a possibility measure over U, such that [ϕ]W is ρ-measurable for any non-modal ϕ.
μ : U → [0, 1] is a finitely additive probability measure over U, such that [ϕ]W is
μ-measurable for any non-modal ϕ.
The evaluation e(·, w) can be extended to elementary modal formulas by defining e(Π(ϕ), w) = ρ([ϕ]W ) and e(P (ϕ), w) = μ([ϕ]W ) and to arbitrary modal formulas according to RL- Δ-semantics.
The truth-degree of a formula Φ in an PΠ-Kripke structure K = ⟨W, U , e, μ, ρ⟩, written Φ K , is defined as
Φ  K = infw∈W e(Φ, w).
When Φ  K = 1 we will say that Φ is valid in K or that K is a model for Φ. We say that K is a model of a set of T of formulas if K |=Φ for all Φ ∈ T . The notion of logical entailment relative to the class M, written |=M, is then defined as follows:
T |=M Φ iff Φ  M =1 .
If M denotes the whole class of PΠ-Kripke structures we shall write T |=FPΠ Φ and Φ  FPΠ.
By exploiting the technique worked out in [13,8,19], it is not difficult to prove the following completeness theorem.
Theorem 2.3 (Completeness) The logic FPΠ(RL- Δ) is and ﬁnite strong com- plete with respect to the class of PΠ-Kripke models. In other words, given a modal theory Γ and a modal formula Φ, whenever Γ /▶FPΠ Φ, then there exists a PΠ-model K which is a model of Γ, but such that Φ  K < 1.
Therefore the logic FPΠ(RL- Δ) is a good logic for reasoning with probability and possibility.

Application to the coherence problem
As pointed out in the introduction, an assessment of simple probability and possi- bility will be called mixed whenever it is defined over the same set of events. The coherence of a mixed assessment is so defined:
Definition 3.1 Let E = {ϕ1,... , ϕn} be a class of simple events and let (χ) : μ(ϕi)= αi, ρ(ϕi)= βi be a mixed assessment, with αi, βi ∈ Q ∩ [0, 1]. We say that χ is coherent if the following conditions are satisfied:
(I) The partial assessments (χP ) : μ(ϕi) = αi and (χΠ) : ρ(ϕi) = βi are coherent in their usual meaning (internal coherence).
(E) For each ψ ∈ B, μ(ψ) ≤ ρ(ψ), where B stands for the Boolean algebra generated by ϕ1,... , ϕn (external coherence).

The following characterization theorem for coherent mixed assessment was pro- vided in [1]:
Theorem 3.2 ([1]) Let ρ be a possibility measure in the class of atoms A =
{a1,... , am}, let A be ordered such that ρ(a1) ≤ ρ(a2) ≤ ... ≤ ρ(am) = 1, and let P be a probability measure over A. Then, being B the Boolean algebra generated
by A, for each γ ∈ B, the following are equivalent:

μ(γ) ≤ ρ(γ),
⎧⎪⎨ μ(a1) ≤ ρ(a1)

(ii)
⎪ Σ μ(a ) ≤ ρ(a ) ∀i = 2,... ,m − 1.

⎩ j=1
In this section we will reduce the coherence of a mixed assessment to the logical consistency a suitably defined theory over FPΠ(RL- Δ).
The following (famous) lemma of linear programming will turn out to be crucial in proving the main result of this and the next section.
Lemma 3.3 ([2]) Let S be a system of r linear (in)equalities. Then S has a (non- negative) solution iff it has a non-negative solution with at most r positive entries.
Now the characterization theorem reads as follow.
Theorem 3.4 Let E = {ϕ1,... , ϕn} be a ﬁnite set of Boolean events, let A =
{a1,... , am} be the atoms generated by ϕ1,... , ϕn, and let
(χ) μ(ϕi)= αi, ρ(ϕi)= βi (i = 1,... , n),
be a rational mixed assessment over E . Then the following are equivalent:
(χ) is coherent,
There are n +1 atoms a1,... , an+1, such that the FPΠ(RL- Δ)-theory Tχ, whose proper axioms are



(A1)
n
Δ(P (ϕi) ≡ αi),	(A2)
i=1
n


Δ(Π(ϕi) ≡ βi),
i=1

(A3)



i =1
Δ(Π(ai) → Π(ai+1)),	(A4)
n+1
Δ
j=1
j

i=1
P (ai) 

→ Π(aj) ,


is logically consistent, i.e. Tχ /▶FPΠ 0.
Proof. (i) ⇒ (ii) Let (χ) be coherent and let B be the Boolean algebra generated by A. It means that there are a probability measure μ∗ and a possibility measure ρ∗ defined over B extending μ and ρ respectively. As usual (please see [19]) the

coherence of ρ guarantees that the system


(SΠ)
ar⊆ϕi
max ρ(ar)=1 
r=1

has a solution, and therefore, by Lemma 3.3, (SΠ) has a solution with at most n + 1 positive entries (being n + 1 the number of (in)equalities of (SΠ)). Let, hence, a1,... , an+1 be the atoms corresponding to those positive entries 4 .
Now, the coherence of (χ), also guarantees that each ψ ∈ B, μ∗ and ρ∗ satisfy
μ∗(ψ) ≤ ρ∗(ψ). This last point means, in particular, that, if ρ∗(ai ) ≤ ρ∗(ai ) ≤
1	2
... ≤ ρ∗(ai	) = 1 is the order over the above atoms induced by the possibilty ρ∗,

then also the system

(S)

μ∗(ai1 ) ≤ ρ∗(ai1 )
⎪⎩ Σ μ∗(ai ) ≤ ρ∗(aij ) ∀j = 2,... ,n + 1.

k=1
has a solution.
Let now ai1 ,... , ain+1 be the above atoms and let K = ⟨W, e, μ∗, ρ∗⟩, where:
W is the set of all the Boolean evaluations over Boolean formulas,
e : W × V → {0, 1} is, for all w ∈ W and p ∈ V , be defined as e(w, p)= w(p)
μ∗ and ρ∗ are as above.
Then, clearly K is a PΠ-Kripke model and, moreover:
 (A1)  K =1 and (A2)  K = 1. In fact it the axioms (A1) and (A2) are just the logical translation of the assessment and the claim easily follows by the definition of K.
 (A3)  K = 1 and  (A4)  K = 1. This is easy, and follows by the fact that the system (S) is satisfied by μ∗ and ρ∗.
Hence, the theory Tχ is satisfiable and so is consistent.
⇒ (i). Let Tχ be logically consistent and let K = ⟨W, e, μ∗, ρ∗⟩ be a PΠ-Kripke model such that Ψ  K =1 for all Ψ ∈ Tχ. In order to prove the coherence of χ we have to show the following:
μ and ρ are coherent as rational assessments of probability and possibility re- spectively. This is easily guaranteed; in fact, in particular (A1)  K =1 and this holds iff, for each i = 1,... , n, μ∗(ϕi)= αi. This means that μ∗ is the required probability measure extending μ assuring the coherence of μ. Similarly, it can be shown that ρ∗ is the possibility measure extending ρ and, therefore, guaranteeing its coherence.

4 Notice that this can be assumed without loss of generality and, at least, by choosing a different indexing for the atoms.

- For each γ ∈ B, μ∗(γ) ≤ ρ∗(γ). Also this is easy to see. Indeed, just notice that (A3)  K = 1,  (A4)  K = 1 hold iff the hypothesis of Theorem 3.2 are satisfied and thus, iff μ∗(γ) ≤ ρ∗(γ) for each γ ∈ B.

Complexity issue
In this last section we are going to prove that testing the coherence of a mixed assessment is an NP-complete problem.
As we know by [15] the satisfiability problem for modal formulas of FP(L- ) is NP-complete. Moreover, using the same techniques of [8] and [19], it is not difficult to prove an analogous result also for FPΠ(RL- Δ). Therefore the following holds:
Theorem 4.1 The satisﬁability problem for modal formulas of FPΠ(RL- Δ) is NP- complete.
Let us start with a finite set of simple events E = {ϕ1,... , ϕn} and a mixed assessment
(χ): μ(ϕi)= αi, ρ(ϕi)= βi (i = 1,... , n).
Due to Theorem 3.4 the coherence problem of (χ) can be reduced to the satisfiability problem for the modal FPΠ(RL- Δ)-theory Tχ.
In this way NP-containment for the mixed coherence test is easily guaranteed by the NP-completeness for the satisfiability problem for FPΠ(RL- Δ) and the fact that Tχ has polynomial length (in the number n of events we started with). In particular Tχ has n instances of (A1), n instances of (A2), n instances of (A3), and finally n + 1 instances of (A4).
More precisely the NP-algorithm works as follows: let (χ) and E be defined as above. Then
Step 1 Randomly generate n + 2 atoms form the events in E.
Step 2 Build the theory Tχ.
Step 3 Test the satisfiability of Tχ.
Clearly the above presented algorithm is NP.
Finally it is straightforward to notice that the problem is NP-hard. In fact it derives from the fact that the problems PSAT and ΠSAT (which are known to be NP-complete, see for instance [10,19]) of testing the coherence of an assessment of simple probability and possibility are clearly sub-problems of testing the coherence of a mixed assessment.

Final remarks
In this paper we have presented the logic FPΠ(RL- Δ) in order to reason about simple probability and possibility at the same time. We have also introduced the notion of mixed assessment, that is an assessment of both probability and possibility, and we

also extended the notion of coherence to this special case. The logic FPΠ(RL- Δ) is a good logic for treating mixed assessments and by means of this logic we also proved that testing the coherence of a mixed assessment still is an NP-complete problem. Notice that a more general approach to mixed assessments could be obtained by treating also measure of necessity. In fact the necessity measure N can be defined
from the possibility Π by means of the standard negation ns(x)=1 − x as
N (ϕ)=1 − Π(¬ϕ).
As we know, the interpretation of the L- ukasiewicz negation corresponds to the
standard involutive negation ns, thus FPΠ(RL- Δ) is a nice logic also for reasoning about necessity measures as well. Clearly all the results provided in this paper can be extended if we consider assessments where a necessity measure explicitly appears. In particular the NP-containment sill holds. The trick consists, in fact, in looking for all the occurrences of the necessity N (·) and replacing it by ¬Π(¬ ·), where ¬ is the L- ukasiewicz negation. Clearly this transformation can be done in polynomial time (with respect to the number of events taken into account).
In our future work we aim at extending this preliminary results so as to treat measures of conditional probability and possibility as well. Indeed it is not difficult define a logic for conditional measures, and to prove a result similar to Theorem 3.4. Unfortunately we have not been able, so far, to prove that, also in that case, the test for mixed assessments is NP-complete. On the other hand we know that testing assessments of conditional probability (see [8]) and conditional possibility (see [19]) is NP-complete, still it seems quite problematic to prove a nice characterization for external coherence.

References
Castin˜eira E., Cubillo E., Trillas E. On possibility and probability measures in finite Boolean algebras. Soft Computing, 7, 89–96, (2002).
Chva´tal V., Linear Programming, W. Freeman and Co., San Francisco, Calif., (1983).
Dubois D., Lang J. and Prade H. Possibilistic Logic. In Handbook of Logic in Artificial Intelligence and Logic Programming, D. M.Gabbay et al. (eds), Vol. 3, 439–513, Oxford University Press, (1994).
Dubois D. and Prade H. Possibility theory: Qualitative and quantitative aspects. In Handbook of Defeasible Reasoning and Uncertainty Management Systems, D. M.Gabbay and Ph. Smets (eds), Vol. 1, 169–226, Kluwer Academic Publisher, Dordrecht, The Netherlands, (1998).
Esteva F., Godo L., Ha´jek P. Reasoning about probability using fuzzy logic. Neural Network World,
10, No. 5, 811–824, (2000).
Fagin R., Halpern Y., Megido N. A logic for reasoning about probability. Information and Computation, 87, 78–128, (1990).
Flaminio T. A Zero-Layer Based Fuzzy Probabilistic Logic for Conditional Probability. Lecture Notes in Computer Science. 3571: 8th European Conference on Symbolic and Quantitative Approaches on Reasoning under Uncertainty ECSQARU’05. Barcelona, Spain, July 2005. Llu´ıs Godo (Ed).
Flaminio T. NP-containment for the coherence test of rational assessments of conditional probability.
Archive for Mathematical Logic, to appear, (2006).
Flaminio T., Montagna F. A logical and algebraic treatment of conditional probability. Archive for Mathematical Logic, 44, 245–262, (2005).

Georgakopoulos G., Kavvalios D., Papadimitriou C.H. Probabilistic satisfiability. J. of Complexity,
4, 1–11, (1998).
Gerla B. Many-valued Logics of Continuous T-norms and their Functional Representation, PhD Thesis, Universit`a di Milano, (2001).
Godo L. and Marchioni E. Coherent conditional probability in a fuzzy logic setting. Logic Journal of the IGPL, to appear.
Ha´jek P., Metamathematics of Fuzzy Logic, Kluwer, (1998).
Ha´jek P., Godo L., Esteva F. Probability and Fuzzy Logic. In Proc. of Uncertainty in Artificial Intelligence UAI’95 (Besnard and Hanks, Eds.) Morgan Kaufmann. San Francisco, 237–244, (1995).
Ha´jek P., Tulipani S. Complexity of fuzzy probability logics. Fundamenta Informaticae, 45, 1–7, (2001).
Halpern J. Y. Reasoning about Uncertainty. The MIT Press, Cambridge Massachusetts, (2003).
Marchioni E., Godo L. A logic for reasoning about coherent conditional probability: a fuzzy modal logic approach. In Logics in Artificial Intelligence. LNAI, 3229, Jos´e Ju´lio Alferes and Joao Leite (Eds). Springer-Verlag, Heidelberg 213–225, (2004).
Marchioni E. Possibilistic conditioning framed in fuzzy logics. International Journal of Approximate Reasoning, to appear, (2006).
Marchioni E. Rational assessments of conditional possibility: Coherence and complexity. In preparation.
Smets Ph. Probability, possibility, belief: which and where? In Handbook of Defeasible Reasoning and Uncertainty Management Systems. Gabbay D. and Smets Ph. (Series Eds). Ph. Smets (Vol. eds.), Vol. 1 : Quantified Representation of Uncertainty & Imprecision, Kluwer, Doordrecht 1–24, (1998).
