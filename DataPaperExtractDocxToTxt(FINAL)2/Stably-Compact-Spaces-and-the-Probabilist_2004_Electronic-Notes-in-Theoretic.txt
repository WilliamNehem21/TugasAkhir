Electronic Notes in Theoretical Computer Science 87 (2004) 5–20	
www.elsevier.com/locate/entcs


Stably Compact Spaces and the Probabilistic Powerspace construction
Achim Jung1 ,2
School of Computer Science The University of Birmingham
Edgbaston, Birmingham, B13 0NZ England

Abstract
We put forward a revised definition of stably compact spaces which allows us to show their equiv- alence with Nachbin’s compact ordered spaces in an entirely elementary fashion. We then exhibit some constructions for stably compact spaces which apparently have not appeared in the literature before. These constructions allow us to show that the set of (sub-)probability valuations can be equipped with a topology which turns this set into another stably compact space. The topology chosen is not random; it is the weakest topology which makes integration of lower semicontinuous functions a continuous operation.
Keywords: Domain theory, stably compact domain, probabilistic power domain, compact ordered space.


Introduction
This text contains the notes of a talk given at the Bellairs Research Centre in Barbados in April 2003. It is intended to explain the topological background to our work with Mathias Kegelmann, M. Andrew Moshier, and Philipp Su¨nderhauf on a continuous version of Domain Theory in Logical Form (a pro- gramme introduced in [1]), published under the heading Multi-lingual Sequent Calculus, [12,7,8,16,9,20,21]. From a classical perspective, the Multi-lingual

1 Participation in the Barbados workshop was made possible through a travel grant of the School of Computer Science of the University of Birmingham.
2 Email: A.Jung@cs.bham.ac.uk


1571-0661 © 2004 Published by Elsevier B.V.Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2004.10.001


Sequent Calculus provides logical descriptions for stably compact spaces, and it is this concept which is here developed to some extent. A lot of the ma- terial below is not new but the fundamental facts are somewhat scattered in the literature. It is hoped that these notes, over time, will be developed into a more comprehensive account of stable compactness.
One reason why a directly accessible source for information on these topo- logical spaces is still missing, perhaps, is the fact that they are commonly defined as a certain class of sober spaces. This points to their prominent role in Stone Duality but unfortunately makes the subject somewhat specialised for mainstream mathematicians and computer scientists. Below we will work with an equivalent definition which only uses the basic concepts of “open” and “compact”. The possibility of such a definition was recently pointed out in the presentation of the subject in [5, Section VI-6]. Besides only employing elementary topological concepts, the new definition makes it clear that stably compact spaces are precisely the T0 analogues of compact Hausdorff spaces, in particular, they are those T0 spaces in which (saturated) compact subsets behave as one is used to: They can be intersected arbitrarily, and whenever an intersection belongs to an open set so does a finite intersection already. Finally, it is possible to explain in an entirely elementary fashion the pre- cise relationship between Nachbin’s compact ordered spaces, [22], and stably compact spaces. This first appeared in [4, Exercises VII-1.16-19] and is here carried out in sections 2.1 to 2.3.
In Section 2.5 we present some constructions for stably compact spaces which in some form or other have surely been observed before but again, it may be helpful to have them collected together in one place. Our own motivation for studying them is related to the probabilistic powerspace construction, intro- duced into the world of Semantics by Saheb-Djahromi, [25], and studied from a domain theoretic viewpoint by a number of authors, [11,10,17,26,6,13,3]. The elements of the probabilistic powerspace are valuations, which are functions assigning a “measure” to every open set of a topological space. This in itself is sufficient to define integration of (semi-)continuous functions (for a survey, see [19]) but the relationship with measures has also been explored, see [3] and the article by Klaus Keimel in this volume.
It was a bothersome aspect of the probabilistic powerspace construction that it could not be restricted to any of the well-known classes of continuous domains, [13], and this issue remains unresolved. However, the class of stably compact spaces does support it, and in the second part of this note we present a proof of this fact. It requires us to define a topology for the set of (probability) valuations which is again stably compact. Of course, the topology must be meaningful, and indeed, we can show that it is the weakest topology which

makes integration of semicontinuous functions a continuous operation.
The author is preparing a paper together with Klaus Keimel which will put the results presented here in a wider context. This joint work has already influenced the present text and Klaus Keimel’s suggestions and comments are gratefully acknowledged. Comments from Reinhold Heckmann and Mart´ın Escard´o have helped to iron out some unevenness in presentation in an earlier version.

Compact ordered and stably compact spaces
Compact ordered spaces
A partially ordered topological space (or ordered space, for short) in the sense of Nachbin [22] is a set X with a topology 0 and a partial order ≤ such that the graph of the order is closed in X × X. This captures the (reasonable) assumption that, for two converging nets xi → x and yi → y, the property xi ≤ yi for all i ∈ I implies x ≤ y. In terms of open sets, this is equivalent to saying that for any two points x /≤ y in X there are open sets U containing x and V containing y such that for every x' ∈ U and y' ∈ V , x' /≤ y' holds. Since x /= y is equivalent to “x /≤ y or y /≤ x”, it follows that ordered spaces are Hausdorff.
A subset U of X is called an upper (lower ) set, if x ∈ U implies y ∈ U for all y ≥ x (resp., y ≤ x). The smallest upper (lower) set containing a subset A is denoted †A (resp., ↓A). In an ordered space sets of the form †x = †{x} or
↓x = ↓{x} are always closed. More generally, one has:
Lemma 2.1 If A is a compact subset of a partially ordered space (X, 0, ≤)
then †A and ↓A are closed.
Proof. Consider x /∈ †A. For every y ∈ A we have y /≤ x, so we find open sets y ∈ Uy,x ∈ Vy where no element of Vy is above any element of Uy. The collection of all Uy, y ∈ A covers A and by compactness a finite subcollection Uy1 ,... , Uyn does so as well. We form the intersection of the corresponding Vyi
and obtain a neighbourhood of x, no element of which is above any element
of A. In other words,  n	Vy is disjoint from †A.
i
The claim for ↓A is proved analogously.	 
Our emphasis in this note is on partially ordered spaces which are compact. In this case the preceding observation has strong consequences as was first noted by Leopoldo Nachbin [22]:
Lemma 2.2 Let (X, 0, ≤) be a compact ordered space.


(Order normality) Let A and B be disjoint closed subsets of X, where A is an upper and B is a lower set. Then there exist disjoint open neigh- bourhoods U ⊇ A and V ⊇ B where again U is an upper and V is a lower set.
(Order separation) Whenever x /≤ y there exist an open upper set U
containing x and an open lower set V containing y which are disjoint.
(Order Urysohn property) For every pair A, B of disjoint closed subsets, where A is an upper and B is a lower set, there exists a continuous order- preserving function into the unit interval which has value 1 on A and 0 on B.
Proof. By normality of compact Hausdorff spaces, A and B have disjoint open neighbourhoods U ' and V '. Observe that X \ U ' and X \ V ' are compact subsets of X, so we can employ Lemma 2.1 and set U = X \ ↓(X \ U ') and
V = X \ †(X \ V '). Order separation is a special case of order normality, and the order preserving version of Urysohn’s Lemma follows, as usual, by repeated application of order normality.	 


The upwards topology of a compact ordered space
One way to interpret Lemma 2.2 is to say that there is an abundance of open
upper sets in a compact ordered space. For any ordered space, the set
U := {U ∈ 0 | U = †U }
of open upper sets is a topology coarser than the original one; we call it the topology of convergence from below or upwards topology for short. The resulting topological space (X, U) we denote by X↑.
Sets of the form X \ ↓x always belong to U and therefore every upper set is equal to the intersection of its U-open neighbourhoods, that is, it is U-saturated. The converse direction being trivial (i.e., intersections of upper sets are always upper), we thus have:
Proposition 2.3 In an ordered space the upper sets are precisely the U - saturated ones.
For a general topological space (X, G) one sets x ≤G y if every neighbour- hood of x also contains y. This is always a preorder and it is anti-symmetric if and only if the space is T0. It is called the specialisation order associated with G. The preceding proposition tells us that ≤U is precisely the original order ≤ in any ordered space.


In order to analyse the properties of U further in the case where (X, 0, ≤) is compact, we also consider the set of compact saturated sets:
KU := {K ⊂ X | K is U-saturated and U-compact}
Lemma 2.4 Let (X, 0, ≤) be a compact ordered space. The elements of KU
are precisely those subsets of X which are upper and closed with respect to 0.
Proof. The upper closed sets of X are U-compact because the topology U is weaker than 0. For the converse we use order separation: Let x /∈ A ∈ KU . For every y ∈ A we have y /≤ x and hence find an open upper set y ∈ Uy and an open lower set x ∈ Vy which are disjoint. By compactness, finitely many Uy cover A and the intersection of the corresponding Vy will provide the open neighbourhood of x disjoint from A.	 
We now have enough information to show that from U alone we can re- construct the original compact ordered space. In general, one considers the patch topology Gp of a topological space (X, G) by augmenting G with com- plements of compact saturated sets. With this terminology we can formulate the following:
Theorem 2.5 Let (X, 0, ≤) be a compact ordered space. Then 0 = Up and
≤ = ≤U .
Proof. Because of Lemma 2.4, Up is contained in 0. It is Hausdorff because of order separation and therefore the identity map i: (X, 0) → (X, Up) is a homeomorphism.
The possibility to reconstruct the order out of the upwards topology has been remarked before.	 
Since with (X, 0, ≤), the “upside-down” space (X, 0, ≥) is also compact ordered, the results in this section hold equally well for the topology D of convergence from above or downwards topology. By Lemma 2.4, its open sets are precisely the complements of the compact saturated sets of U.
Stably compact spaces
As it turns out, topologies which arise as upwards topologies in compact or- dered spaces can be characterised intrinsically. We begin with the following observations:
Proposition 2.6 For a compact ordered space (X, 0, ≤) the upwards topol- ogy U is
T0;
compact;

locally compact;
coherent, that is, pairs of compact saturated sets have compact intersec- tion;
well-ﬁltered, that is, for any ﬁlter base (Ai)i∈I of compact saturated sets, for which  Ai is contained in an open upper set U, there is an index i0 such that Ai0 is contained in U already.
Proof. The T0 separation property follows from order separation, (ii) is triv- ially true because U is weaker than 0, and (iii) is a reformulation of order normality. Coherence and well-filteredness follow from Lemma 2.4 which says that the compact saturated sets of (X, U) are compact subsets in the original Hausdorff space (X, 0, ≤).	 
Definition 2.7 A T0 space which is compact, locally compact, coherent, and well-filtered is called stably compact.
In recent literature it has been customary to use “sober” instead of “well- filtered” in the definition of stably compact spaces. However, in the presence of local compactness these two properties are equivalent, [5, Theorem II-1.21]. With this note we would like to make a case for the revised definition, because it makes it apparent that stably compact spaces are the T0-analogue of compact Hausdorff spaces, in the sense that compact saturated sets in the former have the same properties as compact subsets in the latter. 3 The following lemma illustrates this:
Lemma 2.8 Let (X, U) be a stably compact space. Then any collection of compact saturated subsets has compact intersection.
Proof. Finite intersections leading again to compact saturated subsets, we can assume the collection to be filtered. By well-filteredness, an open cover of the intersection will contain an element of the filter base already. This being compact, a finite subcover will suffice.	 
This result justifies the following definition.
Definition 2.9 Let (X, U) be a stably compact space. The co-compact topol- ogy Uκ on X is given by the complements of compact saturated sets.
The reader is correct in suspecting that the passage to the co-compact topology is an involution for stably compact spaces. This will follow easily from Theorem 2.12 and is recorded as Corollary 2.13 below. For the moment we consider the following proposition which is reminiscent of the well-known

3 I am indebted to Pawel- Waszkiewicz, whose interest in the topic forced me to reconsider the definition of stable compactness.


fact that a compact Hausdorff-topology cannot be weakened without losing separation.
Proposition 2.10 Let (X, U) be a stably compact space. Let further B be a subset of U and C a subset of the co-compact topology Uκ, such that the following property holds:
∀x, y ∈ X. x /≤U y ⇒ ∃U ∈ B,L ∈ C. x ∈ U, y ∈ L, L ∩ U = ∅ .
Then B is a subbasis for U .
Proof. Let x be an element of an open set O ∈ U. Then by assumption for every y in X \ O there exist disjoint sets Uy ∈ B and Ly ∈ C which contain x and y, respectively. The complements of the Ly are compact saturated by definition and their intersection is contained in O. Well-filteredness tells us that the same is true for a finite subcollection of Ly’s. The intersection of the corresponding Uy is a neighbourhood of x contained in O.	 
Corollary 2.11 Let U and U' be stably compact topologies on a set X such that ≤U = ≤U' , U ⊆ U and KU ⊆ KU' . Then U = U .
We are now ready to complete the link with compact ordered spaces.
Theorem 2.12 Let (X, U) be a stably compact space. Consider its patch topology Up and specialisation order ≤U . Then (X, Up, ≤U ) is a compact or- dered space. Furthermore, the upwards topology arising from Up and ≤U is equal to U , and the co-compact topology Uκ is equal to the topology of conver- gence from above derived from Up and ≤U .
Proof. The Hausdorff separation property and the closedness of ≤U follow from T0 and local compactness. Compactness of the patch topology requires the Axiom of Choice in the form of Alexander’s Subbase Lemma: Let B∪ C be a covering of X where the open sets in B are chosen from U and the ones in C are complements of compact saturated sets. The points not covered by the elements of C form a compact saturated set by Lemma 2.8 and must be covered by elements of B. A finite subcollection B' ⊆fin B will suffice for the purpose. By well-filteredness, then, a finite intersection of complements of elements of C will be contained in  B' already. This completes the selection of a finite subcover, and we have shown that (X, Up, ≤U ) is a compact ordered space.
The same argument shows that every compact saturated set in (X, U) is also compact in the patch topology.
The specialisation order that one derives from the topology of convergence from below on the space (X, Up, ≤U ) is the same as ≤U by Theorem 2.5.


We are therefore in the situation described by Corollary 2.11 and can con- clude that no new open upper sets arise in the patch construction. Lemma 2.4, then, tells us that the closed upper sets in (X, Up, ≤U ) are precisely the com- pact saturated sets of U. Hence the co-compact topology with respect to U is equal to the topology of convergence from below on (X, Up, ≤U ).	 
Corollary 2.13 Let (X, U) be a stably compact space.
The co-compact topology Uκ is also stably compact.
(Uκ)κ = U
Examples
The prime example of an ordered space is given by the real line with the usual topology and the usual order. The upwards topology in this case consists of sets of the form ]r, ∞[ (plus R and ∅, of course), and non-empty compact saturated sets associated to this, in turn, are the sets of the form [r, ∞[. We denote the real line with the upwards topology by R↑. Also of interest to us is the non-negative part of this, denoted by R↑ . One obtains a compact ordered space by either restricting to a compact subset, such as the unit interval, or by extending the real line with elements at infinity in the usual way, denoted here by R = [−∞, ∞] and R+ = [0, ∞].
In general, one cannot expect a compact ordered space to be fully de- termined by its order alone, after all, every compact Hausdorff space can be equipped with a trivial closed order, namely, the identity relation. The before- mentioned semantic domains, however, do provide examples where the order structure is rich enough to determine a non-trivial stably compact topology. We review the definitions: A dcpo (for directed-complete partial order ) is an ordered set in which every directed subset has a supremum. The closed sets of the Scott-topology σD of a dcpo D are those lower sets which are closed under formation of directed suprema. It follows that a function between dc- pos is continuous with respect to the two Scott-topologies if and only if it preserves the order and suprema of directed sets. In order to emphasise the dcpo context, such functions are usually called Scott-continuous.
The specialisation order associated with the Scott-topology, which is al- ways T0, will give back the original order of the dcpo. An element x of a dcpo D is way-below an element y (written x  y) if whenever y is below the supremum of a directed set A ⊆ D, then x is below some element of A. A dcpo D is continuous or a domain if every element equals the directed supremum of its way-below approximants.
The Scott-topology of a domain is always well-filtered, [14, Lemma 4.12], and coherence can be characterised in an order-theoretic fashion as well, see


[14, Lemma 4.18], [5, Proposition III-5.12]. As a special case, coherence holds in every continuous complete lattice (known as continuous lattice for short). Two examples are of interest here: The unit interval [0, 1] (or R or R+) is a continuous lattice and the Scott-topology is precisely the topology of conver- gence from below, discussed before. An element x of [0, 1] is way-below y if x =0 or x < y. The other class of examples is given by open set lattices of lo- cally compact spaces. Here, the way-below relation is characterised by U  V if and only if there exists a compact saturated set K such that U ⊆ K ⊆ V . Stably compact spaces qualify, and their open set lattices have the additional property (not true in general) that U  V1 and U  V2 imply U  V1 ∩ V2. The topic of this note is connected to Domain Theory via the Lawson- topology λ, which is defined as the extension of the Scott-topology with com- plements of principal upper sets †x. It is easy to see that in a domain every compact saturated set (with respect to σD) is the intersection of finite unions of principal upper sets, and so in this context the Lawson-topology is precisely
the patch topology derived from σD.
Furthermore, a domain is λ-compact if and only if σD is stably compact. Since σD always satisfies requirements (i)–(iii) and (v) for a stably compact space as listed in Proposition 2.6, it is reasonable to call λ-compact domains coherent. This is the terminology introduced in [12] and adopted in [5].
Coherent domains have played a significant role in the development of Domain Theory. Without attempting completeness, we remind the reader of the following appearances of the concept in the literature. In [23] a very large class of (algebraic) domains is introduced, called SFP-objects (and later also referred to as biﬁnite domains ). Plotkin’s “2/3 SFP Theorem”, [24], states that coherence accounts for two of the three defining properties of SFP- domains. In [15], a maximality result is shown for cartesian closed categories of domains; coherence is the crucial concept there. Finally, in [13] we showed that the probabilistic powerdomain of a coherent domain is again coherent. The results in Section 3 below are a direct generalisation of this but the proof is much simpler.

Morphisms and constructions
Although theorems 2.5 and 2.12 suggest that we can switch freely between compact ordered and stably compact spaces, a difference between the two standpoints does become apparent when one considers the corresponding mor- phisms: neither is a continuous map between stably compact spaces patch continuous, nor is every patch continuous function continuous with respect to the original topologies. Indeed, it is the fact that T0-continuous maps arise in applications to Denotational Semantics which motivates our interest in stably

compact spaces.
Nevertheless, a connection between subclasses of continuous maps can be made. A continuous map f : X → X' between locally compact spaces is called perfect if the preimage f −1(K) of every compact saturated set K ⊆ X' is compact in X. The following is true:
Proposition 2.14 For locally compact spaces (X, C) and (X ', C'), the map f : X → X' is perfect, if and only if it is continuous with respect to the patch topologies on X and X' and monotone (i.e., order preserving) with respect to the specialisation orders.
In the remainder of this section we study some constructions on spaces and how they interact with the translations given in theorems 2.5 and 2.12.
Proposition 2.15 Arbitrary products of stably compact spaces are stably com- pact, and the product topology equals the upwards topology of the product of the corresponding compact ordered spaces.
Proof. Let (Xi, Ci)i∈I be any family of stably compact spaces and let (Xi, 0i,
≤i) be the corresponding compact ordered spaces. We prove the second claim because it entails the first. By Tychonoff’s Theorem the product 0 of the patch topologies 0i is again compact Hausdorff, and the shape of basic open
sets in the product gives immediately that the coordinatewise order ≤ is closed.
So (	Xi, 0, ≤) is a compact ordered space.
A basic open set from the product of the Ci is also open in 0. For the converse we employ Proposition 2.10, where the product of the Ci plays the role of У and the product of the respective co-compact to pologies (Ci)κ plays
the role of C in the stably compact space derived from (	i∈I Xi, 0, ≤). The
separation property is obviously satisfied because x /≤ y means xi /≤ yi for
some index i.	 
Subspaces do not, in general, inherit any of the properties under consider- ation, except that the order remains closed. However, we have the following:
Proposition 2.16 Let Y be a patch-closed subset of a stably compact space (X, C). Then Y is stably compact when equipped with the subspace topol- ogy CTY , and (CTY )p = CpTY .
Proof. The subspace (Y, CpTY , ≤TY ×Y ) is of course again a compact ordered space. If A is a closed lower set in Y , then its lower closure ↓A in X is again closed as A is compact in X. This shows that the upper opens of (Y, CpTY , ≤TY ×Y ) belong to CTY . The converse inclusion is trivial.	 
The second case where we know something about the stable compactness of


a subspace is related to continuous retractions. This fact is mentioned in [18] already but the proof uses a different characterisation of stable compactness.
Proposition 2.17 Let Y be a continuous retract of a stably compact space X. Then Y is stably compact.
Proof. Let e: Y → X be the section and r: X → Y the retraction map (both continuous). We check the defining properties for stable compactness. First of all, Y is a T0-space because e is injective. The compactness of Y follows from the continuity of the (surjective) map r. If x ∈ O ⊆ Y , with O open in Y , then r−1(O) is an open neighbourhood of e(x). Hence there is an open set U and a compact saturated set L in X such that e(x) ∈ U ⊆ L ⊆ r−1(O). The image of L under r is compact in Y , is contained in O, and contains the open set e−1(U ) which contains x. This proves that Y is locally compact.
For stability, let K1, K2 be compact saturated sets in Y . We get that e(K1) and e(K2) are compact in X and hence †e(Ki) is compact saturated in X. By the stability of X the intersection (†e(K1)) ∩ (†e(K2)) is compact again. Its image under r is precisely K1 ∩ K2; it is compact in Y by the continuity of r. Well-filteredness is shown in the same way.	 
Note that e does not need to be a perfect map in general, so the result is not subsumed by Proposition 2.16 already. 4

The probabilistic powerspace
Valuations
For a topological space (X, G) we consider maps µ: G → R with the following properties
µ(∅) = 0 (strict);
∀O, O' ∈ G. µ(O)+ µ(O')= µ(O ∩ O')+ µ(O ∪ O') (modular);
∀O, O' ∈ G. O ⊆ O' ⇒ µ(O) ≤ µ(O') (monotone).
Functions of this kind are called (monotone) valuations; they are the ele- ments of mV(X). We are interested in the case where the following additional property is satisfied
µ(	Oi)= sup	µ(Oi) (Scott-continuous)
for all directed families (Oi)i∈I of open sets. If we equip the complete lattice (G, ⊆) with its Scott-topology, and likewise (R, ≤) with the topology of con-

4 Perfectness of e is guaranteed if e is an upper adjoint. This situation is called an insertion- closure pair in [2, Section 3.1.5].


vergence from below, then the continuity of a valuation is just the topological one. We restrict further by stipulating
µ(X) = 1 (normalised)
which brings us to continuous probability valuations. We denote the set of all continuous probability valuations by V1(X). Likewise, the condition µ(X) ≤ 1 gives rise to the set of sub-probability valuations, denoted by V≤1(X).
We equip V1(X) with the topology inherited from the product topology on [0, 1]G, where [0, 1] carries the upwards topology. For simplicity, we call it the product topology and we denote it by P. Likewise, we consider the product order ≤P which is inherited from the natural order on R.
On stably compact spaces there is a close relationship between monotone and continuous valuations, a fact which we will make crucial use of in the next section.

Proposition 3.1 Let (X, C) be a stably compact space and µ: C → R+ be a valuation. The following deﬁnes the largest continuous valuation below µ in the pointwise order:
Φ(µ)(O) := sup{µ(V ) | V   O}
where V  O means that there is a compact saturated set K such that V ⊆ K ⊆ O. Furthermore, the operation Φ: mV(X) → mV(X) is idempotent and continuous with respect to the product topology, and maps (sub-)probability valuations to (sub-)probability valuations.
Proof. It is clear that Φ(µ)(∅) = 0 holds, and that Φ(µ) is monotone. For the modular law, we exploit stable compactness which gives us that O ∩ O' is approximated by sets of the form V ∩ V ' where V  O and V ' O'. The continuity of Φ(µ) follows from its definition.
If ν is any other continuous valuation below µ, then for every O ∈ C we have ν(O)= sup{ν(V ) | V  O} by local compactness and continuity, hence ν ≤ Φ(µ).
A continuous valuation is kept fixed by Φ because every open set equals the directed union of those open sets way-below it.
In order to see that the operation of making a valuation continuous is itself continuous with respect to the product topology on mV(X), observe that Φ(µ)(O) is greater than a real number r, if and only if µ(V ) > r for some
V ⊆ K ⊆ O. Hence the preimage of the subbasic open set {µ ∈ mV(X) |

µ(O) > r} equals 

V O
{µ ∈ mV(X) | µ(V ) > r}.

The last statement follows immediately from the fact that the whole space X
is compact and open at the same time.	 


The product topology on spaces of valuations
We now have all the tools to show that the product topology restricted to
V1(X) is stably compact.	We start with the stably compact space Y =

O∈U
[0, 1], where each copy of the unit interval is equipped with the upwards

topology. The corresponding patch topology is just the product topology of
the usual metric topology. The projection π∅: Y → [0, 1] is patch-continuous, and hence the preimage π−1(0) is patch-closed in Y . Likewise for the preim-

age π−1(1). Assume O ⊆ O'
∈ C; then we can use the projections πO and πO'

to excise the set of tuples µ for which µ(O) ≤ µ(O'). Again, this is a patch-
closed subset of Y . Exploiting the continuity of addition in the usual topology on R we can restrict further to a patch-closed subset of tuples satisfying the modular law. By invoking Proposition 2.16 we have thus shown that the set mV1(X) of monotone sub-probability valuations on a stably compact space X is stably compact when equipped with the product topology P. The same is obviously true of mV≤1(X).
Now we can apply the continuous retraction Φ from Proposition 3.1 to conclude with the help of Proposition 2.17:
Theorem 3.2 The set V1(X) of continuous probability valuations on a stably compact space X is stably compact when equipped with the product topology P. The same holds for V≤1(X).
For the remainder of this paper we restrict ourselves to continuous valua- tions and we ask whether the product topology can be characterised in other ways. Specifically, we will compare P with weak topologies which arise as the initial topologies making certain test functions γ: V(X) → R continuous. For
↑
example, every open set O ∈ C gives rise to a test function γO: V(X) → R+
which evaluates a valuation at O. Of course, these maps are just the projec- tions πO, which we considered above, and the product topology is the initial topology making all γO, O ∈ C, continuous.
More interestingly, let LSC(X) denote the set of lower continuous func- tions on (X, C) into the extended non-negative reals. A number of authors, [10,17,26,6], have given definitions (of increasing generality) of an integral for lower semicontinuous functions with respect to continuous valuations. The definitions by Tix and Heckmann are directly applicable to stably compact spaces, and give the same result, [6, page 197] (see also [3, Section 6.3]). Thus
↑
every lower semicontinuous function f : X → R+ gives rise to a test function
↑	∫
γ : V(X) → R	by setting γ (µ) :=	fdµ. The following is now entirely
f	+	f
straightforward to show ([17, Satz 8.5], [26, Lemma 4.9], [6, Theorem 8.3]):
Theorem 3.3 The product topology restricted to V1(X) and V≤1(X), respec-

tively, is equal to the weak topology arising from the test functions γf for
f ∈ LSC(X).
In other words, a net (µi)i∈I of valuations converg∫es to a valuation µ∫ with
respect to P, if and only if the values of the integrals	fdµi converge to	fdµ
↑	↑
in R+ for every lower semicontinuous function f : X → R+.
A subbasis for the product topology on V1(X) is given by sets of the form
[O > r] := {µ ∈ V1(X) | µ(O) > r}
where O ∈ C and r ∈ R. This is the starting point for the logical description of the probabilistic powerspace construction carried out in [20]. The fact that the sets
[K ≥ r] := {µ ∈ V1(X) | ∀O ∈ C . K ⊆ O ⇒ µ(O) ≥ r}
where K ∈ KU and r ∈ R, are a subbasis for the set of compact saturated sets in (V1(X), P), is also important for the smooth working of the logical framework. Of course, these two observations are also true for V≤1(X).
The natural order between valuations, µ “ ν iff ∀O ∈ G. µ(O) ≤ ν(O), can easily be shown to be directed-complete, and it therefore makes sense to study the Scott-topology on V1(X). It is shown in [26] that for domains D with their Scott-topology this, too, yields the weak topology in the sense above. It follows that for coherent domains the product topology is given order-theoretically as the Scott-topology. On a general stably compact space this need not be so:
Example 3.4 For X = {0, 1}, equipped with the discrete topology, the set of probability valuations is in one-to-one correspondence with the unit interval. The product topology is the same as the usual metric topology on [0, 1] but the order is identity and so the Scott-topology is discrete.
For sub-probability measures the order on V≤1(X) is never trivial, and so equality between product and Scott-topology may hold in general. We leave this as an open problem.

References
S. Abramsky. Domain theory in logical form. In Symposium on Logic In Computer Science, pages 47–53. IEEE Computer Society Press, 1987.
S. Abramsky and A. Jung. Domain theory. In S. Abramsky, D. M. Gabbay, and T. S. E. Maibaum, editors, Handbook of Logic in Computer Science, volume 3, pages 1–168. Clarendon Press, 1994.
M. Alvarez-Manilla. Measure theoretic results for continuous valuations on partially ordered spaces. PhD thesis, Imperial College, University of London, 2001.


G. Gierz, K. H. Hofmann, K. Keimel, J. D. Lawson, M. Mislove, and D. S. Scott. A Compendium of Continuous Lattices. Springer Verlag, 1980.
G. Gierz, K. H. Hofmann, K. Keimel, J. D. Lawson, M. Mislove, and D. S. Scott. Continuous Lattices and Domains, volume 93 of Encyclopedia of Mathematics and its Applications. Cambridge University Press, 2003. Revised and expanded edition of [4].
R. Heckmann. Spaces of valuations. In S. Andima, R. C. Flagg, G. Itzkowitz, P. Misra,
Y. Kong, and R. Kopperman, editors, Papers on General Topology and Applications: Eleventh Summer Conference at the University of Southern Maine, volume 806 of Annals of the New York Academy of Sciences, pages 174–200, 1996.
A. Jung, M. Kegelmann, and M. A. Moshier. Multi lingual sequent calculus and coherent spaces. In S. Brookes and M. Mislove, editors, 13th Conference on Mathematical Foundations of Programming Semantics, volume 6 of Electronic Notes in Theoretical Computer Science. Elsevier Science Publishers B.V., 1997. 18 pages.
A. Jung, M. Kegelmann, and M. A. Moshier. Multi lingual sequent calculus and coherent spaces. Fundamenta Informaticae, 37:369–412, 1999.
A. Jung, M. Kegelmann, and M. A. Moshier. Stably compact spaces and closed relations. In S. Brookes and M. Mislove, editors, 17th Conference on Mathematical Foundations of Programming Semantics, volume 45 of Electronic Notes in Theoretical Computer Science. Elsevier Science Publishers B.V., 2001. 24 pages.
C. Jones. Probabilistic Non-Determinism. PhD thesis, University of Edinburgh, Edinburgh, 1990. Also published as Technical Report No. CST-63-90.
C. Jones and G. Plotkin. A probabilistic powerdomain of evaluations. In Proceedings of the 4th Annual Symposium on Logic in Computer Science, pages 186–195. IEEE Computer Society Press, 1989.
A. Jung and Ph. Su¨nderhauf. On the duality of compact vs. open. In S. Andima, R. C. Flagg,
G. Itzkowitz, P. Misra, Y. Kong, and R. Kopperman, editors, Papers on General Topology and Applications: Eleventh Summer Conference at the University of Southern Maine, volume 806 of Annals of the New York Academy of Sciences, pages 214–230, 1996.
A. Jung and R. Tix. The troublesome probabilistic powerdomain. In A. Edalat, A. Jung,
K. Keimel, and M. Kwiatkowska, editors, Proceedings of the Third Workshop on Computation and Approximation, volume 13 of Electronic Notes in Theoretical Computer Science. Elsevier Science Publishers B.V., 1998. 23 pages.
A. Jung. Cartesian Closed Categories of Domains, volume 66 of CWI Tracts. Centrum voor Wiskunde en Informatica, Amsterdam, 1989. 107 pp.
A. Jung. The classification of continuous domains. In Proceedings, Fifth Annual IEEE Symposium on Logic in Computer Science, pages 35–40. IEEE Computer Society Press, 1990.
Mathias Kegelmann. Continuous Domains in Logical Form, volume 49 of Electronic Notes in Theoretical Computer Science. Elsevier Science Publishers B.V., 2002.
O. Kirch. Bereiche und Bewertungen. Master’s thesis, Technische Hochschule Darmstadt, June 1993. 77pp.
J. D. Lawson. The versatile continuous order. In M. Main, A. Melton, M. Mislove, and
D. Schmidt, editors, Mathematical Foundations of Programming Language Semantics, volume 298 of Lecture Notes in Computer Science, pages 134–160. Springer Verlag, 1988.
J. D. Lawson. Domains, integration, and “positive analysis”. Mathematical Structures in Computer Science, to appear.
M. A. Moshier and A. Jung. A logic for probabilities in semantics. In Julian Bradfield, editor, Computer Science Logic, volume 2471 of Lecture Notes in Computer Science, pages 216–231. Springer Verlag, 2002.
M. A. Moshier.  On the relationship between compact regularity and Gentzen’s cut rule.
Theoretical Computer Science, to appear.


L. Nachbin. Topology and Order. Von Nostrand, Princeton, N.J., 1965. Translated from the 1950 monograph “Topologia e Ordem” (in Portugese). Reprinted by Robert E. Kreiger Publishing Co., Huntington, NY, 1967.
G. D. Plotkin. A powerdomain construction. SIAM Journal on Computing, 5:452–487, 1976.
G. D. Plotkin. Post-graduate lecture notes in advanced domain theory (incorporating the “Pisa Notes”). Dept. of Computer Science, Univ. of Edinburgh, 1981.
N. Saheb-Djahromi. CPO’s of measures for nondeterminism. Theoretical Computer Science, 12:19–37, 1980.
R. Tix. Stetige Bewertungen auf topologischen Ra¨umen. Master’s thesis, Technische Hochschule Darmstadt, June 1995. 51pp.
