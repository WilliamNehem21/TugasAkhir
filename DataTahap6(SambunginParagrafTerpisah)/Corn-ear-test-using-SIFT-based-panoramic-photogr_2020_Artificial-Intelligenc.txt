et al., 2019; Xia et al., 2019), but there are only few methods for nonde- structive measurement of corn ear (Liu et al., 2015). The technology of corn test based on machine vision and panoramic photography has be- come an attracting trend of high throughput corn farming and has attracted increasing attention.

SIFT algorithm can be used to detect and describe parts of the fea- tures in images, find extreme points on spatial scales, and extract their position, scale, and rotation invariants. Then the image data was trans- formed into scale-invariant coordinates based on the local features (Lowe, 1999). The SIFT algorithm mainly includes detecting scale space extremes, determining the direction of key points, generating SIFT feature vectors, and feature matching (Lowe, 2004).

In this research, the kernels synthesized from 10 corn ears were con- nected after the segmentation, and the number of connected kernels varied, which had an effect on the counting of kernels. The reason for connected kernels was that the grayscale values in the kernels area and the kernels gap were similar. Therefore, in order to further reduce the adhesive kernels, a grayscale transformation on the original corn ear area was performed to increase the contrast between the area and the gap, and used for further segmentation.

To prevent the background of the original corn ear area image from participating in grayscale transformation, in this study, the distribution probability Ek of each gray level was calculated based on the image of the corn ear area. If there was a probability g, when Ek < g and the cor- responding gray level was fa, then determined [0, fa] as the background area; when Ek < 1-g and the corresponding gray level was fb, then the area with the gray range [fa,fb] was used as the input area for the gray- scale transformation. In this way can the irrelevant background from the grayscale transformation being avoided.

In this study, 10 ear corn samples were used for corn test. They were labeled from 1 to 10, which were number 1 to 2 for Zheng Dan 958, number 3 to 4 for Xian Yu 335, number 5 to 6 for Zheng Da 12, number 7 to 8 for Qin Long 14 and number 9 to 10 for Zhong Ke 11. For the corn ear radius and length, the results of artificial and algorithmic tests were compared using the 10 ear corn samples.

the median of all connected domain areas in the binary image. The man- ual test of the length-width ratio is based on manual measurement and the algorithm test of the length-width ratio is the median of the length- width ratios of the largest circumscribed rectangles of all connected do- mains in the binary image. The results showed that the accuracy of the algorithm for kernel area was 95.36%, and the accuracy of the algorithm for length-width ratio was 97.42%.

This work was supported by the National Key Research and Develop- ment Program of China (2019YFD1002401) and the National High Technology Research and Development Program of China (863 Pro- gram) (No. 2013AA10230402). The authors would like to thank all of the authors cited in this article and the anonymous referees for their helpful comments and suggestions.

