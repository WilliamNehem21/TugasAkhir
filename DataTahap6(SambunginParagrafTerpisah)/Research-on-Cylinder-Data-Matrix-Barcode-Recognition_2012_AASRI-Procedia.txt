The traditional methods locate DM code edge based on geometric shape feature. These methods are vulnerable to be polluted by scratches, noise with high error rate. Therefore, this paper presents a data fitting positioning method based on the image gray projection. Firstly, calculation the image horizontal gray level projection:

As a result of longitudinal displacement has been corrected in 3.1, this  s image registration only exists in direction x. In the range of x, we can get the maximum of the matching function as the optimal matching degree , and this location as the registration location G.

{2n*2n|4n12} styles. The references [10] proposed a mean based on DM code boundary gradient projection. By going through all the module division modes, this algorithm uses normal peak characteristic value describe each module division mode results. Based on the DM code boundary properties, the normal peak characteristics value of the correct division mode is greater than the incorrect division mode, which has robustness when DM code boundary is polluted.

Causing by cylindrical curve and rotational motion blurred, the DM code image distortion has breadthwise distortion. The paper takes the max width image form Part0 , Part1 , Part2, then calculates horizontal gradient projection, searches the gradient projection, statistics complete horizontal module number q and its size Mq. The theory barcode module size is Ms=h/P, the actual barcode module size is M=Mq/q, and the DM code distortion ratio is =Ms/M.

Firstly, the image Part0 is put on the left side of the memory area, and the image Part2 is put on the right side. The algorithm scans Part1 by vertical scanning line, and marks the position where scanning line has maximum gradient, then puts Part1 between Part0 and Part2, and moves overlap w column elements with Part0 to the right until overlap one columns element. In the moving process, when the vertical scanning line marked in Part1 overlaps with the memory area mesh dividing line, the algorithm calculates the MSE of overlap region, sets the MMSE position as registration position finally, and cuts overlap area reserves at most 10 column elements, uses above weighted average method to fuse them. At last, using mature decoding algorithm recognizes the DM code in the buffer zone.

