Available online at www.sciencedirect.com



AASRI Procedia 3 (2012) 248 – 253




2012 AASRI Conference on Modelling, Identification and Control
A Novel Foliar Color Model for Nitrogen Deficiency Diagnosis of Rubber Trees
Xiaoming Yao*
College of Information Science & Technology, Hainan University, Haikou 570228, China




Abstract

The foliar color pattern under the stress of nitrogen deficiency varies usually in a uniformly distributed way, so it seems reasonable to fabricate a detection index directly using the averaged value or any of the relative form of its color components. However, these color components are linearly correlated with each other, and the mineral contents don't have a precise metric description themselves, which makes the color modeling a very tough task. In this paper, a novel foliar color model of rubber trees is proposed to approach the detection index by combining the relative components with the absolute ones, taking full considerations of vagueness of nutritious description, for which a slope angle as a metric to evaluate the fitness of the color model is proposed. Our experimental results have substantiated this supposition.

© 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license.
Selection and/or peer review under responsibility of American Applied Science Research Institute

Keywords: foliar color pattern; relative color components; absolute color components; rubber trees; nitrogen deficiency detection index


Introduction

It is universally acknowledged that the foliar color pattern of plants under the stress of nitrogen deficiency varies usually in a uniformly distributed way, so is that of rubber trees. Since the nitrogen content serves as an important factor that can even determine the yields per hectare of the plants, agronomists never stop their



* Corresponding author: Yao, Xiaoming. Tel.: +086-0898-66275673; fax: +086-0898-66187056.
E-mail address: xiaomingyao@163.com.







2212-6716 © 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license. Selection and/or peer review under responsibility of American Applied Science Research Institute doi:10.1016/j.aasri.2012.11.041


efforts on trying to find a non-destructive way of diagnosing the plants' nutritious status, esp. the nitrogen content. One of the most impressive approaches proposed ever since is the machine vision based paradigm.
In this paradigm, one needs to complete 2 stages of procedural treatment, i.e. the training stage and the detecting stage. At the training stage, we should at first take the sample pictures of the plants' leaves and extract the features of the foliar images, and then we should fabricate a model based on the relationship between the features and results of their agro-chemical analysis. Similarly, at the detecting stage, features of the foliar image should be extracted at first using machine vision techniques, and then the nitrogen content can be located within an acceptable range according to the formerly established index model.
However, it's not a trivial task to establish a reasonable model that can well imitate the behavior the plants may have under the stress of mineral element deficiencies. The main reasons can be stated as follows:
On one hand, the color that we see is made of three basic components R, G, and B, which are not independent to each other. Consequently, an explicit generalized expression of a color using its components is not easy to find out. As we can refer to the results of the literatures already published like [1], [2], and [3], the foliar model fabricated in a way of linear combination can be illustrated in Fig.1.

Fig.1 Relations between nitrogen content and color features of rubber leaves restricted by its P and K contents (reprinted from [2])

On the other hand, this expression of a color must satisfy the condition that its change with the variations of the components should be in consistence with that of the nitrogen content. Nevertheless, the fact we observed is that, the content of the mineral nutrients can be never be evaluated precisely, and their descriptions are usually given within a range.
Since the relationship between the foliar color and the nitrogen content was established with the help SPAD devices as stated in [3], there are a lot of literatures published to tackle with this issue. Unfortunately, these results seem not as accurate as to help make up an adaptive fertilizer recipe for prevention from nitrogen deficiency of rubber trees. Therefore, in this paper, we further our work from our previous results to derive a novel and more sophisticated foliar color model for this nutritious diagnosis.
This paper is arranged as follows: in the next chapter, we will revisit the most related methods of the existing literatures, and find out why these methods can't be good enough for this diagnosis and what is the possible way to fabricate the model; in chapter 3, we will present our novel scheme, a new model which exploits the relations among color components and the fuzzy features used to describe the nutritious status; we will present and discuss our experimental results in chapter 4; it will be concluded in chapter 5.


Background revisited

What expression made of color components can be used as an index to locate the range the nitrogen may be in? There have been lots of endeavors to aim at the purpose. One direct way is to fabricate the color model using color components. Zhang et al [4] studied the linear regressive nitrogen content model of canola leaf color features, G/R-G/B or G/R, and found that the deviation error of the predicted value is less than 9% of the measured ones. Liu et al [5] tested and have shown that in different times, different color features have different correlation significance with cotton nitrogen content, and pointed out that R, G, G/B, R/B, G/(R+B), B/(R+G) may be used to predict the cotton nutrition status. However, the results are not satisfactory.
So, some scientists tried other ways of image processing. Scharpf and Lory [6] studied relations between the corn leaf color and its sidedress N need and demonstrated that corn leaf color can be used to predict sidedress N need, if the soil pixels have been removed from the image. Other researchers argued that color features can't be the only feature used to make up the index, other related features must be added. In [7], Mao et al proposed that the extracted features should include the color and textures of the leaf, and they developed a method to distinguish different nutrient deficiency using a fuzzy K-Nearest Neighbor classifier. This method depends on the choice of a fuzzy member function, by comparing the value of which this classification process can be completed. The merits of this technique are that, the nutrient contents include almost all mineral elements important for tomato growth, and the features to be used are nearly complete, including color, shape and textures; its drawback is only providing qualitative results, therefore requiring other tools to assist for further fertilizer guidance.
In addition, other factors such as shape distortion and color distortion due to imaging systematic errors are considered. Many researchers have proposed the calibration methods. Noh et al in 2005 proposed a calibration method for real-time crop nitrogen deficiency detection on the sprayer during fertilization operations [8]. They use four flat paints with colors of Flagstone, Dover Gray, Knight's Armors and Black Magic to obtain four levels of known reflectance. The calibration is completed with a linear regression model of which the parameters can be computed dynamically.
Unfortunately, these methods may work to some extent in some cases, but the reasonable index of nitrogen content for rubber trees is still undetermined.
To deal with this issue, two important factors must be taken into considerations. One factor is that the nitrogen status can't be described with a single index, but actually a reasonable range; the other factor is that, color model may behave similarly. Under this circumstance, the ideal relationship between the color model and the nitrogen status may be illustrated as in Fig.2.

Fig.2 The ideal relationship between the color model and the nitrogen status, the ideal slope angle is 135.


Therefore, in this paper, we don't try to simulate this relation with a single-line mathematical function as we did in [2] and [3]. On the contrary, we present a color model with regional area fitness, and compare the slopes of their boundaries. From Fig.2, we can find out, the best slope angle is approximately 135 , bigger or smaller will only decrease the performance of the modeling. This can be used as our objective evaluation criteria.

Our novel scheme

We noticed that color components are correlated with other, so if we only use a color index like G/B or R/B as the way in which references [1],[2],[3] did, we would only exploit the relative part of the color components, lacking in the absolute position where the color should be in the color space, which gives us no hints of the actual color might be. It may be strongly related with the color, or even partly related with the nitrogen status, but it can't be used as a good index to detect the nitrogen status.
Taking the above-stated theoretical analysis into consideration, we build up our new model as follows.
Let R,G, B are the averaged color components of the foliar image color extracted from the rubber leaves.
Then,


G 2
R * B  G * B	G


(1)


Similarly, we have


2R 2
3	R * G  R * B  G * B	R


(2)


Since nitrogen content relates with the green and yellow, a reasonable guess is, the color model can be simulated as changing proportionately with G and R, thus we have the following formulation:
G 2		2R 2	
CMI  R * B  G * B * 3  R * G  R * B  G * B 
		(3)

Based on CMI, we can examine the relations between CMI and the nitrogen content, which makes the table according to which the nitrogen status can be diagnosed.

Experimental results

In order to test the truth of our analysis or supposition, we selected about 49 samples from our collections of 195 rubber leaves under the conditions that the K and P contents should all be set to “abundance” so that we don't have to care about the interactions among those mineral nutrients. That's to say, we can only consider the changing rules of nitrogen content of rubber trees. All the tests are undertaken with Matlab 6.5.
First of all, we repeated the simulations as stated in [4] and [5], and examined the relationship between the color index and the nitrogen status using the ideal relationship shown in Fig. 2. The results are shown in Fig.3.






















Fig.3 The relationship between Color Index and N-status, using Zhang's model(left), the slope angle is nearly 180 in Liu's model(right): only G/B and R/B having slope angle between 135 and 180, showing better measuring features.

From the results, we find out that only CMI of G/B or R/B features slope angle between 135 and 180, thus as an index, they may work better than above-stated other indexes.
Consequently, we examine our newly proposed index, and the results are shown in Fig.4.


Fig. 4 Our newly proposed Color-index and N-status relations: the slope angle is close to 150.

To compare with the ideal relationship illustrated in Fig.2, it is easy to evaluate the slope angle for each case as shown in Fig.3, and Fig.4. We notice that in Fig.3, G/B or R/B has relatively better features, which is also substantiated in our previous work like [2] and [3]. Furthermore in Fig.4, our newly proposed index has a


slope angle nearly equivalent to 150, very close to the ideal angle of 135, better than that of G/B or R/B in Liu's model, which implies that our supposition is correct.

Conclusions

Since the nitrogen status itself can't be described accurately with a linear index, it's reasonable to find an index of some kind that can be stated vaguely, which will then be measured with another index to sketch the relationship between the color model and the nitrogen status. Here and now, in this paper, we find out that the slope angle of the distribution regions can be used for this measurement whether the color model is appropriate for the nitrogen content diagnosis. The experimental results have shown that with this measurement some better color model can be recognized very conveniently, so is our newly proposed color model.
However, we only examined the 49 samples of the total 195 rubber leaves we currently had due to the conditions of satisfying the requirement that the K and P content should be at least on the line of “abundance”. What happens if K and P are also deficient? This question should be left for further research.


Acknowledgements

The raw data used in this paper are collected by Mr. Zhang Peison, under the support of the project of Haikou City Sci & Tech Key Project No.2009-039.


References
Adamsen FJ, Pinter P J Jr., Barnes E M, LaMorte R L, Wall G W, Leavitt S W., and Kimball B A.
Measuring Wheat Senescence Using a Digital Camera. Crop Science, 1999; 39:719-724
Yao XM, Luo W, and Yuan ZZ. An adaptive and quantitative rubber nutrient status analyzing system by digital foliar images. Proc. IEEE the 3rd International Congress on Image And Signal Processing ( CISP),
Yantai, China, 2010, 2492-2495
Yao XM, and Luo W. Foliar Image Color Features for Rubber Nitrogen Deficiency Status Analysis.
Advanced Materials Reseach, Key Engineering Materials II, 2012; 488-489:1674-1679
Zhang Y, Mao H, Zhang X, and Zhao D. Nitrogen Information Measurement of Canola Leaves Based on Multispectral Vision. Journal of Agricultural Mechanization Research, 2009; 31(11):83-85 (in Chinese)
Liu W, Mao S, Li Y, Han Y, Wang X, Wang G, Fang Z, and Li P. Color based Cotton Leaf Nitrogen Content Estimation. China Cotton, 2007;34(11):22-23 (in Chinese)
Scharf PC, and Lory JA. Calibrating Corn Color from Aerial Photographs to Predict Sidedress Nitrogen Need. Agronomy Journal, 2002;94:397-404
Mao H, Xu G, and Li P. Diagnosis of Nutrient Deficiency of Tomato Based on Computer Vision. Transactions of the Chinese Society for Agricultural Machinery, 2003;34(2):73-75(in Chinese)
Noh H, Zhang Q, Han S, Shin B, and Reum D. Dynamic Calibration and Image Segmentation Methods for Multi-spectral Imaging Crop Nitrogen Deficiency Sensors. Transactions of the American Society of Agricultural Engineers, 2005;48(1):393-401
