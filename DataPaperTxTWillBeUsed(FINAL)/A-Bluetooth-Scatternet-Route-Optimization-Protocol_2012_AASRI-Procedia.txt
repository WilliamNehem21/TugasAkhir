Available online at www.sciencedirect.com



AASRI Procedia 2 (2012) 142 – 148
AASRI
Procedia
www.elsevier.com/locate/procedia





2012 AASRI Conference on Power and Energy Systems
A Bluetooth Scatternet Route Optimization Protocol
Sabeen Tahir, Abas Md Said, Sheikh Tahir Bakhsh
Department of Computer and Information Sciences
Universiti Teknologi PETRONAS, Bandar Sri Iskandar, 31750 Tronoh, Perak Malaysia


Abstract

Bluetooth wireless network technology is an emerging technology that allows Bluetooth devices to form a multi-hop ad hoc network known as a scatternet. Efficient routing in a scatternet has positive impacts on the performance of a network but the routing for inter-piconet communication has not been standardized yet. Many protocols have been proposed for route optimization but they still need more development. In a previous work, the route request packet was flooded throughout the network in order to find the main route. In this paper a Bluetooth Scatternet Route Optimization Protocol (SROP) is proposed. The SROP gets the information of all the possible paths through flooding. It floods the route request packets to the bridge and master devices and then chooses the appropriate path. After selecting the path, it then performs network restructuring to reduce the number of hop counts between the source and the destination. Simulation results reveal that the proposed protocol has achieved enhancement over the enhanced AODV protocol by increasing the ratio of the data packet delivery, reducing the delay time, minimizing the number of hop counts between the source and the destination. Consequently, it improves the whole network throughput.


© 2012 Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute
Open access under CC BY-NC-ND license.
Keywords: scaternet, route optimization, hope count, role switch

Introduction

Bluetooth technology is a promising wireless technology [1] that permits the moveable devices to make a short ranged network with no more than eight devices or make a multi-hop network with more than eight devices. The Bluetooth network which has a maximum of eight devices or less is called a piconet. The master device concludes the frequency hopping spread sequence and all connected slave devices follow the master device in order to continue synchronizing with the channel [2]. The master device performs the inquiry operation by sending ID packets to the other devices. Devices in the inquiry scan operation receive inquiry








2212-6716 © 2012 Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute
Open access under CC BY-NC-ND license. doi:10.1016/j.aasri.2012.09.026


messages from the master device. When a slave device receives the inquiry message twice, it responds by sending an FHS that contains a 48bit address and a clock off-set. When the master receives the FHS from the slave device it enters into the next state called paging, in which the master device makes connections. By using this method, devices can establish a piconet [3]. A network having multiple piconets is called a scatternet [4]. Devices in a scatternet can communicate through an intermediate device called a relay or bridge device. Bridge devices can provide multiple connections within a scatternet; it may be master-slave bridge or slave-slave bridge [5]. It can perform the function of master for only one piconet whereas it can be a slave for several piconets. Bluetooth technology does not allow the direct slave-slave communication so a master device is always involved in the communication. The master device allocates different time slots to the slave devices [6]. The master devices transmit data in an even number of time slots and the slave devices transmit data packets in an odd number of time slots. The Bluetooth technology does not allow the direct master- master communication; bridge devices play the role of intermediate devices between multiple master devices and provide the connections between piconets. Fig. 1 shows how Bluetooth devices connect with each other.




Figure1: The topology of the Bluetooth scatternet.

In this paper, a route optimization protocol is proposed for a Bluetooth scatternet. The master device obtains the main path by flooding the route messages to the bridge and the master devices and then performing network restructuring to reduce the number of hop counts.
The remaining portion of this paper is structured as follows: the next section is related work which consists of a synopsis of the Bluetooth routing protocols. The proposed Bluetooth Scatternet Route Optimization Protocol is presented in detail in Section 3 and Section 4 discusses the simulation results. Finally, this paper is concluded in Section 5.

Related work

Many routing protocols for Mobile Ad hoc Networks (MANETs) have been implemented but these protocols cannot be used directly in Bluetooth networks because of their bandwidth and MAC layer features. Ad hoc routing protocols are supposed to be joined with the functions of the scatternet formation. When ad hoc network protocols are applied for scatternets, ad hoc routing algorithms should be consider for the establishment of a new scatternet [7]. To find the routing paths, the scatternet needs to utilize the routing schemes.
Conventional ad hoc routing protocols can be used for Bluetooth networks. The first attempt for routing in a Bluetooth network was introduced by Bhagwat who proposed the Routing Vector Method [8]. The enhanced AODV routing protocol for a Bluetooth network [7] is a core protocol for scatternet communication; this protocol enhanced the main route discovery process of AODV [9]. The protocol uses two types of


algorithms; one is traffic the intensity calculation algorithm and the other is the power prediction algorithm. It finds the main route by flooding the route request packets to all the devices (slave, master and bridge) in the scatternet. As this protocol floods the route request packets to all the devices in the network, the slave devices consume extra energy and time.
Another problem with this technique is that it chooses the main route from the available routes but it does not use any efficient technique for route optimization. In Fig. 2, suppose device B wants to communicate with the device J. It starts searching for the route by flooding the whole network and waits to get all the possible routes.


		

	 

Figure 2: Finding the main route by using the Enhanced AODV protocol.

Proposed protocol

In this section, a new Bluetooth Scatternet Route Optimization Protocol, SROP, is proposed. This protocol is designed for a static Bluetooth network in which the main route is established and contains a minimum number of hop counts. Initially, all the connected masters maintain their tables in which they must keep the information about the number of slave devices, device locations, clock off-set, connected bridges and device role. When a device wants to communicate with a device in other piconets, it must inform the master device and send the ID of the destination device. The source's master device broadcasts a route message (rt_msg) to the bridge devices and when they receive this message they also broadcast it to the other connected master devices; this process will continue until they find out the ID of the destination. The device which receives the rt_msg must reply back to the previous device with the information of the other connected devices. In this way the source's master device receives the information of all connected devices and can easily select the shortest path from the source to the destination. The main purpose of SROP is to find the shortest path between a source and a destination. By flooding, it gets the information of all the devices in the scatternet and makes the shortest path. During the path establishment, if it needs to change the device role, it first sends the request message to the master of the device which performs the role switch operation.
The main advantage of this protocol is that, once the master device gets the information of all the possible links, it can use these links if any other source device wants to communicate with other devices in other piconets. It can save the time by getting the route information through flooding.







Figure 3(a): Main route establishment in a Bluetooth scatternet.



Figure 3(b): Main route establishment by using SROP in a Bluetooth scatternet.

This protocol can be further explained by an example. In Fig 3(a), suppose that device B wants to communicate with device J. It then establishes a main link. It follows the main link B-M1-B2-M2-B3-M4-B4- M5-J for communication. The main link consists of eight hop counts. The SROP reduces the number of hop counts between the source and the destination. From Fig 3(b), when the main link is established for devices B and J, it is predicted that the main link consists of minimum hop counts. The master of source device B broadcasts the rt_msg and when the bridge devices B2 and B1 have received this message, they transmit it to the master devices M2 and M3. M2 and M3 reply to the previous devices with the list of connected devices and forward the rt_msg to the next devices until they reach the destination device J. After getting the information about all the connected devices in the scatternet, the master device, M1, create the shortest routing path with the minimum hop count. The source device B follows the link B-B1-B3-J that includes three hop counts. During the route establishment procedure, M1 sends a request message for role switch to B1 which changes its state from a bridge to a master slave M/S bridge. M1 sends a message to the master device M2 to convey a request message to B3 for role switch from bridge to master. The devices in the current link can change their roles and after the successful transition of data they must return to their original states.


Simulation results

To evaluate the performance of SROP, the University of Cincinnati Bluetooth (UCBT) network module
[10] based on ns-2 simulator [11] was used. The performance of SROP and the enhanced AODV protocol was evaluated by comparing the data delivery ratio, average end-to-end delay and the number of hop counts.
Throughout the simulation: fifty Bluetooth devices were scattered in an area of 70m x 70m. Constant Bit Rate (CBR) traffic was used for the application representation. A total of fifty devices were used, varying from fifteen to fifty. There were eighteen pairs of source and destination used and the Round Robin (RR) scheduling algorithm was employed. The data packet types used were DH3 and DH5. The whole simulation execution time was 200 seconds.

Data Delivery Ratio

Fig. 4 shows the data delivery ratio of both protocols. During the simulation, when the data was routed through SROP, more data packets were received as compared to the enhanced AODV protocol. Whereas, when data was routed through the enhanced AODV protocols, it created more packet loss. Fig. 4 shows that the data delivery ratio of the proposed SROP was higher than the enhanced AODV. Moreover, it was also noticed that when the number of conversation pairs increased, it also increased the delivery ratio but at some points it decreased again. This turnover was due to congestion.

Figure 4: Comparison of data delivery ratio

Average end-to-end Delay

During the simulation, when the data was routed through the enhanced AODV protocol and SROP it was observed that the previous protocol created more end-to-end delay as compared to the proposed SROP. For the communication between any pair of source and destination, SROP made the shortest main link with the minimum hop count, thus resulting in the minimum delay. The comparison of the average end-to-end delay is presented in Fig. 5.




Figure 5: Comparison of Average end-to-end delay

Average Hop Counts

The proposed SROP performs network restructuring in order to reduce the intermediate hops whereas the previous protocol finds the route through flooding. By using the flooding mechanism, the enhanced AODV protocol finds the main route and starts communication but it does not take any action to make the link more efficient. The link with the minimum hop count forwards the data more efficiently; if any problem occurs within the main route then it can be removed easily. In Fig. 6, the comparison results of both protocols prove that the main routing link of the proposed SROP contains the minimum number of hop counts as compared to the enhanced AODV protocol.
Figure 6: Comparison of Average Hop Counts

Conclusion

In this paper, we have proposed a route optimization protocol for the Bluetooth scatternet. The main purpose of the protocol is to find the shortest path between a source and destination. Firstly, the master of the source device gets the information of the possible paths by flooding the route request message to the bridge and master devices. Next, it selects the route and performs network restructuring to reduce the hop count. It makes the route as short as possible and then transmits data through the shortest path. The problem with the longest route is, as it contains multi-hops and more intermediate devices, it consumes extra resources and time.


Unnecessary intermediate devices sometimes are predicted as weak and can also make the main link weak, which in turn can create more data loss. Experimental results were achieved through simulation and it is noted by the comparison of both protocols that the proposed SROP outperforms the enhanced AODV protocol in terms of reducing the hop count, reducing the end-to-end delay, increasing the data delivery ratio and increasing the overall network throughput.


References

C.C. Ching, S.K. Prasan, and S.C. Lee., A Location-Aware Routing Protocol for the Bluetooth Scatternet. Wireless Personal Communications: An International Journal, ACM, 2007. vol 40: p. 117 - 135.
V.U. Chezhian, K. Ramar, and S. Geetha., Calculation of probabilistic worst-case response-time for message in bluetooth: Indian Journal of Science and Technology 2010. vol 3: p. 234-244.
M.P. Singh., STUDY OF BLUETOOTH WIRELESS TECHNOLOGY USING JAVA Indian Journal of
Science and Engineering (IJCSE), 2011. vol 2: p. 781-789.
W.Y. Chang, Y. Kun-Ming, and S.L. Lin., Reducing inter-piconet delay for large-scale bluetooth scatternets, in PAKDD'07: international conference on Emerging technologies in knowledge discovery and data mining. Springer: 2007. p. 562-573.
S. Sanaa, A.K Ibrahim, and Z. Dawy., A scatternet formation algorithm for Bluetooth networks with a non-uniform distribution of devices. Journal of Network and Computer Applications, Elsevier, 2012. vol 35: p. 644-656.
M. Roger., Bluetooth scatternet formation: Asurvey. Ad Hoc Networks Science Direct, Elsevier 2005. p. 403–450.
O.M. Jarrah., Megdadi, Enhanced AODV routing protocol for Bluetooth scatternet. Computers and Electrical Engineering Elsevier, 2009. vol 35: p. 197- 208.
P. Bhagwat, and S. Adrian., A Routing Vector Method for routing in Bluetooth scatternets. , in sixth IEEE workshop on mobile multimedia communications (MOMUC'99): San Diego,USA. 1999. p. 375-9.
O. Al-Jarrah., Enhanced AODV routing for mobile ad hoc networks, in 16th International conference on computer theory and applications (ICCTA). 2006. p. 61-81.
University of Cinicinnati Bluetooth simulator (UCBT), Available from: http://www.ececs.uc.edu/_cdmc/ucbt/> , 2010.
The Network Simulator ns-2. Available from: http://www.isi.edu/nsnam/ns/ns-build.html, 2010.
