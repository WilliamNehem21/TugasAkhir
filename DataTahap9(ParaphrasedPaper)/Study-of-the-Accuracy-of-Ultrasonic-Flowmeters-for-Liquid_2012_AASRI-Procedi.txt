Measuring the accurate differential time of flight in ultrasonic flow measurement is a challenging task, particularly in environments with small inner diameters and short sound paths where high time resolution is essential due to the fast sound velocity in the liquid, typically of the order of nanoseconds. A more recent approach to obtaining the differential time of flight is the spline-based algorithm, which offers greater accuracy than the commonly used cross-correlation algorithm. However, the computational overhead of the spline-based algorithm is substantial. Hence, an enhanced version of the spline-based algorithm is proposed in this study to decrease the computational burden while maintaining high accuracy. Furthermore, the placement of transducers is a critical factor affecting the measurement precision of ultrasonic flowmeters. This study also examines the impact of the differential separation distance between transducers, finding that it has a significant effect on the measurement results.

The proposed method enhances the spline-based algorithm by integrating it with the cross-correlation algorithm to reduce computational costs without compromising accuracy. The effectiveness of this improved algorithm is evaluated through experiments. Another crucial aspect of the installation process is the determination of the separation distance between transducers, as incorrect placement could yield erroneous calculation results. The study underscores the importance of determining the correct position of transducers by analyzing the impact of the separation distance on the measurement results, which is found to be substantial.

The differential time of flight, denoted as "t," is a key parameter with a magnitude in the nanosecond range due to the rapid sound velocity in water, necessitating high time resolution, particularly in environments with small inner diameters and short sound paths. While the cross-correlation algorithm is widely used and effective in suppressing white noise, simulation results demonstrate that the spline-based algorithm offers higher calculation accuracy compared to the cross-correlation algorithm.

In the context of an ultrasonic flowmeter, when the wall thickness, wall material, and fluid medium are known, and the acoustic path follows a V-shape, the separation distance between each transducer should be precisely determined. Assuming an organic glass acoustic wedge, steel wall material, and water as the fluid medium, with an incident angle of the ultrasonic wave at 37 degrees, we can calculate the refraction angle when the signal passes through the organic glass-steel or steel-water interface. Moreover, the sound velocities in organic glass, steel wall, and water, denoted as c1, c2, and c3 respectively, play a crucial role in these calculations.

Assuming a longitudinal wave velocity of 2730 m/s in organic glass, a shear wave velocity of 3230 m/s in the steel wall, and a longitudinal wave velocity of 1480 m/s in water at 20Â°C, the angles of refraction and differential distance between transducers can be calculated based on these values.

For a signal comprising 2048 points, the kernel signals s1[n] and s2[n] are extracted from the reference signal at specific points. The improved algorithm is shown to compute m-n=300 times less than the spline-based algorithm.