Probabilistic programming is an advancement of imperative programming that allows for the specification and execution of randomized network and security protocols, machine learning, and quantum algorithms. The diverse range of applications has sparked a growing interest in the probabilistic perspective. However, reasoning about the correctness and verifying properties such as convergence and termination of these programs is complex. Therefore, it is crucial to establish formal techniques to enable this kind of reasoning.

In the original paper that introduced probabilistic programming with dependent types (PPDL), arbitrary linear combinations of functions were permitted. In our presentation, we only allow positive linear combinations for simplicity, although it is important to note that removing this restriction would not impact the results we have proven.

It should be noted that in discrete settings and for analytic state spaces, state and event bisimulation coincide; however, in general, these two notions are distinct. From a categorical standpoint, LMP (labelled Markov processes) state bisimulation consists of spans in the category of LMPs with analytic state spaces (seen as coalgebras). It is important to note that these spans are properly definable (as a weak pullback) only when the LMPs are analytic. On the other hand, LMP event bisimulations are cospans of surjections in the category of LMPs, and they can be defined without any need for the analyticity restriction.

We introduce the logic PPDL+ as an extension of PPDL. The idea is that since L0 characterizes LMP state bisimilarity (as per proposition 2.3), we extend PPDL to interpret L0 formulas as functions. We emphasize the difference between the two logics by indicating which clauses are the same as in PPDL. PPDL+ is defined accordingly.

Next, we provide the characterisation result for state bisimilarity. For the remainder of this subsection, we focus on those LMPs (and PPDL models) whose state spaces are analytic. The notion of state bisimulation for PPDL models is defined as an extension of the same concept for the underlying LMPs, taking the extra weight structure into account.