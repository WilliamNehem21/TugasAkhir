Connecting nodes v1 and v4, nodes pj and p cannot share both ends. Without loss of generality, assume v1 is not equal to u1. Color the edges u2u3 and u5u1 with a new color, denoted as ci1+1. If v2v3 is equal to u2u3, then color the edge v5v1 with ci1+1; otherwise, color the edges v2v3 and v5v1 with a new color, denoted as ci2+1.