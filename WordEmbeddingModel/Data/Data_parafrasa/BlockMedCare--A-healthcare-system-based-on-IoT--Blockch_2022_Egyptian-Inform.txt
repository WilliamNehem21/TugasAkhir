Type 2 diabetes and cardiovascular disease (CVD) were responsible for 17.5 million deaths in 2012, primarily due to heart attacks and strokes. By 2030, this number is expected to rise to nearly 22.2 million. In contrast, diabetes alone caused 1.5 million deaths in 2012, according to the global report on diabetes.

The remainder of the paper is structured as follows: Section 2 provides initial definitions related to IoT-healthcare systems, blockchain technology, and IPFS. Section 3 outlines the proposed approach, while Section 4 presents use cases and a practical scenario. Implementation details of the system are provided in Section 5, with a discussion on system security in Section 6. Section 7 reviews related work, and finally, Section 8 concludes the paper and introduces future work.

Blockchain technology is categorized into public, private, and consortium types, each differing in terms of data visibility and the consensus process. Public blockchains allow anyone to participate in the consensus process and access the ledger, while private blockchains require permission from the owner organization for ledger access and consensus participation. Consortium blockchains combine elements from both types, with ledger access being public or private and the consensus process controlled by multiple organizations instead of a single one.

When a transaction is sent to the Ethereum network, it is signed by the user's digital signature generated by their private key. Anyone on the network can verify the validity of the transaction by ensuring the digital signature matches the Ethereum address, i.e., the public key of the sender.

Various research studies have proposed combining IoT with blockchain technology to enhance security. These solutions often use a centralized database to store data and may not encrypt data before storage. The use of IoT devices to access the blockchain is being explored, with smartphones having access to the blockchain through a decentralized application (DApp). In addition, blockchain networks are being utilized to connect healthcare entities such as physicians, hospitals, pharmaceutical laboratories, and public health organizations for remote monitoring, analysis, and research purposes.

In the proposed system, IPFS is used as an off-chain database to store encrypted health data due to its capability to handle large amounts of data generated by numerous devices. Storing such a volume of data in the blockchain could impact its size and necessitate special full nodes for data storage. The blockchain is employed primarily for access control and data integrity protection, as storing sensitive data in the blockchain, even if encrypted, is not practical. Furthermore, with data being stored eternally in the blockchain, the potential risk of a future breach compromising all patients' data necessitates additional precautions.

The security of the blockchain in this system is ensured through cryptography, immutability, replication, traceability, consensus algorithms, smart contracts for access control, and proxy re-encryption for data encryption. Smart contracts are integrated into the system to manage device registration or deletion, grant or revoke access to data, and verify authentication.

Diabetes is a prevalent chronic disease, with the number of people living with diabetes expected to rise substantially in the coming years. The system designed is illustrated through a scenario involving a diabetic individual, Alex, who travels frequently for work. The system allows for remote monitoring and can facilitate emergency assistance by alerting the nearest emergency service in case of an emergency. Access to the patient's data is managed through encryption and re-encryption keys, with hospitals serving as proxies for re-encrypting data on behalf of physicians.

The system includes algorithms for registering new devices in the blockchain, adding permission roles to physicians, and ensuring data integrity and availability. The use of blockchain and IPFS allows for decentralized and replicated data, preventing single points of failure and ensuring data availability.

Future work aims to expand the system by implementing it using the Hyperledger blockchain and integrating artificial intelligence to enhance its capabilities for data analysis, prediction, and prevention. Integration of artificial intelligence would enable improved clinical decision-making and treatment provision by healthcare professionals.