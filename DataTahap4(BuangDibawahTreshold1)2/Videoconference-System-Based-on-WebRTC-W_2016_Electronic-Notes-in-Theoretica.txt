The research presented in this paper introduces a system that consists on a unique videoconference room inside which three users can share audio and video using their web browsers without having to download any additional plugin. Another user can also participate with his/her voice in the active videoconference through a phone call from the PSTN. This solution makes use of the WebRTC (Web Real-Time Communications) API, which is part of the HTML5 specifications [9] and its main purpose is to enable two users gaining access to a web application to share voice, video and data between them, resolving network issues such as NAT (Network Access Translation) and establishing media types and formats with a negotiation prior to the real-time media exchange [19]. This faculty empowers the potential of the web- based systems allowing the integration with other real-time communication sources such as the telephonic networks.

The remainder of this paper is organized as follows. In Section 2 the background of this project is mentioned, plus gold projects with similar characteristics. The principles of our approach are explained in Section 3. The operation of the system is shown in Section 4, while in Section 5 the paper is concluded outlining some perspectives on future work.

Prior to the existence of WebRTC, there were already many videoconferencing sys- tems available on the market. One of the most comprehensive and focused on the business sector is Cisco WebEx [4], which is a robust remote collaboration solution composed of various services such as video conferencing rooms with file sharing fea- tures, desktop, presentation and dissemination. Unlike this system, the project in this document is based on WebRTC, so the users will not need to download any software to run it in the web browser. In addition, Cisco uses its own infrastructure to handle the telephone service [4]. The project of this document contemplates the usage of a SIP trunk, which means that an end user can use his own trunk if he already has one, and not rely on Cisco infrastructure and therefore their rates.

For the connection with the PSTN, the access is obtained with an IP PBX server running the software Asterisk, which has a SIP trunk registered provided by a telephony carrier. For making or answering a phone call, an audio mixing and distribution module was designed. Its purpose is to collect and mix the voices of the users in the videoconference room with the aid of WebRTC sessions and the HTML API Web Audio. The mixed audio is sent to the IP PBX with a registered SIP User Agent programmed with jsSIP. Once the external audio is received, it is distributed to the users in the room. It is important to mention at this point that the prototype is limited for the moment to only three web users in the videoconference room as well as only one simultaneous phone call.

The open-source IP PBX server software Asterisk is used for providing the web application with a connection to the PSTN. Since its version 11, Asterisk incorpo- rates WebRTC functionalities which allow it to send and receive multimedia streams having established communication via SIPWS (SIP over Websockets)[6]. This means that Asterisk can treat a SIP Agent based on web technologies the same as if it was a hardware IP phone or a softphone desktop application. For enabling the WebRTC features in Asterisk, it is necessary to install the libsrtp module, since its function is to add a security layer to the media streams by encrypting them after having generated keys and certifications [1]. This is necessary due to the imposition of WebRTC that regards the security, and it establishes that all media streams shall be encrypted using SRTP (Secure Real-Time Protocol) [1].

In order to put the system up and running, the Asterisk server needs to be initiated before any other element. It also has to be registered in the SIP trunk. Having verified the aforementioned, it is necessary to turn on the web and signaling server using a command prompt.

The SDP messages exchanged between the users when establishing a WebRTC session showed the collection of codecs used for audio and video. The audio codecs supported by the web browsers were opus, G722, PCMU and PCMA. The corre- sponding collection of video codecs supported by the web browsers limits to VP8 and H264.

In this project, the design and implementation of a web application that would allow the establishment of a videoconferencing room with the ability to make and receive calls to / from the PSTN, being primary the usage of WebRTC was set as a target. It was also intended to demonstrate the scope of WebRTC to unify two media: the telephone network and the Internet. In summary, it is concluded that the overall objective and the specific objectives of this project have been successfully completed, since the functional implementation of a videoconferencing room was achieved, along with a link to the PSTN.

