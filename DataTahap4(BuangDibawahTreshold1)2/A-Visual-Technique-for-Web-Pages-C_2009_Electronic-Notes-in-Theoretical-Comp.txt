A quantification of this visual similarity could lead to the querying of a docu- mental database using a documental pattern as the query. The answer to this query can be either the most (visually) similar document of the database or the most similar document from a pre-defined set. This last type of answer can be used as a classification method [5]. Moreover, the importance of visual features of Web pages is increasing from the viewpoint of search engines optimization.

In [11] a methodology for visual comparison is proposed. The method segments a page image into several regions based on image processing, and the result is pre- sented as a graph. The similarity is then calculated by a graph matching algorithm. Unlike us, the structure based on the tags is not considered. Finally, a method for

Plan of paper. The paper is organized as follows. Section 2 recalls some standard notions, and introduces Web page descriptions. In Section 3, we present a transfor- mation of HTML code that allows us to get a clear visual structure of a Web page. Section 4 formalizes a compression technique for Web pages. This technique packs together those subterms which represent repetitive structures and shrinks those chains of tags that does not influence visually. In Section 5, we define a measure of similarity between two Web pages based on the tree edit distance algorithm [7,18]. Section 6 describes the main features of our prototypical implementation. Section 7 concludes and discusses future work.

When we look at a Web page, we are not aware of the underline HTML code, but are only able to distinguish its visual structure. However, two different pieces of HTML code can express the same visual sensation. Let us illustrate this by means of a rather intuitive example.

Example 3.1 illustrates that, in order to provide for appropriate comparison among pages, the visual effect of each of the HTML tags should be considered. In the following we present an abstraction of Web pages, which translates each Web page to a canonical representative according to its visual structure.

In this section, we present two compression functions for the term that represents a Web page which dramatically reduce the size of each singular page. Horizontal compression (hrz) packs together those subterms which represent repetitive struc- tures. Vertical compression (vrt) shrinks those chains of tags that does not influence visually the result. First of all, let us introduce the notion of marked term, which will be used in the following sections.

Note that, in favour of the largest numbers of repetitions, we use the integer division with round up [ |. Roughly speaking, Definition 4.2 computes the mark, i.e., the number of repetitions of the currently processed node by using both the new and old values of its father. Let us illustrate this by means of an example.

Considering the translation given in Section 3.1, this structured information favours the formation of chains of tags that does not influence in the overall structure of the page. In the following, we describe how to shrink the chains of tags while preserving the overall structure.

In Definition 4.5, the first condition ensures that no repetitions are disregarded. The second condition ensures that t consists of a chain of tags (only having one child). The third condition states that grouping (grp) has a particular higher status than other elements, and thus, should not be compressed. The last condition allows us to keep information of the term. Also note that the repetitions [r1] ... [rn] of subterms of t are not considered.

The operators given in Section 4.2 and Section 4.3 allow us to compute the horizontal and vertical compression of a term. This is done by shrinking chains and joining subterms. In order to formalize the overall compression of a term, we define the following operator.

Definition 5.2 assigns a quantitative measure, a real number between 0 and 1, that expresses the similarity of two pages. Note that, a central question in the tree edit distance algorithm (and therefore in our comparison) is how to choose the cost values of single operations. In this work, we choose the natural (and intuitive) measure that assigns identical cost to insertion and deletion as well as relabeling

The comparison technique presented here has been implemented in Maude [2], with an interface developed in Java. The experimental system is publicly avail- able at http://www.dsic.upv.es/~dromero/cmp.html. The Maude programming language, which implements the semantic as well as logical framework of rewriting logic, provides a formal analysis infrastructure (such as state-space breadth-first search) with competitive performance (see [6]).

HTML was designed to visualize structure and information in an understandable way to humans. The main problem is its mixtures of semantic content, page struc- ture and layout. Web pages comparison is currently an open problem, whose im- portance extends from search engines to Web data mining.

V. Eglin and S. Bres. Document page similarity based on layout visual saliency: Application to query by example and document classification. In Proceedings of the Seventh International Conference on Document Analysis and Recognition (ICDAR 03), page 1208. IEEE Computer Society, 2003.

