We present a refinement, suggested by Jensen and Milner under the term kind, of pure bigraphs. We name the result kind bigraphs. This refinement generalises the notion of atomic and non-atomic controls, allowing a control to contain a subset of the set of controls.

Jensen and Milner suggested assigning a kind to each node of a bigraph, deter- mining the controls of the nodes it may contain. We have formalised their suggestion and proven that the result, kind bigraphs, yields a generalisation of pure bigraphs which retains much of the pure theory [14]. Our approach is to refine the notion of atomicity by allowing a control of a signature K to contain a subset of the set of controls of K. This allows more correct modelling of abstract systems (e.g. smart buildings) but also encompasses the sorting used to model finite CCS [11]. Kind bigraphs retain both the RPO constructions necessary to generate the labels of the canonical LTS associated with a bigraphical system and the property that bisim- ilarity over this LTS is a congruence. As expected, their reaction rules are more expressive than those of pure bigraphs. Interestingly, we will also demonstrate how

Modal logics for process calculi and frameworks [4,3] allow some specifications to be verified in the logics. Conforti, Macedonio, and Sassone [5] have investigated modal logics for bigraphs. All these logics are modal in both time and space and the latter is particularly interesting to us. Our feeling is that the extra structure in kind bigraphs will allow for a modal logic which can meet some specifications that pure bigraphs can not. We will return to this briefly in Section 5.1.

We first define interfaces, the objects of these s-categories, and then kind bi- graphs, the arrows. The latter are presented by separately describing the orthog- onal link graph and place graphs components. We presuppose an infinite set X of names in the following.

A kind bigraph is the same as a pure bigraph except that: i) a control may only contain controls that the signature specifies; and ii) as this property must hold under composition, the roots and certain leaves of the place graphs must also be sorted in a sensible way. We must now show that this generalisation does not break useful properties of bigraphs. We make much use of the forgetful functor UK to prove most of the properties we need. Its faithfulness is particularly useful.

The notion of relative pushout is central to the theory of bigraphs. It is akin to a pushout in that it captures the notion of a minimal overlapping. As explained, IPOs play an important role in the operational semantics (LTS) of the theory. We now sketch the proofs that these constructions exist for kind and fitting bigraphs. The full proofs are presented in the technical report [14].

The expressivity lies in the fact that we can guarantee the absence of certain controls in the set of possible parameters of a reaction rule. There does not seem to be any way to express these types of rules in the pure theory. We now demon- strate how this extra expressivity allows us to add some level of flow-control to the dynamics of a system.

We first introduce an informal scenario inspired by Cardelli and Gordon [4]. We have a kind Brs modelling an office building with rooms, key holders, thieves, and locked and unlocked doors. Reaction rules encode the following behaviours: key holders outside a locked room for which they have a key may enter the room, leaving it unlocked; key holders may exit an unlocked room (leaving it unlocked); and thieves may enter an unlocked room so long as there are no key holders inside. This last rule takes advantage of the expressiveness of Section 4.2.

We wish to define a logic where we could prove that beginning from a state where all the doors were locked, all the keyholders were outside the rooms, and a thief was present, at some time and place, a thief will gain access to an unlocked room. This would prove, for example, that the Brs does not satisfy some security specification. This logic would be a modal logic.

