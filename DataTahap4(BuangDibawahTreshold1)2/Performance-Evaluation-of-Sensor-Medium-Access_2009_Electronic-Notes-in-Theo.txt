Formal modeling techniques can be used for analysis of wireless sensor networks (WSNs). Coloured Petri nets (CPNs) that is an extension of Petri nets is a powerful modeling technique. In this paper, we present a CPN model for modeling and performance evaluation of a medium access control protocol in WSNs named sensor- medium access control protocol (S-MAC). S-MAC is an energy-aware MAC protocol with nodes scheduling.

alternative to simulation is to employ formal modeling and analysis techniques. Using these techniques, both performance evaluation and model checking can be performed. While this approach is widely used in traditional networks, advanced WSNs algorithms and protocols present a set of challenges to be formally modeled by the existing methods and tools, some of which are addressed in [12].

Coloured Petri nets (CPNs) [7], which are an extension of Petri nets, are an appropriate modeling language. CPNs have a graphical notation that is based on an underlying mathematical definition and provide several analysis methods, including simulation, state space analysis and invariant analysis. A major benefit of using CPNs is to obtain complete and unambiguous specifications of system behavior.

The remainder of the paper is organized as follows. In section 2, some back- ground information is provided. In section 3, the related works are introduced. Section 4, describes the modeling approach used in the case study and the conse- quent results are given in section 5. Finally, some concluding remarks are mentioned in section 6.

The CPNs is extended by time gives the possibility to describe the dynamic properties of a system in the time space by introducing global clock which represent the model time as a discrete (e.g. integers) value. Each token within a timed color set, carry a time value that called time stamp. The time stamp describes the earliest model time which the token can be used.

Creating large, intricate nets can be a cumbersome task. But similar to mod- ular programming, the construction of CPNs can be broken into smaller pieces by utilizing substitution transitions. Conceptually, nets with substitution transitions are nets with multiple layers of detail. A simplified net gives a broad overview of the system and by substituting transitions of this top-level net with sub-nets, more detail could be brought into the model. More information about Timed CPNs and Hierarchical CPNs could be found in [8].

The open system interconnection (OSI) model defines a layered architecture for network protocols. The medium access control (MAC) layer is responsible for de- termining which node is allowed to access underlying layer (i.e. physical medium) at any moment. One fundamental task of a MAC protocol is to avoid simultaneous transmissions (i.e. collision) and the basic mechanism used for reducing the possi- bility of collision in contention based MAC is referred to as carrier sense, multiple access (CSMA). In this mechanism each node, before starting a transmission, senses the medium to find it clear and then starts its transmission.

A lot of results are reported in literature, which have used formal techniques for modeling and analysis of traditional networks. In [10], Petri nets are used for mod- eling IEEE 802.3 protocol in a traditional local area network (LAN) to construct a detailed model. The model is used to evaluate some performance measures. In [2], a high-level Petri net named finite population queuing system Petri nets (FPQSPN) is introduced for modeling and simulation of medium access control layer in computer networks.

In this section, we describe our proposed Coloured Petri Net (CPN) model for S-MAC. The global model has been constructed taking the advantage of the hier- archical capabilities of CPNs [7]. Hierarchical CPNs allows the construction of a large model as a set of smaller models connected to each other using well-defined interfaces (i.e. substitution transitions). In this way, a complex model, like the one we will present in this section, can be reduced to constructing some smaller models. The model aims to be as detailed as possible (i.e. it tries to model all operations of the MAC layer and scheduling of nodes).

Because there is no propagation delay, this operation must be performed without any time consumption and all nodes will deliver the packet at the same time. Here, we assume that nodes have not any movement, but considering this approach for modeling broadcast behavior, we can have mobile nodes (e.g. in mobile wireless sensor or ad-hoc network). In mobile networks, neighboring detection is performed dynamically based on physical location of nodes and radio transmission range.

In this paper, we presented a CPN model for S-MAC protocol. S-MAC is a medium access control protocol introduced for wireless sensor networks with the aim of reducing energy consumption. Using the hierarchical capability of CPNs, we have modeled a wireless environment (wireless media and network nodes). Then, we have evaluated some performance measures by using CPN-Tools and its simulation features.

Results of this case study can help the design process of a real network. Modeling enough details in this model, shows the capabilities of CPNs for modeling and evaluation of wireless sensor and ad-hoc networks. Using a hierarchical CPN model, increases the flexibility and scalability of constructing a model for wireless sensor networks.

