We first briefly describe the language of CSP. We next give an informal de- scription of our construction for the failures model. To prove the result in full generality, we first give a formal definition of a finite observational model, and of the notion of rationality. We then describe our general construction. Finally we discuss performance and optimisation issues.

Step 3: We now ensure that an acceptance set inferred from a trace is a complete set accepted by the process under examination. This is most straightforwardly done by employing a regulator process, which can either accept an unprimed event or accept the alphabetically first refusal or acceptance event, followed by a refusal or acceptance for each event in turn. In the latter case it then communicates a done event, and returns to its original state.

For the sake of efficiency we work directly rather than using the general construc- tion of Theorem 5.4. The context C1 introduces refusal events and a stab event, which can occur only when the corresponding normal events can be refused. This implements the refusal testing model, and the context CF which allows only nor- mal events optionally followed by some refusals (and stab) implements the failures model.

