A number of applications based on personal health records (PHRs) are emerging in the field of health care and wellness. PHRs empower patients by giving them control over their health data. Health data for PHRs can be supplied by patients, wellness providers and health care providers. Health care providers may use the PHRs to provide medical care. Unfortunately, the quality of the health data cannot be guaranteed in all cases (e.g. consider cases where non-professionals such as patients and wellness providers supplied the

To address this problem, we present in this paper Hedaquin, a system that provides health care professionals with an indication of the quality of health data in a PHR. This indication is based on the reputation of the supplier and on metadata provided by measurement devices. The proposed reputation system mimics the way trust in health data and their suppliers is built in the real world.

In contrast to health data in EHRs, the health data in a PHR can be of varying quality. This is the result of the varying medical knowledge of the suppliers of the health data. The goal of this paper is to allow health care providers to use also the health data created by patients and wellness providers. This results in reduced costs and improved quality of care.

If quality of health data would be expressed with a value, this value would be different for different users. The reason for this is that quality is a subjective measure. In order to have an indication of the quality of health data in a PHR, we design a reputation system, called Hedaquin, that mimics the way trust in health data and their suppliers is built in the real world. To determine the quality of health data, the reputation of that user is used as a quality indication of the health data. In our approach, to determine the reputation we consider the following three factors: credentials of the health data supplier, ratings for the health data supplier and metadata supplied by measuring devices. Ratings for the health data supplier can be subdivided into three categories: ratings supplied by the user calculating the reputation, ratings supplied by other users and automatically calculated ratings based on the comparison of health data.

[2] present a reputation system that performs decision-making based on interaction patterns. Liu and Issarny [6] use a fuzzy technique incorporating time dimension and context dimension. REGRET [8] is a reputation system that models trust based on reputation and calculates the reliability of this reputation.

We use the Beta reputation system [3] as a starting point for Hedaquin. Next to the reputation, this system also calculates a measure of uncertainty of this reputation. This uncertainty is also indicated to the health care provider in order to make a more informed decision.

When the sum R + S increases (i.e. the number of transactions increases), the uncertainty u decreases. Using an opinion is much more natural than using a pair (R, S), because opinions are normalized. When reasoning about the reputation of a user it is good practice to first transform a reputation (R, S) to an opinion (b, d, u).

subscript x defines the user who provided the rating, y is the user who is rated, sc is the scope of the health data for which the rating is given, tt is the trust type for which the rating is given (either functional or recommendation) and t is the time of creation of the health data. A scope is a tuple representing a measurement kind (e.g. blood pressure) and a device (e.g. sphygmomanometer).

Global ratings: To gain a broader view about a user z, a user x can ask other users y about their ratings for z. This mechanism is called transitivity of ratings. If y has ratings on z and x trusts y for providing recommendations, then x can use these ratings.

Every user in the system has two different kinds of reputations. Functional reputation is the reputation for providing measurements and recommendation rep- utation is the reputation for providing ratings. Although they are different, they can be calculated in the same way (with the exception that aggregation ratings cannot be calculated for recommendation reputation). In this paper we will focus on the calculation of the functional reputation.

The order function f (i, j): a function that gives more weight to more recent ratings. Users may start behaving better (or worse) over time. Therefore, recent ratings should be given more weight than older ratings. This approach is similar to the one of the Beta reputation system [3].

The time function g(i, j): a function that gives more weight if the health data was created closer in time. As the time between the rating and the calculation of the reputation part increases, the rating should be given less weight. After all, if a user performed good (or bad) a long time ago, there is no guarantee that he will do so now. Wixted suggest that humans forget memories according to a power function [10]. Therefore, a power function is used to implement g(i, j).

The similarity in scope function SS(sci, scj): if not enough ratings are available for calculating the reputation, ratings for other scopes can be used. For the ratings to be useful, the scope for which the reputation is calculated has to be related to the scope of the ratings. The scope function gives high values (i.e. close to 1) if the two scopes are similar and low values (i.e. close to 0) if the two scopes are not similar. For example, the similarity between taking blood pressure measurements and taking weight measurements is close to 0, but the similarity between taking blood pressure measurements with highly similar measurement devices is close to 1.

An aggregation rating is calculated by the aggregation engine by comparing mea- surements from different suppliers with a small time difference. If two users (e.g. a doctor and a patient) take the same measurement on the same person and these measurements are similar, then the reputation of both users can be increased. If two users take the same measurement on the same person and the measurements are not similar, then the reputation of both users must be decreased. The amount with which the reputation should be increased or decreased depends on the reputation of the users that take the measurements.

Health data is denoted by hdx,y,sc,t, where x is the person that created the health data, y is the subject of care, sc is the scope and t is the time of creation. A scope sc is a pair (m, d) where m is the measurement kind and d is the measurement device. Suppose hdy,z,(m,d),t is a measurement and D is a set of measurements hdyi,z,(m,di),ti (indexed by i) of the same kind and on the same person. An aggregation rating for hdy,z,sc,t is calculated as follows:

where (Rx,yi,(m,di),F,ti , Sx,yi,(m,di),F,ti ) is the reputation of the supplier of hdyi,z,(m,di),ti and ST (t, ti, m) is the similarity in time between hdyi,z,(m,di),ti and the measurement for which the aggregation rating is calculated. The reputation of the users that supplied measurements close in time should be given more weight than the reputation of users that supplied measurements that were not close in time. Therefore, the similarity in time is used as a scaling factor.

ST (t1, t2, m) is a function that returns the similarity in time between measure- ments of kind m at time t1 and t2. The similarity in time between two measurements can be seen as the probability that the physical state of a patient has not changed between the two measurements. A possible implementation can be found in [9].

In this paper, we proposed to use a reputation system and metadata provided by measurement devices to give a quality indication for health data. Therefore, health care providers can also use health data supplied by non-professionals, such as patients and wellness providers. This results in reduced costs and higher quality of health care.

The purpose of a reputation system is to build trust in online environments. As a side-effect, reputation systems provide an incentive for good behavior. Therefore, using a reputation system to make a quality indication of health data is a natural choice. It also mirrors real practice, in which a health care provider builds trust in patients and the health data they supply.

The most important advantage of Hedaquin is that it can calculate ratings for health data automatically. Furthermore, certificates for the user such as diplomas are used in the calculation of the reputation. Hedaquin calculates reputation for different scopes in order to discriminate among different tasks the users can perform. Finally, the time difference between the ratings and the calculation of the reputation influences the weight that is given to a rating.

All in all, Hedaquin gives health care providers the opportunity to make an informed decision on the quality of health data that is supplied by patients and wellness providers. For patients and wellness providers there is no overhead in using the system. The overhead for health care providers is minimal.

