Available online at www.sciencedirect.com



AASRI Procedia 3 (2012) 60 – 65




2012 International Conference on Modeling, Identification and Control
Tool-path Generation of Multi-axis Machining for Subdivision Surface
En-tao Yuan*, Bing Shao
College of Mechanical Engineering, Shanghai Dianji University, Jiangchuan Road 1201 of minhang district, Shanghai 200240, China




Abstract

An algorithm of multi-axis NC tool-path generation for subdivision surfaces is proposed. The algorithm includes two steps: model building and tool path generation. In the section of model building, in order to obtain the deformed surface, the deformation vector is computed which is associated with the curvature and the slope of cutter location surface. In the procedure of tool path generation, the slicing procedure is adopted to get the CL points. In addition, the inversely converted method is used. The method is tested by some examples with actual machining. The results show that the method can effectively reduce the error of the scallop height for subdivision surface and obtain the better shape and quality. In addition, the computational complexity and is scalable and robust.

© 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license.
Selection and/or peer review under responsibility of American Applied Science Research Institute

Keywords: tool path generation, CL surface deformation, subdivision surfaces, NC machining


Introduction

Free-form surface design and manufacturing are important steps in product developments for free-form surface. Current CAD/CAM systems often defined objects by parametric surfaces, such as B-spline, Bezier, and NURBS representations. When the gouge free tool-path is calculated, these models are not ideal because the surface is not smooth. For example, when a surface is composed with multi-patches it can cause gaps especially when the model is complex. In order to solve this problem it needs splicing and trimming which are

* Corresponding author. Tel.: +86-18964586809.
E-mail address: yuanentao@tom.com.







2212-6716 © 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license. Selection and/or peer review under responsibility of American Applied Science Research Institute doi:10.1016/j.aasri.2012.11.011


not only time-consuming but also expensive[1]. The model is so bad so we can not generate NC data, because the machining quality may be affected.
Recently, subdivision schemes are becoming common in the field of geometric modelling because it can use simple patch to represent multi-surface. At the same time, it also combines the parametric surfaces and polygon mesh. These properties make subdivision surfaces become the best choice when the model for design and manufacturing needs to be unified. So far there are some studies are focused on 3-axis machining subdivision surfaces. Joe Kurgano etc. first prove that subdivision surfaces can be applied to CAM [2]. Later, the algorithm of tool-path generation based on Loop subdivision is discussed [3]. In this research we choose Catmull-Clark subdivision surface [4] as our target subdivision surface because of Catmull-Clark surface quadrilateral-based advantages symmetry objects than the triangular mesh in the expression.
The method of model building is discussed in section 2. The algorithm of the multi-axis tool path generation is investigated in section 3. The implementation and machining results are demonstrated in section4. Finally we discussed the conclusions.

Model Building

Interval of slicing plane

From Fig.1.(a),we can see the parameter dw which describes the distance between the two adjacent paths. In addition, the parameter is depends on the tool radius r and cusp height error h . By using the radius of curvature of the are  to approximate the surface in the middle of two adjacent tool-paths, the surface step-over dw can be defined as follows [5]:


dw	(1)

Because of the complexity of calculating of  , the equation may be simplified by using a plane to approximate the surface between two adjacent tool-paths:


dw  2


(a)	(b)
(2)


Fig. 1. (a) the relation between dw and h ; (b) the relation between  and h


Fig.1. (b) shows the interval  between two planes which slice the surface is associated with the surface step-over dw and the angle  . Assuming the iso-planar tool-path pattern is used,  is given by


 dw cos  (
is small)  or
 r	r  h
sin
cos  (
is large)
(3)


A constant interval of slicing plane will result in a high degree of value of cusp height error and surface step-over. In this section, the deformed method of triangle mesh is discussed in Ref [6] is extended to subdivision surface.

Approximate of surface deformation

Set the two mutually perpendicular axes, one of them as x -axis and perpendicular to the slicing plane, and the other as y -axis. The interval dx and dy are set on a horizontal grid xy -plane. The Z value for each offset vertex v[ p, q] is defined z[ p, q] , therefore, the slope angle [ p, q] for each offset vertex can be shown as follows:


[ p, q]  tan 1

		

(4)



For the vertex ovi  xp
given in Eq. (5):


ovi
xov
xp 1 and yq
yov
yq1
of number i in offset mesh, the slope angle can be



(5)


Based on Eq.(5), the parameter  is related to some parameters, such as the tool radius, the slope angle and the normal curvature. Therefore, the deformation ratio for ovi can be defined by Eq.(6). Fig.2. shows the relationship between them.



ovi
(6 )


Where kbov is the normal curvature which is discussed in detail in Ref. [7].

Let Vm
ovi : i
 0,1,  , 2n be the 1-neighborhood vertexes of ovi , where n is the valance of ovi . The

deformation coefficient for the vertex ovi may be combined by the deformation ratio ofVm .


ov  dx  V   1
(7)

i	m

Assuming the tool-path direction is parallel to the y -axis, we may calculated the deformed coefficient based on Eq.(7). In multi-axis NC machining the share deformation should be considered. The share angle can be computed in Eq.(8).



[ p, q]  tan 1
z[ p, q  1]  z[ p, q  1]


(8)

2dy

So the deformation ratio can be rewritten as follows:



ovi

ovi , x
cos

ovi

ovi , y
sin

ovi
(9)



The calculation method of
ov as the same as ov  Substitute Eq. (9) into Eq. (7), we obtain the correct
i	'	i

deformation coefficient. So the new vertex ovi on the deformed space, as follows:


'
ovi

'
ovi
xov

 yov

dx dy

'
ovi
zov	( 10) 



















Fig.2. variation pattern of deformation ratio

Calculation Tool Path

Calculation for position vector

Set the slicing plane which is parallel to yz -plane intersects with deformed offset surface. At the same time, the tool-path is generated on the equidistant surface deformation space and the tool-path in parallel to yz - plane. After an inverse deformation, the tool-path can be changed to the original space. Set T ' describes the deformed CL point and Tx describes the original CL point which located within the triangle of ovi1 , ovi 2 , ovi 3 , then


3
(x	 T ' )( y	 T ' )

ovih
ovih
x	ovih	y

T  T '   h 1	
(11)

x	x	dx dy


Calculation for tool axis normal vector

The mean area method is adopted to calculate the normal vector of CL points. The method is based on the coordinates of CL points looking for special triangle which the distance to CL point is less than  , where  is the threshold. Each triangle facet area times their unit normal and cumulative summation, the results are divided by the area of triangular facets and thus the normal vector of CL points. Base on Fig.3., assuming there are m triangle facet which the distance to the point PCL is less than  , than we calculate
the normal vector nl and area Sl 1  l  m for each triangle, then the normal vector n of the CL point can be obtained as follows:


 Sl nl
n	l
Sl
l

(12)




Fig.3. calculation normal vector for CL point

Based on the above analysis and calculation, we can get the tool-path of the original space.

Examples

All proposed algorithm has been validated in the development of the prototype system which based on the OpenGL library and C++ language. In addition, some actual machining parts are accomplished to verified the algorithm. A model for a bicycle seat which the size is17.67  11.02  4.23mm3 is designed with a 0.005mm allowance between the subdivision mesh and the limit surface. We subdivide the initial mesh one time to get the subdivision mesh. Fig.4.a shows the initial mesh. Move vertices along the corresponding vertex normal vector direction resulting offset surface, where the moving distance is the tool radius. The iso-plane tool path is accomplished based on the offset surface and the slicing plane parallel to each other. Fig.4.b shows the deformed CL surface. Fig.4.c described the deuced tool-path which located in deformed space. Fig.4.e shows the actual machining parts on our machining center.

Conclusions

In multi-axis machining a new approach constant scallop method is proposed and implemented. The experiments prove that the algorithm in a steep area pass spacing becomes smaller, the tool-path variable density. The method can effectively control the machining accuracy. The method of Catmull-Clark subdivision surface may be extended to other surfaces clearly. This paper described the subdivision surface


method of multi-axis machining. In fact, some technical problems, such as interference, collision, changing of tool-axis vector and cutter tracks discontinuous are still exist. So the multi-axis machining tool-path generation algorithm remains to be further explored for subdivision surface.









(a)	(b)	(c)	(d)	(e)

Fig.4. example of CL surface deformation (a) initial mesh (b) deformed CL surface (c) tool path in deformed space (d) tool path of inverse deformation (e) machined part


Acknowledgements

This research is partially supported by Leading Academic Discipline Project of Shanghai Municipal Education Commission (project number: J51902) and Young Teacher Training Project Funded Plan of colleges of Shanghai (project number: shdj011).


References
T. DeRose, M. Kass and T. Truong. Subdivision surfaces in character animation. In: Proc. of SIGGRAPH 98 Conference, Annual Conference Series. 1998, pp. 85-94.
J. Kurgano, H. Suzuki and F. Kimura. Gneration of NC tool path for subdivision surface. In: Proc. of CAD/ Graphics’ 2001, August 22-24, Kunming, China. 2001, pp:676-682.
P. Wu, H. Suzuki, J. Kuragano, et al. Three-axis NC Cutter Path Generation for Subdivision Surface. In:
Prof. of GMP. 2004, pp:1-6.
E. Catmull and J. Clark. Recursively generated B-spline surfaces on arbitrary topological meshes.
Computer-Aided Design, 1978, 10(6):350-355.
G.C. Loney and T.M. Ozsoy. NC machining of free-form surfaces. Computer-Aided Design, 1987, 19(2):85-90.
S.J. Kim and M.Y. Yang. A CL surface deformation approach for constant scallop height tool path generation from triangular mesh. International Journal of Advanced Manufacturing Technology, 2005, 28, 314-320.
H. Moreton Minimum curvature variation curves networks and surfaces for fair free-form shape design [Doctor of Philosophy Thesis] BERKELEY:UNIVERSTTY OF CALIFORNIA 1992.
