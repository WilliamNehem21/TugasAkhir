Combining the advantages of SIFT charateristic matching and pyramid image matching, this paper aims to solve the matching problem of automatic rotation with large rotation angle in aerial photographing. To start with, match the images at the highest pyramid level with SIFT characteristic matching method. Then use the RANSAC algorithm to combine the results from SIFT method. Before matching, predict the initial location of the matching points by using the estimated rotation angle and then make rotation compensation of the matching window images. Last, validate the method by carrying out an aerial digital imagery with large rotation of a certain area.

Matching images with large rotation angle has not gained much attention in the field of aerial photogrammetry, but it is vastly investigated in the computer vision and medial image matching. Ullah proposes a direction code based matching method, but it needs to know approximate value of rotation angle, and the speed is somewhat slow. Tasi uses the ring-projection transformation to overcome the rotation effect, but there are relatively large matching bias in results. Suzuki proposes a method that firstly extracts edge

The SIFT feature extraction and matching is only performed in the highest pyramid image level. It does not attempt to find plenty of accurate conjugate point pairs. Instead, the SIFT feature matching is to establish a coarse coordinate relationship between the images with large rotation angle. With the strategy in this paper, the shortcoming of large computation burden and low speed of SIFT feature matching will be reduced to a large degree, as the image in the highest pyramid level is usually small, needing comparatively little computation.

After these four steps, the keypoints are considered as the feature points, and the keypoints descriptors as the feature to be used. And the Euclidean distance between feature vectors is taken as the similarity measure. If the ratio of the nearest distance to the less nearest distance is less than the given threshold (0.7 in this paper), feature vector with the nearest distance is accepted as the conjugate point.

The discrepancies between the remaining candidate points' coordinates and those derived by the affine transformation model are calculated for each SIFT feature pair. If the discrepancy is less than the given threshold, the corresponding SIFT feature pair is regarded as the correct matching, that is the interior point pair; otherwise it is regarded as the wrong matching, that is the outlier pair. And finally the ratio of outlier point pairs to the total point pairs  is computed.

For the prediction of the conjugate points' initial position, at the highest pyramid image level, affine transformation coefficients are directly used to calculate the coordinate of initial position. At other pyramid image levels, for the correct matching point at higher pyramid level, just projecting it to the current pyramid level will be all right. But for those points fail to obtain the correct matching points, the neighboring successfully matched points' parallax information is taken advantage to derive its initial position. It should be noted that the effect of rotation angle on the parallax should be considered during the initial position prediction.

Due to the disadvantage factors, such as geometric distortion and repetitive texture, there are maybe several peaks when using NCC as the similarity measure to search conjugate points. At the same time, the point corresponding to the highest peak is not necessarily the truth, so certain constraints should be introduced in order to eliminate the wrong matching results. And in this paper, the relative orientation with model conjunction condition is utilized, through integrating the iteration weighting strategy, the matching point with wrong vertical and horizontal parallax can be automatically identified and deleted.

This paper aims to solve the matching problem of automatic rotation with large rotation angle in aerial photographing. To start with, match the images at the highest pyramid level with SIFT characteristic matching method. Then use the RANSAC algorithm to combine the results from SIFT method. Before matching, predict the initial location of the matching points by using the estimated rotation angle and then make rotation compensation of the matching window images. Last, validate the method by carrying out an experiment on an aerial digital imagery with large rotation of a certain area.

