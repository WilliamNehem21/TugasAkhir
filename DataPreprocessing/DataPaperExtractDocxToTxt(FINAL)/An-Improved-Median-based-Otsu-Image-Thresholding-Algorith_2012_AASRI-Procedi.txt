Available online at www.sciencedirect.com



AASRI Procedia 3 (2012) 468 – 473




2012 AASRI Conference on Modelling, Identification and Control
An improved median-based Otsu image thresholding Algorithm
Xiaolu Yanga,b, Xuanjing Shena,b, Jianwu Longa,b, Haipeng Chena,b*
aCollege of Computer Science and Technology, Jilin University, Changchun, Jilin 130012, China
bKey Laboratory of Symbolic Computation and Knowledge Engineering of Ministry of Education, Jilin University, Changchun 130012, China



Abstract

Robust and automatic thresholding of gray level images has been commonly used in the field of pattern recognition and computer vision for objects detecting, tracking and recognizing. The Otsu scheme, a widely used image thresholding technique, provides approving results for segmenting a gray level image with only one modal distribution in gray level histogram. However, it provides poor results if the histogram of a gray level is non-bimodal. For enhancing the performance of the Otsu algorithm further, in this work, an improved median-based Otsu image thresholding algorithm is presented. Finally extensive tests are performed and the experiments show that our method obtain more satisfactory results than the original Otsu thresholding algorithm.

© 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license.
Selection and/or peer review under responsibility of American Applied Science Research Institute

Keywords: Image segmentation, Image thresholding, Otsu algorithm;


Introduction

In the field of pattern recognition, machine learning, image processing and computer vision, gray level image segmentation is a fundamental task and a challenge for many image analysis and preprocessing process [1-2]. Many algorithms for gray level image segmenting have been introduced recently [3-10]. Among them, thresholding algorithm is a very famous technique applied in image thresholding field [2-10]. The objective of



* Corresponding author. Tel.: +86-13321415041; fax: +0-000-000-0000 .
E-mail address: chenhp@jlu.edu.cn.







2212-6716 © 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license. Selection and/or peer review under responsibility of American Applied Science Research Institute doi:10.1016/j.aasri.2012.11.074


gray level image threshold is to divide an gray level image into K predetermined classes, C1 , ⋯, CK , based on K 1 different segmenting thresholds. Most usually, K  2 and dividing the gray level image into two parts - the foreground part , the other background part. As a pre-processing state, gray level segmenting algorithm has a very long age of study, motivated by a wide area of real applications of object detecting and image processing.
Among these algorithms, the Otsu method is a very famous and excellent scheme [4]. Otsu's algorithm is utilized the scheme for robust and automatic gray level image segmentation at certain commercial system, such as MATLAB. In image segmentation process, determining an optimal threshold t* is usually based on the estimates of dispersion and location of intensities in C1 and C2. As with various other algorithms, Otsu's algorithm uses the average sample value and the deviation to calculate the dispersion and the location. Unfortunately, for those images with the presence of very long-tailed distributions, the Otsu method usually provides poor thresholding results. The average difference (denoted by MAD) is commonly chosen as the estimate of the separation, when the point with median level is selected for the location. For addressing this problem, a median-based Otsu method is proposed in this work and obtains very satisfactory results compared with original Otsu algorithm.

Otsu algorithm

Suppose the intensity of a gray level image be expressed in L gray levels [1 , 2 , …, L ]. The number of
points with gray level at i is denoted by xi  and the entire number of points can be expressed as
X  x1  x2 ⋯ xL . The histogram of this gray-level image is regarded as a occurrence distribution of probability

p(i)  xi ,
X
xi  0,


 xi  1
i 1
(1)

The image pixels are divided into two parts C0 and C1 , i.e. foreground and background by a threshold t . Where C0 represents pixels within levels [1, 2, …, t ], and C1 denotes pixels within levels [ t +1, …, L ]. The occurrence probabilities of this class and average can be expressed as respectively
0  (t)   p(i) .	(2)
i 1
1  1 (t)   p(i) .	(3)
i t 1

0  
i  p(i)   1  t
	(t) 
i  p(i) .	(4)

i 1	0	i 1

  
i  p(i)    1	 L
i  p(i) .	(5)

1
1
1 (t)

i t 1

Total mean can be written as


T  i  p(i) 
i 1
And we can find that
T  0 0  11

(6)

(7)

where 0 and 1 denote probabilities of foreground part and background part. Besides, 0 , 1 and T refer to the mean in gray levels of the foreground of the gray image, the background of the gray image, and the entire gray level image.


The between-class variance  2 of the two classes C and C is given by

B	0	1
 2   (   )2   (   )2
(8)

B	0	0	T	1	1	T

The separable degree  of the class, in the discrimination analysis, is
  max  2 1t  L 
(9)

Finally, maximizing  2 to choose the optimal threshold t*
t*  arg max  2
(10)

1t  L 
Proposed algorithm

When the distribution for class Ck
( k = 0 or 1) is skew or heavy-tailed, it is well known that the med-

value is a very robust estimate value compared with the average gray level. We find that the med-value replace of the average may obtain a t that is very accurate to the presence of heavy-tailed distributions for Ck compared with these thresholds chosen by Otsu algorithm.

So, we can replace the total mean T
with the total median level mT
of all points in the entire gray level

image. Similarly to the whole image mean value T , the mean value 0 and 1 can also be replaced by
median gray-level m0 and m1 of the foreground part C0 and the background part C1 respectively.
The between-class variance  2 of the two parts C and C can be rewritten as

B	0	1
 2   (m  m )2   (m  m )2
(11)

B	0	0	T	1	1	T

And the googness threshold
t*  arg max  2
t* is chosen by maximizing  2
(12)

1t  L 

Experiments

In the experiments, the original Otsu method and our proposed Otsu method are implemented in Visual C++ 2008 and ran on an AMD Athlon 7750 Dual-Core 2.7GHz processor with a 2G RAM and a Windows XP platform. There are four testing images, i.e. coin image, defective tile image, stain1 image and stain2 image, and they are dispalyed in Fig.1. And Table 1 gives size of four testing images , thresholds obtained from the original Otsu method and the proposed Otsu method. Fig.2-Fig.5 display thresholding results of above four testing images. From the thresholding results we can find that our proposed Otsu method obtain the optimal threshold and satisfactory results, while the original Otsu method obtain very poor thresholding results compared with the proposed Otsu algorithm.
Table 1. Image size and thresholds from original and proposed Otsu methods

Thresholds
Image Name	Image Size 	
Original Otsu method	Proposed Otsu method



  
(a)	(b)	(c)
(d)

Fig.1. Testing images (a) Coin image; (b) Defective tile image; (c) Stain1 image; (d) Stain2 image.

(a)	(b)	(c)	(d)

Fig.2. Thresholding result of coin image (a) Result of original Otsu algorithm; (b) Threshold of original Otsu method; (c) Result of proposed Otsu method; (d) Threshold of proposed Otsu method.


			
(a)	(b)	(c)	(d)

Fig.3. Thresholding result of defective tile image (a) Result of original Otsu method; (b) Threshold of original Otsu method; (c)
Result of proposed Otsu method; (d) Threshold of proposed Otsu method.

(a)	(b)	(c)	(d)

Fig.4. Thresholding result of stain1 image (a) Result of original Otsu method; (b) Threshold of original Otsu method; (c) Result of proposed Otsu method; (d) Threshold of proposed Otsu method.

(a)	(b)

(c)	(d)

Fig.5. Thresholding result of stain2 image (a) Result of original Otsu method; (b) Threshold of original Otsu method; (c) Result of proposed Otsu method; (d) Threshold of proposed Otsu method.


Conclusion

In this paper, a median-based Otsu algorithm for thresholding images is proposed. The original Otsu scheme obtains improving results for segmenting an gray level image with a bimodal distributed histogram. Unfortunately, it provides very poor thresholding results if the histogram is only one modal in the histogram. It is clear that, when the distribution of histogram of an image is skew distributed, or when there are noises in the gray level image, the median is a very effective selection of location compared to the total mean. In this motivation, we replace the means of the foreground, the background and the entire gray level image in the original Otsu method with the medians of the foreground, the background and the whole image in the proposed Otsu method. Compared with the original Otsu algorithm, our proposed Otsu method obtains accurate threshold and satisfactory thresholding results.


Acknowledgements

This research was supported by the Opening Project of Key Laboratory Ministry of Education (NO. 450060445325), the Opening Project of Key Laboratory of Sea Battlefield Countermine Simulation Technology of Ministry of Education of Jilin University (NO. 450060481223), and Graduate Innovation Fund of Jilin University (NO. 20121104).


References
A Yilmaz, O Javed and M Shah. Object tracking: A survey. ACM Computing Surveys, Vol.38, No.4, (2006), P.1-40.
M Sezgin, B Sankur. Survey over image thresholding techniques and quantitative performance evaluation. Journal of Electronic Imaging, Vol.13, No.1, (2004), P.146-168.
H F Ng . Automatic thresholding for defect detection. Pattern Recognition Letters, Vol.27, No.14, (2006), P.1644-1649.
N Otsu. A threshold selection method from gray-level histograms. IEEE Transactions on Systems, Man and Cybernetics, Vol.9, No.1, (1979), P.62-66.
J N Kapur, P K Sahoo, A K C Wong. A New Method for Gray-level Picture Thresholding Using the Entropy of the Histogram. Computer Vision, Graphics and Image Processing, Vol.29, No.3, (1985), P.273- 285.
J Kittler, J Illingworth. Minimum Error Thresholding. Pattern Recognition, Vol.19, No.1, (1986), P.41-47.
PS Liao, TS Chew, PC Chung. A fast algorithm for multilevel thresholding. Journal of Information Science and Engineering, Vol.17, No.5, (2001), P.713-727.
J h Xue, D Michael. Median-based image thresholding. Image and vision computing, Vol.29, (2011), P.631-637.
J z Liu, W q Li. The automatic thresholding of gray-level pictures via two-dimensional Otsu method. Acta Automatica Sinica, Vol19, No.1, (1993), P.101-105.
J l Fan, F Zhao, X f Zhang. Recursive algorithm for three-dimensional Otsu's thresholding segmentation method. Acta Electronica Sinica, Vol.35, No.7, (2007), P.1398-1402.


Contact of Corresponding Author: Haipeng Chen, chenhp@jlu.edu.cn, 13321415041
