Available online at www.sciencedirect.com



AASRI Procedia 3 (2012) 481 – 487




2012 AASRI Conference on Modelling, Identification and Control
Position Estimation Method for Prism Based Stereovision System
Cui Xiaoyua*, Lim Kahbinb, Zhaoyuea, Guo qiyonga
aSchool of SINO-DUTCH Biomedical and Information Engineering, Northeastern University, Shenyang,110819,China.
bDepartment of Mechanical Engineering, National University of Singapore,119077,Singapore




Abstract

In this paper, a novel position estimation method of prism was proposed for single-lens stereovision system. The prism with multi faces was considered as a single optical system composed of some refractive planes. A transformation matrix which can express the relationship between an object point and its image by the refraction of prism was derived based on geometrical optics, and a mathematical model was introduced which can denote the position of prism with arbitrary faces only by 7 parameters. This model can extend the application of single-lens stereovision system using prism to a more widely area. Experimentation results are presented to prove the effectiveness and robustness of our proposed model.


© 2012 The Authors. Published by Elsevier B.V.
Open access under CC BY-NC-ND license.

Selection and/or peer review under responsibility of American Applied Science Research Institute

Keywords: Geometrical optics; stereovision; prism;


Introduction

Stereo vision is an important branch of computer vision. It aims to recover the depth information of the object and environment from two or more image taken from different viewpoints[1]. The stereo process can be summarized by the following steps: 1) camera calibration, which determines the value of internal and external parameters of the vision system; 2) corresponding of features between the images under certain geometric and other constraints; and 3) reconstruction[2-4]].
Unlike normal stereovision system, prism based single-lens stereovision system use only one camera and a prism which be placed in front of the camera to capture different views of the same scene[5-8]. Obviously, it has many advantages compared with traditional stereovision. Because only one camera required, it can reduce


* Corresponding author. Tel.: +86-13998183071 E-mail address: xiaoyu_cui@live.cn .

2212-6716 © 2012 The Authors. Published by Elsevier B.V. Open access under CC BY-NC-ND license. Selection and/or peer review under responsibility of American Applied Science Research Institute doi:10.1016/j.aasri.2012.11.076


the cost and eliminate the multi-camera synchronization problem automatically [9,10]. It can also decrease the size of the whole system so that it can be used in narrow space. These advantages enable this system with a good potential application and it develops rapidly in recent decade [11-14]..

Virtual image of a multi-ocular prism

Acconding to [15], a 3D point and one of its virtual image by the twice refraction of prism can be expressed by way of combine these two process together as:

A''
 M 2 M1 A  M p A	(1)

Where Mp is the transformation matrix which can be used to calculate the virtual image for the refraction of prism.

Position estimation of prism

Parameters of a multi-ocular prism

As well as camera, the parameters of a prism used in stereovision system can also be divided into intrinsic and extrinsic parameters. The intrinsic parameters which including refractive index, the angle and the thickness denoted the shape of a prism; the extrinsic parameters which including the surface normal and point coordinates of each plane expressed the position of the prism in camera coordinate.
The numbers of intrinsic parameters for any prism were fixed in 3, while the extrinsic parameters of a multi-ocular prism with one back plane and m inclined planes have m+1 normal vectors and m+1 points, each normal vector and point get three variables, so if we want to express this prism, there should be 6*(m+1) +3 variables (for example, the number of parameters for a two-ocular prism is 21, for a three-ocular prism is 27). Obviously, it was overload and would hardly get accuracy results.

Simplification of surface normal

If a vector V0=[vox, voy, voz]T rotated around a vector V=[vx, vy, vz]T to a new vector Vn=[vnx, vny, vnz]T with angle , the transformation can be written as:

Vn  MVVo
(2)

Where MV
denote the rotation matrix with angle around the rotation axis V.If we considered the surface

normal of each inclined plane as a vector which rotated around a vector with the same angle, the result would be simple than before. For a multi-ocular prism with m inclined planes, if the surface normal of back plane is

denoted by , the direction vector of edge li (i
have:
 1, 2,  , m)
are Vi (i
1, 2,  , m) . According to equation (2), we


where  (m  2)	m .
Vi  MV Vi 1 (i
 2, 3  m)
(3)

Moreover, the surface normal of inclined planes can be taken as Vb rotated around Vi with angle , and then we have:

Ni  MV Vb (i
 1, 2,  , m)
(4)

Where  is the angle between back plane and inclined plane, which is one of the intrinsic parameters. This equation denoted that for any multi-ocular prism, all the surface normal of extrinsic parameters can be



expressed only by Vb and V1 .If Vb
V1are orthonormal, we have:
 [vbx , vby , vbz ]T

Vb
and V1

V1  0
[v1x ,v1y , v1z ]T
.Using the knowledge that Vb and

(5)

Vb V1  1
(6)

Therefore, the two fundamental constraints (19) and (20) can reduce Vb and V1 to four variables which

could be denoted by V
 [vbx , vby , vbz , v1x ] .


Point selection

An obvious advantage of multi-ocular prism was all the inclined plane must intersect at one common point; this character can easily reduce the point number from m+1 to 2. If this common point is denoted by P=[px, py,pz]T, the perpendicular line from P to the back plane intersected back plane with point Pb=[pbx, pby, pbz]T ,we have:

P  Pb
 tVb
(7)

P  Pb
d	(8)

where t is a scalar, d is the distance from P to Pb	as well as the thickness of prism intrinsic parameters.From (7) and (8), the variables of points for a prism with m inclined planes could be expressed by:

D  {vbx , vby , vbz , v1x , px , py , pz }
(9)


Homographic between a 3D point and its image


From equation (4),we have:


sx  M int M p Mext X	(10)

Where s is an arbitrary scale factor,	Mint is camera intrinsic matrix, Mext is camera extrinsic matrix.Moreover, if XC standfor the 3D points in camera coordinate system, then we have


And equation (11 can be written as


X   Mext X	(11)



sx  M int M p X c
(12)


Maximum likelihood estimation

We are given n 3D object points and m inclined plane of prism. There should be n*m points in image plane. Assume that the image points are corrupted by independent and identically distributed noise. The maximum likelihood estimation of prism position can be obtained by minimizing the following functional:
n  m


i 1 j 1
xij

 m(Mint , M p , Mext , Xij )
(13)



Where m(Mint , M p , Mext , Xij )
is the projection of point in view j, according to equation (13). The

intrinsic and extrinsic matrix can be solved by single camera calibration, combine (9) and (12) into (13), the function changed to:



n  m
xij


 m(D, X c )

(14)

i 1 j 1
Where D is the parameters of prism, xij is the 2D points in the camera image plane and X c stand for the

coordinate of 3D point
X c in camera coordinate system, and each point X c must correspond to m x  by

ij	ij	ij
equation (28) as a process of perspective projection. For the position estimation of prism, the first step is camera calibration. When the intrinsic and extrinsic parameters of camera were known, we can work out X c
by equation (27). The we could get n*m corresponding points between xij and X c .Minimizing (30) is a
nonlinear minimization problem, which could be solved with the Levenberg-Marquardt Algorithm [16]. The initial guess could use the position of standard coordinate, because we always want to set the prism as similar as the standard coordinate.

Experiment and analysis

Experimentation Devices

Camera and prism are mounted on a mechanical stand which installs venire calipers in X, Y, Z axis as well as rotational stage. The relative positions between the camera and prism are known and adjustable, and a high-precision laser be used for measuring the distance from camera image plane to object, as shown in Fig 1.

Fig 1 System set up and multi-ocular prism

Experiment results

The images captured by our stereovision system were divided into two, three and four segments respectively according to the corresponding prisms. In order to explain it clearly, we used to express them, as shown in Fig 2.



Fig 2 The segments of image plane for two and three ocular prism
Table 1 listed the reprojection errors of two ocular prism which calculated by our proposed method. The system setup and parameters for these data were introduced as follow: the focal length of camera is 8mm, the resolution of camera image plane is 1024*768, pixel size is 0.00465*0.00645mm, the camera optical center is taken as the original point of camera coordinate, and the angel of the prism is both 6.4 degree. The circle board was placed at some fitted positions which paralleled with the camera image plane and the sampling interval is 500mm.

Table 1 Reprojection errors of two ocular prism


As shown in these two tables, the accuracy of our proposed method is sufficient for a large range of prism based stereovision system. As well as multi-camera stereovision system, multi-ocular prism system can provide more comprehensive information on the environment and the object, so the reprojection errors of four-ocular prism are less than that of two-ocular prism. However, the more faces a prism with, the more time will be spent for solving the equations.


Conclusions

In this paper, we introduced a new method for position estimation of stereovision system using prism. The parameters of multi-ocular prism were reduced to only 7 extrinsic parameters which could express the position of the prism and 3 intrinsic parameters which could denote the shape of the prism. Our method is based on optical geometry, and could be used in stereovision system with any coordinate. The experiments with both three prisms show that the method is efficient, robust and has good property of convergence and small reprojection errors.


Acknowledgment

The authors would like to thank Professor Lim Kah Bin and Ms. Zhao meijun for their kindly support and advice on the project of single-lens stereovision system using prism in the control and Mechatronics Laboratory, Department of Mechanical Engineering, National University of Singapore.


References
J. A. Kalomiros and J. Lygouras, Design and hardware implementation of a stereo-matching system based on dynamic programming, MicroProcessors and Microsystems, 35: 496–509(2011).
Doo Hyun Lee, InSo Kweon, and Roberto CipollaA, Single Lens Stereo with a Biprism, Proceedings of IAPR Workshop on machine vision applications, pp.17-19(1998).
L. Cai, L. He, Y. Xu, Y. Zhao, and X. Yang, Multi-object detection and tracking by stereo vision, Pattern Recogn. 43, 4028–4041(2010).
E. Hecht, Theory and Problems of Optics, ser. Schaum’s Outline Series, pp. 142–143.
Xiaochun.Cao and Hassan Foroosh, Camera calibration and light source orientation from solar shadows, Computer Vision and Image Understanding, 105(1), 60-72(2007).
Q. Z. Ye, S. H. Ong and X. Han, A stereovision system for the inspection of IC bonding wires, International Journal of Imaging Systems and Technology, 11, 254-262(2000).
A. Goshtasby and W. A. Gruver, Design of a single-lens stereo camera system,Pattern Recognition, 26, 923–936(1993).
Doo Hyun Lee, InSo Kweon, Roberto CipollaA, A biprism-stereo camera system,”In Proc. Int. Conf. on Computer Vision and pattern Recognition, 1, 82-87(1999).
Doo Hyun Lee and InSo Kweon, A Novel Stereo Camera System by a Biprism, IEEE Transactions on Robotics and Automation. 16(5), 528-541(2000).
Kah Bin Lim and Yong Xiao, Virtual stereovision system: new understanding on single-lens stereovision using a biprism, Journal of Electronic Imaging. 14(4), 41-52(2005).
Yong Xiao and Kah Bin Lim, A prism-based single-lens stereovision system: From trinocular to multi- ocular, Image and vision Computing. 25, 1725-1736(2007).
Xiaoyan Li and Rong Wang, Analysis and Optimization of the Stereo System with a biprism Adapter, Proc. SPIE 7506, 1–8 (2009).
Meijun Zhao, Kahbin Lim, Wei Loon Kee. Geometrical-Analysis-Based Algorithm for Stereo Matching of Single-Lens Binocular and Multi-Ocular Stereovision System. Journal of Electronic Science and Technology, 10(2):107-112(2012).
Wei Loon Kee, Kah Bin Lim, Daolei Wang. Virtual Epipolar Line Construction of Single-Lens Bi-Prism Stereovision System, Journal of Electronic Science and Technology, 10(2):97-101(2012).
Xiaoyu Cui, Kah Bin Lim, Qiyong Guo, and Daolei Wang. Accurate geometrical optics model for single-


lens stereovision system using a prism. J. Opt. Soc. Am. A. 29(9): 1828-1837(2012).
Jorge J. More. The Levenberg-marquardt algorithm, implementation and theory.. Numerical Analysis, Lecture Notes in Mathematics, 630:105-116(1978).
