Available online at www.sciencedirect.com
ScienceDirect

AASRI Procedia 8 (2014) 75 – 81


2014 AASRI Conference on Sports Engineering and Computer Science (SECS 2014)
Hardware Design of Smart Home System Based on zigBee Wireless Sensor Network
Zhen-ya Liu
Nanchang Normal University, Nanchang, Jiangxi 330029, China




Abstract

In this paper, the design of the smart home system based on ZigBee technology and GSM / GPRS network, the smart home system the hardware circuit, using the CC2430 ZigBee wireless sensor networks, real-time acquisition of the parameters of temperature, humidity, th ree tables, infrared, smoke, gas, fire, theft alarm, home appliances Appliances such as home environment, through the wireless networking of multiple monitoring devices, household appliances in the home environment remote control and image of remote monitoring system by combining the formation of a new type of smart home system, provides a feasible method for intelligent home environment.

© 2014 Published by Elsevier B. V. This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/3.0/).
Peer-review under responsibility of Scientific Committee of American Applied Science Research Institute
Keywords: ZigBee, smart home,wireless sensor;


Introduction

The smart home is moving in the direction with the wireless remote control, multimedia control, high- speed data transmission, and its key technologies for the home network compatibility of family controllers and meet information transfer needs. At present, the transmission network use of the integrated wiring technology, limit the application of the system place a higher cost. Wireless way to build a flexible and convenient smart home security monitoring system and become the hotspot of current research.















2212-6716 © 2014 Published by Elsevier B. V. This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/3.0/).
Peer-review under responsibility of Scientific Committee of American Applied Science Research Institute doi:10.1016/j.aasri.2014.08.013


Design proposal

Based on the ZigBee the smart home system program the model

Based on ZigBee technology smart home system design using ZigBee star configuration. That ZigBee coordinator (including full-featured ZigBee devices) is the core of the entire communications program. To a number of ZigBee end devices, as the surrounding nodes. Form a star network. Combined with remote control,
*the program may be composed of several parts: ZigBee coordinator, ZigBee end devices (controlled object, such as: gas water table, smoke, temperature, gas, fire, theft alarm and other electrical appliances), the Internet, the remote computer. ZigBee coordinator is responsible for ZigBee end and external network communication between the cores of the system as a whole. ZigBee end device is responsible for data collection and a variety of data transmission. The program based on the composition of the program can be divided into two modules: The first family ZigBee coordinator module; two ZigBee end module. The former is further divided into core control module to coordinate the server side wireless transceiver module, the network receive module and GPRS module: the latter is divided into the terminal transceiver module and data acquisition and control modules. The model in Figure 1. Smart Home ZigBee coordinator module ARM microprocessor core. Communications Coordinator end wireless transceiver modules and terminal modules. GPRS mobile communications through the Internet communicate with remote computers.
Function of each module and communicate with each other. Remote monitoring via cell phone or remote computer on the Internet.


























Zhen-ya Liu  E-mail address: liuzhenya@126.com





Fig.1. Based on the ZigBee Smart home system program model

ZigBee Coordinator structural model

ZigBee coordinator development platform is based on the ARM920T core S3C2410X microprocessor. The core of the entire communication program. Coordinator of the wireless transceiver module with the CC2430. Short distance of one-to-many communication. The CC2430 has solidified the bottom of the ZigBee protocol stack (The PHY layer and MAC layer). Just with simple peripheral devices can constitute a coordinator of the transceiver module. GPRS used to achieve the long-distance data transmission. This is an optional GPRS microprocessor MC35i and peripheral circuits.
Coordination used in microprocessors and Ethernet controller chip (the CS8900A) together with the auxiliary circuit network interface capabilities, communication, GPRS and mobile phone communication between the ZigBee coordinator client and ZigBee end S3C2410X microprocessor, communication between the Internet and remote computer. Coordination S3C2410X microprocessor as the core structure model shown in Figure 2.




Fig.2. ZirBee coordination structure model

The power supply circuit in which the structural model, the system clock circuit, the system reset circuit, the Flash / SDRAM memory interface circuit is the basic circuit of the S3C2410X microprocessor running. JTAG interface, Ethernet interface, serial port and the wireless transceiver module (CC2430 and its peripheral circuits constitute). Is the coordination function of the interface circuit. The JTAG standard is mainly used for chip internal testing and system simulation, debugging. Standard JTAG interface has four lines. And the connection is simple. MAX232 and RS232 serial port functions. Used to coordinate and GPRS devices to transfer data between. GPRS uses the existing products on the market, the application comes with some small modifications, and so GPRS automatically send and receive data. The wireless transceiver module is mainly used for the establishment and initialization of ZigBee star network, and data between multiple ZigBee end devices to send and receive. the system hardware design

serial camera

The cameras of the serial port using the serial communication protocol optimized to support the sub- transmission, so that the host can be configured to a smaller cache, while providing both calm RS232 level output TTL. Transmission of instructions and data between the hosts via serial communication, the host can be the set of state parameters of the baud rate, image resolution, send mode.

SMS module design

SMS module built-in SMS protocol, set the SMS, MMS, in one of the GSM / GPRS module. It uses the AT command module control, control commands and data transfer via RS232 interface. Its internal integrated 600 KB of Flash memory space available for more than one upload the picture sending MMS messages.
ZigBee transceiver devices 2 3
The system uses the CC2430 chip ZigBee wireless communication module, the CC2430 integrated ZigBee radio frequency (RF) front-end, memory, and microcontrollers, CC2430 integrated in line with the IEEE802 15 4 standard. 4GHz RF transceiver supports digital RSSI / The LQ I, CSMA / CA and powerful DMA capability, battery monitoring and temperature sensing capabilities, while powerful and flexible development tools. The basic circuit shown in Figure 3. The capacitor C 1, C2, connected 32-MHz crystal oscillator circuit in Figure 3, this quartz crystal used in normal working hours. Capacitor C3, C4, connect the 32.768 kHz crystal oscillator circuit, dormant work using this quartz crystal, thereby reducing power consumption. C5 is


used to remove clutter, prevent errors microcontroller reset. C6 ~ C8 used as a filter, to remove the clutter to make the voltage more stable. Circuit non-balanced transformer capacitance and inductance L1, L2, L3, and C9 as well as a PCB microwave transmission line, the entire structure to meet the RF input ), C10, C11, C l2, C 13, C14/ output matching resistor (50 decoupling capacitors for power supply filtering to improve the stability of the chip work. Of R1, R 2 is the bias resistor, the R 1 for the 32 MHz crystal oscillator to set the precision bias current. CC2430 chip with low power dissipation characteristics, the choice of two 800 mAh batteries power supply of the node machine. Antenna selection of an external antenna.

Fig.3. Basic circuit of CC2430

CC2430 and temperature and humidity sensor SHT11, light sensor PGM5506, infrared sensor BS520 connection schematic shown in Figure 4, of which P0.0, P0.1, P0.6, P1.2 and P1.3 for the CC2430 I / O ports . Of SHT11 using two-wire serial line and processor data communication and synchronization SCK data line communication processor and SHT11 the DATA tristate gate is used to read data, to avoid signal conflicts, the microprocessor should drive DATA low level, requires an external pull-up resistor to pull the signal high, the CC2430 in Figure 4 pin P1.2 is used of SCK, P1.3 are used for the DATA. Light sensor PGM5506 actual is a photoresistor, with the amount of light in the surrounding environment and to change the resistance value, thus the input voltage of 3 V affected by the photoresistor varies with the amount of light, and thus the output voltage change. Perceived amount of light can change the amount of voltage in the determination of the value of output voltage LIGHT OUT. Figure 4, the CC2430 pins P0.0 connected LIGHT OUT. The infrared sensor BS520, with the strength of the infrared output A / D changes, CC2430 processor based on the current change of the input to the determination of the infrared value. Figure 4 CC243o pin P0.1 connection INFRARED- ADC.





Fig.4. Three sensor connection schematic

A bnormal state detection

The system can image the way outsiders invasions, fires and other indoor anomalies automatically determine. Its intelligence is mainly reflected: the system software on the state of the environment, self-study, so that it can adapt to background changes in the environment, critical state, which can automatically start the state tracking and monitoring to accurately determine the results of multiple images. Background subtraction and interframe difference method, based on the movement threshold binding assay. The target detection process including: image preprocessing, quantization function, motion detection (or a small target motion tracking and detection), the abnormal situation of discrimination and processing.
When the system receives a new image to the camera sent the first pre-processing and noise removal, to get a binary image that can quantify the movement of objects or abnormal areas, and then proceed to the analysis and judgment of the abnormal state. The system uses two kinds of abnormal quantify function: Based on the global bitmap handle and random testing, processing, and then, according to the exception to quantify the function pointer to a specific follow-up operation, For to enter the alarm exception handler, then send an alarm signal to send MMS messages, and store the current video, For to enter the critical exception tracking, start the critical exception tracking program, otherwise the background to replace the judgment and wait to get under a monitoring image. Transmission distance without obstacles within 80 m, the transmission of data packet loss rate of less than 1% are adequate to meet the communication needs of the normal home environment, and the received power is very low, very suitable for family use ZigBee modules for communication between rate of 0% packet loss when the transmission distance is 30 m, through the loss of two water shutoff walls only 1% through a water shutoff walls, fully able to meet the requirements of the system design.

Concluding

In this study designed the smart home system based on ZigBee technology and GSM / GPRS network, system functions, the hardware design, analysis of the application of ZigBee technology in the system. ZigBee technology will be used in smart home, to achieve a fast rate, low cost, low-power wireless network communications. Gives such a smart home system hardware circuits, using the CC2430 ZigBee wireless sensor networks, real-time acquisition in the home environment temperature, humidity, three tables, infrared,


smoke, the parameters of the gas, fire, theft alarm, home appliances Appliances in the home environment, by combining traditional sensor alarm system and image monitoring system, the formation of a new type of smart home system. Users can receive MMS messages via cell phone or PC, according to the need for remote phone set, in order to achieve a flexible, convenient home security monitoring. To achieve multiple wireless networking of monitoring devices, remote control of home appliances, smart home remote monitoring to provide a practical method for intelligent home environment.


References
Jason Lester. System architecture for the wireless sensor networks [J]. Of UCA, Berkeley, 2003.
Texas Instruments. CC243O datasheet [EB / () L]. [20l0-09-063. Http//: www. ti. com/cc2430.
The ZigBee Alliance. The ZigBee Specification [EB / OL]. [2006-1l-o43. Http//: the ZigBee. org.
YE W, HEIDEMANN J, ESTRIN D. An energy-efficient MAC protocol for wireless sensor networks [M]. IS. I: IEEE INFOCOM,, 2002.
L. Li, G, Qin, H. U. Niao. A CC2430.based Wireless Sensor Node and Its Application in Vibration inn Vibration Signal Measurement [c] Proceedings of the 7th International Symposium on Test and Measurement, 2007:4097 ~ 4100
Jason Lester. System architecture for the wireless sensor networks [J]. UCA, Berkeley, 2003.
Zhen-ya Liu. Intelligent residential security alarm and remote control system based on single chip computer .IEEE industrial electronics and application, ISBN: 978-1-42), JUN, 2008.
Zhen-ya Liu. A, the Highly Efficiency Dc Power Supply Voltage with the constant Transformer, 4TH the IEEE Conference on the Industrial Electronics, and the Applications, 27-29, May.2009. ISBN: 978-14244- 2800-7
Zhen-ya Liu.A Propositioned Highly Precision Voltage Regulator of AC Regulated the Power Supply is based on Single-chip Micro-computer, 5TH the IEEE Conference on Industrial Electronics and Applications 15-17june2010, ISBN: 978-1-4244-5046-6
Zhen-ya Liu. Solar Tracking System and the Battery Charge and Discharge Control System, Second International Conference on Future Computer and Communication September 28 ~ 29, 2010, ISBN :978-1- 4244-8470-6
