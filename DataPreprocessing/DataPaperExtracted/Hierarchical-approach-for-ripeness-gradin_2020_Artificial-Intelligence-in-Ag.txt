Hierarchical approach for ripeness grading of mangoes
Anitha Raghavendraa,⁎, D.S. Gurub,M a h e s hK .R a oa, R. Sumithrab
aMaharaja Institute of Technology Mysore, Belawadi, S.R.Patna Taluk,Mandya 571477, India
bDepartment of Studies in Computer Science, Manasagangothri, University of Mysore, Mysore 570006, India
abstract article info
Article history:Received 12 February 2020Received in revised form 6 October 2020Accepted 10 October 2020Available online 14 October 2020
Keywords:Alphonso mangoL*a*b color spaceThreshold based classiﬁerSupport vector machineGrading of fruits based on their ripeness has been a topic of research for the last two decades. Identifying the rip-ened mangoes has become more of an art than science and is a challenging task. This study aims at introducing asystem to grade mangoes with four classes based on their ripeness. The study was demonstrated through an ex-tensive experimentation on a newly created dataset consisting of 981 images of Alphonso mango variety belong-ing to four classes viz., under-ripen, perfectly ripen, over-ripen with internal defects and over-ripen withoutinternal defects. In this study, a hierarchical approach was adopted to classify the mangoes into the four classes.At each stage of classiﬁcation, L*a*b color space features were extracted. For the purpose of classi ﬁcation at each stage, a number of classiﬁers and their possible combinations were tried out. The study revealed that, the SupportVector Machine (SVM) classiﬁer works better for classifying mangoes into under-ripen, perfectly ripen and over-ripen while the thresholding classiﬁer has a superior classiﬁcation performance on over-ripen with internal de- fects and over-ripen without internal defects. Further, to bring out the superiority of the hierarchical approach, aconventional single shot multi-class classi ﬁcation approach with SVM was also studied. The results of the exper- imentation demonstrated that the hierarchical method with an accuracy of 88% outperforms the counterpartconventional single shot multi-class classi ﬁcation approach in addition to several existing contemporary models. © 2020 The Authors. Publishing services by Elsevier B.V. on behalf of KeAi Communications Co. Ltd. This is an openaccess article under the CC BY-NC-ND license ( http://creativecommons.org/licenses/by-nc-nd/4.0/ ).
1. IntroductionMango is one of the most popular delicious fruits produced and con-sumed throughout the world. India is one amongst the most proli ﬁc mango growers across globe. India constitutes about 57% of the world-wide production of mangoes with a demand in local and internationalmarkets (Khoje and Shrikant, 2012). According to Agricultural and Proc-essed Food Products Export Development Authority (APEDA), gradationand inspection processes would fetch better market price and hencethey are necessary steps in post-harvest handling of mangoes. Auto-matic grading of mangoes has thus become inevitable, not only for ex-port purpose, but also for consumption including food processingindustries, as it brings down human intervention while dealing withlarge quantities. In recent years, machine vision based technology hasbecome more popular in theﬁelds of agriculture and food industry.Machine vision based grading of fruits and vegetables is consideredefﬁcient as it avoids inconsistency, inaccuracy, time consuming andlabor intensive. There has been an extensive research done on computervision based grading of fruits and vegetables. Apple stem-end identi ﬁca- tion, calyx areas and surface defect detection ( Li and Weikang, 2002),segmentation of mango region from mango tree image ( Guru and Shivamurthy, 2013), automatic grading of Jonagold apples using hierar-chical method based on their external defects ( Leemans and Destain, 2004), grading of tomatoes based on defect discrimination ( David et al., 2019), automatic segregation of good olives from defective ones(Barreiro et al., 2008), fusion based approach for categorization of fruitsand vegetables (Rocha et al., 2010), ripeness based classiﬁcation of Golden delicious apples (Stefany et al., 2017) and a hybrid method of classifying citrus fruits into immature and diseased on tree canopy im-ages through their detection (Lu and Won, 2018;Sharif et al., 2018) are a few interesting works to mention in literature.A considerable work could be traced on automatic grading andsorting of mangoes speciﬁcally based on attributes related to externalappearances such as shape, size, color, weight and defects ( Roomi et al., 2012;Sa'ad et al., 2015). A work on grading of mangoes usingshape features (region-based and contour based) and wavelet descrip-tor is reported in (Khoje and Shrikant, 2012). Further,Khoje and Shrikant (2013)have used feed forward neural network and supportvector machine for grading of mangoes based on their size features.Identiﬁcation of external defects on mangoes using texture features isalso addressed (Musale and Pradeep, 2014;Pauly and Deepa, 2015). In addition to the above mentioned attributes, the ripeness parame-ter is also taken into consideration for grading of mangoes ( Vyas et al., 2014;Nayeli et al., 2012;Salunkhe and Aniket, 2015;Chhabra et al., 2011;Mansor and Othman, 2014;Nandi et al., 2014). However, mostArtiﬁcial Intelligence in Agriculture 4 (2020) 243 –252
⁎Corresponding author.E-mail addresses:anithbg@gmail.com,anitharaghavendra_ece@mitmysore.in (A. Raghavendra),dsg@compsci.uni-mysore.ac.in (D.S. Guru), maheshkrao_ece@mitmysore.in (M.K. Rao).
https://doi.org/10.1016/j.aiia.2020.10.0032589-7217/© 2020 The Authors. Publishing services by Elsevier B.V. on behalf of KeAi Communications Co. Ltd. This is an open access article under the C C BY-NC-ND license (http:// creativecommons.org/licenses/by-nc-nd/4.0/ ).
Contents lists available atScienceDirect
Artiﬁcial Intelligence in Agriculture
journal homepage:http://www.keaipublishing.com/en/journals/artificial-intelligence-in-agriculture/of the works reported are on only classiﬁcation of unripen and ripen fruits. Indeed, ripeness evaluation of mangoes plays a very importantrole at the consumer selection, export level and food industries.Mangoes in different stages of ripening are used to make products likesweets, candy, juice, pulps, ice-creams, etc. Prediction on ripeness stagesof mangoes would also help in making up decision during transporta-tion depending on time requirement. Hence, automatic grading ofmangoes based on their ripeness is a necessary requirement in realtime applications. In general, classiﬁcation of unripen and ripen mangoes would be easier due to existence of high inter class variations.On the other hand classiﬁcation of under-ripen, perfect- ripen and over-ripen mangoes is very challenging because of low inter class variation.Therefore, this study is on building up classi ﬁcation model which could stratify mangoes under different stages of ripeness. Over-ripenmangoes generally have some black spots on their external appearancesand hence get rejected with an assumption that there may be some in-ternal defects. But, most of the over-ripen mangoes with black spotsbeing not internally defected are safe for consumption. To the best ofour knowledge, no work could be traced in literature on classi ﬁcation of over-ripen mangoes with black spots into internally defected or notinternally defected and thus has been taken up as a part of this study.In order to address effectively the above mentioned issues, investi-gating on a suitable feature extraction technique is required. As coloris the common parameter to classify different stages of ripeningmangoes, different color features were studied extensively in literature(Stefany et al., 2017;Leon et al., 2006;Khoje and Bodhe, 2016;Khoje and Bodhe, 2015). The L*a*b color space coordinates have been usedfor the classiﬁcation of fruits. As CIE L*a*b color space coordinates suithuman perception better and its features also show objective colorwithﬁdelity (Riquelme and Ruiz-Altisent, 2008) and assess color differ- ences, individual values of L, *a and *b can be used to distinguish be-tween any two samples based on their color characteristics. It shall benoted that‘L’indicates lighter/darker, ‘*a’represents more red/green while‘*b’refers more yellow/blue in general. Hence, in this study,L*a*b color space features are recommended to be adopted.Generally, many important real world classi ﬁcation problems have been resolved using a hierarchical method, where classes are to be orga-nized into levels of hierarchy (Silla and Freitas, 2011). The main objec- tive of this study was to develop a computer vision system that can beused to grade mangoes effectively. The speci ﬁc objectives of this study were to choose efﬁcient features and to develop suitable classi ﬁers tograde mangoes based on their ripeness with a hierarchical procedure.This proposed system can be applied to ofﬂine mango post harvest man- agement, as precision agriculture aims to have ef ﬁcient utilization of resources for achieving targeted production of fruits. Overall, thefollowing are the major contributions of this work:•Extensive study on ripeness evaluation of mangoes for grading.•Proposal of a hierarchical multi-stage classi ﬁcation approach.
•Exploitation of L*a*b color space features for effective representation.•Study on suitability of different six classi ﬁers and their possible combinations for optimized performance.•Creation of dataset of 981 mango images of four different classes.2. Materials and methods2.1. Experiment setup and dataset collectionExperiments were conducted on Alphonso variety of mangoes. Thisvariety has four classes such as under-ripen, perfect-ripen, over-ripenblack spots without internal defects and over-ripen black spots withinternal defects. A total of 230 mangoes were collected from localfarm, Mysore, Karnataka, India. Later the mangoes were subjected to aripening process guided by different ripening procedures. An overviewof the proposed system is shown in Fig. 1.Images were acquired from day 5 after they were kept for ripening, irrespective of the ripenesstreatments which were applied on mangoes. Due to the type of ripenesstreatment, on day 5 some mangoes had ripened and some had not rip-ened. Therefore, mangoes wereﬁrst classiﬁed by an empirical method to generate the ground truth. Detailed description on the createddataset is given inTable.1. Some sample images of mangoes of all fourclasses are shown inFig. 2as examples.The image acquisition system was composed through android mo-bile camera of resolution 16MP mounted perpendicularly in front ofan imaging table at a distance of 15 cm, as shown in Fig. 3. The camera was connected via a data cable to an Intel core with i5-4500U CPU,4GHz, and 16GB physical memory. Two focusing lights (Built-In AirTTL, Recycling: 0.05 to 1.2 Sec, Li-Ion Battery: 350 Full Power Flashes,LED Modeling Light, 9 Stop Power Range, 76 Ws Output) were placedin diagonal direction to the table at two different corners. Images werecaptured for each mango sample in different orientations chosen
Fig. 1.An overview of the proposed system.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
244randomly. To make the task of region segmentation simple and easier,the background is made up of black cardboard. The size of each imagewas set to 4608 * 3456 at the time of acquiring images.2.2. Proposed method2.2.1. Feature extractionDuring ripening process of mangoes, changes in skin color and tex-ture are the predominant features irrespective of the method beingused for ripening. In our study, initially color features were adopted torepresent each stage of ripeness in mangoes. To quantify the color pres-ent in a segmented region of a mango, color features from different colorspaces such as RGB, L*a*b, HSV, CMY and YCbCr were extracted(Gonzalez and Richard, 2002). Four color features were extracted fromeach individual color space. For example, in case of RGB space, featuresrepresenting each individual channel (R, G, B) and their fusion as a sep-arate feature were extracted. As mean value provides the average valueof all the pixels in an image, means of individual channels of a colorspace were considered as features.Letf(a,b) be an image of size NxM expressed by three channels sayf
i(a,b):i = 1, 2, 3in a particular color space. Hereaandbdenote the spa- tial coordinates. For the imagef, three mean values (μ's) are computed corresponding to each channel using Eq. (1).μi¼1NM∑Na¼1∑Mb¼1fia,bðÞ ð 1ÞIn addition to these three features, fusion of these features ( u)i sa l s o taken as a feature in the respective color space and is given byu¼∑
3i¼1μi
3 ð2ÞIn general, if K is the number of color spaces each having three dif-ferent channels then each color space has four different featureswhere three correspond to each individual channel and the otherone correspond to their fusion resulting with totally 4K number off e a t u r e s .I nt h i ss t u d yKi ss e tt oﬁve as mentioned above, there areﬁve color spaces.As texture features (Haralick and Shanmugam, 1973;Abdur et al., 2013;Dengsheng et al., 2000) were also found to be equally importantin literature, in this study the effectiveness of texture features such asLocal Binary Pattern (LBP), Grey Level Co-Matrix (GLCM-Haralick) andGabor were also studied against color features.Table 1The description on the dataset created.Category Number of Samples on different days of ripening process Total number of imagesDay1 Day 5 Day 7 Day 9 Day 11Raw 230 – ––– – Under-ripen 0 85 340 images(85 × 4 views)0 0 0 340 images (under-ripe)Ripen (only 121 samples were used) 0 70 280 images (70 × 4 views) 38152 images(38 × 4 views)1352 images(13 × 4 views)–484 images (perfect ripe)Over-ripen with black spots 0 30 30 images(30 × 1 view)8080 images(80 × 1 view)3030 images(30 × 1 view)1717 images(17 × 1 view)107 images (without internal defects)50 images (with internal defects)Decayed samples 0 45 67 75 26 – Total images – – ––– 981 images
Fig. 2.Sample images of mangoes of all four classes (a) under-ripen (b) perfect-ripen (c) over-ripen, black spot without internal defects (d) over-ripen, b lack spot with internal defects.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
2452.2.2. ClassiﬁcationAfter extraction of features, mango images were classi ﬁed using six different classiﬁers. Naïve Baye's (NB), k-Nearest Neighbor ( k−NN), Linear Discriminant Analysis (LDA), Support Vector Machine (SVM),Probabilistic Neural Network (PNN) and threshold based classi ﬁers were considered (Islam et al., 2007;Alan and Izenman, 2013;Kim and Choi, 2014;Musavi et al., 1994). The NB classiﬁer, a linear simple prob- abilistic classiﬁer, predicts a probability distribution over a set of classesfor a given observation. The LDA is a linear classi ﬁer which separates two or more classes of samples based on a linear combination of the fea-tures. The SVM is a discriminative classiﬁer formally deﬁned by a class separating hyperplane. The K-NN is a simple classi ﬁer which takes a de- cision based on the nearest neighbors. In PNN, the parent ProbabilityDistribution Function (PDF) of each class is approximated by a Parzenwindow and a non-parametric function. The PDF of each class and theclass probability of a new input data are estimated by Bayes' rule.Along with these classiﬁers, a new classiﬁer was designed based on the threshold value of individual color spaces. Threshold based classi ﬁer was designed based on the differences between the samples of two dif-ferent classes for each color space. The threshold values were empiri-callyﬁxed using training samples. Subsequently based on thethreshold values, testing samples were categorized. To validate themodel, the dataset was divided into two subsets, a training set and atesting set at each level of classiﬁcation.2.2.3. Hierarchical method of classiﬁcationIn order to have a high degree of discrimination, hierarchical struc-ture was adopted for classiﬁcation assuming a binary classiﬁcation model at every stage of ripeness as shown in Fig. 4. Let [S
1,S2……….S n] be a set ofnsample images of mangoes belong-ing to 4 classes sayC
j:j=1, 2, 3, 4, representing different ripening stagessuch as under-ripen, perfect ripen, black spotted over-ripen without in-ternal defects and black spotted over-ripen with internal defects respec-tively. Theﬁrst level of classiﬁcation, involves binary classiﬁcation between C
1and the remaining classes (C 2∪C3∪C4). Once theﬁrst level classiﬁcation was done, the second level of classiﬁcation was considered between C
2and C 3∪C4.F i n a l l y ,t h el a s ts t a g eo fc l a s s iﬁcation was consid- ered between C
3and C 4.2.2.4. Model optimizationIn order to optimize a model, it is recommended to study on the per-formances of each classiﬁer with respect to each individual four colorfeatures of all K number of color spaces at each level of the proposed hi-erarchical method of classiﬁcation. Based on the performances of classi-ﬁers at each level of classiﬁcation, the best performing classiﬁer and the corresponding color feature of the respective color space is ﬁxed up. To optimize the system, the dataset was divided into T1% for training andT2% for testing at every level of classiﬁcation. Let P be the number of classiﬁers used at every level of the hierarchical method of classi ﬁcation. The study was recommended to be carried out for Lnumber of trials by choosing the training and testing samples randomly.During optimization, the average accuracy of each classi ﬁer across all L trails was calculated and preserved with respect to each color featureof all color spaces. Hence this optimization involves 12PKL trails of em-pirical study. As the interest is inﬁnding the best classiﬁer and the fea- ture combination for each level, the highest accuracy amongst all trailsat a particular level was noted down. The classi ﬁer and feature combina- tion corresponding to that highest accuracy was identi ﬁed to be the method of classiﬁcation for that particular level. Overall, the proposedhierarchical approach for ripeness grading of mangoes is the sequenceof the identiﬁed best performing combination of classi ﬁer and color feature.3. Experimentation3.1. Performance analysis and model optimizationIn this subsection, the recommended hierarchical method of classi ﬁ- cation has been set up to function at its maximum performance throughan extensive experimentation. For this purpose,the dataset has been divided into a training subset and a testing sub-set with 60:40 ratio at every level of hierarchical method of classi ﬁca- tion. The average accuracies over 100 trails for each of the sixclassiﬁers at each level of classiﬁcation (three levels) considering fourpossible features at a time in each of the ﬁve color spaces were com- puted as explained inSection 2.2.4.Fig. 5presents the computed accuracies.Based on the computed accuracies, the best performing classi ﬁers and the corresponding color feature of the respective color space wereidentiﬁed at each level.Fig. 6gives the plot of highest accuracies ob-tained in each color space for all the three levels.In this study, based on the computed accuracies, it is observed thatthe feature fusion of L,*a and *b had attained highest accuracy overrest of the color space features both at level I and level II, while the
Fig. 3.Image acquisition system.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
246individual color feature *b of L*a*b color space had attained highest ac-curacy over the rest of the color space features at level III. It is quite in-teresting observation that at all three levels irrespective of a classi ﬁer, the feature responsible for better performance is from L*a*b colorspace and hence in the subsequent discussion, only the L*a*b colorspace is presented. Therefore, the accuracies obtained for all six classi-ﬁers using L*a*b fusion feature at level I and level II, and using the indi-vidual color feature *b at level III are tabulated in Table 2. FromTable 2, it is learnt that the SVM classiﬁer performs better than the others at level I and level II, and the threshold based classi ﬁer per- forms better than the others at level III. Hence, the combination ofSVM and L*a*b fusion feature is identiﬁed to be the method of classiﬁca- tion adopted at both level I and level II. On the other hand, for level III,the combination of threshold based classiﬁer and *b feature is identiﬁed to be the best performing one. Thus the optimized model recommendedin this study is a hierarchical method of classi ﬁcation with three levels where in, theﬁrst level classiﬁes the class of under-ripen mangoesfrom rest of other classes using SVM with L*a*b fusion feature, secondlevel classiﬁes the class of perfectly ripen mangoes from the class ofover-ripen mangoes using SVM with L*a*b fusion feature and thirdlevel uses a threshold based classiﬁer with *b feature to further classifyover-ripen mangoes into internally defected and not internally defectedmangoes.As stated inSection 2.2.1, the performance of the recommended sys-tem was also analyzed by considering texture features in order to bringout the effectiveness of the color features. The results of L*a*b color fea-tures were compared with that of the texture features such as LBP (52features), GLCM (14 Haralick features) and Gabor (500 features). InFig. 7the highest accuracies obtained for all the three types of texturefeatures out of all six classiﬁers are shown against each of the threelevels of classiﬁcation along with the accuracies obtained by the recom-mended hierarchical method of classiﬁcation using L*a*b color space.FromFig. 7, the texture features were found to be the discriminatingfeatures at only level II. In fact it is not surprising as it shall be noticedthat inFig. 2(b and c), there is a considerable difference in terms of tex-tures between perfect-ripen and over-ripen mangoes due to presence ofwrinkles as mangoes get ripened. However, there is no consistency inperformance at all levels using texture feature. Hence, L*a*b colorspace features appear to be the best features even when compared toall other color spaces in addition to the texture features. Since the fourclasses of mango samples are found to be more distinguishable inL*a*b color space, a 3-dimensional plot of the three feature values ofall samples of the dataset is shown in Fig. 8for visualization. InFig. 8, a perceptible separation of under-ripen class from rest ofthe classes shall be noted. Therefore, a better classi ﬁcation result was obtained atﬁrst level. However, in second and third levels, the resultswere comparatively less due to less inter class variations as perfectlyripen samples appear to be more similar to that of over-ripen as for ascolor is concerned. Further, the performance at level III is slightly lessthan that of level II because of the fact that color is not uniform acrossall samples of level III due to presence of irregular black spots makingclass separability a difﬁ
cult one. Hence, well-known statistical classi ﬁers such as SVM were shown to be performing poor when compared to athreshold based classiﬁer at level III.3.2. Discussion and comparative analysisConventionally, the problem being addressed in this study is as-sumed to be a multiclass classiﬁcation problem, where a single classiﬁer is trained using a particular type of feature to categorize all four classes ofmangoes. Therefore, to promote the recommended hierarchical methodof classiﬁcation with three levels, the study has been extended towardsperformance analysis of a single shot multi-class classi ﬁcation approach using all six different classiﬁers based on each individual four features(including fusion) of L*a*b color space. Each of the six classi ﬁers was trained on each of the four features of the color space by considering60% samples of the dataset and confusion matrices were built for the re-maining 40% samples. Based on the computed confusion matrices, theaccuracy of each classiﬁer was computed for each of the individual fea- ture type and the maximum amongst them was noted down. It was asexpected, observed that all classiﬁers have had maximum accuracywhen they were trained on fusion of L,*a and *b features. Fig. 9shows
Fig. 4.Hierarchical method for classiﬁcation of mangoes based on ripeness.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
247the accuracies obtained for each of the six classi ﬁers when they were used for single shot multi class classiﬁcation with L*a*b feature fusion.InFig. 9, the SVM classiﬁer attains 86.5% accuracy which is slightlyhigher than that of all other classiﬁers.Table 3(a) depicts the confusion matrix obtained for SVM classiﬁer when it is used as a single shotmulti-class classiﬁcation approach. The 40% of the samples of thedataset considered for computing this confusion matrix involved 136,193, 43 and 20 number of samples respectively belonging to under-ripen, perfectly ripen, over-ripen back spots without internal defectsand over-ripen back spots with internal defects.Fig. 5.Accuracies computed for various classi ﬁers considering possible color spaces against each feature at a) I Level (b) II Level and (c) III Level.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
248In a similar line, the same 40% of the samples were classi ﬁed by the use of the recommended hierarchical method of classi ﬁcation and the confusion matrix was generated as given in Table 3(b). Based on the confusion matrices (Table.3), measures such as accu- racy, precision, sensitivity and speciﬁcity were computed for both the recommended hierarchical method of classi ﬁcation and the SVM based single shot multi-class classiﬁcation method and are shown in Fig. 10.single shot multi-class classiﬁcation method.FromFig. 10, it is clear that the recommended hierarchical method ofclassiﬁcation achieves considerably better results when compared tothat of SVM based single shot multi-class classi ﬁcation method which is shown to be performing better than rest of the classi ﬁers. Moreover, the recommended hierarchical method of classi ﬁcation has also been compared against existing contemporary works reportedon classiﬁcation of mangoes using ripeness. The works which have beenconsidered for comparative analysis are the only works that could betraced on ripeness based classiﬁcation/grading of mangoes. The com-parative analysis made in this study has considered different qualitativeattributes such as mango variety, feature type and classi ﬁcation method in addition to quantitative attributes such as number of samples and ac-curacy.Table 4gives details on each of the considered work includingthe proposed method on all qualitative and quantitative attributes.As observed inTable 4, the works reported in literatures have con-sidered majorly two classes of mangoes, unripe and ripe which exhibithigh inter class variation and only few have considered an additionalFig. 6.The maximum accuracy obtained in each color space irrespective of classi ﬁer and feature combination at (a) Level I (b) Level II and (c) Level III.
Table 2Accuracies obtained for different classi ﬁers in L*a*b color space.Classiﬁers LevelsI II IIIThreshold Based 96.20 77.51 80.28Naïve Bayes 97.95 83.09 77.85LDA 98.77 83.60 77.88SVM 99.09 85.94 77.43k-NN 98.44 82.92 77.72PNN 95.81 79.32 68.80
Fig. 7.Comparison of L*a*b color feature with texture features at three levels of hierarchy.
Fig. 8.Three Dimensional plot of L*a*b feature values of all samples of four classes of mangoes.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
249class of mangoes called over-ripen. The classi ﬁcation methodologies adopted in all these works are like a single shot multi- class classi ﬁca- tion approach which has already been demonstrated to be not superiorto the recommended hierarchical method of classi ﬁcation. On contrary, in this study, in addition to two classes viz., under-ripenand perfectly ripen, two more classes such as over-ripen black spotswithout internal defects and over-ripen black spots with internaldefects were taken at the third level of classi ﬁcation. This added ability of our model is a good contribution of this study because black spottedover-ripen mangoes without any internal defects can be identi ﬁed so that they can still be put to use in food product manufacturing indus-tries instead of being rejected with an assumption of having internal de-fects. At each level of classiﬁcation, suitable classiﬁers and featurecombination were adopted achieve better results. It is interesting toinfer through comparative analysis that the dataset considered in thisstudy is reasonably sized when compared to that of the most of theexisting works. It could also be observed that the accuracy, 99.09% ob-tained by the hierarchical method of classi ﬁcation at level I is relatively higher than that of the other works while classifying under-ripen andripen classes. At level II and level III, the proposed method exhibits re-spectively 85.94% and 80.28% of accuracies. As our system is a hierarchi-cal method with three levels of classi ﬁcation where in different classiﬁers and feature combination were adopted at each level havingdifferent accuracies of classiﬁcation, it is introduced to compute overallsystem accuracy as follows (Ashok, 1978). Let there be in general four different classes say C1, C2, C3 and C4 respectively with say w, x, yand z number of samples. Letα,βandγwere the accuracies of the hi- erarchical method respectively at level I separating C1 from the remain-ing classes (C2UC4UC3), at level II separating C2 from rest of the classes(C3UC4) and at level III separating C3 and C4. The system accuracy A iscomputed asA¼
wαþxαβþyαβγþzαβγwþxþyþz ð3ÞFor our test dataset withw= 136,x= 193,y=4 3a n dz=2 0 ,a n d the obtained accuraciesα= 99.09%,β= 85.94% andγ= 80.68%, the overall system accuracy,Ais computed to be 87.34%, which is also tab-ulated inTable 4.The entire work presented in this paper has been realized on a i5core computer with 4GHz having 16GB memory with a support ofimage processing toolbox in Matlab.4. ConclusionIn this study, a successful attempt was made to explore the applica-bility of a hierarchical method of grading of mangoes based on theirripeness. The signiﬁcance of the L*a*b color space features in discrimi-nating four different classes of Alphonso mango variety was broughtout. The empirical analysis made in this study argues that the hierarchi-cal approach has a superior performance than a single-shot multiclassapproach. Further, the study on six classiﬁers and their possible combi- nations with different color features revealed that, the usage of SVM andsimple threshold classiﬁer was more effective. The success of this studyon post-harvest management of Alphonso mangoes motivated for fur-ther studies of other varieties of mangoes in addition to considerationof additional parameters such as store time, temperature and moisture.The recommended method of classiﬁcation can be deployed for ofﬂine application in post-harvesting management of mangoes.Fig. 9.Accuracies of various classiﬁers when used for single shot multi class classi ﬁcation with L*a*b feature fusion.
Table 3Confusion matrices obtained for (a) SVM classi ﬁer with L*a*b feature fusion when used as a single shot classiﬁcation approach (b) the recommended hierarchical method ofclassiﬁcation.C1 C2 C3 C4C113330 0 C2 2 18380 C3 0 27 115 C4 0 5 5 10C1 C2 C3 C4C113420 0 C2 2 17412 5 C3 0 17 242 C4 0 0 5 15
Fig. 10.Different measures computed for hierarchical method of classi ﬁcation and SVM based.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
250CRediT authorship contribution statementAnitha Raghavendra:Conceptualization, Methodology, Software,Writing - original draft.D.S. Guru:Visualization, Investigation.Mahesh K. Rao:Supervision.R. Sumithra:Software, Writing - review & editing.AcknowledgmentsWe thank all the reviewers for their critical cum encouraging com-ments which helped us a lot in signiﬁcant improvement on quality and readability of the content of the manuscript.References
Abdur, Md. Rahim, Shaﬁul, Md. Azam, Nazmul, Hossain, Rashedul, Md. Islam, 2013. Face recognition using local binary patterns. Glob. J. Comput. Sci. Technol. 13 (4) ISSN:0975-4172.Alan, Julian, Izenman, 2013. Linear discriminant analysis-modern multivariate statisticaltechniques. Springer in Statistics. 8, pp. 237 –280.https://doi.org/10.1007/978-0- 387-78189-1.Ashok, V. Kulkarni, 1978.On the mean accuracy of hierarchical classi ﬁers. IEEE Trans. Comput. 27 (8), 771 –776.Barreiro, Pilar, Constantino, Valero, Margarita, Ruiz, Altisent, 2008. Olive classiﬁcation ac- cording to external damage using image analysis. J. Food Eng. 87 (3), 371 –379. Chhabra, Manish, Abhishek, Gupta, Prateek, Mehrotra, Smarti, Reel, 2011. Automated de- tection of fully and partially ripened mango by machine vision. Proceedings of the In-ternational Conference on Soft Computing for Problem Solving-Springer. 131,pp. 153–164.David, Ireri, Eisa, Belal, Cedric, Okinda, Nelson, Makange, Changying, Ji, 2019. Ac o m p u t e r vision system for defect discrimination and grading in tomatoes using machine learn-ing and image processing. Artif. Intelligence Agricult. 2, 28 –37. Dengsheng, Zhang, Aylwin, Wong, Maria, Indrawan, Guojun, Lu, 2000. Content-based image retrieval using Gabor texture features. IEEE Transactions on Pattern Analysisand Machine Learning, pp. 392 –395. Gonzalez, C. Rafael, Richard, E. Woods, 2002. Digital Image processing. 2nd edition. Pren- tice Hall.Guru, D.S., Shivamurthy, H.G., 2013. Segmentation of mango region from mango tree image. Proc. First International Conference, MIKE. Springer, pp. 201 –211 LNAI. 8284. Haralick, R.M., Shanmugam, K., 1973. Textural features for image classiﬁcation. IEEE Trans. Syst. Man. Cybernetics 3 (6), 610 –621. Islam, Md J., Wu, Q.M. Jonathan, Ahmadi, Majid, Maher, A., Sid-Ahmed, 2007. Investigat- ing the Performance of Naive- Bayes Classi ﬁers and k-Nearest Neighbor Classi ﬁers. 5 (2) pp. 133–137.Khoje, Suchitra, Bodhe, S.K., 2015. Comparative performance evaluation of fast discrete curvelet transform and color texture moments as texture features for fruit skin dam-age detection. Springer J. Food Sci. Technol. 52, 6914 –6926. Khoje, Suchitra, Bodhe, S.K., 2016. Application of color texture moments to detect external skin damages in guavas. World Appl. Sci. J. 27 (5), 590 –596. Khoje, Suchitra, Shrikant, Bodhe, 2012. Performance comparison of Fourier transform and its derivatives as shape descriptors for mango grading. Int. J. Comput. Appl. 53 (3),17–22.Khoje, Suchitra, Shrikant, Bodhe, 2013. Comparative performance evaluation of size met- rics and classiﬁers in computer vision based automatic mango grading. Int. J. Comput.Appl. 61 (9), 1–7.Kim, S., Choi, J., 2014.An SVM-based high-quality article classi ﬁer for systematic-reviews. J. Biomed. Inform. 47, 153–159. Leemans, V., Destain, M.F., 2004. A real-time grading method of apples based on featuresextracted from defects. J. Food Eng. 61, 83 –89. Leon, K., Mery, D., Pedreschi, F., Leon, J., 2006. Color measurement in L*a*b units from RGB digital images. Food Res. Int. 39, 1084 –1091. Li, Qingzhong, Maohua, Wang, Weikang, Gu, 2002. Computer vision based system for apple surface defect detection. Compt. Electron. Agric. 36, 215 –223. Lu, Jun, Won, Suklee, Haogan, Xiuwen, Hu, 2018. Immature citrus fruit detection based on local binary pattern feature and hierarchical contour analysis. Biosyst. Eng. 171,78–90.Mansor, Ab Razak, Othman, Md., 2014. Fuzzy ripening mango index using RGB color sen- sor model. Res. World J. Arts Sci. Commerce 5 (2) E-ISSN2229-4686 ISSN2231-4172.Musale, Sandeep, Pradeep, Patil, 2014. Identiﬁcation of defective mangoes using Gabor wavelets: a non-destructive technique based on texture analysis. Int. J. Agricult.Innov. Res. 2 (6), 992 –996.Musavi, M.T., Chan, K.H., Hummels, D.M., Kalantri, K., 1994. On the generalization ability of neural network classiﬁers. IEEE Trans. Pattern Anal. Mach. Intell. 16 (6), 659 –663. Nandi, C., Tudu, B., Koley, C., 2014. Machine vision based techniques for automatic mango fruit sorting and grading based on maturity level and size. Springer 8, 27 –46. Nayeli, V. Rivera, José, J. Chanona Pérez, Reynold, F. Rebollo, José, Blasco, Georgina, C.Domínguez, de María, J.P. Flores, Israel, A. Vázquez, 2012. Description of maturitystages of mango‘Manila’by image analysis and ripening index. CIGR-Ageng Confer-encewww2.atb-potsdam.de.Table 4Qualitative comparison with other well-known methods of mango ripeness classi ﬁcation.Number of classes (Mango variety) Number ofsamplesFeaturetypeClassiﬁcation method adopted AccuracyVyas et al., 20143unripesemi riperipe(Totapuri, Badami⁎)150mangoesL⁎a⁎b Rule based classiﬁcation(Histogram of L,⁎a and⁎b)94.97%
Salunkhe andAniket, 20154Green stageunripenRipenFully ripen(Alphonso)80mangoesRGBandHSVRule based classiﬁcation (Relative changes in thecomponents i.e. R/G, R/B, S/H) 90.4% (RGB)84.2% (HSV)
Chhabra et al.,20112unriperipe200mangoesHSV Neural Network 95%Mansor andOthman, 20143under-riperipeover-ripe(Chokanan)60mangoesRGB Fuzzy logic 87%
Nandi et al.,20144RawSemi-maturedMaturedOver-matured(Kumrapali, Amrapali, Sori, Langra, Himsagar)750mangoesRGB Gaussian Mixture model and Fuzzy logic less than 90% in all varieties
Proposed Study 41)Under-ripen,2)Perfect- ripen,3) Over-ripen black spots without internal defects and 4)Over-ripen black spots with internal defects.Alphonso230mangoesL⁎a⁎b Hierarchical method of classi ﬁcation (sequence of classiﬁer and feature combination) Level I-99.09%Level II 85.94%Level III- 80.68%-Mean Accuracy-87.34%⁎Badami is also called Alphonso.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
251Pauly, Leo, Deepa, Sankar, 2015. A new method for sorting and grading of mangoes basedon computer vision system. Intl. Adv. Comput. Conf. https://doi.org/10.1109/ IADCC.2015.715489.Riquelme, M.T., Barreiro, P., Ruiz-Altisent, M., Valero, C., 2008. Olive classiﬁcation accord- ing to external damage using image analysis. J. Food Eng. 87 (3), 371 –379. Rocha, Anderson, Daniel, C. Hauagge, Jacques, Wainer, Siome, Goldenstein, 2010. Auto- matic fruit and vegetable classi ﬁcation from images. Compt Electron. Agric. 70, 96–104.Roomi, S., Md, Mansoor, Jyothi, R. Priya, 2012. Classi ﬁcation of mangoes by object features and contour modeling. Int. J. Pure Appl. Math. https://doi.org/10.1109/ MVIP.2012.6428786.Sa’ad, F.S.A., Ibrahim, M.F., Shakaff, Md A.Y., Zakaria, A., Abdullah, M.Z., 2015. Shape and weight grading of mangoes using visible imaging. Compt Electron. Agric.115, 51–56.Salunkhe, R. Pralhad, Aniket, A. Patil, 2015. Image processing for mango ripening stage detec-tion: RGB and HSV method. IEEE Conf. https://doi.org/10.1109/ICIIP.2015.7414796 . Sharif, Md, Attique, Md Khan, Zahid, Md Iqbal, Faisal, Md Azam, Ikram, M. Ullah, Lali,Younus, Javed, Md, 2018.Detection and classiﬁcation of citrus diseases in agriculture based on optimized weighted segmentation and feature selection. Compt. Electr.Agric. 150, 220–234.Silla, N. Carlos, Freitas, A. Alex, 2011. A survey of hierarchical classiﬁcation across different application domains. Data Mining and Knowledge Discovery. 22. Springer, pp. 31 –72. Stefany, Cardenas-Perez, Jorge, Chanona-Perez, Juan, V. Mendez-Mendez, Georgina,Calderon-Dominguez, Ruben, Lopez-Santiago, Maria, J. Perea-Flores, Israel, Arzate-Vazquez, 2017.Evaluation of the ripening stages of apple by means of computer vi-sion system. Bio-system Engineering. 159, pp. 46 –58. Vyas, M. Ankur, Bijal, Talati, Sapan, Naik, 2014. Quality inspection and classiﬁcation of mangoes using color and size features. Intern. J. Compt Appl. 98 (1), 1 –5.A. Raghavendra, D.S. Guru, M.K. Rao et al. Artiﬁcial Intelligence in Agriculture 4 (2020) 243–252
252