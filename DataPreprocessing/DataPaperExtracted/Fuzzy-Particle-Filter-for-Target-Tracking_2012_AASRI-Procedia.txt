 AASRI Procedia   3  ( 2012 )  191 – 196 
2212-6716 © 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institutedoi: 10.1016/j.aasri.2012.11.032 
 2012 AASRI Conference on Modeling, Identification and Control 
Fuzzy Particle Filter for Target Tracking 
Qing LIN 1,2,a, Xiao-Ding XU ∗1,b, Shi-Tong WANG3, c, 
1(School of Computer Science and Telecommunications Engineering, Jiangsu University, Jiangsu , Zhenjiang, 212013, China) 
2(School of Computer Science and Technology, Nanjing University of Science and Technology, Nanjing, 210094, China) 
3(School of Information Technology Southern Yangtze University Jiangsu ,Wuxi ,214122, China)  
Abstract  For the lack of the traditional particle filter and partic le filter based on the colour histogram in the background illumination and the deformation and transformation of target, fuzzy particle filter combined with the classical Monte Carlo algorithm employs fuzzy technique to extract the target features. Colour image sequence converts from RGB to L*a*b Colour space of the International Illumination Co mmission. Fuzzy particle filter and re-sampling weight superimposed is more effective in reducing the number of pa rticles and enhances traditional particle filter capacity to the recognition positioning and real-time tracking. Experimental results displayed that the method in the target shape, attitude or background illumination in intraday variation tracked target in real time. The algorithm enhances the traditional particle filter robustness and real-time in the light of dramatic changes, background constant variation and the target deformation self-adaptive. And the partially obscured target is not lost. 
© 2012 Qing Lin, XiaoDing XU, Shitong Wang,  Published by Elsevier B.V.Selection and/or peer review under responsibility of American Applied Science Research Institute
 Key Words
: Monte Carlo ; Fuzzy techniques ; particle filter ; illumination ; target tracking  
1 Introduction The tracking target in the video sequence effectively has been a challenging issue in the computer vision[1-2]. In recent years, particle filter as an efficient ta rget state estimation method, which belongs to the non- parametric estimation with not exhaustive search and has the advantage of high tracking accuracy, has been successfully applied in the field of target tracking and some across-domain[3-4]. It is high computational cost  that each particle state is estimated at any frame image in the tracking process[2]. In the case of partial occlusion, illumination 
variation , changing posture and shape of targets, the real-time and robustness of the traditional particle filter becomes the problems, i.e HPF( Histogram-based particle filter). Vinu[5]  put forward to combine with the technology of the fuzzy  feature measurement and the stability theory to improve                                                             
 * Corresponding author 
 TEL +86-18796081259    E-mail address: 
978564205@qq.com.cn  ;  ,jcs533@qq.com  
Available online at www.sciencedirect.com
© 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.192   Qing LIN et al.  /  AASRI Procedia   3  ( 2012 )  191 – 196 
 the timeliness and robustness of tracking on the basis of Ning [6]. The fuzzy particle measurement methods as we ll as superimposed weight sampling algorithm is employed in the paper to reduce the number of particles and improve the real-time quality. Y. Satoh  applied the color characteristics to implement  tracking[7]. 2 Particle Filter Tr
 acking Theory In the video tracking, the color position, speed, rate valu e ra
 nge, direction of the target , etc., the choice of parameters depends on the purpose of use. When the posterior probability density function
(| )ttpx Z  is   used      to estimate, 
tZ is the set of effective observation point, and when txrepresents a valid estimate of the time points, the original PDF (Probability Density Function)
00(|)px yas a priori point, recursive get in two stages, form the basis detect and update of Bayesian theory [8], which
12{ , ,..... }ttZ zz z=. Assuming PDF11 1 1 1(| )(| :)tt t tpx Z px z z−− − − = valid in the instant t-1 , the system model 
11 =( , )ttx txf x v−− get the a priori probability of PDF in time t in the exploratory phase., 
tf is a nonlinear function containing 1tv−, and in the instantaneous t, using the Bayesian theory to update [7] 
11 111 (| :) (|) (| : ) /(| : )tt t t tt ttpx z z pz x Px z z pz z z−− =                                                                                                                           (1)  
1- 1 - 1 tt t t t t t tp(z | z : z ) = p(z | x )p(x | z : z )dx³                                                                                                                                  (2) The constant is based on the similar function of measurement model
(,)t tttzh x n=, the function th non-linear associated with
tn, wheretnis a measure noise sequence. In the particle filter, the probability distribution is approximate to weighted distribution collection, for example () (){( , ) | 1 ,2,... }nntt s sx wn N==, sNis the number of particles, by the value
=1=1Nsiwti¦of these weighted statistics [9]. Sampling theory is employed to get close to the posterior probability weight value 
1(x |Z : Z )kkp . If ()xpxπ∝ is the probability density, it is difficult to obtain from 
()xπ, because ()xπis  estimated  obtained,  so   weighted approximate density obtained by the following formula 
1()( )sNiiipx w x x δ
=≈−¦                                                                                                                                   (3)
 Where (( ) /( ) )ii iwx q x π∝ is the i-th particle nonlinear weighted values, ( ), 1, 2,.....,s xq x i N≈=  (.)q obtain a sample. Particle filter connected via two create transported to target detection in the target tracking, fuzzy, and the target is detected, such as its color histogram, an area, centric, and shape calculated by the ambiguity function 
12 ( )={ ,  .... }j FI ff f  where fj is defined as   
,,=1 =11=     =N Nji j i i j i ifu p uN¦ ¦                                                                                                                                                 (4) Where  u
i,j is the degree of membership of the i-th pixel and the j the pixel. p is the i-th pixel probability of being selected, and N is the total number of pixel. In  order to reduce the non-uniformity of the RGB color space, the color of each pixel is converted from RGB color space to the CIE (Commission International de L'Eclairage French abbreviation) L*a * b color space. When   c is much smaller than n, c kinds of color local rough set theory and fuzzy histogram calculated from fuzzy C-means (FCM) histogram. c rough color fuzzy clustering core unified color space, defined as follows: 
2,1 2 11 ( , : ) || ||  ( =(f  , f  ....f ))  1 mcnm mi jij N jiJM F X u x f F
==== − ∞¦¦ pp                                                                                                     (5)    Where M is a member function matrix, 
12{ , ...... }Tn Ff f f= is unknown clustering prototype vector ,ijufrom the collection
12{ , ..... }n Xx xx=  belonging to i model the value of the member function of the j-th cluster, The index m controls ambiguity or member function range shared by C clustering. This cluster and the membership function value obtained by the following formula: 
,
,()1()1ijjjijmnuxifmnui¦==¦=                                                                                                                                                         (6)    
2 ,=1 =1/ ( || - || /|| - ||)        (  for 1 ,1< , < )cij i j i liux f x f i n j l c ≤≤¦
                                                                                                (7)  Calculate fuzzy particle filter histogram can be expressed as
11cc n nFMH×× ×=× , 1nH×the color histogram well changed 193  Qing LIN et al.  /  AASRI Procedia   3  ( 2012 )  191 – 196 
from the binary RGB to CLE L*a * b, cnM×members of the matrix, ,ijuis a rough set of the i-th color binary and j-th binary .  3 Computer of the Fuzzy Particle Measurement Based on fuzzy tracking, fuzzy similarity measure has been widely used in target tracking, the similar fuzzy measurement methods have been the target tracking [10], Based on calculate of fuzzy distinction, fuzzy distinction between all two frames fuzzy histogram described as follows 
,1 ,2 12 , 2 , 1
,1 ,2()(),1 ,2 (, ) { 2 ( ( 1 )) ( ( 1 ) ) }1iiii
iiuuc uuii Si m a g i m a gu u eu u e i−− =− − + − − +¦=                                                                                             (8) 
,1 ,21112,1 ,2 ,1 ,2 ,1 ,21min( , ) (, )(min( , ) min(1- ) min( ))ciiicii i i i i i uu S imag imag uu u u u u
αβ=
= =++ −¦¦                                                                                                             (9) 
,1 ,2,iiuu corresponds to a membership function value of the i-th layer image of the histogram,  difference of two frames more (imag1, imag2) [11] is smaller, the similar property is obvious, the difference for a pair of identical pictures is 0. 4 Fuzzy Particle Filter Tracking 4.1 The compute Based on the stability theory Tversky et al  consider that particles is a set of feature points rather than the simple metric[10] , We consider Generalized Tversky Index (GTI) measure for image region extraction has been proposed as  the formula (9) .GTI provides directional similarity as sessment that is based on human perception. Values Į, ȕ determine the relative importance of the distinctive features of the   adjacent two   images.  4.2 Description in our important algorithm  1) Defined in the set of RGB space is an n-dimensiona l colour space and color in CIE L*a*b color space  c is much smaller than  the variable  n. 2) the transformation  between  RGB colour space and the CIE L*a * b colour , according to the formula(5) calculated fuzzy membership matrix  Mc . 3) The initialization of the distribution function 
(,, )Xmη¦ where m is the mean  variable ,is the Covariance variable . 4) Each Pixel
(, ,)Ixy t with uniform wights,itw return (3) 5) Iterative computation the wights and intensity each pixel (
(, ,) , 1 1 , 1xy Ixy t t x N y M≥≤ ≤ ≤ ≤ ) . 6) If the  value of pixel 
(, ,)Ixy t   lies in the particular M (M=2.5) of B, update its  weights, mean, covariance, steering (4) and (5) 7) If found <T, I (x, y, t) is a background pixel B[11] , 8) Rearranges the weight  of each  particle  value 
,itw  in descending order  4.3 The Implementation  in the Fuzzy particle filter  1) Sampling Ns particles from the set .i .e, in acc ordance with the unified weights randomly generated particles as the initial collection later effective sample papers accumulated PDF 
() ()11 1{( , ) | 1 ,2... }nntt t s Ss w n N−− −==  2) Determination 
1: (| )ttPx Z  by  above-mentioned (2) and (3) recursively tx is the  State variables in the formula  a) predict by Sampling  from 
1:11 (| ( ) )nN tt t Px x sn=−− =   194   Qing LIN et al.  /  AASRI Procedia   3  ( 2012 )  191 – 196 
b) Measure and weight a new pixel ( (x,y,t)I ) value of the weight in the image  . c) Calculate a new histogram of target in the image .      d) Tracking the target , definition window both calibration its   possible location and possible movement position . e) Calculate by formula (9) f) Cross-track In the minimum  h) Specification and  resampling [11]  , time t in the exploratory phase , calculate the importance weights   
1(|)ii itt t tww p z x−=        Standardized weight  ~1 si Nijtttjww w==¦          Cumpter  
~
1 1/sNieff ti Nw
==¦        If 
me f f sNN N<< Retain the high weight of tablets according to the weight distribution abandon the low weight of the particles, And setting  weight value of new particles as 1/Ns , Else  return  and  initialize 5 Experimental Results and Analysis In 1s
t Experiment , the   size of  images which from http://www.dabi.temple.edu  is 256*192 px and the number is 120 frames in the  Experiment  . Red recta ngle manually select the area in the diagram, the tracking area of based on the color histogram particles and fuzzy particle filter with Į=0.500 ,ȕ=0.750 are yellow and white rectangle area, respectively .  The  part of  the track result  in 1st Experimental   as follows:  
 
  
                
  
  
  1st              43rd                 116th                                1 st                 43rd                  116th 
Fig 1: From left to right 1st ,43rd, 116th in  HPF ‘S tracking result            Fig 2: From left to right 1st ,43rd, 116th in  FPF ‘s tracking result  The  small part of  the  both track results in  2nd Experiment  results  as follows:   
 
                                       
  
  70th                120th                                                     70th                120th 
 Fig 3:From left to right 70th ,120th   in HPF                                               Fig 4:From left to right 70th ,120 th  in FPF: 
The statistical  of errors  in two sets experiment ,    the  HPF’s error statistical results  was  indicated  by red dotted line 
but  the FPF’s error   statistical results  was  showed  through blue line in Fig 5 and Fig 6  . 
                                             
  
Fig 5 :HPF’s and FPF’s  result in  Experimental                                                 Fig 6 :FPF’s result in E xperimental195  Qing LIN et al.  /  AASRI Procedia   3  ( 2012 )  191 – 196 
Table 1:Two sets of experimental results  as  follow ,  Because the based on the color histogram (HPF) is unable to track the target  after 70
 th in  Experiment 2  ,no result is showed  in the table . 
 There is a target of various attitude change in the sequence. 116th showed that   the algorithm based on the color histogram m of particle filter (HPF) has obvious  de viation , the partially obscured target is not lost in the new algorithm .  The part of tracking the effect in the first experiment is displayed in Fig 1 ,2  the deviation Statistics in the tracking target is as shown in  Fig 5 . As is shown in Fig 5, in the 20th, 80th, 100th frames respectively, due to the target deformation,  similar with the background, similar goals shows interference, target error change  increased , so the   color  histogram-based particle effects get worse. In 2nd Experiment , the image size: 505*285 px ,about 120 frames , the sequence form: 
http://www.di.ens.fr/willow  /SPAMS/ [12] ,the fuzzy particle filter  is with =0.755, =0.556α β  .As shown in Fig 3  target becomes smaller, the method of the paper can al so track with adaptive., FPF conclusion was verified according to the compare with the traditional based on the color histogram of particle filter algorithm .Shown in Fig 6, the thesis method the error statistic of x-coordinate , but the particle filter based on color histogram in fast illumination 70th frame lost target,  FPF also has big error, but also can track the target, since the background light changes quickly, the  tracking error was impacted. So Fig 6 and Table I only was displayed the FPF deviation statistics. The based on the HPF in 70t h frames is unable to track the target , no statistics after 70th frames.. The table displayed above that the track effects of FPF experiment very ideal. Both of experimental results are statistical as Table 1 6 Conclusion Therefore, a fuzzy particle filter, which is combin ed with fuzzy measurement technology and new re- sampling method, and its robustness and real-time performance has been improved in the experiment. Particle filter algorithm can estimate the a posteriori distribution of the target state ,so it can be maintained with a variety of assumptions of the target state through a large number of particles, and therefore has strong handling capacity with a rapid light changes, the longer time occlusion .Thesis method, however, there are 
many insufficient or not involved in some research ar eas, which combined with the special traffic weather (for 
example, rain, fog, etc.), multi-target tracking  will be our next research item. Acknowledgments This work was financially supported by National Natural Science Foundation (61170126) and Jiangsu Pr
ovincial Natural Science Foundation (BE20111156).  Experiment  No.    Algorithm The number Of  the particle millisecond /frame X coordinate of the average Error ± standard  deviation (pixel) 
Experiment  1 HPF 700 33 9.35±5.25 
FPF 400 28 7.316±4.58 Experiment 2 HPF
** -- -- -- 
FPF 753 33 7.36±4.88 196   Qing LIN et al.  /  AASRI Procedia   3  ( 2012 )  191 – 196 
 References [1]ALPER Y,OMART J,MUBARAK S.,Object tracking :A  survey [J],ACM Computing Surveys ,2006, 38(4) 
 
[2]HAN M,SETHIY A,HUA W,et al. A detection-ba sed multiple-object tracking method [C]International Conference of Image Processing. USA :IEEE Computer Society ,2004, 5:3065-3068  [3] S.-Y. Chien , Y.-W. Huang, B.-Y. Hsieh, S.-Y. Ma, and L.-G. Chen, “Fast video segmentation algorithm with shadow cancellation, global motion compen sation, and adaptive threshold techniques [J] 
IEEE Trans. Multi-media, vol. 6, no. 5, 
pp. 732–748, Oct. 2004.  [4]H. K. Sorenson, “Least squares estimation: From gauss to Kalman [J] 
IEEE Spectrum , vol. 7, no. 7, pp. 63–68, Jul. 1970. [5] H.Wu, F. Sun, and H. Liu, “Fuzzy particle filtering for uncertain systems,”[J]IEEE Trans. Fuzzy Syst.,vol.16, no.5, pp. 1114–1129,Oct.2008 
 
[6] J. Ning, L. Zhang, D. Zhang, and C. Wu, Robust object tracking using joint color-texture histogram [J] ,Int. J. Pattern Recog. Artif. Intell.,vol..23,no. 7, pp. 1245–1263,2009. 
 
[7] Y. Satoh, T. Okatani, and K. Deguchi, A color-based tracking by Kalman particle filter[C], in Proc. 17th Int. Conf. Pattern Recog, vol. 3, Aug. 2004, pp. 502–505.  [8]X. Mei and H. Ling, Robust Visual Tracking Using 1
1 Minimization [C], Proc. IEEE Int’l Conf. Computer Vision, 2010 Oct pp.520-528 [9]T. Chaira and A. K. Ray, Fuzzy measures for color image retrieval [J],Fuzzy Sets Syst., vol. 150, pp. 545–560, 2005. [10]T. Chaira and A. K. Ray, Fuzzy measures for color image retrieval [J], Fuzzy Sets Syst., vol. 150, pp. 545–560, 2005.  [11] J. Fan and W. Xie, “Distance measure and induced fuzzy entropy  [J] , Fuzzy Sets Syst. , vol. 104,pp.305–314, 1999. 
 
 [12] J. Mairal, F. Bach, J. Ponce and G. Sapiro. Online Dictionary Learning for Sparse Coding [C]. v 382, 2009, Proceedings of the 26th Annual International Conference on Machine Learning, ICML'09' 