 AASRI Procedia   3  ( 2012 )  481 – 487 
2212-6716 © 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institutedoi: 10.1016/j.aasri.2012.11.076 
 
_____
* Co r
E-mAbst
In th
with whi
c
geom
only wid
e
 © 2
0
Sele
 
Keyw
1. In
S
obje
summ
para
othe
U
prism
has m
_________ 
rresponding auth o
mail address: xiao y20
Positi o
aSchool of S I
b
tract 
his paper, a no v
multi faces w a
ch can express t
metrical optics, by 7 paramet
e
ely area. Experi m
012 The Auth
ection and/or p
words: Geometric
ntroduction 
Stereo vision i
ect and enviro n
marized by t h
ameters of the 
er constraints; 
Unlike normal 
m which be p
many advant a
or. Tel.: +86-139
yu_cui@live.cn .012 AASRI 
on Estim
Cui Xi a
INO-DUTCH Bi o
bDepartment of M
vel position est
as considered a
the relationshi p
and a mathem a
ers. This mode l
mentation resu l
ors.Publishe d
peer review u n
al optics; stereo v
is an importa n
nment from t w
he following s
vision syste m
and 3) recon s
stereovision laced in fron
t
ages compare d
98183071  Conferenc e
ation M e
aoyua*, Li m
omedical and Inf o
Mechanical Engi n
imation metho d
as a single opti c
p between an o b
atical model w a
l can extend t h
lts are presente d
d by Elsevier B
nder responsi b
vision; prism; 
nt branch of c
wo or more i m
steps: 1) cam e
m; 2) correspo
struction[2-4] ]
system, pris m
t of the came r
d with traditi oe on Model
ethod f o
Syste
m Kahbinb,
ormation Engine e
neering, Nationa l
 
d of prism wa s
cal system co m
bject point and 
as introduced w
he application o
d to prove the e
B.V. 
bility of Ame r
computer vis i
mage taken fr o
era calibrationnding of feat
u
]. 
m based singl e
ra to capture d
onal stereovis iling, Identi f
or Prism 
em 
, Zhaoyuea
ering, Northeaste r
l University of Si n
s proposed for 
mposed of some its image by t
h
which can deno t
of single-lens s
effectiveness a n
rican Applied 
ion. It aims t o
om different v i
, which deter m
ures between t
e-lens stereov i
different vie w
ion. Because ofication an d
Based S
, Guo qiy o
rn University, Sh
ngapore,119077, S
single-lens ste r
refractive pla n
he refraction of 
te the position o
stereovision sy s
nd robustness o f
Science Res e
o recover the 
iewpoints[1]. 
mines the val u
the images u n
ision system u
ws of the sam e
only one cam ed Control 
Stereovi s
onga 
enyang,110819, C
Singapore 
reovision syste m
nes. A transfor m
prism was der i
of prism with a
stem using pri s
f our proposed 
earch Institute 
depth infor m
The stereo p r
ue of internal 
nder certain g e
use only one c
e scene[5-8]. O
era required, ision 
China. 
m. The prism 
mation matrix 
ived based on 
arbitrary faces 
sm to a more model. 
mation of the 
rocess can be and external 
eometric and 
camera and a 
Obviously, it 
it can reduce 
Available online at www.sciencedirect.com
© 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.482   Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
the cost and eliminate the multi-camera synchronization problem automatically [9,10]. It can also decrease the size of the whole system so that it can be used in narrow space. These advantages enable this system with a good potential application and it develops rapidly in recent decade [11-14].. 2. Virtual image of a multi-ocular prism Acconding to [15], a 3D point and one of its virtual image by the twice refraction of prism can be expressed by way of combine these two process together as:  
''21pA MMA M A  (1) Where Mp is the transformation matrix which can be used to calculate the virtual image for the refraction of prism. 3. Position estimation of prism 3.1. Parameters of a multi-ocular prism As well as camera, the parameters of a prism used in st ereovision system can also be divided into intrinsic and extrinsic parameters. The intrinsic parameters which including refractive index, the angle and the thickness denoted the shape of a prism; the extrinsic parameters which including the surface normal and point coordinates of each plane expressed the position of the prism in camera coordinate.  The numbers of intrinsic parameters for any prism we re fixed in 3, while the extrinsic parameters of a multi-ocular prism with one back plane and m inclined planes have m+1 normal vectors and m+1 points, each normal vector and point get three variables, so if we want to express this prism, there should be 6*(m+1) +3 variables (for example, the number of parameters for a tw o-ocular prism is 21, for a three-ocular prism is 27). Obviously, it was overload and would hardly get accuracy results. 3.2. Simplification of surface normal If a vector V
0=[v ox, voy, voz]T rotated around a vector V=[v x, vy, vz]T to a new vector V n=[v nx, vny, vnz]T with angle 
, the transformation can be written as:  
nV oVM V  (2) Where 
VM denote the rotation matrix with angle  around the rotation axis V.If we considered the surface normal of each inclined plane as a vector which rotated around a vector with the same angle, the result would be simple than before. For a multi-ocular prism with m inclined planes, if the surface normal of back plane is denoted by , the direction vector of edge 
(1 , 2 , , )ili m  are (1 , 2 , , )iVi m . According to equation (2), we have:  
1(2 , 3 )
b iV iVM Vi m  (3) where 
(2 )mm . Moreover, the surface normal of inclined planes can be taken as V
b  rotated around V i with angle , and then we have:  
(1 , 2 , , )
i iV bNM V i m  (4) Where 
 is the angle between back plane and inclined plane, which is one of the intrinsic parameters. This equation denoted that for any multi-ocular prism, all the surface normal of extrinsic parameters can be 483  Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
expressed only by V b and V 1 .If [,,]Tbb x b y b zVv v v  and 11 1 1[,,]T
x yz Vv v v  .Using the knowledge that V b and  V
1are orthonormal, we have:  
10bVV  (5)  
11bVV  (6) Therefore, the two fundamental constraints (19) and (20) can reduce V
b and V 1  to four variables which could be denoted by 
1 [,,,]bx by bz x Vv v v v . 3.3. Point selection An obvious advantage of multi-ocular prism was all the inclined plane must intersect at one common point; this character can easily reduce the point number from m+1 to 2. If this common point is denoted by P=[p
x, p
y,pz]T, the perpendicular line from P to the back plane intersected back plane with point P b=[p bx, pby, pbz]T ,we have:  
bb PPt V  (7)  
b PPd  (8) where t is a scalar, d is the distance from P to P
b  as well as the thickness of prism intrinsic parameters.From (7) and (8), the variables of points for a prism with m inclined planes could be expressed by:  
1 {, , ,,, ,}bx by bz x x y z Dv v v v p p p  (9) 3.4. Homographic between a 3D point and its image From equation (4),we have:  
intpe x t sx M M M X  (10) Where s is an arbitrary scale factor,  M
int is camera intrinsic matrix, M ext is camera extrinsic matrix.Moreover, if X
C  standfor the 3D points in camera coordinate system, then we have  
cextX MX  (11) And equation (11 can be written as  
intcp sxM M X  (12) 3.5. Maximum likelihood estimation We are given n 3D object points and m inclined plane of prism. There should be n*m points in image plane.  Assume that the image points are corrupted by indepe ndent and identically distributed noise. The maximum likelihood estimation of prism position can be obt ained by minimizing the following functional:  
int11(, , , )nmij p ext ijij
xm MM MX  (13) Where 
int(, , , )p ext ij mM M M X   is the projection of point  in view j, according to equation (13). The intrinsic and extrinsic matrix can be solved by single camera calibration, combine (9) and (12) into (13), the function changed to: 484   Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
 
11(, )nmcijijij
xm D X  (14) Where D is the parameters of prism, 
ijx is the 2D points in the camera image plane and cijX stand for the coordinate of 3D point 
cijX in camera coordinate system, and each pointcijX must correspond to m ijx by equation (28) as a process of perspective projection. For the position estimation of prism, the first step is camera calibration. When the intrinsic and extrinsic parameters of camera were known, we can work out 
cijX by equation (27). The we could get n*m corresponding points between 
ijx and cijX .Minimizing (30) is a nonlinear minimization problem, which could be solved with the Levenberg-Marquardt Algorithm [16]. The initial guess could use the position of standard coordinate, because we always want to set the prism as similar as the standard coordinate. 4. Experiment and analysis 4.1. Experimentation Devices Camera and prism are mounted on a mechanical stand which installs venire calipers in X, Y, Z axis as well as rotational stage. The relative positions between the camera and pris m are known and adjustable, and a high-precision laser be used for measuring the distance from camera image plane to object, as shown in Fig 1. 
Fig 1 System set up and multi-ocular prism 
4.2. Experiment results The images captured by our stereovision system were divided into two, three and four segments respectively according to the corresponding prisms. In order to  explain it clearly, we used   to express them, as shown in Fig 2. 
485  Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
Fig 2 
Ta
syste
resotake
n
boar
inter
Table
 
A
base
prov
fourwill The segments o f
able 1 listed t
em setup and lution of cam
n as the orig i
rd was place d
rval is 500m m
e 1 Reprojection e
Distanc e
range(m m
1000
1500
2000
2500
3000
Avera g
As shown in t h
ed stereovisio
vide more co m
-ocular prism be spent for 
sf image plane for 
the reprojecti o
parameters f o
era image pl a
inal point of 
d a t  s om e  f i t t e
m. 
errors of two ocu
e 
m) Area of i
plan
0 I
I
0 I
I
0 I
I
0 I
I
0 I
I
ge 
hese two tabl e
n system. A s
mprehensive i
are less than 
solving the eq utwo and three o c
on errors of t
or these data w
ane is 1024*7 6
camera coor d
ed positions w
lar prism 
image 
ne C
capt
I1 
I2 
I1 
I2 
I1 
I2 
I1 
I2 
I1 
I2 
es, the accura c
s w e l l  a s  m u
information o
that of two-o c
uations. 
cular prism  
two ocular pr i
were introduc e
68, pixel size 
dinate, and th
which paralle
Coordinates o
tured image p
324,121
468,608736,120871,611455,99408,697865,101925,700.
6
308,270497,576822,2711007,578467,15587,680779,159603,688268,114488,685669,110997,686
cy of our pro p
ulti-camera s t
on the enviro n
cular prism. H
ism which ca
ed as follow: is 0.00465*0
.
e angel of th e
led with the c
of ointsC o
repr
6 
posed method 
tereovision s y
nment and t h
However, the m
 lculated by o
u
the focal len g
.00645mm, t h
e prism is b o
camera imag e
oordinates of 
rojective point
323.4,122.7
468.9,609.3737.4,121.7870.1,612.3452.9,99.7406.9,698.6865.2,99.9925.6,698.9307.8,268.9498.1,576.1823.4,271.11007.8,578.4456.8,15587.1,681.2781.2,159.4603,687.1267.8,115.2490.3,685.7667.8,111.1998.7,686.4
is sufficient f
ystem, multi- o
he object, so t
more faces a p
ur proposed m
gth of camera 
he came ra opt i
oth 6.4 degre e
e plane and t h
ts Distan
error(pi x
1.80
1.582.2
0
1.58
2.21
1.941.1
1
1.80
1.11
1.10
1.40
0.89
1.2
1.20
2.23
0.9
1.21
2.40
1.62
1.74
1.56
for a large ra n
ocular prism 
the reprojecti o
prism with, t hmethod. The is 8mm, the 
ical center is 
e. The circle 
he sampling 
nce 
xel) 
027 
114 
023 
811 
136 16, 
180 
027 
180 
045 
035 
944 
2 
041 
360 
9 
165 
042 
279 
464 
650 
nge of prism system can 
on errors of 
he more time 486   Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
5. Conclusions In this paper, we introduced a new method for position estimation of stereovision system using prism. The parameters of multi-ocular prism were reduced to onl y 7 extrinsic parameters which could express the position of the prism and 3 intrinsic parameters which co uld denote the shape of the prism. Our method is based on optical geometry, and could be used in stere ovision system with any coordinate. The experiments with both three prisms show that the method is effici ent, robust and has good property of convergence and small reprojection errors. Acknowledgment The authors would like to thank Professor Lim Kah Bin and Ms. Zhao meijun for their kindly support and advice on the project of single-lens stereovision system using prism in the control and Mechatronics Laboratory, Department of Mechanical Engineering, National University of Singapore. References [1] J. A. Kalomiros and J. Lygouras, Design and hardwa re implementation of a stereo-matching system based on dynamic programming, MicroProcessors and Microsystems, 35: 496–509(2011). [2]Doo Hyun Lee, InSo Kweon, and Roberto CipollaA, Single Lens Stereo with a Biprism, Proceedings of IAPR Workshop on machine vision applications, pp.17-19(1998). [3] L. Cai, L. He, Y. Xu, Y. Zhao, and X. Yang, Multi-object detection and tracking by stereo vision, Pattern Recogn. 43, 4028–4041(2010). [4] E. Hecht, Theory and Problems of Optics, ser. Schaum’s Outline Series, pp. 142–143. [5] Xiaochun.Cao and Hassan Foroosh, Camera calibration and light source orientation from solar shadows, Computer Vision and Image Understanding, 105(1), 60-72(2007). [6] Q. Z. Ye, S. H. Ong and X. Han, A stereovision system for the inspection of IC bonding wires, International Journal of Imaging Systems and Technology, 11, 254-262(2000).  [7] A. Goshtasby and W. A. Gruver, Design of a single-lens stereo camera system,Pattern Recognition, 26, 923–936(1993). [8] Doo Hyun Lee, InSo Kweon, Roberto CipollaA, A biprism-stereo camera system,”In Proc. Int. Conf. on Computer Vision and pattern Recognition, 1, 82-87(1999). [9] Doo Hyun Lee and InSo Kweon, A Novel Stereo Camera System by a Biprism, IEEE Transactions on Robotics and Automation. 16(5), 528-541(2000). [10] Kah Bin Lim and Yong Xiao, Virtual stereovision system: new understanding on single-lens stereovision using a biprism, Journal of Electronic Imaging. 14(4), 41-52(2005). [11] Yong Xiao and Kah Bin Lim, A prism-based sing le-lens stereovision system: From trinocular to multi- ocular, Image and vision Computing. 25, 1725-1736(2007). [12] Xiaoyan Li and Rong Wang, Analysis and Optimization of the Stereo System with a biprism Adapter, Proc. SPIE 7506, 1–8 (2009). [13] Meijun Zhao, Kahbin Lim, Wei Loon Kee. Geometrical-Analysis-Based Algorithm for Stereo Matching of Single-Lens Binocular and Multi-Ocular Stereovision System. Journal of Electronic Science and Technology, 10(2):107-112(2012). [14] Wei Loon Kee, Kah Bin Lim, Daolei Wang. Virtual Epipolar Line Construction of Single-Lens Bi-Prism Stereovision System, Journal of Electronic Science and Technology, 10(2):97-101(2012). [15] Xiaoyu Cui, Kah Bin Lim, Qiyong Guo, and Daolei  Wang. Accurate geometrical optics model for single-487  Cui Xiaoyu et al.  /  AASRI Procedia   3  ( 2012 )  481 – 487 
lens stereovision system using a prism. J. Opt. Soc. Am. A. 29(9): 1828-1837(2012). [16] Jorge J. More. The Levenberg-marquardt algorithm, implementation and theory.. Numerical Analysis, Lecture Notes in Mathematics, 630:105-116(1978). 