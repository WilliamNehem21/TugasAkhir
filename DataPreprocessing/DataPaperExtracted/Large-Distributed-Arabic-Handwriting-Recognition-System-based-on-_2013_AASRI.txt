 AASRI Procedia   5  ( 2013 )  156 – 163 
2212-6716 © 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research Institute
doi: 10.1016/j.aasri.2013.10.072 ScienceDirect
B
red
Abst
This 
FastD
to im
Ama
 
© 20
Sele
 
Keyw
1. In
T
OCR
high
 
* C
E
 2013 A A
Large D
Based o n
duce Pr o
b C
tract 
paper propos e
DTW algorith m
mplement the pa
azon Simple St o
013 Publishe d
ection and/or p
words :  Large OC R
ntroduction  
Today there ar e
R systems su p
h quality doc u
 
Corresponding a u
-mail address  h hASRI Con f
Distribut
n the C o
ogramm i
H
aMir
Computer scienc e
es a robust, ef f
m via cloud co m
arallel  FastDT W
orage Service ( S
d by Elsevier B
peer review u n
R system, Fast D
e many OCR 
pport high acc u
uments. Unfo r
uthor. Tel:  +966 -
hassen2006@yah oference on P
ed Arab
ombinati o
ing Mod
Hamdi Has
r@cl Lab, FSEG S
e departement, C
ficient an d sca
mputing technol
W algorithm. T
S3) using a lar g
B.V.  
nder responsi b
DTW, MapReduc e
systems in us
uracy and mo
rtunately, thi s
-563598400 ; fa x
oo.fr Parallel and 
ic Hand w
on of F a
del via C
sena,b*, Ma
S University of S fa
College Of Scienc e
 
alable distribut e
ogies. The thre
The experiment s
ge scaled datas e
bility of Ame r
e, Cloud computi
e based on di f
st high speed 
s is not the c a
x:  + 216 74 278 7Distribute d
writing R
astDTW 
Cloud C o
aher Khem a
fax BP 1088, 301 8
e And arts at A l-O
ed Arabic han d
e techniques H a
s were deploye d
et built from th e
rican Applied 
ng ; 
fferent appro a
especially th o
ase especiall y
777 d Computin g
Recogni
Algorith
omputin g
akhema 
8 Sfax, Tunisia 
Ola, Taibah Uni v
dwriting OCR 
adoop, MapRe d
d on Amazon E
e IFN/ENIT da t
Science Res e
aches and alg o
ose dedicated 
 for the Ara bg and Syst e
ition S ys
hm and M
g Techn o
versity, KSA. 
system based 
duce and Casc a
EC2 Elastic Ma p
tabase. 
earch Institute 
orithms. All o f
for printed c h
bic handwriti nems 
stem 
Map-
ologies  
on a parallel 
ading are used 
p Reduce and 
f the popular 
haracters and 
ng characters 
Available online at www.sciencedirect.com
© 2013 The Authors. Published by Elsevier B.V.
Selection and/or peer review under responsibility of American Applied Science Research InstituteOpen access under CC BY -NC-ND  license.
Open access under CC BY -NC-ND  license.157  Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
where OCR systems are limited to recognize small and rarely medium quantity of documents for some specific purposes.  OCR systems that treat large amounts of documents are ve ry limited and not powerfully enough such as the Australian Newspaper Digitization Project [1], OCRGrid [2], Kirtas[3] and OCRopus [4].  Conducted experiments and evaluations on several Arabic handwriting OCR systems show and confirm that : in the first hand, the euclidean distance technique is used for classification. However, this technique is less robustness and more fragile [5]. In the second hand, the Dynamic Time Warp (DTW) algorithm stands among the best techniques for such a mission [6]. The major problem of the DTW is the slowness of its response time because of the enormous amount of computation to achieve [7]. Distributed system, such  as cloud computing technologies, provides viable framework to speed up the time of the OCR system ba sed on DTW algorithm. Cloud computing is primarily used to deliver many services such as Infrastructure (I), Platform (P) and Software (S) as services. All these services are available to consumers as registration based services in a pay-as-you-consume model [8]. This paper is organized as follows: an overview on the DTW algorithm and especially the FastDTW and the use of them in Arabic character recognition, is pr esented in section 2. Hadoop, MapReduce and Cascading models are presented in section 3.The proposed approach is explained in section 4. Experimental and results are presented and discussed in section 5. Conclusion and future work are presented in the last section. 2. Dynamic Time Warp (DTW) 2.1. Dynamic Time Warping Algorithm The Dynamic Time Warping (DTW) is a technique intende d to compute similarities between two different sequences of patterns even when they are not aligned in time or in space [9]. Let’s consider A and B two different sequences. n :is the feature vectors of the sequence A. m:  is the feature vectors of the sequence B.                  A= a
1, a2,a3,…..a n                                                                                                                                                             (1) 
                B= b 1, b2,b3,…..bn                                                                                                                             (2)           D [n , m] : the distance matrix. Cell (i, j) represents the distance between the i
th element of the sequence A and the jth  element of the sequence B ( Fig1).      
      158   Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
               Fig 1
T
T
P
 T
  
 
D (p
P0: T
       2.2. DT
W
is pr
FastD. The DTW mec h
To find the be s
P = p 1… p s , p
s = (i s , js )   
This minimize s
P is called a w a
To calculate t h
D (A, B) =    
ps): the distan c
The best alig n
   P
0 = arg p
Fast DTW 
W presen ts ma
ractical only 
DTW algorit h
Time S
hanism. 
st alignment b
… , p k                                   
s the total dis t
arping functi o
he length path
                  
ce between i s 
nment path be t
p min (D (A , B
any disadvan t
for small an d
hm can be ak1sswk1s)sp(d
Series B  
m
j
between A an d
                                            
tance betwee n
on. 
h, is simply, j u
                  
and j s;     w s>
tween A and B
B )).             
tages such as t
d medium d a
a solution to sw
Time Se r
m 
js 
 
d B, we need t o
                                          
n them. 
ust we sum all
                    
 0: weightin g
B:     
                 
the time and s
ata sets (<3, 0
solve this pr o
ries A 
o find the pat h
                                             the cells that 
                           
g coefficient.
                  
space comple x
000) and tim e
oblem. Fast D
is
h through the                                             were visited 
a
                           
                  
xity which ar e
e series are o
DTW is based
grid.                                              
along this path
                           
                  
e exponential .
ften very lo n
d on the mul
               (3)               (4)
h[10]. 
                   (5)
            (6)
. This model 
ng [11]. The ti-resolution 
 is 159  Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
approach inspired by the multi-level graph bisection algorithm [12].  2.3. Fast DTW for Arabic Handwriting recognition system FastDTW for Arabic handwriting recognition system consists to prepare a reference database of R trained Arabic alphabet and number  in some given scripter, and presented  by C
i, i = 1,2, …R. Our approach consists on using the FastDTW pattern algorithm to classify the character to recognize against the template library. Thus the input character is classified as the best character that gives the optimal time alignment p among all R characters. This technique is based on three steps:  While the original resolution is not reached,  1) Set the resolution of the character to recognize in order to be the coarsest. 2) Research and find the initial path with  DTW algorithm  P
k= min {P r} where    1 <= r <= R 3) Repeat the  
 Double the resolution, 
 Project the path on to the finer resolution,  
 Find a path through the projected area. 3. MapReduce, Hadoop an Cascading: an overview. 3.1. MapReduce technology MapReduce [13] is a tools using to parallelize pro blems that process large datasets with different computers (nodes) (distributed architecture) like a cluster  or a grid computing . Amazon Elastic MapReduce provides the option to analyze vast amounts of data . This advantage is offered by distributing the computational work across a cluster of virtual servers running in the Amazon cloud. All clusters are managed using an open-source framework called Hadoop. 3.2. Hadoop Hadoop [14] is a distributed infrastructure for processi ng large-scale data. This infrastructure can be used for single machine. The real power of this architecture  lies on the ability to use hundreds or thousands of nodes, each with different processor cores. The Hadoop model is also used to share efficiently huge work across different machines”. Hadoop does this by the st orage layer that manage large amounts of data, and the running layer that parallelize the execution of the user application using coordinated data subsets. 3.3. Cascading Cascading website [15] define Cascading  “is a frame work written with  Java language that helps typical developers to easily and quickly develop Data Analytic s and Data Management system that can be deployed and managed by a variety of computing environments.” This model is based on a metaphor of data streams called pipes and data operations called filters. Thus, th e Cascading API allows the developer to regroup pipe assemblies that do many actions such as the split,  the merge,.. of data while applying operations to the different data record. 160   Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
4. The proposed approach  To solve the problem of the OCR systems that can treat  large amount of documents, we have opted for the cloud computing paradigm that promises to reduce subs tantially investments by eliminating the necessity of managing huge computing capacity by institutes and organizations. In our case, the model master–slave and the SPMD (S ingle Process, Multiple Data) architecture are used on the distribution of the memory .This model is applied to the FastDTW algorithm as the parallelization technique. The distributed FastDTW approach consist on running each copy of the single program on independently processors and Hadoup  is the resp onsible of the communication between processors . The big amount of document to recognize is better to split it into small parts (D1, D2, D3 …Dn) and assign each one to a slave node number to achieve the recognition task. The FastDTW algorithm will be implemented by a jobs flow for each node. Amazon Elastic MapReduce execute automatically the Hadoop program of the OCR application on different Amazon EC2 instances. First, the map function is  applied, this function consist on sub-dividing the huge amount of documents in a job flow into smaller proc ess so that they can be processed in parallel. Second, the reduce function that consist on merging the processed data into the final output is applied (Fig2). The Amazon Simple Storage Service (S3) is in the first hand, the source for the data to process and in the second hand, is the output destination.       
Fig2.  The MapReduce mechanism 
5. The experimental study  5.1. Datasets To examine the proposed idea, a corpus with 16000 pa ges (370 characters/page) and a reference database formed of 345 shapes representing approximately the diffe rent Arabic alphabet randomly chosen from the Arabic handwritten word images dataset IFN/ENIT[16] are used. For the preprocessing image, the IFN/ENIT dataset was already normalized [16]. Wavelet transform [17] is used as a features extraction technique. 5.2. Experimental environment The experiments were conducted on a local Intel Core  2 Duo desktop having the configuration: 3.00 GHz *2, 2 GB of RAM executing a Windows XP operating system, Cygwin [18] is the shell to run Linux command.  We used java as a programming language and   JDK 1.6 was installed. Eclipse 3.4 was used to program and built our application. 100 MG bits/s was the network capacity. Based on the state art of the cloud computing tech nologies [19], Amazon Elastic Computing Cloud have selected for the implementation of our approach. In or der to verify that distributed FastDTW functions correctly in cloud technologies, we created six running Jobs flow on the Amazon Elastic Computing Cloud service. We have allocated 100 cores using the three Standard Amazon EC2 Instances. First, the “small” instances each with 1.7 GB of memory, 160 GB of instance storage, and 32-bit platform. Second, the Large 
Worker node 1 
Worker node 2 
Worker node n Problem data Solution data Map Reduce 161  Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
Instance 7.5 GB of memory, 850 GB of instance storage , 64-bit platform and finally the Extra Large Instance 15 GB of memory, 1690 GB of instance storage and 64-bi t platform. S3 [20] is used to manage the input and output data. 5.3. Results and analysis To prove the efficiency of the cloud computing t echnologies on the execution time of the proposed FastDTW based approach, we created six running Jobs  flow in cascading on Amazon Elastic MapReduce Cloud and two experiments are conducted in order to compare  the DTW and FastDTW speedup in three instances of Amazon Elastic Computing Cloud service. The table below illustrates the execution time using D TW and Fast DTW with the different instances. 
Table1. DTW and FastDTW time execution Instance  Number of core DTW(H) FastDTW(H) 
Small instance  of Amazon Elastic Computing 25 0.563 0.444 
50 0.300 0.258 
75 0.205 0.174 
100 0.150 0.123 
Medium instance  of Amazon Elastic Computing 25 0.500 0.421 
50 0.273 0.229 
75 0.191 0.160 
100 0.143 0.119 
Large instance  of Amazon Elastic Computing 25 0.450 0.364 
50 0.257 0.216 
75 0.180 0.157 
100 0.136 0.118 
 
The average duration of the test time in a sequen tial mode (a single computer) using DTW and FastDTW are approximately and respectively 9 hours and 8 hours and the average test time in distributed mode and for 100 computers are 0.136 hours and 0.118 Hours. Thes e show that the sequential mode allows recognizing only 18 and 21 characters per second for the two algorithms  described above. However, the results in the distrusted mode,  illustrated in figures 3and 4, in particular : 
 The speedup factor which is the ratio of the execu tion time in a sequential manner using a single processor to the execution time using multiple processors, increases simultaneously with the number of cores used and with the different 
Standard Amazon EC2 Instances . 
 If we use 100 cores with large instance of Amazon Elastic Computing, then the execution time reaches the value 489 and 425 seconds and the speedup factor reaches the values 66 for DTW and 68 for FastDTW. These results are very important since our distributed  OCR pattern can recognize more than 1200 and 1400 (characters /second) for DTW and FastDTW respectively.  
  162   Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
Fig 3
Fig4. 
O
orde
sche
ever
6. C
P
techn
Mor
[21] I
n
impr
com
Refe
[1] A
[2] A
[3] A
[4] A
[5] Y
Proc. DTW speedup w
  FastDTW spee
Our model pre
er to ease th
eduling, host i
rything  is co m
Conclusion a n
Performance e
nologies pro v
reover such p l
since it prov i
n future wor k,
rove the rec
mplementary a p
erences 
Available at:h t
Available at: h
Available at: h
Available at: h
Y.Jun Weng a
ceedings of th ewith Amason ela s
dup with Amaso n
sents several e distributio
n
ing machine 
mpletely trans p
nd perspectiv e
evaluation o f
vide an ade q
latform allow s
ides enough c o
, we examine ognition rat
e
pproaches (e. g
ttp://www.nl a
http://www.o c
http://www.ki r
http://code.go o
and Z. Ying, “
e Second Intestic Mapreduce 
n elastic Mapred u
advantages s i
n of any gr e
failures, fa c
parent to the p
es  
f the propo s
quate platfor m
s building m u
omputing an d
how to deplo
e of our O C
g. HMM, SV M
a.gov.au/ 
crgrid.org/ 
rtas.com/ 
ogle.com/p/o c
Time Series c
rnational Co n050100Speedup
050100speedup
uce 
ince cloud co m
eedy algori thm
cilitating co m
programmer/ a
sed model c
m to accele r
uch more po w
d storage pow e
y our OCR a p
CR system b
M). 
cropus/ 
clustering bas e
nference on M
25 50Number o
f
25 50 7
number of 
mputing prov i
m or applic a
mmunication 
analyst/user.onfirms that 
rate the Ara b
werful OCR s y
ers in additio n
pplication on a
y the integr
ed on shape d y
Machine Learn i
75 100
f cores
75 100
coresSm
M
in
La
in   
 
ides almost  t h
ation such asbetween m
a
Mapreduce, 
bic handwri t
ystems compa r
n to some use f
a multi-cloud ation (comb
i
ynamic warpi n
ing and Cybe rSmall instance 
Medium instance
Large instanace
mall instance 
Medium 
nstance
arge 
nstanace   
he entire req u
data mana g
achine and c
hadoop an d
tten recognit i
red to the exi s
ful tools and fa
infrastructur e
ination) of s
ng using clou
rnetics, Xi'an, uired tools in 
gemen t, task 
consequently 
d cascading 
ion process. 
sting syste m 
facilities.  
e and how to 
some strong 
ud models” 2-5 163  Hamdi Hassen and Maher Khemakhem  /  AASRI Procedia   5  ( 2013 )  156 – 163 
November 2003  [6] M. Khemakhem and A. Belghith. A P2P grid archit ecture for distributed Arabic OCR based on the DTW algorithm, IJCA-ACTA press, V.31, N1, 2009. [7] Maher Khemakhem, Abdelfettah Belghith Towards distributed  Cursive writing OCR systems based on  the combination of complementary approaches, springer chapter, 2012 [8] Sushil Bhardwaj1, Leena Jain1, Sandeep Jain2 cloud computing: a study of infrastruture as a service (IAAS), International Journal of Engineering an d Information Technology Vol 2 , No. 1 IJEIT 2010 [9] Berndt D J, Clifford J. Finding patterns in timeseries: a  dynamic programming approach. In Advances in Knowledge Discovery and Data Mining, AAAI/MIT, 1996, 229–248.  [10] M. Khemakhem et al. , Reconnaissance de Caractères Imprimés par Comparaison Dynamique, Proc. AFCET, Antibes, Sept. 1987. [11] Stan Salvador and Philip Chan, “FastDTW: Toward Accurate Dynamic Time Warping in Linear Time and Space” Workshop on Mining Temporal and Sequential Data, pp. 70-80, 2004. [12] Stan Salvador and Philip Chan, “FastDTW: Toward Accurate Dynamic Time Warping in Linear Time and Space” Workshop on Mining Temporal and Sequential Data, pp. 70-80, 2004 [13] Available at: http://aws.amazon.com/elasticmapreduce/ [14] Available at: http://hadoop.apache.org/ [15] Available at: http://www.cascading.org/ [16] M. Pechwitz, S. S. Maddouri, V. Mrgner, N. Ellouz e, and H. Amiri. Ifn/enit - database of handwritten  arabic words. In In Proc. of CIFED 2002, pages 129–  136, 2002. [17] Hassen Hamdi, Maher Khemakhem, A Comparativ e study of Arabic handwritten  characters invariant feature. (IJACSA) International Journal of Advanced Computer Science and Applications, Vol. 2, No. 12, 2011 [18] Available at:  http://www.cygwin.com/ [19] R. Prodan and S. Ostermann, “A Survey and Taxonomy of Infrastructure as a Service and Web Hosting Cloud Providers,” Proc. Int’l Conf. Grid Computing, pp. 1-10, 2009. [20] Available at:  http://aws.amazon.com/s3/  [21] M.Khemakhem and A. Belghith. Towards A Dist ributed Arabic OCR Based on the DTW Algorithm: Performance Analysis The International Arab Journal of Information Technology, Vol. 6, No. 2, April 2009. 