 AASRI Procedia   3  ( 2012 )  559 – 565 
2212-6716 © 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institutedoi: 10.1016/j.aasri.2012.11.088 
 
2012 AASRI Conference on Modelling, Identification and Control 
Visual Inspection for Circular Objects Based on Global Symmetry 
Quandong Fenga*, Xin Zhangb 
aCollege of Science, Beijing Forestry University, Beijing, 100086, P.R.Chin 
bSchool of Electrical Engineering and Automation, Tianjin Polytechnic University, Tianjin, 300387, P.R.China 
 
Abstract 
The research is aimed to accomplish an automatic visual in spection system for circular objects using cameras and image processing technique. The main concern of the paper is on the pa ttern analysis of circular objects based on image analysis.  First, the authors propose a computational method using global symmetry to locate objects before the further inspection process. It aims at designing a symmetry measure based on distance weight, phase weight and intensity weight. Such measure can be used to locate centers of circles, even for those with weak contrast under uncertain complex backgrounds. Then based on the measure, similarities of arbitrary circular objects are given and tested. The experimental results for the proposed approach are promising. 
 © 2012 Published by Elsevier B.V. Selection and/or peer review under responsib ility of American Applied Science Research Institute  
Keywords: visual inspection; global symmetry; circular ob jects; finding circles; Fourier-Mellin transform 
1. Introduction When we look at an object with bad quality such as broken edges or contaminated surfaces, we can effortlessly perceive the abnormality without seeing a regular one. People possess a natural visual perception mechanism based on symmetry detection [1, 2]. Accumu lated evidences have indicated that symmetry detection appears to have great potentials for computer-vision-based applications [3, 4, 5]. 
 
 
* Corresponding author. Tel.: 0086-10-62338357; fax: 0086-10-62338370. E-mail address:fqd@lsec.cc.ac.cn. 
Available online at www.sciencedirect.com
© 2012 The Authors. Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.560   Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
Mathematically, symmetry is defined by some  characteristic fixity under a class of Euclidian transformations [3, 6]. As for image processing, definition and detection for symmetry becomes more complex due to the difficulty in selecting definite features.  The existing work includes methods based on frequent features by using wavelets [6] and Fourier transforms [5 , 7]. And, based on spatial features includes those of using gradients and local points [8, 9, 10]. Also, global symmetry is calculated based on the symmetry of energy, topology, biological mechanisms or other features [2, 4, 11, 12, 13].   However, few efforts have been put to implemen t symmetry into real vision-based applications. Moreover, it is still a challenging task to extract objects under cl uttered backgrounds, especially for objects with weak contrast and varying illuminations. For example, it is well known that there are many classical methods to find circles in images, such as moments, Hough transforms, active contours, least-square methods [14, 15]. However, these methods completely fail when objects' gradients are weaker th an those of their backgrounds.  In this paper, we propose a computational method to inspect circular objects using global symmetry. A symmetry measure is designed based on gradients and dist ances of interest. It is suitable to inspect arbitrary circular objects robustly, even for those with weak cont rast under strong cluttered backgrounds. The method is tested in several experiments and has been successfully applied into real vision-based inspecting systems. 2. The proposed symmetry measure For an image 
(, )Ixy  of size MN, the gradient of a pointijP is denoted by (, )ij i jPx y  and the direction of 
ijP by arctan( )jijiy
x. Let 
ccijP denote the middle point of the any possible symmetric pair 
ijP and ''ijP, ijthe angle of the pair. Following Reisfeld [9], the set of 
ccijP is given as 
''
{( , ) , }22cc c c cii j jMi j i j                                            (1) A vector measuring for intensity at every point 
ijP is given as  
ij ijrP                                                                             (2) where 
ijP is normalized between 0 and 1. It is used for calculating the intensity weight function.  2.1. Distance weight Let 
12(, , , )n Uu u u  designate the scale vector of all interest distances in an object, n is the number of distance scales. 
maxu  is the maximal interest distance.  For circular objects, iu is the diameter of the 
thiincluded circle.  A distance weight function 
iD is defined as 561  Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
2()2'pair iiidu
De                                                                 (3) where 
22(' ) (' )pair i i i idx x y y  is the distance between the two candidate symmetrical points ijP and 
''ijP. 
iD, in the form of a standard Gaussian deviation, is the continuous distance weight function with 
n extrema, here i confines the bandwidth of  
iD at distance iu. 2.2. Phase weight A phase weight function 
 is defined as 
'' cos( 2 )ij i j ij                                                           (4) where 
ij  and ''ij  are the directions at the candidate symmetrical pair points ijP and ''ijP respectively, 
ij is the slope angle of the straight line passing through them. For simplification, all angles are normalized into the range of 
[0, ] . Thus, '' (2 )ij i j ij equals to 
0 for two points of ideal mirror symmetry, and ''2ij i j ij equals to  for two points of ideal bilateral symmetry. That is, when the two points are more symmetrical, 
 is much closer to 1. 2.3. Intensity weight An intensity weight function 
R is defined as   
2''2 ()
'ij i jrr
Rr e                                                                  (5) Where  
1''1ˆˆ',ˆ2 ij i jrrrr rr and maxmin(, ) (, )fxy f xyL is an intensity weight factor that acts on balancing objects' contrast, and 
L is the gray level of the image, max(, )fxy  andmin(, )fxy  is the respective maximal and minimal gray value of the image.                                                                        2.4. Symmetry measure Finally, based on the above three weight functions, a symmetry measure on the set 
cM is given as 
(, )(, ) ( )
icc cccij MSij D R                                               (6) 562   Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
It describes the symmetries of intensities, structures and directions. The extrem e point of (6) means the point with the maximal symmetric measure. So it is center for circular objects.  In cluttered backgrounds, the noise can be efficiently filtered out since it is irregular and non-symmetric.  2.5. Main contribution The symmetry measure described in the paper was inspired by the previous work of Reisfeld [6]. However, we extend the algorithm in the following aspects. Firstly, by extending the distance weight function with different scales of interest distances, a symmetry measure of global or local can be computed. Whereas Reisfeld  detects only local symmetry. Secondly, a much simpler phase weight function is given for the detection of bilateral and mirror symmetry of all directions. It’s more efficient in calculating the symmetry measure than the weight in [6]. Thirdly, we add a new intensity weight function for balancing the symmetric weak edges. Finally, we apply the proposed me thod into real industrial inspecting systems. 3. Inspection for circular objects 3.1. Circular objects location In the paper, the maximal scale 
maxu  is set as the diameter of the object. The symmetry scale vector 
12(, , , )n Uu u u  is obtained by the algorithm of global optimization in [16].  In order to get a full-scale information for an object within its maximal interest distance 
maxu , the deviation 
i is usually set to guarantee 0
iD . Then from (6), the center of a circular object correspon ds to the maximum in the corresponding symmetry map
(, )ccSij .  
3.2. Similarities for measuring objects Usually, it's enough to take a small region of interest (
ROI) around the maximum in the symmetry map to calculate the similarity measure (
SM ). The size of ROI is max max0.1roiR uu . A simple way to compare the similarity of two 
ROIs , based on their feature vectors  and cp, is given by the normalized scalar product as 
cpcpSM                                                                 (7) where 
 and cp are the vectors of intensity. The defective objects can be classified out when 
thresh SM SM                                                                      (8) where 
threshSM  is the threshold. It is a statistics of a series of samples, as 563  Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
2good bad thresh badSM SMSM SM
                                                  (9) 
 
  
  
  
(a)                         (b)                       (c)                            (d)               Fig. 1. (a) A regular lid image, (b) a defective lid image, (c)the symmetry map  of (a), (d) the symmetry map of (b). 
 
  
  
  
  
   
(a)                            (b)                                (c)                            (d)                           (e)                      (f)                                       Fig. 2. (a) An original CD image, (b) the Sobel gradient map of (a), (c) the gradient map of (a) with balanced intensities usin g (5), (d) the symmetry map of (c), (e) the separated CD by the proposed method, (f) the Fourier-Mellin transform of (e).  Table 1. The inspecting results of circular objects Lids Total Passed Filtered out Precisio n(%) Cds Total Passed Filtered out Precision(%) 
regular 80,000 78,936 1,064 98.92 regular 80,000 78,936 1,064 98.92 
defective 20,000 12 19,988 defective 20,000 12 19,988  
where badSM  is the average similarity measure of defective samples, and goodSM  is the average similarity measure of regular samples. Certainly, 
SM  can be got based on some invariant content-based descriptors [17, 18, 19]. In the paper, Fourier-Mellin transform [15] is used to describe the arbitrary separated circular object. 4. Experimental Results The method is tested in a real application system  for inspecting medical lids. The defects of lids include malformed shapes, broken edges, stained surfaces, and so on. Sample lids are shown in Fig.1. The distance weight functions in (3) are constructed by takin g the lids' three main symmetric circular patterns, and
30roiR . The referenced vector  is obtained by averaging the vectors of ROIs  obtained from 500 regular images. A total number of 100,000 sample lids are tested and th e result is shown in Table 1.  The other test is given for inspecting compact di scs (CDs) which contain non-symmetric patterns, with weak contrasts under a strongly cluttered background, as shown in Fig.2.  For speed, only the maximal scale is set in the distance weight function for the purpose of locating objects.  The other parameters for calculating the symmetric map are set similar to the above experiment. In Fig.2 (a), the edge of the disc (Fig.2(b)) is very w eak compared to the strong cluttered background.  Only the symmetric weak edges are strengthened as in Fig.3(c) . Based on the gradient map in Fig.2 (b), classical methods of finding circles failed [14, 15]. However,  the proposed method gives the well separated object according to the symmetric map in Fig.2 (d). Then Fourier-Mellin transform [15] is used for representing the separated CD. The total test number is 1000 and the inspecting result is shown in Table 1. 564   Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
5. Conclusion In this paper, a systematic approach for robustly inspecting circular objects is given. The proposed symmetry measure, on the one hand, can directly be us ed to inspect circular objects with symmetric patterns. On the other hand, it can locate arbitrary circular objects under uncertain backgrounds. In the latter case, after the object is located, a content-based descriptor is used to achieve the inspecting task.  Acknowledgements     This work was  supported by the Fundamental Research Funds for the Central Universities
YX2010-13
YX2011-16), the National Natural Science Foundation of China  (Grant No. 61179034) References [1] Ban H, Yamamoto H, Fukunaga M, Nakagoshi A, Umeda M, Tanaka C, Ejima Y.Toward a Common Circle: Interhemispheric Contextual Modulation in Human Early Visual Areas. J Neurosci 2006; 26(34):8804- 8809. [2] Dakin SC, Herbert AM. The Spatial Region of Integ ration. Proc R Soc Lond 1998; 65(1397):659-664. [3]Beck DM, Pinsk MA, Kastner S. Symmetry Perception in Humans. Trends Cogn Sci 2005; 9(9): 405-406. [4] Gong X, Subramanian A, Wyatt CL. A Two-stage Algorithm for Shoreline Detection. In: Eighth IEEE Workshop on Applications of Computer Vision , pp.40; 2007. [5] Lucchese L, Cortelazzo GM. A Noise-Robust Frequency Domain Technique for Estimating Planar Roto-Translations. IEEE Trans Signal Process 2000; 48(6):1769-1786. [6] Kovesi P. Image Features from Phase Congruency . Technical Report 95/4, University of Western Australia, Robotics and Vision Group, http://cites eer.ist.psu.edu/kovesi99image.html; 1995.  [7] Raymond K, Yip K. Genetic Fourier Descriptor fo r the Detection of Rotational Symmetry. Image and Vision Comput 2007; 25(2):148-154. [8] Loy G, Zelinsky A. Fast Radial Symmetry for Detectin g Points of Interest. IEEE Trans on Pattern Analysis and Machine Intl 2003; 25(8): 959-973. [9] Reisfeld D, Wolfson H, Yeshurun Y. Detection of Interest Points sing Symmetry. In: Proceedings of Third International Conference on Computer Vision, Osaka, Japan, 62-65; 1990. [10] Labonte F, Shapira Y, Cohen P. Faubert J.: A Model for Global Symmetry Detection in Dense Images. Spat Vis 1995; 9(1):33-55. [11] Huebner K. Object Description and Decompos ition by Symmetry Hierarchies. In: V. Skala, WSCG 2007 Short Paper Proceedings, 125-132. Science Press, Czech Republic ;2007. [12] Zavidovique B, Gesu VD. Pyramid symmetry tran sforms: From local to global symmetry. Image and Vision Comput 2007;25(2):220-229. [13] Milner D, Raz S, Hel-Or H, Keren D, Nevo E. A New Measure of Symmetry and its Application to Classification of Bifurcating Structures. Pattern Recog 2007; 40(8):2237-2250. [14]Ballard DH. Generalizing the Hough Transform to De tect Arbitrary. Pattern Recogn 1981;13(2): 111-122. [15] Cao M.Y, Ye CH, Doessel O, Liu C. Spherical Parameter Detection Based on Hierarchical Hough Transform. Pattern Recogn Lett 2006;27(9):980-986. [16] Gofman Y, Kiryati N. Detecting Symmetry in Grey Level Images: the Global Optimization Approach. In: Pattern Recognition. Proceedings of the 13th International Conference; 889-894. Vienna, Austria; 1996. [17] Milanese R, Cherbuliez M, Pun T. Invariant Conten t-Based Image Retrieval Using the Fourier-Mellin Transform. In: Int Conf on Advances in Pattern Recognition (ICAPR1998);73-82. 565  Quandong Feng and Xin Zhang  /  AASRI Procedia   3  ( 2012 )  559 – 565 
[18] Muller H, Muller W, Squire DM, Marchand-Maillet S,  Pun T.  Performance Evaluation in Content-Based Image Retrieval: Overview and Proposals. Pattern Recog Lett 2001;22(5):593-601. [19] Xin Y, Pawlak M, Liao S. Accurate Computation of Zernike Moments in Polar Coordinates. IEEE Trans Image Process 2007;16(2):581-587. Contact of Corresponding Author: Author Name: Quandong Feng,  Email: fqd@lsec.cc.ac.cn,  Mobile Telephone: 0086-13520222637 