ORIGINAL ARTICLE
A GPS-based Mobile Dynamic ServiceLocator System
Hassan I. Mathkour
Department of Computer Science, King Saud University, Riyadh 11653, Saudi ArabiaReceived 17 December 2010; accepted 11 March 2011
Available online 27 May 2011
KEYWORDSMobile ServiceLocator Systems;GPS;LBS;Mobile positioning;WirelesscommunicationAbstractThe mobile network providers have provided the most widely usedmeans of communication. In an attempt to expand on this frontier, we proposeand develop a GPS-based Mobile Service Locator System to help individuals indifferent walks of life, ﬁnd addresses and locate their services of interest usingtheir mobile devices. Notably, the proposed system is able to determine the prox-imity distances between the user and the locations of the desired service. It is ﬂex-ible and extendible to easily incorporate additional mobile service providers andnew services. A main point of departure from existing similar systems is that it isthe GPS-based rather than the mobile-based service provider to allow for a moreaccurate location calculation.
ª2011 King Saud University. Production and hosting by Elsevier B.V. All rights reserved.
1. IntroductionIn this age of signiﬁcant telecommunication competition, mobile networkoperators continuously seek new and innovative ways to create differentiation
2210-8327ª2011 King Saud University. Productionand hosting by Elsevier B.V. All rights reserved.Peer review under responsibility of King SaudUniversity.doi:10.1016/j.aci.2011.05.003
Production and hosting by ElsevierE-mail addresses:binmathkour@yahoo.com,mathkour@ccis.ksu.edu.saApplied Computing and Informatics (2011) 9, 95–106
King Saud University
Applied Computing and Informatics
www.ksu.edu.sawww.sciencedirect.com
and to increase proﬁts (Hjelm, 2002; Lindgren et al., 2002;Kalakota and Robinson, 2001). One of the best and most productive ways to accomplish thisis through the delivery of highly personalized services. One of the most powerfulways to personalize mobile services is based on location. The purpose of mobilepositioning is to provide location-based services (LBS), including wireless emer-gency services (Bisdikian et al., 2001;Chen and Kotz, 2000; Giaglis et al.,2002). Locating the nearest emergency, public, private, and social services as wellas the nearest service provider efﬁciently using mobile devices involves the processof creating applications for mobile devices and maintaining connectivity overslow, inexpensive, and unreliable networks (Burnham, 2001; May, 2001). This paper describes an attempt to a system which facilitates such a process. Requiredservices may range from emergency locations, such as hospitals, clinics andpharmacies, or public and governmental services locations to private serviceslocations, such as restaurants, shops, malls, etc.The terms mobile positioning and mobile location are sometimes used inter-changeably in conversation, but they are in fact two different terminologies. Mo-bile positioning refers to determining the position of a mobile device. Mobilelocation refers to the location estimate derived from the mobile positioning oper-ation. Mobile positioning can be divided into two major categories – networkbased and handset based positioning.1.1. Network-based mobile positioningThis category is referred to as ‘‘network based’’ because the mobile network, inconjunction with the network-based position determination equipment (PDE) isused to position the mobile device. One of the easiest means of positioning the mo-bile user is to leverage the SS7 network to derive location ( Kaasinen, 2003; Jagoe, 2002).1.2. Handset mobile positioningThis category is referred to as ‘‘handset based’’ because the handset itself is theprimary means of positioning the user. The network can be used to provide assis-tance to the mobile device in making position estimate determinations based ondata measurement and handset based position determination algorithms. TheSTK allows for communication between the SIM (which may contain additionalalgorithms for positioning) and a location server application (which may containadditional algorithms to assist in mobile positioning) (Lidgren et al., 2002).Mobile IN Technologies for Positioning (Chen and Kotz, 2000) can also be deployed to assist in the positioning process. GSM and ANSI-41 based networksmay employ the use of the GSM MAP, Any Time Interrogation (ATI), andPosition Request (PosReq) messages, respectively, for mobile positioning. Thesemobile IN procedures require a LBS application middle-ware as a Service Control96 H.I. MathkourFunction (SCF) to launch a message (MAP ATI or PosReq) to the HLR for posi-tion information. The HLR may respond with approximate information such asthe content of the cell of origin (COO) or more precise information such as timingadvance (TA) or network measurement report (NMR) as in the case with GSM.LBS middleware is used to facilitate location based services; this functional ele-ment acts as a gateway or a hub for a location. One of the most obvious technol-ogies behind LBS is positioning, and the most widely recognized system is theGlobal Positioning System (GPS) (Hjelm, 2002; Djuknic and Richton, 2001). Geo- graphic data are also an important aspect of any location system. There must be alocation management function to process positioning and GIS data on behalf ofLBS applications. The location management acts as a gateway between position-ing equipment and LBS infrastructure.In this paper, we review existing processes in view of mobile positioning, andthen describe a new, efﬁcient, ﬂexible, and affordable system – a GPS-based Mo-bile Service Locator System – to facilitate such a process. A GPS-based MobileService Locator System locates the nearest emergency, public, private, and socialservices as well as the nearest service provider efﬁciently using mobile devices.2. Related workLocation Based Services for Network devices, and particularly for WAP-enabledphones, are currently prominent in the market. Research in the area of location-based systems has been going on for over a decade. The pager system is one ofthe oldest applications to provide the conventional method for personnel location.In order to locate someone, a signal is sent out by a central facility that addresses aparticular receiver unit (beeper) and produces an audible signal. In addition, itmay display a number to which the recipient could call the sender back. Some sys-tems allow a vocal message to be transmitted back to the call-back number. Therecipient could use the conventional telephone system to call back to conﬁrm thesignal and to provide appropriate response (Kaasinen, 2003, Bisdikian et al., 2001, Chen and Kotz, 2000).Earlier work such as the Active Location Badge system (Want et al., 1992) usesinfra-red technology to provide products in the realms of outdoor location-track-ing, using GSM and GPS technologies. Such location-based services are limited tomobile phones. There are some other commercially products, such as Webraska,IntelliWhere, Openwave, and Esri (Dey etal., 1999), which are regarded as geo-ref-erenced mobile phone applications.Some other related products that are focused on special interest like user inter-action can be shown in a game scenario. An example is the context-aware games(Romero et al., 2004). The ﬁrst commercial location-aware game was launched in2004 by SingTel in Singapore. Gunslingers is a multi-player network game whereplayers move around, and eventually track and engage other players (‘‘enemies’’)within their physical vicinity.A GPS-based Mobile Dynamic Service Locator System 97Most recent research that provides location-based services is increasinglybecoming diverse and wide. Examples are the Guide project ( Cheverst et al., 2000) and Cyber Guide (Abowd et al., 1997). Most of these applications use theposition-aware approach, meaning that application’s actions are based on itsknowledge of its own position. Location-tracking services ( Marmasse and Schmandt, 2003) such as the safety-based ones, for children or the elderly, arecommercially available. Some applications like ‘friend ﬁnder’ services are availableon some mobile phone service providers’ offers (Hanrahan,2003). In general, location is a dynamic attribute of mobile computing. Trackinghas large application areas, ranging from the ﬂeet applications to enabling mo-bile commercial services. Fleet application typically entails tracking vehicles forthe purpose of the owner company to know the whereabouts of its vehiclesand/or operators. Tracking is also used in mobile commercial services. A mo-bile user could track and be provided with predetermined information (such asnotiﬁcation of a sale on men’s suits at a store close to the user’s current loca-tion) that he desires. Mobile positioning technology is also crucial to wirelessemergency services. GPS provides a good facility to locate co-ordinates butdoes not provide a website access, or detailed information about the desiredlocation. In addition, it is not user friendly when it comes to locations’ imagesin high resolution. Mobility application on the other hand is considered thebest user friendly application to provide detailed information or data on therun.3. The proposed systemMost applications in the market are not user friendly, do not provide precise data,nor allow multiple ways to access the data, such as SMS, web access and real timefeed back to the requester. The proposed system is meant to resolve such deﬁcien-cies. It uses the cell phone service provider to locate the requester for a registeredservice. It is not necessary to have an Internet connection as the requester can useSMS to request a service location.It is a location-based service provider. It differs from many other types of mo-bile services because it is not just mobile in the sense that it can be carried with theuser but it can actually be used on the move. In addition, it takes into consider-ation the usage situations that may affect the location’s physical environment(e.g., background noise, illumination, weather).3.1. Communication scenariosThe communication scenario retrieves the mobile location as provided by the cellprovider and this is used to send an SMS to the services’ server to retrieve the re-quested service. There are two possible scenarios in this respect.98 H.I. Mathkour3.1.1. First proposed scenario (network-based mobile positioning technology)A user, using his handset, requests a service and asks for the nearest locationwhere the service can be provided.1. The proposed handset application retrieves the user’s mobile location sent bythe mobile service provider.2. An SMS request is sent to the service’s centre with the current user location.3. Services’ server sends an SMS back to the handset of the user, showing availableservices based on the user’s request and location.3.1.2. Second proposed scenario (handset-based mobile positioning technology)1. The application sends SMS/MMS to cell phone service provider to request thecurrent handset location.2. The cell phone service provider sends an SMS/MMS back to the handset withthe current location.3. The application parses the SMS/MMS and then sends SMS to the services’ ser-ver to get the requested service location.4. The server sends back an SMS with the requested service location.The ﬁrst scenario merely determines the location based on the nearest tower andnot the exact co-ordinates, which results in an inaccurate determination of theright services at the right locations. The second scenario gives a more accurateinformation and faster determination of the location. It is based on ‘‘HandsetPositioning Technology’’ where user’s handset is used to determine the right loca-tion of the user. Thus, the second scenario is adopted.3.2. System architecture scenario (B)Fig. 1shows the system architecture for the proposed scenario (B). It consists of amobile ﬁnder cell component, a mobile ﬁnder server component, a tablet PC, adatabase server, and an application server with SMS as the communicationmedium.3.3. Hardware and software requirementsThe hardware requirements are:1. A GSM modem: A GSM modem can be an external modem device, a PC cardinstalled in a notebook computer, or a standard GSM mobile phone.2. A cell phone (handset): a tablet PC, or pocket PC with GSM support.3. A server: Intel Pentium Server 3.0 GHz with 1 GB RAM.A GPS-based Mobile Dynamic Service Locator System 994. SIM cards: GSM SIM card. Supports (900,1850,950).The software requirements are:1. Mobile ﬁnder cell component.2. Mobile ﬁnder server component.3. Database client – MS SQL database client.4. Server operating system: windows operating system.The system structure follows the IEEE standard consisting of four system inter-faces, which are:1. The hardware interface, through which the user’s handset (mobile) is used tocommunicate with (i) the cell phone provider tower by sending an SMS packagethrough SIM card to retrieve the location of the handset; (ii) the server GSMgateway modem used to retrieve the requested service at the current locationof the handset.2. The software interface is the cell phone provider. From here, a client applica-tion component communicates with the cell phone provider gateway to retrievethe location of the handset.3. The communication interface, in which communication is done through anSMS sent using the SIM of the handset to the cell phone provider. Communi-cation is also done with the services’ server gateway application component inorder to retrieve the requested service at the current location of the handset.4. The graphical user interface comprises the following:
Figure 1System architecture.100 H.I. MathkoursA client interface on mobile device allowing the user to request certain ser-vices from his current location.
sA web interface on the server allowing the service provider to register, updateits service information, and gather statistical data on clients requesting thisservice.
sA desktop interface on the server allowing the system administrator to add,maintain and manage services and users on the system.Figs.2 and 3 show, respectively, (i) the variability of the data ﬂows across thedomain boundary (Bisdikian et al., 2001) and (ii) the class diagram of the pro-posed system.4. ImplementationThe mobile ﬁnder system requires the following for its implementation.Hardware requirements:– Handset with windows Os mobile system (2003 or above).– GPS receiver (Bluetooth).– PCMCIA GPS receiver.– Laptop with windows OS.Software requirements:– Developed handset service request application.– Compact .Net Framework 2.0 or above.– GPS.Net library.– OPENCF library.The implementation is based on a 2-tier client server technology, consisting oftwo major components, the client side and the server side.Provider Data Statistical reportMobile Services Finder SystemClient Administrator 
Service Provider Location & services information 
&noitacoL ataDsecivreS  Services InformationServices Data 
Figure 2Context diagram of the system.A GPS-based Mobile Dynamic Service Locator System 1014.1. Client side component: handset service ﬁnder component (HSFC)The HSFC includes two modules, namely, request service, Get a reply. The userconnects his mobile to a GPS receiver through the mobile Bluetooth. HSFC dis-plays a list of most demandable common services (based on statistics carriedout by marketing specialists). The user chooses (i) a service from the drop downlist, and (ii) the desired service information (such as service ID, longitude, lati-tude). The user then submits his request to the server by clicking a submit buttonin an SMS.4.2. Server side component: server service ﬁnder component (SSFC)The SSFC includes two modules, namely, the service provider and request manip-ulation. A client connects through an online system to provide his services details,such as locations (latitude and longitude can be provided by tech support) of theoffered services, addresses and phone numbers. The provider information (GPSdecimal locations, name, service provided, phone and address) is added to data-base. The received SMS is deleted, and a new SMS is sent back to the hand-set along the requested services information.The requested service together with the handset location is processed by usingthe .net framework library to read the incoming SMS message (which is organized
Figure 3Class diagram of the system.102 H.I. Mathkourin a speciﬁc form) and is parsed using the parsetolist () method to extract thedemandable service ID and the handset latitude and longitude values. (Class Dia-gram: SSMS CLASS – parsetolist ().) This is done by scanning the sms text comingfrom the handset and parsing it.Locating the nearest service and sending an SMS message back to the handsetwith the nearest service details are determined using the proximity search method(Bisdikian et al., 2003; Dey et al., 1999).5. System validationAs indicated above, the ﬁnder system is composed of two components, a client(Handset Service Finder Component ‘‘HSFC’’) and a server (Server Service FinderComponent ‘‘SSFC’’). The HSFC was installed on an I-mate hand-held (I-mateJASJAR) equipped with GPS (HOLUX GPSSLIM236), and the SSFC wasinstalled as a server component on – Intel Pentium 4 PC.5.1. Test dataOne of the critical issues of the ﬁnder system is the accuracy and the response timeit yields for the user request. These two issues were evaluated in real time. Somedata (Table 1) were entered via administration access right.A set of services were used for validation. The set covers two types of services,namely hospital and food (supermarkets), as shown in Table 1.Values of measured alpha and beta (longitude, latitude) were obtained by sitelife measurements where the PDA equipped with GPS (see section for used hard-ware) was placed at each of the services shown in the above table and readings ofalpha and beta were recorded and inserted in the database along with providerdata including service category, name, address, phone. A cross validation of themeasured alpha and beta was performed by comparing our measurements tovalues obtained from Google earth as shown inTable 1. The comparison shows agreement between the measured and Google values; hence it validates the mea-sured values.
Table 1Set of data used for validation.# Service name Type Measured alpha Measured beta Google alpha Google beta1 Alhabib Hospital 24 /C17642
016.0200N4 6/C17640035.1100E2 4/C17642016.3500N4 6/C17640036.1100E 2 Hammadi Hospital 24 /C17642
032.400N4 6/C17640050.1200E2 4/C17642036.4200N4 6/C17640052.8900E 3 Dallah Hospital 24 /C17644
047.9800N4 6/C1763907.2100E2 4/C17644048.9500N4 6/C1763907.3300E 4 Altakhasosi Hospital 24 /C17640
013.0100N4 6/C17640032.1400E2 4/C17640015.6700N4 6/C17640035.2700E 5 King Fahd Hospital 24 /C17640
010.2100N4 6/C17640027.8000E2 4/C1764008.9700N4 6/C17640029.3900E 6 Al Othaim Supermarket Shopping mall 24 /C17646
09.8800N4 6/C17645051.1800E2 4/C1764609.0400N4 6/C17645051.8300E 7 Careﬀour Granada Shopping mall 24 /C17646
050.9800N4 6/C17643055.1200E2 4/C17646055.0600N4 6/C17643055.8700E 8 Careﬀour Albustan Shopping mall 24 /C17642
051.1000N4 6/C17640024.0400E2 4/C17642050.2100N4 6/C17640020.3700E 9 Careﬀour Le Mall Shopping mall 24 /C17646
017.3000N4 6/C17640010.1000E2 4/C17646018.6200N4 6/C1764009.0600E 10 Hypermarket – Al azizia Shopping mall 24 /C17635
035.8000N4 6/C17646027.2100E2 4/C17635037.4400N4 6/C17646026.0800EA GPS-based Mobile Dynamic Service Locator System 1035.2. Test scenariosThe ﬁnder system validation was investigated by using two different types of hard-ware; namely, a PDA equipped with GPS and a notebook equipped with PCMCIGPS card (see Section 3.2). The test cases discussed below in Table 2were carried out using both the PDA and the notebook. From client application interface, auser selects a service, e.g., Hospitals. The client application retrieves the currenthandset GPS location latitude and longitudes, calculates the client location, andsends the location of the service to the user via SMS.The test cases listed above were executed and the test results showed a ‘pass’ forall cases.6. ConclusionWe have developed a GPS-based mobile ﬁnder system that would help individuals indifferent walks of life to ﬁnd addresses and to locate theie services of interest usingtheir mobile devices. Required services may range from emergency locations, such ashospitals, clinics and pharmacies, or public and governmental services locations toprivate services locations, such as restaurants, shops, malls and etc.Although this project was developed and tested in Saudi Arabia, using the twowidely available Saudi mobile providers (AlJawal and Mobily), we believe thatthe system can be used easily in other environments with similar mobile providers.The proposed solution has distinct advantages over the solutions offered byboth mobile service providers. Notable advantages of this system are:1. It determines the proximity distances between the user and the locations of thedesired service. Thus the user has a valuable distance information that would bebeneﬁcial in his decision making process to select the most appropriate serviceTable 2Test cases.TestcaseGoal Pre-condition Post-condition Pass/fail Comment1 Determininghandset locationusing (PDA,laptop)A mobile handsetwith blue toothenabled is placed ata known locationLocation is ready tobe sent an SMSmessagePass The client uses the clientapplication componentto request determinationof handset’s locationusing SMS 2 Requesting aserviceA mobile handsetwith blue toothenabled is placed ata known locationA SMS message issent to the serverPass Services provider’srequest statistical reportsgenerated by the serverapplication component 3 Finding arequestedserviceSMS is sent to theserver withrequested serviceand locationinformationA SMS message issent with requestedservice informationPass Services provider’srequest statistical reportsgenerated by the serverapplication component104 H.I. Mathkourproviders for the service he is looking for. It should, however, be pointed outthat the indicated distance is not a real physical one since it is GPS-based. Itdoes not also take into consideration the real trafﬁc map of the area. Neverthe-less, it certainly offers valuable information to the user.2. The system is ﬂexible and extendible easily to incorporate additional mobile ser-vice providers and new services.3. The main point of departure from existing similar systems is that it is GPS-based rather than mobile-based service provider in which distance determina-tion is based on tower-based triangulation that is limited to just the suburb.Thus a more accurate calculation is given by our system.As for future work, a client handset test program may be developed to comparethe accuracy of tower-based triangulation with a GPS-based solution.AcknowledgementThis work is supported by the Research Center of the College of Computer andInformation Sciences in King Saud University.References
Abowd, G.D., Atkeson, C.G., Hong, J., Long, S., Kooper, R., Pinkerton, M., 1997. Cyber guide: a mobilecontext aware tour guide. Wireless Networks 3 (October), 421–433.Bisdikian, C., Christensen, J., Davis, J., Ebling, M.R., Hunt, G., Jerome, W., Lei, H., Maes, S., Sow, D., 2001.Enabling location-based applications. In: Proceedings of the 1st International Workshop on MobileCommerce, pp. 38–42.Burnham, J.P., 2001. The Essential Guide to the Business of US Mobile Wireless Communications. Prentice-HallPTR, Upper Saddle River, NJ, 2001.Chen, G., Kotz, D., 2000. A Survey of Context-Aware Mobile Computing Research, Dartmouth ComputerScience Technical Report TR 2000-381. Hanover, NH, USA.Cheverst, K., Davies, N., Mitchell, K., 2000. A Friday, experiences of developing and deploying a context-awaretourist guide: the GUIDE project. In: Proceedings of the 6th Annual International Conference on MobileComputing and Networking, Boston, MA, pp. 20–31.Dey, A.K., Salber, D., Abowd, G.D., Futakawa, M., 1999. An Architecture to Support Context-AwareApplications. Technical Report GIT-GVU, Georgia Institute of Technology, College of Computing.Djuknic, G.M., Richton, R.E., 2001. Geolocation and assisted GPS. IEEE Computer 34 (2), 123–125.Giaglis, G.M., Kourouthanassis, P.K., Tsamakos, A., 2002. Towards a classiﬁcation framework for mobilelocation services. In: Mennecke, B.E., Strader, T.J. (Eds.), Mobile Commerce. Technology, Theory, andApplications. Idea Group Publishing.Hanrahan, T., 2003. AT&T ﬁnd friends location service. The Wall Street Journal Online (June 4).Hjelm, J., 2002. Creating Location Services for the Wireless Web. John Wiley & Sons, New York.Jagoe, A., 2002. Mobile Location Services. Pearson Education, New Jersey.Kaasinen, E., 2003. User needs for location-aware mobile services. Springer-Verlag London Limited 7 (1), 70–79.Kalakota, R., Robinson, M., 2001. M-Business: The Race to Mobility. McGraw-Hill Publishing Company, NewYork.Lindgren, M., Svensson, E., Jedbratt, J., 2002. Beyond Mobile: People, Communications and Marketing in aMobilized World. Palgrave Global Publishing.Marmasse, N., Schmandt, C., 2003. Safe and sound – a wireless leash. Proceedings of CHI, 726–727.May, P., 2001. Mobile Commerce: Opportunities, Applications, and Technologies of Wireless Business.Cambridge University Press, Cambridge.A GPS-based Mobile Dynamic Service Locator System 105Romero, L., Santiago, J., Correia, N., 2004. Contextual information access and storytelling in mixed reality usinghypermedia. ACM Computers in Entertainment 2 (3).Want, R., Hopper, A., Falca˜o, V., Gibbons, J., 1992. The active badge location system. ACM Transaction onInformation Systems 10 (1), 91–102.106 H.I. Mathkour