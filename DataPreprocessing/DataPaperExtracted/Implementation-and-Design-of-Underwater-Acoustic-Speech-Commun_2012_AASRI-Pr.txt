 AASRI Procedia   1  ( 2012 )  46 â€“ 51 
2212-6716 Â© 2012 Published by Elsevier Ltd. doi: 10.1016/j.aasri.2012.06.009 
 
 2012 AASRI Conference on Computation Intelligence and Bioinformatics  
Implementation and Design of Underwater Acoustic Speech Communication System Based on OFDM Technology 
Lu Yina,b,*, Bing Chenb, Ping Caia 
aScience and Technology on Underwater Acoustics Laboratory, Harbin Engineering University, Harbin, 150001, China 
bCollege of Electric Engineering, Navy Engineering University, Wuhan, 430033, China  
Abstract 
Due to severe signal degradation caused by multipath prop agation and the limited bandwidth and the time-varying and space-variant nature of the underwater acoustic channel, un derwater acoustic communication is difficult. A suitable for underwater acoustic channel communication mode must be empl oyed. Implementation and design of the real-time speech communication system based on orthogonal frequency divisi on multiplexing (OFDM) technology, AMBE-2000 was used to compress the speech coding. The main hardware circuit and software design of speech communication system were analyzed, speech signal was inset comfortable noise, eliminat ed echo, controlled volume, finally through the system debugging and channel pool test. It proved that the un derwater acoustic speech communication system was feasible, speech was clear. 
 Â© 2012 Published by Elsevier B.V. Selection and/or peer review under responsibility of American Applied Science Research Institute  
Keywords:  underwater acoustic communication; OFDM; AMBE-2000; speech communication 
 
 
* Corresponding author. Tel.: +86-13945119808. E-mail address: yinlu66@126.com. 
AASRI
Procedia
www.elsevier.com/locate/procediaAvailable online at www.sciencedirect.com
Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.47  Lu Yin et al.  /  AASRI Procedia   1  ( 2012 )  46 â€“ 51 
 1. Introduction On the land, the radio is usually used in no cable communication. The ab sorption and attenuation of underwater radio are large. No matter how far the transmission distance, can only use large antennas and high transmission power, or can not complete underwater communications tasks. Compared to all kinds of known as form of energy, the only sound waves in the underwater spread for best performance, which allows to sound waves as the carrier of the underwater acoustic communication become the mainstream of the underwater communication. In 1945 the earliest underwater speech communication system had been developed by the United States navy underwater ac oustic laboratory. This system was used in the communication between the submarines, which used single side band modulation with carrier frequency 8~11 kHz, work distance a few kilometers. OFDM technology is used in the underwater acoustic speech communication system in this paper. It had some advantages. Firstly, the using rate of the frequency spectrum was higher. Secondly, the capability of multipath interference resistance and the frequency choice  decline were stronger. Thirdly, the capability of decline-poor through the united coding of sub-carrier waves was stronger too. Finally the implementation of DSP was easier because of the modulation and demodulation of OFDM through the using of IFFT and FFT. In the underwater acoustic communication field these advantage of OFDM were the same as which was used in the land wireless communication field. System hardware design and system software test had been completed, finally the underwater acoustic speech communication system had been debugged. The pool test proves the feasibility of this system. Speech effect is clear, can satisfy the hearing requirements. 2. OFDM Technology In an OFDM system, a high rate bit stream is divided into several low rate streams that are transmitted in parallel and simultaneously on different frequency, i.e. sub-carriers. By parallel transmission, the symbol duration is increased; therefore the relative amount of time dispersion, which is caused by multipath delay spread, is decreased. To avoid inter-symbol interfere nce (ISI), a guard interval (GI) is inserted into OFDM symbols. The length of GI is chosen to exceed the channel delay spread. Meanwhile for avoiding the inter-channel interference (ICI), OFDM symbols in the guard interval are cyclically extended. The major sources of distortion for underwater acoustic communication sy stems are multipath fading and ISI. OFDM has significant advantages with bandwidth efficiency, immunity against ISI and combating frequency selective fading. 
SerialtoParallel
Ä‚SymbolMapping
Ä‚IFFT
Ä‚ParalleltoSerialAddCyclicPrefixD/A
Channel
ParalleltoSerial
Ä‚SymbolDe-mapping
Ä‚FFT
Ä‚SerialtoParallelRemoveCyclicPrefixA/DInput BitStream
Output  BitStream2c jf teS
2c jf teS 
Fig. 1. The block diagram of OFDM system 
Fig.1 shows simply block diagram of OFDM system. Assume the transmitted signal in OFDM system is 
2 11 1 2200 0 1() () ( 0 )cNN Njk ijf tji f tN kk s kk ist x tae e e t TNSSS '     d dÂ¦Â¦ Â¦      (1) 48   Lu Yin et al.  /  AASRI Procedia   1  ( 2012 )  46 â€“ 51 
 Where s k(t) is the transmitted signal for the kth information symbol a k. 1/(N)1/2 ensures symbol energy of unity. Î”f=1/T
s (Ts is one OFDM symbol duration) to ensure orthogonality among carriers, and (2Ï€/N) k i is the phase offset used to generate the spreading code  for ak which ensures the orthogonality among the N information symbols. f
c is the carrier frequency. After transmitted over a frequency selective fading ch annel, the received signal at receiver side is 
2211 20 00() ()ciNNjk i ji f tjf t jNNkikirt aa e e e e n tSSSI '   Â¦Â¦ (0 , 1 , , 1 )nN "       (2) where a
i and Ï† i are the amplitude fade phase offset on the ith carrier. n 0(t) is the addictive white Gaussian noise (AWGN). 3. System Hardware Design The block diagram of underwater acoustic speech comm unication is shown in figure 2.The system mainly consists of speech signal processing module, commun ication signal processing module, logic control module and power module. 
 
CPLDFLASH
headsetmikevoice
CODECVoice SignalAMBE-2000ProcessorDSPTMS320VC5509A
CODECEEPROM
Amplification filtertransmit
receiveMcBSP0
McBSP2
Speech Signal Processing ModuleCommunication Signal Processing Module
Logic Control ModulePower Modulepower5V3.3V
1.6V
I2CMcBSP1 voice
Amplification filter
 
Fig. 2. The block diagram of underwater acoustic speech communication system 
3.1. Speech signal processing module Speech signal processing module is mainly made of CODEC and AMBE-2000. The high-performance stereo audio CODEC is specifically designed for the digital signal processing (DSP) chip by TI company. It is great flexible for AMBE-2000 chip in speech rate choice and forward error correction (FEC) rate. The user of AMBE-2000 chip can grow at 50 bps, free set in 2.0 kbps~9.6 kbps data rate range. The user must allocate more data rate percentage to FEC coding for the channel of the high bit error rate (BER). AMBE-2000 basic working principle diagram is shown in figure 3. 
Encoder
DecoderDecoder
Encoder8kHz Speech Data
8kHz Speech Data8kHz Speech Data
8kHz Speech DataCompressed Data@2Ìš9.6kbps
Compressed Data@2Ìš9.6kbpsAMBE-2000 AMBE-2000
  
Fig. 3. AMBE-2000 basic working principle diagram 
 49  Lu Yin et al.  /  AASRI Procedia   1  ( 2012 )  46 â€“ 51 
 The connection of AMBE-2000 speech port and TLV320AIC23B synchronous serial port is shown in figure 4. 
AMBE-2000 TLV320AIC23BCODEC_RX_DATACODEC_TX_DATACODEC_RX_CLKCODEC_TX_CLKCODEC_RX_STRBCODEC_TX_STRB314127332937DOUTDIN
LRCINBCLKLRCOUT64
375
CPLDClock DataTansferWork Mode ConfigurationFunction Pin
 
Fig. 4. AMBE-2000 and TLV320AIC23B connection schemes 
CPLD converts 32 bits data of A/D output into 16 bits data in system design, and put the clock points frequency to 2.048 MHz. 3.2. Communication signal processing module Communication signal processing module that is the core of the high performance, low power consumption, 16 bit fixed-point digital signal processor (DSP) chip - MS320VC5509A is produced by TI company. DSP chip in the system main completes coding and decoding of OFDM, CODEC control and data signal flow transmission. TMS320VC5509A provides three high-speed, full duplex , multi-channel buffer serial port - McBSP, each serial interface can support 128 channels, at speeds of up to 100 Mb/s. Multi-channel buffer serial port (McBSP) can provides a direct serial port in TMS320VC5509A DSP or between DSP and other devices of system. It is feasible that DSP can directly connect with other C55xx DSP, CODEC of industrial standard port, and other serial (ADC/DAC) devices of system. Different McBSP of DSP number and the pin number is also different. 4. System Software Design The whole system flow chart shown is shown in figure 5. 
START
System Power
CPLD Settings
Initialization AMBE-2000
Initialization DSPÇƒTLV320AIC23BTLV320AIC23BÇƒMcBSP Settings
Modem Algorithm 
END
 
Fig. 5. System flow chart 
System control procedure mainly produces all kinds of  sequence, control signal and reset signal for AMBE- 2000 of the system in CPLD. The whole procedure is divided into sequential produce procedure, the control signal and reset signal procedure, receiving and transmitting procedures.  DSP must be initialized before programming. Initialization is mainly divided into kernel initialization, serial ports initialization and TLV320AIC23B initialization. TLV320AIC23B is set through I2C by DSP. 50   Lu Yin et al.  /  AASRI Procedia   1  ( 2012 )  46 â€“ 51 
 The data of I2C module is effective condition: during the clo ck high level, data of SDA must be stable. Only when the clock signal of SCL is low electricity, data  of SDA can change state, is shown in figure 6. 
 
Fig .6. I2C bus data transmission 
The I2C module starting and ending conditions: If SCL is high, starting condition is defined as SDA change from high to low, says data transmission start. If SCL is high, ending condition is defined as SDA change from low to high, says data transmission end. As shown in figure 7. 
 
Fig.7. The starting and ending conditions 
5. System Test The test is carried out in the channel pool of Nation al Defense Science and Technology Key Laboratory of Underwater Acoustic Technology, Harbin Engineeri ng University. Hydrophone and power amplifier are respectively used in BK8100, BK2623 by BK company. The position of transducers is shown in Figure 8. The transmitting and receiving transducers are both placed 1.5 meter deep underwater, the distance is 5 meters. The sampling frequency is 100 kHz. The trans-mission frequency band is from 3500 Hz to 9600 Hz, occupied bandwidth is 6100 Hz. The point of FFT is 4096. Sub-carrier bandwidth is designed for 24.4 Hz, period T for 41 ms, totaling 163 sub-carrier. The cyclic prefix T
g is 30 ms. Transmission rate R is 4.6 kb/s, but the effective speech signal is 4 kbit. 
5.0 m
S D
1.5m
 
 
Fig. 8. The position of transmitting and receiving transducers 
The speech signal waveform is shown in figure 9. Re ceiving speech signal is compressed to 4000 bps. As the figure can be seen, the loss is not very big, ca n be heard at the output that is very clear speech. 
  
  51  Lu Yin et al.  /  AASRI Procedia   1  ( 2012 )  46 â€“ 51 
 Fig. 9. (a) original speech signal waveform; (b) receiving speech signal waveform 6. Conclusion This paper designed a half-duplex and low power consuming underwater acoustic speech communication system based on OFDM technology. The theory and key technology of OFDM were analyzed. A low power consuming operational amplifier and converter of A/D an d D/A were used in the design of the hardware. Furthermore AMBE-2000 was used to compress the origin speech coding and TMS320VC5509A DSP was used to modulate and demodulate the speech signal. Fi nally, the feasibility of the underwater acoustic speech communication system based of OFDM technology is proved through the test in the pool. Acknowledgements This work was supported by Nature Science Foundation for Young Scientists of China under Grants 51009041. It was also supported by Navy Engineering University Foundation under Grants 201200000071. References [1] Robert J. Urick. Principles of Underwater Sound. New York: McGraw-Hill, 1983. [2] Milica StojanovicËŠUnderwater Acoustic Communications. Proc. Oceans â€™95.San Diego, CA, Oct. 1995Ë– 435-440. [3] Lu Yin, Bing Chen, Jinhua Hu, et al. Real-Time Underwater Image Communication System Based on OFDM. IEEE International Conference on Computer Science and Information Technology, 2011,2: 460-463. [4] Xiao Zhang, Lu Yin, Jingwei Yin, et al. Mobile Underwater Acoustic Communication Based on Differential Pattern Time Delay Shift Coding. Inter national Conference on Computers, Communications, Control and Automation, 2011, 3: 566-569. [5] Diamant R, Fever A, Dotan A. A. Time Reversal MIMO Architecture for Very Shallow Underwater Acoustic Communication. IEEE Transaction on OCEANS 2007-Europe, 2007, 2: 1-5. [6] Ding Qi, Xu Wang, Xu Jinfu. A VariableLow B it Rate Speech Coder Based on Melp for Wireless Communications. IEEE TFJJCON, 2005, 5: 1-4. [7] Lu Yin, Bing Chen, Jinhua Hu, et al. Resear ch on the Key Technologies for Underwater Image Communication System. 2011 International Conference on Advances In Engineering, 2011, 610-615. 