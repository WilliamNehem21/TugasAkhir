In event-b, proof obligations are required at each stage to validate the refinement process. The introduction of CSP helps alleviate some of the burden of proof by allowing certain proof obligations related to flow of control to be handled within the CSP framework. This in turn enables a degree of automation in establishing properties such as trace refinement and divergence-freedom for a model. The technical details of this approach are provided in [9,8]. The primary aim of this paper is to demonstrate the types of refinement steps that are now supported and to offer an example of the approach.

Refinements of events from level Mi may have the same name or a different name, including events that are identical in each level. Refinement events result in a mapping Fi+1 that maps events of Mi+1 to events of Mi. This mapping is derived from the "refines" clauses of event definitions, where a in Mi+1 refines Fi+1(a) in Mi. It should be noted that Event-B allows one event in Mi+1 to refine several events in Mi in the most general case, but in this context, an event is allowed to refine at most one other.

In a case study that is presented as an example, the transfer of a file is illustrated by sending data packets over an unreliable medium. CSP is used to describe the repetitive behavior in the sender (repeated transmission and progress through the file) and the receiver (progressive receipt of the data packets), while the Event-B part of the model focuses on the state. For the purposes of this case study, the focus is solely on the unreliability of the transmission medium while reliable acknowledgments are assumed.

The Event-B description facilitates a clearer and more natural expression of event flow control, particularly in reference to the timeout and repeated transmission of data. It also enables simpler event descriptions in the Event-B machine, as control variables in event guards and assignments can be eliminated when their impact is managed by the CSP controller. For instance, in the pure Event-B version at level 3, several control bits (w, ab, db) are set and reset by events and are used within event guards to manage the flow of control. In any state, no more than one of them can have the value 1. Thus, the event "sndsndcurrentdata" is provided as follows:

[Original text for the event "sndsndcurrentdata" is not available for paraphrasing.]