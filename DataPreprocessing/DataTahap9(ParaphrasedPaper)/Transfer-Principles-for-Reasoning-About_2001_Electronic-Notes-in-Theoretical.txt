This research has received partial funding from the National Science Foundation (NSF) under grant number CCR-9988551. The author holds the views and conclusions presented in this document, and they should not be construed as representing the official policies of the NSF or the U.S. government, either explicitly or implicitly.

The interpretation of conditional atomic actions await b then a as atomic is addressed in this paper. The coarse-grained trace semantics, denoted as tcoarse, assumes that assignments and boolean expression evaluations are atomic. On the other hand, the fine-grained semantics, denoted as tfine, only assumes that reads and writes to simple variables are atomic. Throughout the rest of this paper, when describing a result that applies to both fine-grained and coarse-grained semantics, we may use t to refer to either version of the trace semantic function.

It is crucial to keep track of the number of references the program makes to each identifier, particularly in non-atomic sub-expressions of c. We only need to be concerned with non-atomic subphrases, as they are the only ones that may be affected by concurrent activity.

We are now prepared to define the read multiset of an expression, focusing on a few representative cases. In expressions of the form e1 + e2 (as well as in expressions built with binary operators in general), we use the additive form of multiset union to count the number of times an identifier needs to be read during the evaluation of an expression.