In this paper, we put forward a comprehensive method for handling symmetries in kappa, leveraging an algebraic approach based on the single pushout semantics of kappa. We represent classes of symmetries as finite groups of transformations between site graphs, which are compatible with the notion of embedding. We establish certain assumptions to ensure that symmetries are compatible with pushouts. We then define conditions for when a set of rules is symmetric with respect to a group of symmetries and provide sufficient criteria for such a group of symmetries to induce both forward bisimulation and backward bisimulation over the population semantics.

Symmetries are crucial in rule-based modeling, such as in the case of symmetric sites wherein two sites in a protein have identical interaction capabilities. We propose an algebraic framework to describe symmetries among site graphs, which can accommodate various types of symmetries in a unified manner. We demonstrate that our notion of symmetry aligns with the single pushout construction, which forms the basis of the operational semantics of kappa. Moreover, we present adequate conditions for a model to exhibit symmetry with respect to a given group of symmetries and provide additional assumptions for these symmetries to give rise to forward and backward bisimulations over the induced markov chain.

When considering an embedding between two site graphs, denoted as e and f, the site graph e (resp., f) is referred to as the domain of (resp., the image of) f and is represented as dom(f) (resp., im(f)). The number of embeddings between two site graphs g and h is denoted as [g, h]. When g equals h, f is termed an automorphism. We note that the identity function always results in an automorphism, denoted as ie. Additionally, two embeddings f and g satisfy certain constraints to ensure that d is a local greatest upper bound, that the binding of a site is known when it occurs, and that when an agent is created, the state of all its sites is documented.

In certain cases, it is necessary to restrict a symmetry to the domain of a weak embedding, which requires strengthening the definitions for consistency. We also establish that any embedding is forward compatible with a set of symmetries, but in general, the compatibility of an embedding h with a given set of symmetries g over site graphs does not guarantee the compatibility of h with the same set of symmetries in a general context.

A valid set of symmetries induces group actions over the basic elements of the kappa semantics, and we outline these actions in detail. We introduce a valid set of symmetries g that is utilized throughout the subsequent subsection.

Our framework not only captures symmetries among sites, but also homogeneous symmetries where the same transformation is applied to all agents of a specific type in a connected component or the entire site graph. In these instances, symmetries do not always lead to bisimulations. A forward bisimulation is generated when any symmetry applied to the domain of a refinement of a rule can be extended to the right-hand side of this refinement. Furthermore, if the symmetries applied to the domain of a refinement of a rule can be extended to the left-hand side of this refinement as well, then the induced bisimulation is indeed a back-and-forth bisimulation.

We have not yet explored the syntactical criteria that would ensure that symmetries over the domain of refined rules can always be extended to their left or right-hand sides. Whether our notion of symmetry is compatible with the double pushout semantics of kappa is also an area that requires further investigation.