The coalgebra experts should pay attention to this situation and conduct an analysis. The first transition system can be viewed as a coalgebra for an endofunctor b on a set. The timed transition system is more complex but can be proven to be a coalgebra for a comonad et on a set. This comonad et is generated by the time domain t and has a natural and concise description. When the time domain is the set of natural numbers with addition, the comonad et is the cofree comonad on an endofunctor (as per theorem 2.7), although this is atypical. Consequently, we always have a pair of monads d and d' on a set, each with a d-coalgebra structure and a d'-coalgebra structure on the same set. Furthermore, we can assume that d is the cofree comonad on an endofunctor b, and there is an important special case in which d' is also a cofree comonad on an endofunctor b'. Time is analyzed in section 2, and the combination of transition systems is analyzed in section 3.

The existence of these structures is typically difficult to calculate. Therefore, in section 3, we prove that the product satisfies the required conditions and provide simple and general sufficient conditions that imply the existence of such a product. Taking the dual of a result for monads, we characterize the product in terms that are readily calculable, provided that one of the comonads is cofree on an endofunctor, which is true for all the examples we study. If both comonads are cofree on endofunctors, life becomes much simpler, as the product of comonads is then the cofree comonad on the product of endofunctors, which is given pointwise.

Studying timed operational behavior alone reduces to the study of a distributive law of the free monad t on a signature over a behavior comonad et. One leading example is given by the cofree comonad on a behavior endofunctor. This sets the stage for the analysis of combinations of behaviors that we delve into in further sections. We need just one more result from another source to proceed.

In this section, we aim to consider the combination of timed behavior, as described in section 2, with ordinary behavior relative to actions as extensively studied in the coalgebra literature. This allows us, in the succeeding section, to study operational semantics for the combination. For reasons of elegance, we shall make our theoretical analysis in terms of a pair of comonads, with one or possibly both given cofreely on an endofunctor.

Therefore, for all examples of primary interest to us (e.g., for c = set and d and d' being any of our leading examples), we do have a comonad. Further analysis of the significance of accessibility and the fact that it includes all examples of substantial interest to us appears in another source. Unusually, but fortunately, the fact that we know we have a comonad allows us to characterize it as the product of d and d'.

In this section, we reach the core of the paper. We know, from section 3, how to characterize the category of coalgebras for a product of comonads under mild conditions on the comonads and on the base category. We can further characterize the product itself, under mild conditions, provided one of the components is cofree on an endofunctor, as is the case for our leading examples. From section 2, we have a class of examples of why we would want such a product of possible behaviors. Now we combine that analysis with the Turi and Plotkin idea to model structural operational semantics in terms of what are provably distributive laws [17, 11, 14]. The central facts for examples, the time information and the action information typically interact with each other [10, section 7.3.2]. So we consider the following question: given a monad t and comonads d and d', what are necessary and sufficient data that separate d and d' to some extent yet yield a lifting of the monad t to the category (d, d')-coalg.

Proof. We already have the data for the unit, and the naturality condition is trivial. The only question is finding necessary and sufficient conditions for each component of the natural transformation to be a map in (d, d')-coalg. But we know that the maps in (d, d')-coalg are given by maps in c that respect both coalgebra structures, so it is a routine matter to check a necessary and sufficient condition for that condition: such a result appears in another source, which is essentially gleaned from, but it is also easy to see directly, given as in the statement.

Multiplication lift. The conditions are easy to write if one is willing to use that distributive law, but it does make for potentially tricky calculation in verifying that examples satisfy the condition, as that distributive law is induced by more primitive data. Fortunately, in particular cases, commutativity of the diagrams is fairly routine to verify.