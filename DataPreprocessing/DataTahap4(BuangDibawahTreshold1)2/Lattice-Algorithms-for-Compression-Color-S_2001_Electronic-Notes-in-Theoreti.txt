JPEG (Joint Photographic Experts Group) is an international standard to com- press and store digital color images [5]. Given a color image that was previously JPEG-compressed in some hidden color space, we aim to estimate this unknown compression color space from the image. This knowledge is potentially useful for color image enhancement and JPEG re-compression.

color space used in a previously JPEG-compressed image is often lost in its current uncompressed representation. For example, a display or a printing driver is just handed the bitmap of the uncompressed image; no information about the color space in which the image was previously compressed is given to it. To enhance or re-compress such color images, knowledge of the compression color space would be useful[1].

(b) DCT coefficient geometry in the observed color space ABC assuming round-off errors are absent. The 3-d vectors of DCT coefficients lies exactly on the vertices of a parallelepiped grid (formally termed as a lattice), whose edges are determined by the column vectors of the matrix transformation from the PQR to the ABC color space. Given the set of 3-d vectors of DCT coefficients that lie on the lattice, the LLL algorithm [3] would yield the vectors corresponding to the edges of the parallelepiped grid. (c) DCT coefficient geometry in the compression color space PQR assuming the presence of round-off during decompression. The 3-d vectors of DCT coefficients are slightly perturbed from the vertices of the rectangular-box grid.

(d) DCT coefficient geometry in the observed color space ABC assuming round-off errors are present. The 3-d vectors of DCT coefficients are slightly perturbed from the vertices of the parallelepiped grid locations. Our proposed algorithm accurately estimates the vectors corresponding to the edges of the parallelepiped from the given set of perturbed 3-d vectors of DCT coefficients.

To verify our proposed algorithm, we used a test color image that was JPEG- compressed in the ITU.BT-601 YCbCr space with quality factor 70. The Cb and Cr planes were not sub-sampled during compression. After decompres- sion, the image was transformed to the RGB space. Our algorithm operated in this RGB space, and tried to estimate the color transform matrix from ITU.BT-601 YCbCr space to current RGB space.

Our problem analysis shows that the image DCT coefficients of a previ- ously JPEG-compressed image conform to an approximate lattice structure that can be exploited to determine the unknown compression color space. To estimate this geometric structure, we propose an estimation algorithm that fuses statistical noise reduction with the novel and powerful lattice reduc- tion algorithm from number theory. The algorithm accurately estimates the desired compression color space during simulations.

