We show a subexponential but superpolynomial lower bound for flattening problem for statecharts. The result explains why common flattening algorithms explode, if the signal communication is excluded from the target language. This specifically affects flattening-based strategies for automatic model-based program synthesis.

We proceed as follows. Section 2 introduces hierarchical and flat state- charts, defines flattening and formulates the main claim, which is then proved and discussed in section 3. Section 4 is devoted to related work and remaining open problems. We conclude in section 5.

In many practical settings, the target language allows signal communica- tion, but for various reasons flattening algorithm cannot use it. For instance it is known that excessive use of signal communication increases the hardness of symbolic model checking, so signal-based flattening cannot be efficiently applied in model-checking tools. The lower bound of theorem 2.3 is then practically useful in explaining what succinctness can be expected in such applications. In fact the theorem discloses the reason for explosion in [6,5]. All algorithms mentioned there target languages with signal communication, but do not use signals in the flattening process.

David et al. [6] claim that flattening a hierarchical transition with their algo- rithm may lead to an exponential growth of the model in the depth of the structure, which confirms our general observation. Drusinsky and Harel [7] discuss the succinctness of cooperative concurrency without considering the influence of hierarchy on succinctness. Our result explores a new dimension of their statecharts succinctness space. Alur et al. [1] analyze the impact of hierarchy on model checking and succinctness, omitting the relation between concurrent hierarchical models and flat models in our sense. Their results cannot be directly used to state the hardness of flattening. Moreover they exploit sharing of subhierarchies, which is not commonly supported by tools.

Flattening has been formally defined as a semantics preserving translation of hierarchical statechart to a set of synchronized Mealy machines without signal communication. We have presented a subexponential, but superpolynomial, lower bound for this problem, and studied the applicability of the result for various dialects, including UML statecharts. It has been shown that hierarchy and concurrency cooperate in increasing the hardness of the problem. The proof contained a general technique for translating results for statecharts over arbitrary alphabets to statecharts over binary alphabets.

