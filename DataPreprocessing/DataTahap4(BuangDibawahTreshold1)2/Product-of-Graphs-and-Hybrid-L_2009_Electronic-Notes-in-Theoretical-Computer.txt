3 In graph theoretical terminology, a product of two graphs would be called a bigraph, since it has two sets of edges. More generally, in graph theory, graph-like structures with multiple sets of edges are called multi-graphs. In the context of modal logics and Kripke semantics, this notational difference is often lost and all these structures are called simply labeled graphs.

In this work, we introduce a new property called H-V intransitivity that, together with the previous ones, form a necessary and sufficient condition for a finite and connected graph to be a product. The proof of the necessity of these properties is fairly simple and is done directly, without the need to assume that the graph is finite or connected. On the other hand, the proof of the sufficiency is done in two steps. First, we prove that if a finite and connected graph satisfies the five properties stated above, then its horizontal and vertical components must satisfy a particular isomorphism. Then, we show that if a finite and connected graph satisfies H-V intransitivity and its components satisfy this particular isomorphism, then the graph is a product.

Products of graphs and multi-graphs in general come up naturally as an exten- sion of ordinary Kripke semantics to multi-dimensional modal logics. [7] presents a good textbook discussion of multi-dimensional modal logics and provides many examples of products of modal logics, where the semantics is built using products of graphs. As an example of a concrete application of multi-dimensional modal logics with products of graphs, in [6] and [5], a multi-dimensional modal logic is used to express properties of distributed systems. This logic uses the transitive closure of a product of modal logics.

The paper is organized as follows. In section 2, we introduce the definition of a product of graphs and present four properties related to this definition: left and right commutativity and the Church-Rosser and reverse Church-Rosser properties. We also introduce a new property called H-V intransitivity. In section 3, we present the concept of graph decompositions and use it to prove that the five properties presented in the previous section form a necessary and sufficient condition for a finite and connected graph to be a product. Section 4 shows that the property of H-V intransitivity is not modally definable and that no necessary and sufficient condition for a graph to be a product can be modally definable. In section 5, we extend the modal language of the previous section to a hybrid language and show

Thus, when we need to test whether a graph satisfies H-V intransitivity, we just need to verify the first condition in definition 2.2. On the other hand, when we know that a graph satisfies H-V intransitivity, we may use any one of the three conditions according to our needs.

The problem of graph decomposition consists of, given a graph, to determine wheth- er this graph can be decomposed in a product of two non-trivial graphs. A graph is said to be trivial if it has only one vertex and no edges. Every graph can be described as a product of itself with a trivial graph. In this work, we consider a restricted version of this problem.

Now, suppose that G does not satisfy H-V intransitivity. Then, we have vertices x, y and z, such that x /= y, y /= z, there is an undirected Ev-path from x to y and an undirected Eh-path from y to z and x = z. As G is a product, x = (x1, x2), y = (y1, y2) and z = (z1, z2). Then, as there is an undirected Ev-path from x to

y, then x1 = y1. Also, as there is an undirected Eh-path from y to z, y2 = z2. As x = z, then z1 = x1 = y1 and x2 = z2 = y2, which implies that the three vertices are the same, contradicting the fact that x /= y and y /= z.	 

Now, to show that each horizontal component contains l vertices, where l is the number of vertical components, and each vertical component contains k vertices, where k is the number of horizontal components, we proceed by a double induction on k and l. Start with k = l = 1. Every graph in this case must have only one vertex. Since we have only one component of each kind, if we had two distinct vertices u and w in the graph, we would have to have both an undirected Eh-path and an undirected Ev-path between u and w, contradicting H-V intransitivity. The only edges that this graph may have are horizontal and vertical loops. It is important to notice that the addition or deletion of loops does not change the number of components. In this basic case, the proposition is true.

neighbor to Gi . Besides that, we have an isomorphism between these components. This means that this horizontal component also contains n vertices and each one of these vertices is contained in a distinct vertical component. Thus, the proposition is true.	 

In this section, we show that the property of H-V intransitivity is not modally definable. In fact, we also show that no condition that is necessary and sufficient for a graph to be a product can be modally definable. Even tough we restricted ourselves to finite and connected graphs in the previous section, this restriction is not necessary for the undefinability results presented in this section.

Below is a basic theorem about modal definability that is going to be used to prove our results. Its proof for a language that contains only one modality can be found at [3]. It is not difficult to extend that proof to a language that contains a family of modalities, each with its accessibility relation.

5. It is not difficult to see that the first and third graphs are products while the second is not. By corollary 4.7, since neither the property of being a product nor the property of not being a product are preserved under bounded morphic images, they are not modally definable.	 

As was shown in the previous section, a basic modal language does not have enough expressive power to describe the properties that we want. In order to achieve our goal, we need a language that is more expressive. In this section we describe a simple hybrid language and then use it to define H-V intransitivity.

The expressive power and computational complexity of a hybrid extension of a given modal logic usually lie between the ones of the original modal logic and the ones of first-order logic. This, however, depends on which operators, besides the nominals, are added to build the hybrid logic. With the addition of state-variables and quantifiers, it is possible to achieve full first-order expressivity and complexity (undecidability). For a general introduction to hybrid logics, [1] and [2] can be consulted.

It is known that left and right commutativity and the Church-Rosser and reverse Church-Rosser properties are necessary conditions for a graph (frame) to be a non- trivial (cartesian) product of two other graphs, but their conjunction is not a suf- ficient condition. We introduce a new property called H-V intransitivity, that, together with the former ones, form a necessary and sufficient condition for a finite and connected graph to be a product. The proof of the necessity of these properties is fairly simple and is done directly, without the need to assume that the graph is finite or connected. On the other hand, the proof of the sufficiency is done in two steps. First, we prove that if a finite and connected graph satisfies the five properties stated above, then its horizontal and vertical components must satisfy a

The limits to the expressive power of basic modal languages are well known. We show that the property of H-V intransitivity is not modally definable. We also show that no condition that is necessary and sufficient for a graph to be a product can be modally definable. Extending our language to a hybrid language, we are then able to express H-V intransitivity.

[4] and [3] can be consulted). Since many graph properties, such as reflexivity, ir- reflexivity, transitivity, intransitivity, symmetry, asymmetry and antisymmetry ([3] presents other examples), can be expressed by pure formulas, if we can extend this result on hybrid completeness proofs to products of logics, then we would be able to automatically prove completeness for a large number of products of logics through a single completeness proof. Some preliminary work on hybrid axiomatization of products of logics is presented in the last chapter of [8].

