An on-the-fly symmetry reduction technique that exploits the lexicographic order on metarepresentations of Maude terms, and a technique that uses auxiliary data to verify strong properties that are not directly expressible in propositional temporal logic are presented. Both are implemented by simple transformations of rewrite theories. They are applied in the verification of a strong-consistency property of a client-server protocol, a simplification of the Chain-Replication protocol.

a built-in total order on metarepresentations of terms, and permits the manipulation of these metarepresentations. The technique presented constructs the least element of the orbit of a state with respect to the lexicographic order on metarepresenta- tions of terms. Since the technique transforms the specification, space reductions are obtained in execution, searches and model checking of the specification.

Section 2 introduces Maude preliminaries, in particular those related to object- based specifications. The specification of the simplication of the Chain-Replication protocol is presented in Section 3. Next, Section 4 discusses the on-the-fly sym- metry reduction technique and its application to the protocol. Section 5 motivates and describes a technique that uses auxiliary data to verify the strong-consistency property this protocol should satisfy. Conclusions follow in Section 6.

The size of the state space was determined using the search command, which is part of the Maude system and allows one to explore the state space in a variety of ways (see [2]). Through arguments and various forms, it may return all states (for finite state spaces), or all states satisfying some property, or the first n states it finds, for a specified n. The result of the command includes the number of states examined in obtaining the result.

Many distributed systems include identical components. Thus, if one such compo- nent reaches a particular state in one of the possible behaviors of the system, an identical component would reach the same state in a similar behavior. This sec- tion first presents mathematical preliminaries for exploiting symmetry. (For a more complete presentation see [1][4].) Then it describes how to implement on-the-fly symmetry reduction for system with identical components.

To determine this consider the effect of permuting indices on each of the rules of the specification. A close examination of all the rules of the client-server protocol shows that whether a rule is enabled is independent of the values of indices. Thus, for the client-server protocol all permutations on indices induce permutations on states that are automorphisms.

The term < P, m, n >, where m < n, represents a partially defined permutation of a set of (metarepresentations of) indices {i1,..., in}, or alternatively the set of all permutations that extend P. Thus, the set of all permutations on {i1,..., in} is represented by < emptyPermutation, 0, n >.

Furthermore, the general definition may have to be specialized for specifications in which the same term that represents an index in some context is not an index in another. In the specification of the client-server protocol nonzero naturals are used to identify the clients, but naturals are used as counters to symbolically represent values. So a term that is a counter should be unchanged by permutations.

Here the Permutation? Q is applied to the index I, but not to the counter K. The Permutation? Q might be further defined as it encounters I. As noted above, if Q(J ) is defined for some index J , then p[ Q, I ](J ) = Q(J ), and so p[ Q,' val[I, K] ](J ) = Q(J ).

In fact, the property the client-server protocol should satisfy in all states is concerned not only with the eventual value the client will receive, but also with the value it currently has. Thus, the form of the property is more complex than the one described above, and remains not directly expressible in linear temporal logic. So we transform the specification of Section 3 to be able to verify this property.

A general on-the-fly symmetry reduction technique was presented. It exploits the lexicographic order on metarepresentations of terms to construct a representative of the orbit of a state by a single traversal of the metarepresentation of the state. The technique is implemented by a simple transformation of a specification. This means that state-space reductions, and concomitant time and memory reductions, are effected in executing, searching and model checking a Maude specification.

A technique that uses auxiliary data to allow the verification of strong and com- plex properties that are not directly expressible in propositional linear temporal logic. The ability to verify these properties comes at the price of a larger state space. The combination of both techniques allowed the verification of a strong-consistency property for several instantiations of a simplification of the Chain-Replication pro- tocol.

