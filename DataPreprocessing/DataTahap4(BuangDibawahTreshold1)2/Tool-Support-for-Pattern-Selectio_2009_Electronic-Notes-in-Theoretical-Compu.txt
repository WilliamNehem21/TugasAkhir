Producing high quality software has always been an issue for software engineering community. Model Driven Engineering (MDE), as a new paradigm in software engineering, faces this issue as well. Since models are the main artifacts which drive software development in MDE [4], the quality of models is important.

Using pattern languages, while building software in MDE approach, is a key tool for designers. One benefit of using patterns is to help designers to communicate their idea. The term pattern language refers to the fact that patterns create a vocabulary, i.e., a common language, used by designers [6].

These issues have direct impact on the quality of models. That means, selecting a wrong pattern or incorrect usage of a pattern could result in inconsistent and inefficient design and therefore low quality software. The tool assistance for quality management and consistency checking is necessary since merely manual inspection or review is not enough [5]. Further, MDE promotes usage of tools in the hope of minimizing the effort for maintenance of model, as well as maximizing the benefits of modeling [9].

The quality of UML models can be viewed from three different aspects: syntax, semantics, and aesthetic [19]. In UML documents, e.g., UML 2.0 Infrastructure [13], Well-Formedness Rules (WFRs) are defined for validating the abstract syntax and identifying errors in UML models. As a formal language, UML uses the Object Constraint Language (OCL) [14] for expressing WFRs. However, the semantic and aesthetic checks, if described, are explained by natural language since they are con- tingent on the underlying domain of the model. Here is where CASE tools come into play and help designers in finding the problems and checking the quality of the models.

SCR is a process which helps designers find problems in the application of pat- terns in their design and follow the wizards for repairing the problems. We inves- tigate how the SCR process can be customized for some EAA patterns. As our case study, we have integrated SCR into one of the state of the art modeling tools, ArgoUML [16]. We have defined critics in ArgoUML for six EAA patterns and show how the tool (based on the wizards) can help the designer in repairing the problems and producing more consistent models.

The rest of the paper is organized as follows. In section 2, we briefly introduce the idea of pattern languages and discuss the Patterns of EAA as a pattern language. section 3 introduces the overall process of verifying pattern languages as well as the SCR process for detecting problems in using a single pattern. In section 4 the case study of integrating the SCR process into a modeling tool is described. Related works are discussed in section 5, and in section 6, we conclude the paper.

documenting patterns and the relationship among them, in fact the pattern author is defining a language, called pattern language, that could be used by designers in developing new software systems [2]. If we consider each pattern as a recipe for a solution, a pattern language is a set of recipes for a whole system. Pattern names play a crucial role in a pattern language, because designers can use those names as a vocabulary that helps them communicate more effectively [6].

The patterns of EAA are decomposed into three layers, based on the idea of three-tiered architecture for client-server platforms, i.e., presentation, domain, and data source. The presentation layer is responsible for user interface, the domain layer deals with domain logic and business rules, and the data source layer is related to communicating with database of the system.

The SCR process [21] is one of the core processes for pattern verification which focuses on single patterns. In this paper, we extend the idea of SCR such that as well as verifying the correctness of the application of single patterns, it is able to deal with the issue of dependency between patterns. However, the whole process is still in its infancy. More discussion on the whole process of pattern language verification is given in section 6.

The SCR process is a simple three-step process for verifying the application of a pattern in a design. The process aims to help the designer, by detecting and fixing the problems in using a pattern. The SCR process consists of the following steps. It is worth noting that this process is based on using UML profiles (See section 3.2).

Sign: The first and most important property of a pattern is its sign. Each pattern has a unique sign. If the process is based on a profile, the sign is simply indicated by a class which has corresponding stereotype. Checking the Sign is the first step of applying the SCR process. If the Sign is present, we continue the process.

Criteria: The second property of a pattern is a set of criteria that indicates sound and consistent usage of the pattern. If all the criteria are met, a message will be displayed to the designer to inform his/her about using the pattern and stating that the usage of pattern is correct. For each failed criterion, which reflects a problem in the design, a warning message will be reported to the designer.

As a simple example, the OCL excerpt in the Appendix I-Listing 1 shows the definition of a general-purpose operation which is useful in defining most of the WFRs for patterns of EAA. This OCL defines an operation, named hasOpSt, for finding an operation in a class based on its name or its stereotype. This operation, for instance, can be used in another operation that checks whether the context class has four operations for insert, delete, update, and find. As mentioned earlier,

we have implemented all the WFRs in Java. The Java code corresponding to the above OCL code is shown in the Appendix I-Listing 2. Note that the code uses Model.getFacade() as a handler for accessing all the model elements that are related to the current model.

To integrate the SCR process into an IDE, we need to have facilities for describing the Sign, the Criteria, and the Repair, and be able to invoke each of these parts from the IDE. Instead of building such environment, we decided to integrate the SCR process into existing tools. As our case study, we have selected ArgoUML, an open source state of the art modeling tool. In this section, we provide a brief overview of the tool, we discuss the implementation aspects of the SCR process, and we give an instant evaluation of the suitability of the tool for the SCR process.

Second part of the implementations is for finding correct usage of a pattern and reporting it to the designer. For this purpose, a new tab called Detected Patterns is added to the Details pane of ArgoUML. Correct usages of patterns will be shown in a tree-like format in this tab with two main branches: Design Patterns and Patterns of EAA. The Design Pattern branch is dedicated to the GoF patterns which are not the target of our discussion in this paper. By detecting a pattern in each branch, the name of the pattern is shown in the tree and by selecting the pattern, all classes that play a role in the pattern will be displayed.

dependent on the logic behind critics. The fact is that critics are triggered only when one of the Criteria is violated. That means, critics are always trying to criticize a design, not to confirm its correctness. Hence, there is no possibility to inform the user about correct usage of a pattern in ArgoUML. As mentioned earlier, we have solved the last problem by looking for the correct usage of the pattern along with the criticizing process and by reporting the correct patterns in a new tab.

In the area of model quality assessment, Breu and Chimiak-Opoka [5] have intro- duced a framework for quality assurance of models based on the concepts of Queries, Checks, and Views. Liu et al. [11] have introduced a classification for design incon- sistencies, and then they have developed an expert system (a rule-based system) using JESS for detecting inconsistencies in a given UML design. The system is able to give advice to the user and fix the problems automatically.

Kolovos et al. [10] have defined a language named Epsilon Wizard Language (EWL) which has concepts very close to the SCR process. Each wizard has a title, a guard, and a body. The brilliant aspect of their work is that the user can define the specifications of wizards off line in EWL language. As a tool, EWL is integrated into ArgoUML. That means, by running ArgoUML and selecting model elements, if the guard of a wizard is true, the title is displayed to the user and the body part is executed. EWL has model modification capabilities that can be used in the body part of wizards to repair the problems in a model.

To evaluate the idea of SCR and its applicability and usefulness in current mod- eling tools, we did experiments with the ArgoUML modeling tool. We observed that the SCR process is able to be integrated in ArgoUML by writing Java code, and it helps designer in detecting problems early in the design process. However, hard coding the process steps into the tool is not a convenient way of tool extension.

As part of our future work, we aim to work on the whole process of verifying the pattern language application in a design. Completing the pattern profile, and guiding user in selecting the right pattern are parts of the whole process. As the completion of our work with ArgoUML, we plan to implement critics and wizards for all patterns of EAA and encapsulate the knowledge that is embedded between the lines of the pattern books into Wizard and ToDo parts of the tool to guide the user for selecting the right pattern. This support for verification of models, would help designers to see problems is their design, how far they are from a sound design, and how much progress they have made in fixing the problems. For the repair part, having the possibility of preview, such as what is available for code refactoring in IDEs would be another nice feature.

