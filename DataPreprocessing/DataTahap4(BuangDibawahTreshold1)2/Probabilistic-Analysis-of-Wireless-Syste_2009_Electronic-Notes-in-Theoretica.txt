Wireless communication systems are increasingly being used these days in applica- tions ranging from ubiquitous consumer electronic devices, such as cell phones and computers, to not so commonly used but safety critical domains, such as automated highways and factories, remote tele-medicine and wireless sensor networks. The cor- rectness of operation for these wireless systems is very important due to financial or safety critical nature of their applications. Therefore, quite a significant portion of the design time of a wireless system is spent on analyzing the designs so that functionality errors can be caught and reliability and performance metrics can be evaluated prior to production. Probabilistic considerations play a significant role in

Today, simulation is the most commonly used computer based probabilistic anal- ysis technique for wireless systems, e.g., see [39,4,15,25]. Most simulation based wireless system analysis softwares provide a programming environment for defin- ing functions that approximate random variables for probability distributions. The random elements in a given wireless system are modeled by these functions and the system is analyzed using computer simulation techniques [11], such as the Monte Carlo Method [31], where the main idea is to approximately answer a query on a probability distribution by analyzing a large number of samples. Statistical quan- tities, such as expectation and variance, may then be calculated, based on the data collected during the sampling process, using their mathematical relations in a com- puter. Due to the inherent nature of simulation coupled with the usage of computer arithmetic, the probabilistic analysis results attained by the simulation approach can never be termed as 100% accurate. Thus, simulation should not be relied upon for the analysis of wireless systems, especially when they are used in safety criti- cal areas, such as medicine, transportation and military, where inaccuracies in the analysis may even result in the loss of human lives.

The work described in this paper is done using the HOL theorem prover [14], which is based on higher-order logic. The main motivation behind this choice is the fact that most of the work that we build upon is developed in HOL. It is important to note here that the ideas presented in this paper are not specific to the HOL theorem prover and can be adapted to any other higher-order-logic theorem prover as well, such as Isabelle [35], Coq [8] or PVS [36].

The rest of the paper is organized as follows: Section 2 provides a review of the related work. In Section 3, we present a methodology based on existing HOL formalizations of probability theory to the analysis of wireless systems. The ARQ analysis of the LLC layer of the GPRS standard is given in Section 4. Finally, Section 5 concludes the paper.

Probabilistic model checking [2,38] is the most commonly used formal method in the area of probabilistic analysis of wireless systems. For example, the PRISM model checker [26] has been used to analyze a sub protocol of the IEEE 802.11 standard for wireless local area networks (WLANs) in [27], the IEEE 802.15.4 networking standard in [12] and the Medium Access Control (MAC) protocol SMAC in [3]. Similarly, the ETMCC model checker [23] has been used for the dependability anal- ysis of a variant of the central access protocol of the IEEE 802.11 standard [32]. Just like the traditional model checking, probabilistic model checking involves the

construction of a precise state-based mathematical model of the given probabilistic system, which is then subjected to exhaustive analysis to verify if it satisfies a set of formally represented probabilistic properties. Besides the accuracy of the results, the most promising feature of probabilistic model checking is the ability to perform the analysis automatically. On the other hand, it is limited to systems that can only be expressed as probabilistic finite state machines or Markov chains. Another ma- jor limitation of the probabilistic model checking approach is state space explosion

[7] as has been indicated in [27,12] that increasing the number of communicating stations is not feasible in their analysis due to this problem. Similarly, to the best of our knowledge, it has not been possible to precisely reason about statistical quan- tities, such as expectation and variance, using probabilistic model checking so far. The most that has been reported in this domain is the approximate evaluation of expected values in a couple of model checkers, such as PRISM [26] and VESTA [40]. For example, in the PRISM model checker, the basic idea is to augment probabilistic models with costs or rewards: real values associated with certain states or transi- tions of the model. The expectation properties can thus be analyzed in terms of these reward or cost values by PRISM. These expectation properties are expressed and evaluated using computer arithmetic, which introduces some degree of approx- imation in the results. Similarly, the meaning ascribed to expectation properties is, of course, dependent on the definitions of the costs and rewards themselves and thus there is always some risk of verifying false properties.

Besides probabilistic model checking, rewriting logic based formal tools have also been used for the probabilistic analysis of wireless systems. For example, Real- Time Maude [33], which is a language and tool supporting the formal specification and analysis of real-time and hybrid systems, has been used for the analysis of the wireless sensor network algorithm OGDC in [34]. But the probabilistic behaviors of the wireless system under analysis are not modeled in formal terms here. Instead, they are analyzed using simulation based methods. Though, formal reasoning about probabilistic specifications is listed as a potential future direction. A possible so- lution to this aspect would be to explore a combined approach using Real-Time Maude with methods and tools for probabilistic systems, such as PMaude [1].

The first and the foremost step towards the ability to reason about statistical properties in a theorem prover is the formalization of an expression for expectation in higher-order logic. Expectation basically provides the average of a random variable, where each of the possible outcomes of this random variable is weighted according to its probability [6]. The expectation for a function of a discrete random variable, which attains values in the positive integers only, is defined as follows [30].

Due to the rapid development in mobile computing devices and emerging market of multimedia communications, the data-bearer service standard GPRS [5], which operates in packet-switched mode, was introduced as part of GSM phase 2+. GPRS uses the existing GSM infrastructure to provide high-speed (up to 270 kb/s) data communications, which is ideal for Multimedia Messaging Service (MMS) and for Internet communication services such as email and World Wide Web access. The biggest challenge in the design of GPRS is to maintain reliable data transfers with- out incurring too much delays under the erroneous nature of a wireless channel (due to distance losses, shadowing, and multipath fading). Higher layer protocols, such as the Transmission Control Protocol (TCP), are usually designed for wired channels that exhibit very low error rates and thus perform poorly if they are made responsible for the reliability of data transfers using a wireless channel [28]. Hence, the lower layers in GPRS stacks, e.g., the LLC and radio link control/medium ac- cess control (RLC/MAC), must be designed to address these issues of high error rates and higher layer-performance concerns.

its random components as random variables. In case of the above mentioned GPRS analysis problem, we need to develop a higher-order-logic function that describes the LLC frame transmission behavior in terms of the parameters p and n. The random component in this system is the behavior of the wireless channel, which allows data blocks to pass through with probability p. We formalized the LLC frame transmission behavior as a higher-order-logic predicate, i.e., a function that returns a Boolean value. Our predicate accepts three parameters: n, p and k, where k represents the number of transmission attempts. It returns True if all n RLC/MAC blocks are successfully transmitted within k attempts and F alse otherwise. The predicate can be expressed recursively in HOL as follows

chain and thus cannot be analyzed using a probabilistic model checker. These additional benefits come at the cost of the time and effort spent, while formalizing the system and formally reasoning about its properties, by the user. But, the fact that we were building on top of already verified results in the theorem prover helped significantly in this regard as the analysis, described in this section, only consumed approximately 40 man-hours by an expert HOL user.

This paper advocates the usage of higher-order-logic theorem proving for the prob- abilistic analysis of wireless systems in order to be able to precisely analyze a wide range of problems. This approach can thus be of great benefit for the analysis of wireless systems used in safety critical applications, such as medicine and trans- portation. The paper provides a theorem proving based generic methodology for the probabilistic analysis of wireless systems. For illustration purposes, we present an analysis of ARQ mechanism at the LLC layer of the GPRS. To the best of our knowledge, this is the first time that a theorem prover has been used to conduct the probabilistic analysis of a wireless system.

