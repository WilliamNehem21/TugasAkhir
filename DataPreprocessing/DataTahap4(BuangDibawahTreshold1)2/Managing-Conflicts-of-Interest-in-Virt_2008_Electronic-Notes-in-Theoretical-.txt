In this paper, we present a formal model of virtual organisations that incorporates the concept of conflicts of interest. The model, which follows an incremental development approach using Event-B, focuses on goals and organisations at the abstract level and introduces resources at the concrete level. The model is motivated by the type of virtual organisations used in the domain of scientific experiments. Individual organisations, at the abstract level, are allowed to pursue conflicting goals within a virtual organisation. However, at the concrete level, these conflicts are isolated by applying a separation of resources mechanism. This ensures that no resource is allocated to any two conflicting goals.

In order to support rapid formation of VOs, it is necessary that the potential partners are ready and prepared to participate in such collaboration. This readiness includes common interoperable infrastructure, common operating rules, and com- mon representation of capabilities, among others. The concept of Virtual Breeding Environment (VBE) has emerged as the necessary context for the creation of VOs [8]. A VBE can be defined as an association of organisations adhering to a base long term cooperation agreement and adoption of common operating principles and infrastructure with the main objective of participating in potential VOs.

In this paper, we have adopted the view that potential partners in a VO are se- lected from a VBE. We are interested in goal-oriented VOs, so organisations willing to participate in a VO will join the VBE, advertising the goals they can achieve and their resources. We are assuming that this step has been performed previously and concentrate on the management of VOs.

The model of VOs we present here is motivated by several examples. Among these is the management information concerning scientific experiments undertaken using large facilities. In this environment, a scientist from one organisation may be working in collaboration with other organisations on one experiment, whilst his colleagues from the same organisation may be working on another experiment in a different collaboration on the same facility. The facility providers themselves, in particular, are often collaborators in many of the experiments.

Here, experiments are seen as goals, the information as a resource, and the collaborators as the organisations in a VO. Similar issues arise in modelling collab- orations using other scientific resources such as the computing resources provided by the UK National Grid Service (http://www.grid-support.ac.uk/).

Event-B [2] is a refinement methodology that is an extension of the B language [1]. The refinement methodology can be used by software architects to incrementally develop a model of a system starting from the initial, most abstract, model some- times called the specification and following gradually onto further layers of detail until a model with satisfactory detail is reached. If successful, the most detailed model will be the implementation itself.

Machines have contexts that they can see. A context has the following elements: a name, a set of carrier sets, a set of constants and a set of axioms. Carrier sets are essentially user-defined types and constants must have a particular type (primitive or user-defined). Usually, axioms are used to express such constant types and any other truths about the context elements.

The VBE context defines three types: The non-empty type Goals, which rep- resents the set of possible goals in some VBE; the non-empty type Organisations, which represents the set of VBE organisations willing to participate in potential VOs; and finally the type Status, which contains the flags Sl for the Selection phase, Op for the Operation and Dissolution phases and Stop, which marks the end of the VO lifecycle (when no further events are possible). The context also defines the set, CoI, which denotes the global conflict of interest among goals in the VBE. The definition of CoI states that it is a powerset of all two-element sets representing any two goals that are in conflict with each other. It also states that a goal cannot be in conflict with itself.

The VO machine captures essentially three phases of the VO lifecycle: Selec- tion, Operation and Dissolution. The machine defines a number of local variables including the set of goals it is pursuing, a subset of those goals that the VO has completed and the current goal it is working on. The machine also defines a col- laboration model variable, collM, which is a relation from one of its uncompleted goals (the current goal) to a set of organisations that will collaborate to achieve that goal. In addition to the current collaboration model, there is also the collaboration history, collH, which is a relation from any completed goal to the organisations that have collaborated in the past to achieve that goal. The machine also defines a status flag, which indicates the next event to be fired.

The Selection event: This is the first event that is executed after the initialisation event and in it, an uncompleted goal, aGoal, is chosen and nominated as the current goal on which the VO is working along with a suitably typed collaboration model, aCollM, which must contain at least one organisation that will work on aGoal. The event also selects a suitably typed coi relation, called acoi, which maps every organisation in the range of aCollM to a pair whose first element is aGoal and the second element is a conflicting goal on which the organisation worked on in the past (in collH). Once these conditions are satisfied, Selection performs a number of substitutions to update the currentGoal, collM, coi and status variables. The status variable is set to Op to indicate that the machine is ready to enter the Operation event.

The first implication of the invariant states that if an organisation is collaborating towards some current goal and has in the past collaborated on some conflicting goal, then the conflict of interest relation coi must register this fact. On the other hand, the second implication states that if an organisation has collaborated in the past on two conflicting goals, then that fact will have been captured by the coi relation. This invariant is essentially maintaining information relating to the need for a Chinese Wall separation between conflicting goals that an organisation is (has been) working on.

by the concept of resources committed by organisations owning them to the cause of achieving the goals of a VO. The main idea driving the concrete model presented in this section is to enforce a separation, within each organisation, among the resources allocated to conflicting goals. Hence an organisation wishing to work on conflicting goals must not use the same resource for both goals.

On the other hand, the refined machine introduces two new variables: the allo- cation model, allocM, and the allocation history, allocH. The former is a relation from the current goal to resources allocated to it and the latter is a relation from completed goals to resources allocated to them in the past. The machine is still composed from the same events representing the VO lifecycle, namely, Selection, Operation and Dissolution.

In the Selection event, a local variable, anAllocM, represnting an allocation model, is chosen that will achieve the current working goal, aGoal, using a non- empty set of resources. This variable is then assigned to allocM. The allocation model variable must sound and complete with respect to the collaboration model variable introduced in the abstract machine. This is ensured by the following two conditions, respectively:

Proof. The proof of the invariant relies on showing that substitutions in every event in the concrete machine preserve the invariant. This can be shown using the Chinese Wall guard for the Selection event. In the Operation event, the proof is based on showing that the domain of allocM will always be a singleton goal and that no goal is conflicting with itself.	 

This invariant states that the current goal will never share a resource within an organisation that was allocated in the past to a conflicting goal within the same organisation. This isolation of resources will be based on information recorded by the coi relation in the abstract machine. The invariant demonstrates how the Chinese Wall policy is refined from the abstract level to the concrete level.

Conflicts of interest arise naturally in dynamic coalitions such as virtual organ- isations. To our knowledge, there is not previous work on analysing conflicts of interest in virtual organisations. Recently, Bryans et al [6] have modeled formally general aspects of dynamic coalitions paying especial attention to information flow. They use the Vienna Development Method (VDM) [13] to construct a suit of mod- els representing important aspects of coalitions: membership policies, information discovery, and information transfer. However, the conflict-of-interest dimension is not included in their analysis. In [18], Zhou and Foley describe a logic-based lan- guage that provides a foundation for coalition regulation and security policies. They propose a formal framework for regulating the establishment of dynamic coalitions in which coalitions are formed with the involvement of founders, constructors and oversight, and do not rely on the traditional notion of a super-administrator; their emphasis is on coalition delegation.

This work being part of project GridTrust (http://www.gridtrust.eu), we aim in the short term to apply the same approach to analyse conflicts of interest in the case of inter-enterprise knowledge management systems, since this is one of the applications being developed in the GridTrust project. In the medium term, we plan to use Event-B to model other security properties in VOs, in particular role-based access control [10] and continuous usage of resources [15]. We also plan to investigate further layers of detail in the model beyond the resource layer. In particular, we are interested in adding datasets to the model in which case it will be possible to express invariants about information flow.

