Indexed and fibred categorical concepts are widely used in computer science as models of logical systems and type theories. Here we focus on Hoare logic and show that a comprehensive categorical analysis of its axiomatic semantics needs the languages of indexed category and fibred category theory. The structural features of the language are presented in an indexed setting, while the logical features of deduction are modeled in the fibred one. Especially, Hoare triples arise naturally as special arrows in a fibred category over a syntactic category of programs, while deduction in the Hoare calculus can be characterized categorically by the heuristic deduction = generation of cartesian arrows + composition of arrows.

It is known that functors naturally preserve the structure, but they do not have to preserve logic properties. Usually, if one wants to preserve logical properties, a certain notion of universality has to be used. A widely used concept for providing this notion of universality is the concept of cartesian arrow. Although cartesian arrows are embedded in the definition of fibred categories, any indexed category also provides these cartesian arrows as well, albeit with more structural information [1,4].

Hoare logic [7] is presented in the literature in quite diverse ways. The weakest liberal precondition [3], for example, can be defined in a semantic way by predicate transformers or in a syntactic way. The semantics of programs can be defined by partial state transition functions or by predicate transformers. As the main result of the paper we show how all these diverse and divergent features of Hoare logic can be described in a smooth, systematic and uniform way using the language of indexed categories and the language of fibred categories. Our analysis shows that a highly appropriate way to deal with axiomatic semantics, at least in the format of Hoare logic, is to use both categorical tools in a way that the structural features of the language are presented in an indexed setting and the features of deduction in the fibred one. This underlines, especially, that a good understanding of the correlations between indexed and fibred concepts can be very helpful in order to present, analyze and use these logics in an appropriate way.

The paper is organized as follows. To provide a unified and common ground for our categorical analysis we recapitulate, first, in Section 2 basic concepts and constructions from domain theory, the IMP language, and Hoare Logic. We also provide a list with the essential categories used throughout the text. Section 3 analyzes the structural features of the Hoare logic by means of indexed concepts. Especially, we are concerned about a categorical account of the weakest liberal pre- condition. In Section 4 we transform, by means of the Grothendieck construction,

The traditional presentation of the structural features of Hoare logic, as outlined in Section 2.2, is essentially an indexed one. In the last section we have elucidated this observation by lifting the traditional presentation to a more general and structured presentation based on indexed categories. There are now, at least, two reasons to move from the indexed setting to a fibred one:

The traditional presentation of the structural features of Hoare logic is essentially an indexed one. We lifted this insight into a more general and abstract level by developing a categorical presentation of the structural features of Hoare logic based on indexed categories. We outlined that the categorical presentation paves naturally a way for an extension of Hoare Logic from the traditional one program (component) setting into a multi-program (compound system) environment.

By translating the indexed categorical presentation into a fibred presentation, we have been able to formalize precisely the intuition that Hoare triples are a kind of fibred entity, i.e., Hoare triples arise naturally as special arrows in a fibred category over a syntactic category of programs. Moreover, deduction in Hoare calculi can be characterized categorically by the heuristic

