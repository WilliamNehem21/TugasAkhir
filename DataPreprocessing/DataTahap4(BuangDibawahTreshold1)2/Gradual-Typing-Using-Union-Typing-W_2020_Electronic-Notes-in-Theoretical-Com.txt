Commonly, programming languages can be broadly categorized according to their typing as static or dynamic. Nevertheless, there are other typing classifications that allow to mix typing features between both static and dynamic extremes, such as hybrid typing and gradual typing [15]. In particular, gradual typing languages allow programmers to make use of static and dynamic typing, and thus, obtaining the advantages that both represent.

In dynamic typed languages (such as Racket, Scheme or Lisp), an identity function can be declared as (lambda(x)x). In this declaration it is only stated that the type of x is unknown at this very moment. Later, during run-time, the type of x must be known. Notice that as it is an identity function, the type of the return value x can be only known until the type of the argument x is already known. In a gradual typing system, the above declaration should have a type that represents the notion of typing in run-time but in compilation time and hence a type consistency notion is essential.

Robustness of usual extensions of functional languages are based on the preser- vation of fundamental properties such as security. A meta-theory, as presented by Toro and Tanter [19] allows to extend a language into a gradual one in a safe man- ner: the gradual union of types and the unknown type ? are combined through the Abstract Gradual Typing (AGT) methodology. The AGT is based on abstract interpretation due to Cousot and Cousot [4], for a sound abstraction using Galois connections. Abstract Interpretation describes the computations made in a given system but in a different universe. For example, the elements in a program and their operations can be modeled in another language, preserving their semantics.

We present an extension of a functional language with records. Such an structure allows the programmer to manipulate expressions that could have different types. The gradual extension is carried out with gradual union types, which are intended to preserve the safety property. In this paper the extension of the type system is provided in order to understand the abstraction behind the AGT methodology, as proposed by [19].

Toro and Tanter combine these two proposals into a Gradual Union Typing (GUT) approach, in which it is possible to have the two different types of union: disjoint or tagged union types, and untagged union types. Mixing tagged and un- tagged unions in a language is named as optimistic type checking to ensure that statically any term will have a type. In particular, optimistic type checking means that some statement is well typed without the occurrence of any explicit projection or case analysis.

Disjoint union types or tagged unions (T1 + T2) denote values of different types. They are called disjoint because some elements are explicitly tagged, so the type system recognizes the type of each element. Hence, it guarantees and ensures the type of each element during compilation and execution time.

Toro and Tanter, based on the AGT methodology, propose static semantics for a Gradual Typed Functional Language, which make use of gradual unions and un- known typing. The notion of gradual union types is to restrict the imprecise types to denote a finite number of static types [19]. Such a semantic is based on the Simply-Typed Functional Language (STFL), which is statically typed.

This paper extends the GUT by Toro and Tanter with records. A record is a data- type that describes variables (called fields) and their values. Fields possibly have different types. Some programming languages use records to define new types, and therefore, are able to extend the language [6,12]. A record is composed by one or more labels, here denoted as l. Each label has an assigned term, which also has a type.

The type setting here provides a static extension using records for the study of Gradual Union Typing, as presented by Toro and Tanter in [19]. This approach contributes to the study of the theoretical perspective for the foundations of pro- gramming languages. Adding records to a functional language allows to create new variants of types, using them as basic types predefined in the language, for a richer and more versatile language. Extending the methodology for languages with gradual typing helps to combine the advantages of using both static and dynamic typing, while preserving the properties of consistency and security in it.

A related work from Garcia, Clark and Tanter [7] proposes an extension of a type system with records using subtyping, and formalizing a relation of consistency on gradual typing language, by following the methodology proposed by Siek and Taha [15]. Our approach here differs from theirs as we rely on gradual union types. Here it is already provided a static formal system. Further, the dynamic formal part, demonstrating its static and dynamic semantics properties, is aimed as future work. The main goal is to obtain a gradual system with records using the so-called Threesome Calculus [17] for the dynamic semantics.

