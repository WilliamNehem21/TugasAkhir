Implementation relations play a fundamental role in the study of complex interact- ing systems because they allow us to prove that a given concrete system implements an abstract specification. Formally, an automaton is said to implement another au- tomaton if the set of traces or the observable behavior of the first is subsumed by that of the latter. Many different kinds of implementation or abstraction re- lations and their corresponding proof methods have been developed for timed [1], hybrid [17,30,29] and probabilistic automata [19,20,5,2,28,4].

As we mentioned, Jou and Smolka [16] first introduced the idea of formalizing sim- ilarity of traces by using metrics. Approximation metrics for probabilistic systems in the context of Labelled Markov Processes (LMP) have been extensively inves- tigated and many fundamental results have been obtained by Desharnais, Gupta, Jagadeesan and Panangaden [10,8,9] and by van Breugel, Mislove, Ouaknine, and Worrell [35,32,33,21,22]. The first set of authors introduced a Kantorovich-like met- ric for LMPs and presented the logical characterization of this metric. Van Breugel et al. have presented intrinsic characterizations of the topological space induced by the above metric. This characterization is based on a final coalgebra for a functor on the category of metric spaces and nonexpansive maps. Another interesting facet of this body of work is the polynomial time algorithm for computing the metric pre- sented by van Breugel and Worrell in [34]. For Generalized Semi-Markov Processes (GSMP) [15], Gupta, Jagadeesan and Panangaden have developed pseudo-metric analogues of bisimulation and have shown that certain observable quantitative prop- erties are continuous with respect to the introduced metric. Kwiatkowska and Nor- man have developed the denotational semantics for a divergence-free probabilistic process algebra based on a metric on probability distribution over executions [18]. In the non-probabilistic setting, Girard and Pappas [13,12] have developed the theory of approximate implementations for Metric Transition Systems (MTS). The

state space and the space of external actions of an MTS are metric spaces. Based on these metrics, the authors develop a hierarchy of approximation pseudo-metrics between MTSs measuring distance between reachable sets, sets of traces and bisim- ulations. The authors have also developed algorithms for exactly and approximately computing these metrics.

In the next Section, we give the basic definitions and results from the task-PIOA framework. We refer the reader to [14] for a detailed treatment and for all the proofs. In Section 3 we introduce uniform approximate implementations for closed task-PIOAs and we propose expanded approximate simulations as a sound method for proving uniform implementations. In Section 4, we discuss the need for discount- ing when measuring discrepancies in trace distributions. This leads to the notion of discounted approximate implementations and we propose a second type of sim- ulations for proving such implementation relationships. Finally, in Section 5 we outline how our results extend to general (not necessarily closed) task-PIOAs and conclude with a discussion on future research directions. Proofs of auxiliary lemmas and formal statements of some relevant results from [5] appear in the Appendices.

Now we give the definition of exact simulation relation for task-PIOAs. Note that the simulation relations do not just relate states to states, but rather, probability measures on executions to probability measures on executions. The use of measures on executions here rather than just executions is motivated by certain cases that arise in proofs where related random choices are made at different points in the low-level and high-level models (see, e.g., proof of OT protocol in [6]).

Metrics over probability distributions have been a subject of intense research in probability theory (see, for example, the books [26] and [11]). Because of their applicability to probabilistic safety and termination proofs, in this paper we use the uniform metric and the discounted version of the uniform metric (see Section 4), to define approximate implementations for task-PIOAs. As we shall see in the next section, the soundness of expanded approximate simulations rely only weakly on the choice of the metric. In fact, with the appropriate changes in the definition of EAS, it is sound for proving approximate implementations with respect to any metric satisfying Proposition 3.2.

simulation functions that we would obtain would be sound for proving approximate implementations. However, such non-expanded approximate simulation functions are be considerably less powerful than EASs. The key motivation for generalizing simulation relations to their current expanded form, first came from the verification of the Oblivious transfer protocol in [6]. In this section, we present a version of this example adapted to our setting of approximate implementations.

In our formulation of expanded approximate simulations, a simulation proof re- duces to finding an optimal joint distribution satisfying certain constrains on the marginals. This is closely related to the well known Kantorovich optimal trans- portation problem. For well-behaved classes of simulation functions, therefore, we would like to explore the possibility of proving approximate simulations by solving optimization problems.

In the future, we want develop a new kind of Discounted Expanded Approximate Simulations that combines the features of EAS and DAS. We would also like to develop simulation based proof techniques where the simulation functions are func- tions of distributions over states and not functions of distributions over execution fragments. Finally, we would like to extend the notion approximate implementa- tions to the Probabilistic Timed I/O Automaton framework [24].

