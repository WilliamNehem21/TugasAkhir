Multiformalism modeling has shown to be a valuable technique to cope with the complexity of the constraints that apply to specifications of computer-based systems state of the art. Multiformalism techniques help modelers and designers by providing a more (natural and) convenient approach in the specification process and in analysis of performance. Although their application does not nec- essarily provide an advantage in the solutions of the models, this paper shows how a compositional multiformalism modeling approach can leverage the power of product-form solutions to offer both efficient solution and specification of models for complex systems.

State space based model analysis techniques suffer from the so-called state space explosion problem. Modularity has been exploited differently in lit- erature to confront this problem, suggesting that a proper management of submodels composition can generate solutions efficiently. Simulation can play the role of the silver bullet at the cost of possibly longer computing time. In a number of cases it is possible to generate efficient analytical solutions either by relying on specific characteristics of the composition structure, or by intro- ducing proper artifices. This is the case for product-form solution techniques, that offer a number of known cases in which the analysis of a complex model can be obtained by analyzing its components.

In this paper we show how product-form solution theory easily couples with multiformalism compositional modeling techniques, to obtain a modeling and analysis framework that offers modeling flexibility and efficient solutions. The contribution of this paper is founded on the design and implementation of an extensible modeling and solution framework, supported by a tool solving multiformalism Markovian models with a threefold solution mechanism. The tool automatically verifies and performs a product-form solution. If this is not available it provides a state space based analytical solution or a simulation as final backup tool. The research extends the SIMTHESys framework and

The approach proposed in this paper leverages the existing modularity in multiformalism models and the possibilities of the SIMTHESys framework to exploit Markov chains product-form solutions detection in a multiformalism solution process. The SIMTHESys framework supports the design and devel- opment of user-defined formalisms, for which a proper (multi)formalism solver is automatically generated. The framework defines a formalisms design tech- nique, based on metamodeling and on a mechanism to specify the structural and dynamic characteristics of every element of a formalism [4,6,5]. Solver generation is based on the analysis of the formalism description and on a set of basic solving engines, where basic should be intended as able to implement fundamental solving techniques. In this paper, the Markov chain solving en- gines (analytical and simulative) are used, together with a new solving engine that benefits from the INAP algorithm and the MARCAT Theorem.

The set of specifications that a (multi)formalism should satisfy to apply MARCAT to the model will be presented by developing a proper example high level formalisms. We introduce a new formalism family, that isa new set of features that a formalism should have to be able to be solved using both standard Markov chain solving engines, and with the MARCAT product-form computation. The set of features that characterize this family of formalism is inspired by the features available in Continuous Time Stochastic Automata Networks with Master/Slave synchronization [10]. This new formalism family will be called Labelled Exponential Events Formalisms. Formalisms belonging to this family can be conveniently thought as Labelled Exponential Automata. The approach is implemented by using SIMTHESysER, the SIMTHESys framework solver generation tool, and INAP, a tool for automatic detection of many product-form solutions based on the MARCAT algorithm. Within this approach, the proposed formalism family allows i) the SIMTHESys framework to generate product-form solution based optimized solvers and ii) INAP to support high level formalisms, extending its application field to more complex models. Moreover, a further result of the integration of the two tools is the enrichment of the benefits of MARCAT with the automatic verification of

The state of the sub-models is simply defined by the occupancy of the queues. The local events are used to account for ends of service in a queue, and for an arrival to the system. Active events are used to consider departures from the system from sinks that have an associated label (active sinks), and arrivals to the system coming from an active source. Passive events are used to model both passive arrivals and passive departures: the former corresponds to arrivals in the system triggered by the firing of an active transition belonging

to a different sub-model. The latter to customer immediately leaving a system due to an interrupt coming from a different source. Moreover, queues, sources and sinks can be blocked when the total queue length of neighbour stations (but always in the same sub-mode) become larger or smaller than a given trheshold thanks to Test and Inhibitor Arcs.

The queueing network semantic is implemented in this way. First enabled events are determened by looking at the size of the queue of the various sta- tions. All Source and Active Source primitives always generate an event (a local event for the former, and an active event for the latter). Passive Sources generate passive events. Queue primitives generate events if the corresponding queue has at least one customer. The event is local if the destination of the queue is another queue or a Sink, it is active if the destination is an Active Departure, and passive for Passive Departures.

The stochastic Petri nets formalism has four node elements: the Place element, characterized by its marking; the Transition element, characterized by its rate; the Active Transition element, characterized by its rate and the label it exports; the Passive Transition element, the rate of which depends on the bound label. The formalism has arc elements analogously to the queu- ing network formalism. Active Transitions behave exactly has standard SPNs timed transition, but they also expose a label when they fire. Passive Transi- tions instead, are completely governed by the active events happening in other sub-models. Petri Nets are implemented by generating an event for each en- abled transition. In particular, the type of the event generated corresponds to the type of transition: local events for standard Transitions, active events for Active Transitions and passive events for Passive Transitions.

provide a formalism independent cooperation scheme that allows the synchro- nization among sub-models, specified using different modeling languages. The sub-models are connected using cooperation arcs in the enclosing main model. Each cooperation arc has associated a set of labels and it is directed from a source sub-model to a destination sub-model: whenever an active events, with the corresponding label, happens in the source sub-model, it triggers enabled passive events, associated with the same label, in the destination sub-model.

A data stream processing system for the detection and monitoring of seis- mic phenomena is structured in two main subsystem: a pre-processing sub- system and a critical detection subsystem. The first is composed of two stages, each of which processes batches with a temporally variable compu- tation, whose duration is exponentially distributed. Both the stages receive different jobs to be processed, with an exponentially distributed rate. In ad- dition, the second receives part of the output batches of the first and some of the jobs processed by the second are sent back to be processed by the first, while the others constitute the output of the subsystem. Each of the stages can buffer a number of timestamped jobs. A stage that is not allowed to dis- patch a job to the next one has to reprocess the data, to account for the time elapsed.

The second subsystem processes the output jobs of the first one, together with additional jobs that are sent to it. To protect this critical subsystem, a protection mechanism can shut it temporarily off when the number of jobs is greater than a fixed threshold and an overload condition is detected. In such cases, the arrival of new jobs is blocked and losses occur. The protection mechanism is supplied by a proper subsystem.

The product-form analytical solution of the case-study model depends on the choice of some rates as illustrated by Proposition 3.1. Although this is somehow disappointing from a modelling point of view, the importance is not only theoretical. For instance, a product-form parameterisation of the model could be applied to validate the simulation results, or in case the rate conditions are not satisfied, an approximated analysis could be carried out.

For what concerns Stochastic Automata Networks and product forms, this topic has been addressed in several works, such as for example [10,12]. The topic of our work is however quite different: instead of exploiting relations among tensor algebra and product forms, using SANs as an tool to express the dynamic of the cooperating models, we are interested in exploring the relations among product forms and the evolution of a submodel as determined by an high level tool such as SIMTHESys. In our approach, the SAN-like structure has been mainly used as an interchange format to interface the model analysis tool with the underlaying solving engine.

In this paper we have presented a technique to identify product form solutions in a multiformalism framework. The check for the existence and the compu- tation of the solution is performed during the generation of the state space of the submodels that composes the main model under study. State space is generated using behaviors that are associated with formalism specification. This provides a greater flexibility and allows the application of product form solutions to new formalism without the development of new tools.

