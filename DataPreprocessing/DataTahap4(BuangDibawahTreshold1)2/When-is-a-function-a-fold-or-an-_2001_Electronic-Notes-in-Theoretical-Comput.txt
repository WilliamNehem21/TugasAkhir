Given the interest in fold and unfold, it is natural to ask when a program can be written using one of these operators. Surprisingly little is known about this question. This article gives a complete answer for the special case in which programs are total functions between sets. In particular, we give a necessary and sufficient condition for when a set-theoretic function can be written using fold, and a dual condition for unfold. The conditions are simple, practically

ject code without sacrificing the structure and clarity of the source code. Our results can be used to determine when two phases cannot be fused to a fold or an unfold. It might be possible to use an automatic testing system such as QuickCheck [2] to find counterexamples to the appropriate inclusions.

We are very grateful to Lambert Meertens, whose suggestions lead to a sub- stantial simplification of our proofs. We also thank the anonymous referees for their useful comments. Graham Hutton was supported by EPSRC grant Structured Recursive Programming ,and together with Thorsten Altenkirch by ESPRIT Working Group Applied Semantics.

