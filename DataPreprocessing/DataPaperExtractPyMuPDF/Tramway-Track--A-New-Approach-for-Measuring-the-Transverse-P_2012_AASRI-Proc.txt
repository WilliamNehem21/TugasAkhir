 AASRI Procedia  3 ( 2012 )  451 – 456 
2212-6716 © 2012 The Authors. Published by Elsevier B.V. 
Selection and/or peer review under responsibility of American Applied Science Research Institute
doi: 10.1016/j.aasri.2012.11.071 
 
Tr
Abst
Mon
of th
the t
based
allow
 
© 20
Scie
 
Keyw
1. In
T
equi
trave
verti
T
taken
techn
 
* 
E
20
ramway 
Marco 
a,cF
tract 
nitoring the wea
he light rail tran
transverse profi
d on the “inform
w to obtain the e
012 Published
ence Research 
words:  Tramway 
ntroduction 
The rail wear 
ipment (e.g. m
els [1].  More
ical, horizonta
The following 
n from Tram
niques applied
 
Corresponding a
E-mail address: m
012 AASRI 
Track: a
Guerrieria*
Faculty of Engine
b,d Faculty of En
ar condition of t
nsport system. T
file of rails in o
mation” contain
exact geometric
d by Elsevier B
Institute 
track, rails profil
and other im
miniprof devic
e recently the p
al and 45° rail
paragraphs d
mway lines, an
d on Grooved
author. Tel.: +39 3
marco.guerrieri@t
Conference
a New A
Profile
*, Giusepp
eering, University
ngineering, Unive
the tramway sup
The purpose of 
operation by m
ned in high-res
c profile of the 
B.V. Selection
e measurement, i
mperfections o
ce) or diagno
potentialities 
l wear have be
describe the r
nd aimed to d
d tram rail and
333.9993614. 
tin.it 
e on Model
Approach
 of Worn
pe Parlab, D
y of Enna “Kore
ersity of Palermo,
perstructure is o
this paper is to
means of image
solution photog
rails and theref
n and/or peer r
image analysis 
on tramway tr
stic trains wh
offered by rea
een pointed ou
esults got fro
determine the
d UIC 60 rail.
ling, Identif
h for Me
n-Out R
Dario Ticali
”, Cittadella Uni
, Viale delle Scien
one of the key p
o suggest a new
e-processing te
graphic images 
fore to measure 
review under 
rack can be b
hich perform t
al-time image
ut [2], [3], [4],
om laboratory 
e transverse p
fication and
easuring
Rails 
ic, Ferdinan
versitaria, 94100
nze, 90144 Paler
points to guaran
w non-conventio
chnique. This 
of tracks and o
the state of the
responsibility
both monitore
track laser sc
e processingte
, [5], [6]. 
analyses per
profile of the 
d Control 
the Tran
ndo Corrie
0 Enna, Italy 
rmo, Italy 
ntee an adequat
onalprocedure f
methodologica
on specific algo
e rail-head extra
y of American
ed through low
ans while mo
echniques to d
rformed on w
railhead by 
nsverse 
ered 
te safety level 
for measuring 
al approach is 
orithms which 
ados wear.  
n Applied 
w-efficiency 
onitoring rail 
determine the 
orn-out rails 
stereoscopic 
Available online at www.sciencedirect.com
© 2012 The Authors. Published by Elsevier B.V. 
Selection and/or peer review under responsibility of American Applied Science Research Institute
Open access under CC BY-NC-ND license.
Open access under CC BY-NC-ND license.
452  
 Marco Guerrieri et al. /  AASRI Procedia  3 ( 2012 )  451 – 456 
2. Image processing for tramwayrails profile measurement 
The primary goal of image processing is to make the information content of a given image explicit with 
regard to the reference application type. All the segmentation methods are defined to process an image 
through specific algorithms which divide that image into distinct and uniform regions according to a set 
feature. This operation is the first step to distinguish the region enclosing the object of interest (ROI, region of 
interest) from the other parts or the background. After analyzing the image of the rail the segmentation 
procedure detects the image contour or “edge” through Canny’s algorithm [7]. Only afterwards this procedure 
solves the problem to compare the two rail profiles (worn-out and new) and to measure - for example - the 
vertical, horizontal and 45° deviations.The image edge detection phase is necessary in that digital images are 
definitely realized by high-resolution equipment but some image pixels could be affected by noise thus 
making the rail edge detection less accurate. More specifically, it is essential to detect the exact position of the 
image edge even in those parts where it cannot be distinguished, perceptually and/or numerically, from the 
clear background. Canny’s algorithm examines the behavior of the gradient operator applied to a noisy 
contour. The algorithm establishes that the pixel located at position (i,j) on the generic chromatic plane p† of 
the image A(i,j,p) is a Canny contour pixel if the intensity value of the pixel examined – A(i,j,p) – appears to 
be superior to given threshold values as established by Canny [7], based upon hysteresisthresholding and non-
maximum suppression algorithms.The rail edge points obtained by Canny algorithm, denoted with {C}, are 
illustrated in the binary image of Fig. 2, which is an enlargement of a part of the original image (cf. Fig. 
1).For each contour point {C} some clearer pixels which do not belong to rail microwrinkles can be detected 
near its edge. For every chromatic plane of the analyzed image, a median filter is applied by following this 
relation: 
M=A*B 
 
 
         
 
    (1) 
where template B, in this specific case, has a definite dimension [3x3] and a coefficient equal to (1/9). 
 
 
 
 
 
 
(2) 
Relation (1) represents the pixel mean of the neighboring eight values. The implemented procedure 
iteratively applies the previous filter so as to spread the numerical values of all the pixels which certainly 
belong to a colorimetrically homogeneous region, located at either the background or rail. Therefore the idea 
is very simple: the image at time t (iteration step) derives from the initial image convolved with the median 
filter, or: 
 
  
 
 (3) 
 
where (i,j) are the pixel position indices within the original matrix A and “×” represents the convolution 
operator. Moreover, since the expanded mean filter (3) tends to remove the information on the edge details, 
this effect should be mitigated by applying another operator which, instead, emphasizes the rail edge. 
 
 
†“p” is plane index: p=1 Red plane, p=2 Green plane, p=3 Blue plane 
453
 Marco Guerrieri et al. /  AASRI Procedia  3 ( 2012 )  451 – 456 
 In light of the above, downstream from the previous convolution (3), an edge extraction operator called 
rangeoperator was applied[8], [9]. For each deviation (i,j) from template B, the value of the central pixel can 
therefore be formalized as follows: 
-
 
 
 
(4) 
 
To this end the range values of every [3x3] boundary of all the pixels belonging to the original image A 
have been sought and highlighted. The following equation (5) formalizes the previous difference operation. 
Therefore, given a generic iteration step t, the suggested algorithm is able to lower the pixel intensities which 
mark the rail edge of the plane section. 
 
  
 
(5) 
 
It can easily be noticed that, with regard to any direction taken along the rail edge, while relation (3) tends 
to make numerically uniform the pixel value on the point edge under consideration, relation (4) on the same 
boundary lowers the values in the darkest regions and therefore colorimetrically near the rail. 
Then we detected some uncertainty areas along the point edges where the profile in the eight directions 
marked a rough variation or, in any case, a skip over a precise threshold level, localized by three constants [Ti, 
To, Ts]. Such constants are automatically determined by the algorithm in relation to the maximum, minimum 
and mean deviation values of the two profiles. In these areas, for each iterative step t the pixel values fill in the 
matrixes {Si} and {Gi}, well distinct from the matrixes {S} and {G} which instead are almost certainly 
background and rail. Therefore, at the iterative step t we have: 
  
 
  
 
(6) 
) 
 
  
 
(7) 
 
           
 
 
(8) 
  
   
 
 
  (9) 
 
The suggested algorithm is able to define the matrix CF(i,j) of the final edge, which is formalized by the 
following relation: 
 
 
 
 
 
(10) 
where F is the function which formalizes the belonging of the pixel to the rail boundary or to the 
background. Its superimposition on the original image is illustrated in Figure 5. 
 
 
 
 
 
Fig.1.Grooved Tramway 
Rail image 
Fig.2.  Binary image 
Fig.3. Final result of the 
algorithm suggested 
Fig.4. Binary encoding of the 
previous rail part 
It should be underlined that, downstream from the previous thresholding operations (cf. eq. 9), the 
procedure is also able to extrapolate not only the exact contour position (cf. eq.10), but also a first object-
based binary encoding which is formalized as follows: 
 
454  
 Marco Guerrieri et al. /  AASRI Procedia  3 ( 2012 )  451 – 456 
  
  
 
 
(11) 
 
The result which can be obtained by applying the previous relation to the rail part in Fig.1, is illustrated in 
Fig. 4. This binary encoding is properly refined on the basis of some binary morphology operations. In fact, by 
carefully examining Figure 4 we note that this binary selection has inside some cavities which do not allow to 
create a binary large object or blob constituted by close and connected pixels; therefore it requires the 
application of some mathematical morphology operations [10] which allow to modify the original information 
and to obtain the matrix BW illustrated in Fig.5 with regard to the whole rail image, which clearly shows a 
complete connectivity between neighboring pixels. 
 
 
Fig.5. Morphological Closing Operations for 
the rail under examination 
Fig.6. Cartesian coordinate system for 
Grooved rail 
Fig.7. Polar coordinate system for UIC 
Rail 
3. Results and discussion 
For the purpose of this research, we further measured some geometrical sizes which characterize the binary 
object shape previously defined. The most widespread method to encode a binary object edge, originally 
developed by Freeman [11], is commonly known as chaincode and consists in storing a list of points. Once 
determined the coordinates of a point in the object border, the successive point is detected only by following 
the direction which connects pixel barycentres [12]. Therefore, once detected the blob (binary large object) 
and its contour coordinates, it is simple to calculate the centroid (M) representing the center of mass (center of 
gravity). We then could determine the centroid position (xoj, yoj) of the worn-out rail and its contour 
coordinates, by means of Freeman’s algorithm developed on the result formalized by relations (10) and (11) 
after carrying out, as said above, the proper morphological closing operations (cf. Fig.5). These coordinates 
are properly recorded in the vector WR (worn-out rail) of dimension [n x 2], where n is the Cartesian axis 
number of the edge.  The algorithm then adds the profile coordinates of the unworn rail (Grooved rail and 
UIC 60 rail have been taken into consideration) and carries them to the same image scale previously 
determined. For the UIC 60 rails the distances between the two profiles have been determined by the 
intercepts of the straight lines from the centroid of the profile IR, with regard to this last boundary Rg, whose 
domain is obviously perfectly parallel to the previous one. The procedure allows to get the deviation between 
the two compared profiles (worn-out and unworn) with regard to a 360° rotation of  the straight line coming 
out of the rail centroid and, therefore, produces output information on the wear condition of the whole rail 
profile [3],[4], [13], [14].  The following diagrams illustrates the trend of the deformation of a Grooved rail 
and UIC 60 rail. 
 
x 
y 
455
 Marco Guerrieri et al. /  AASRI Procedia  3 ( 2012 )  451 – 456 
Fig.8
Rail head extrados wear [mm]
-6
Rail-head extrados wear  [mm] 
. Grooved  Rail w
Fig. 9. UIC 6
-0.6
-0.5
-0.4
-0.3
-0.2
-0.1
0
0
[
]
-0.6
-0.5
-0.4
-0.3
-0.2
-0.1
E-16
0.1
20
3
wear diagram (Ca
60  Rail wear diag
20
30
40
Angle
Rail wear dia
artesian coordinat
gram (  = 20°-70
40
50
60
agram
calculated va
Interpolated d
te system, see Fig
°)
x [
Rail wea
70
alues
data
Rail head extrados wear [mm]
g.6) 
Fig. 10. U
60
mm] 
ar diagram
-0.6
-0.5
-0.4
-0.3
-0.2
-0.1
-6E-16
0.1
110
Rail-head extrados wear  [mm] 
UIC 60 Rail wea
80
calcul
interp
120
130
A
Rail w
ar diagram (  = 11
100
lated values
polated data
140
150
Angle 
wear diagram
calculated
interpolat
10°-160°) 
120
0
160
d values
ted data
456  
 Marco Guerrieri et al. /  AASRI Procedia  3 ( 2012 )  451 – 456 
4. Conclusions 
This research has examined a new procedure based on the imageprocessingtechniquefor determining the 
rail wear on tramway track. Thisnew non-conventional method, based on the analyses of high resolution 
photo images, has required the design and implementation of specific mathematical algorithms suitable to 
provide the cross section geometry of a generic worn-out rail and the measurements of its relevant deviations 
in comparison with new rails of the same type (Grooved rail and UIC 60 rail). At present, the procedure can 
be only used for the lab analyses showing high precision in the wear evaluation as well as great rapidity in 
being performed. So, it is very likely that a conventional laser monitoring system will be combined with a 
digital one in the future.  
References 
[1]Esveld, C. (2001). Modern Railway Track-Second Edition.  MRT Productions. 
[2] Alippi C., Casagrande E., Scotti F. and Piuri V. (2000). Composite Real-Time Image Processing for 
Railways Track Profile Measurement. IEEE Transactions on instrumentation and measurement, Vol. 49, n. 3. 
[3]Guerrieri M., Parla G. and Ticali D. (2012). Mono and Stereoscopic Image Analysis for Detecting the 
Transverse Profile ofWorn-Out Rails.  Procedia - Social and Behavioral Sciences. ISSN: 1877-0428 (SIIV 
2012 “Sustainability of Road Infrastructures” Conference proceedings, 29-31 October 2012, Roma, Italy) – in 
press. 
[4]  Guerrieri M., Parla G. and Ticali D. (2012). A theoretical and experimental approach to reconstructing the 
transverse profile of worn-out rails. IngegneriaFerroviaria , January 2012, (pp. 23-37), ISSN: 0020-0956. 
[5]  Guerrieri M., Ticali D. (2012). Sustainable mobility in park areas: the potential offered by guided 
transport systems. International Conference on Sustainable Design and Construction, March 23-25, 2011, 
Kansas City, Missouri, ASCE (2012). Volume: ICSDC 2011, Integrating Sustainability Practices in the 
Construction Industry, pp. 661-668, ISBN 9780784412046, ASCE Conf. Proc. doi:10.1061/41204(426)81. 
[6]  Guerrieri M., Ticali D. (2012). Design standards for converting disused railway lines into greenways. 
International Conference on Sustainable Design and Construction, March 23-25, 2011, Kansas City, Missouri 
ASCE (2012). Volume: ICSDC 2011, Integrating Sustainability Practices in the Construction Industry, (pp. 
654-660),  ISBN 9780784412046,  ASCE Conf. Proc. doi:10.1061/41204(426)80.  
[7]  Canny  J. (1986). A computational approach to edge detection.  PAMI(8), No. 6, (pp. 679-698). 
[8]  Gonzales R.C., Woods R. E. (2002). Digital Image Processing 2nd ed.  Prentice Hall, Upper Saddle River, 
New Jersey. 
[9]  Gonzales R.C., Woods R.E, Eddins S.L. (2004). Digital image processing using Matlab. Prentice Hall,  
Upper Saddle River (New Jersey). 
[10]  Serra J. (1982). Image analysis and mathematical morphology. London, Academic Press. 
[11]  Freeman, H., (1961). Computer Processing of Line Drawing Images. Computing Surveys. 6(1):57-97. 
[12]  TrouillotX., Jourlin M., PinoliJ.C. (2008). Geometric parameters computation with freeman code. 
Submitted to Image anal stereol, 6 pages. 
[13] Corriere F., Di Vincenzo D. (2012).  The Rail Quality Index as an indicator of the “Global Comfort” in 
optimizing Safety, Quality and Efficiency in Railway Rails. Procedia - Social and Behavioral Sciences. ISSN: 
1877-0428 (SIIV 2012 “Sustainability of Road Infrastructures” Conference proceedings, 29-31 October 2012, 
Roma, Italy) – in press. 
[14]  RFI (2002). Procedura operativa subdirezionale DMAIMSD P0 IFS 002 0 del 16.01.02, Rilievi della 
geometria del binario e relative disposizioni manutentive, Rete Ferroviaria Italiana (ItalianRailwayNetrwork). 
 
