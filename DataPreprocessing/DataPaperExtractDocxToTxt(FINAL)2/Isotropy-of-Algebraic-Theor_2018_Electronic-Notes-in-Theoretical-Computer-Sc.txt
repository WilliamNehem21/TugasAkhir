Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 341 (2018) 201–217
www.elsevier.com/locate/entcs
Isotropy of Algebraic Theories
Pieter Hofstraa,1 Jason Parkera,2 Philip Scotta,3
a Department of Mathematics and Statistics University of Ottawa
STEM Complex, 150 Louis Pasteur, Ottawa, ON, K1N6N5, Canada

Abstract
To every small category or topos one may associate its isotropy group, which is an algebraic invariant capturing information about the behaviour of automorphisms. We investigate this invariant in the partic- ular situation of algebraic theories, thus obtaining a group-theoretic invariant of algebraic theories. This invariant encodes a notion of inner automorphism relative to the theory. Our main technical result is a syntactic characterization of the isotropy group of an algebraic theory, and we illustrate the usefulness of this characterization by applying it to various concrete examples of algebraic theories.
Keywords: Isotropy groups, algebraic theories, toposes.

Introduction
In [6], the authors introduce and study a new group-theoretic invariant for Grothendieck toposes called isotropy. In loc. cit. it is explained how the isotropy group of a topos has the universal property that it acts canonically on every object of the topos, in such a way that every morphism is equivariant with respect to these actions, and such that it acts on itself by conjugation. More recent work [7] extends this study to small categories, making the phenomenon part of elementary cate- gory theory. In particular, it explains how the isotropy group of a small category can be regarded as a solution to the “problem” that the assignment C '→Aut(C) (the automorphism group of an object C) is generally not functorial. Somewhat more precisely, the isotropy group of a small category is a functor ZC : Cop → Grp equipped with, for each object C of C, a comparison morphism ZC(C) → Aut(C). Independently, and motivated by the categorical analysis of parametric polymor- phism, Freyd [5] has investigated the concept of core algebras. In his terminology,

1 Email: phofstra@uottawa.ca. Research partially supported by an NSERC Discovery Grant.
2 Email: jpark181@uottawa.ca Research partially supported by the NSERC Discovery Grants of Hofstra and Scott.
3 Email: phil@site.uottawa.ca. Research partially supported by an NSERC Discovery Grant.

https://doi.org/10.1016/j.entcs.2018.11.010
1571-0661/© 2018 The Author(s). Published by Elsevier B.V.
This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/4.0/).

the core of a category (if it exists), is a monoid which, informally speaking, rep- resents the polymorphic unary operations present in that category. In the case of Grothendieck toposes, Freyd shows that the core always exists. Moreover, it can be shown that the isotropy group is the group of invertible elements of the core, and hence that we can interpret the elements of the isotropy group as polymorphic automorphisms in the topos.
For Grothendieck toposes, there is also an interpretation of the isotropy group in logical terms. For every Grothendieck topos E there exists a (geometric) theory T (unique up to Morita-equivalence), such that E is the classifying topos B(T) of T. In particular, this means that E contains a universal T-model. The isotropy group of E is then the automorphism group of this universal model. In work by Breiner [2] it has also been shown that if we represent a topos E = B(T) as a topos of sheaves on the (topological) groupoid of T-models, then the isotropy group is the sheaf of groups whose stalk at a T-model M is the group of deﬁnable automorphisms of M . Here, an automorphism of M is called definable when there is a formula φ(x, y) in the language of T, possibly with parameters from the model M , such that φ(x, y) is a T-provably functional relation whose interpretation is the given automorphism. In the present paper, we investigate the concept of isotropy in the context of algebraic theories, or, equivalently, finitary monads. Using Gabriel-Ulmer duality, it is easily seen that the isotropy group of an algebraic theory T can be understood in terms of automorphisms in the category fpT-Mod of finitely presentable T-models. In the specific instance of the theory of groups, the following result by Bergman [1], which aimed at giving a categorical characterization of inner automorphisms in the
category of groups, is the starting point for our analysis:

Theorem 1.1 (Bergman) For any group G, the automorphism group of the for- getful functor G/Grp → Grp is isomorphic to G, via the isomorphism that relates an element g ∈ G to the natural automorphism whose component at s : G → H is the inner automorphism x '→s(g)−1xs(g) of H.

This result remains valid when we replace groups by finitely presentable groups; it can then be used to fully characterize isotropy of the algebraic theory of groups in terms of conjugation. Therefore, there is a sense in which isotropy of a general algebraic theory can be thought of as specifying a notion of formal conjugation for that theory. Alternatively, it may be regarded as a notion of inner automorphism. Our main contribution in this paper is a purely syntactical description of the isotropy group of an algebraic theory, inspired by and generalizing the methods used by Bergman. This result allows us to identify elements of the isotropy group as certain (equivalence classes of) words. We then apply this result in the context of several examples including groups, monoids, Abelian groups, and lattices to give
explicit calculations of the isotropy groups of these theories.
The research presented in this paper is part of the PhD project of the second author. (See also the section on Future Research.)

Basic Definitions
Given a category C, the assignment
C '→Aut(C)
is in general not functorial; given a morphism f : D → C there is no canonical group homomorphism Aut(C) → Aut(D), unless f is an isomorphism. The isotropy group of C can be thought of as solving this “problem”. Consider the isotropy functor Z = ZC : Cop → Grp:
C '→(ZC)= Aut(C/C → C),
assigning to an object C the group of natural automorphisms of the forgetful functor C/C → C. This assignment is functorial in C, and given α ∈ Aut(C/C → C), the component α1C : C → C is an automorphism of C. The other components αf : D → D are automorphisms making
αf
zD,

f	f
,	, 
C α1	zC,
commute. Finally, given another map g : E → D, we find that the diagram
 αfg 
zE,
g	g
, αf	, 
D 	zD,
f	f
,	, 
C α1	zC,
commutes. Thus an element α ∈ Z(C) is an automorphism of C, together with a specification of how to reindex this automorphism in a compatible way along morphisms into C. We refer to an element α ∈ Z(C) as an element of isotropy (at C).
When the category E is a Grothendieck topos (that is, a category of sheaves over a small site, see [8]), it happens that the functor Z : E op → Grp is representable: there exists a group object ZE internal to E with the property that for any object X of E , there is a bijective correspondence
(1)	ZE (X) ∼= E (X, ZE ).
This correspondence is natural in X, and hence gives an isomorphism of functors ZE ∼= E (−, ZE ). The group Z = ZE is unique up to isomorphism, and is called the isotropy group of E . We refer to [7] for details and basic theory. In the present paper, we will use the following fact:
Proposition 2.1 When E = SetCop , the isotropy group of E coincides with the isotropy functor ZC : Cop → Grp of the category C.
Note that in this situation, the isotropy group Z of E can be regarded both as an internal group object in E and as the “external” isotropy functor Cop → Grp of the

category C. Occasionally we overload notation and also write Z for its underlying
Set-valued presheaf.
When T is a theory, then a classifying topos for T is a topos B(T) for which there exists a natural bijective correspondence
(2)	Geom(E, B(T ))  Mod(T, E )
between the category of geometric morphisms from E to B(T) and the category of T-models in E . Here, E is an arbitrary cocomplete topos. It is well-known (see e.g. [8]) that every geometric theory admits a classifying topos (which is then automatically unique up to equivalence) and that every Grothendieck topos is the classifying topos of some geometric theory (which is then automatically unique up to Morita equivalence).
Now let T be an algebraic theory, that is, a theory whose underlying language consists of a single sort X, countably many variables of this sort, and function symbols of potentially all finite arities. The (non-logical) axioms of T are equations between terms of this language. Now let fpT-Mod be the category of all finitely presented set-based models of T and homomorphisms between them, where a set- based model of T is finitely presented if it is isomorphic to a free model of T on finitely many generators modulo finitely many relations on those generators. It is well known that the classifying topos B(T) of T is the category SetfpT-Mod of all covariant functors from fpT-Mod to Set. In other words, for any cocomplete topos E there is an equivalence of categories
(3)	Geom(E, SetfpT-Mod)  Mod(T, E )
between the category of geometric morphisms E → SetfpT-Mod and the category of T-models in E . Moreover, this equivalence is natural in E . It follows that SetfpT-Mod contains a universal T-model UT, which is simply the (underlying presheaf of the) inclusion functor fpT-Mod → T-Mod. Under the equivalence (3), a geometric mor- phism φ : E → SetfpT -Mod corresponds to the T-model φ∗UT. (See [8] for details.)
We may consider the automorphism group of this universal model, meaning the

subgroup of the exponential UUT
on those automorphisms which preserve the T-

structure. A priori it is not clear that this is a well-defined object of the topos
SetfpT-Mod, but in fact we have the following result (which in fact holds for any geometric theory T, not necessarily algebraic):
Theorem 2.2 The isotropy group of B(T) is isomorphic to the automorphism group of the universal T-model.
We remark that this result was first conjectured by S. Awodey, and has been known to be true for some time. Since no proof has appeared in the literature yet, we include a sketch here.
Proof. By the usual argument, it suffices to show that there is a natural bijection between maps X → Z and maps X → Aut(UT) in B(T), where X is an arbitrary object of B(T). So, let α : X → Z be an element of isotropy, and consider the natural automorphism of the projection functor B(T)/X → B(T) to which it corre- sponds under the bijection (1). Since the inverse image functor X∗ of the projection

B(T)/X → B(T) sends UT to the product projection UT × X → X, α corresponds under the equivalence (2) to a T-model automorphism
UT × X¸ 	α	zUT,× X

¸¸¸
¸¸¸
vvv
vvv

rX¸v¸r
of the model X∗UT in B(T)/X. In turn, the (first component of the) map α cor- responds to an X-indexed family of T-model automorphisms of UT, that is, a map X → UUT which factors through Aut(UT). Remaining details are left to the reader.□
We may alternatively describe the isotropy group of SetfpT-Mod in terms of the category fpT-Mod: Z = ZT is the (covariant) presheaf of groups assigning to a finitely presentable T-model M the group
Z(M )= Aut(M/fpT-Mod → fpT-Mod).
Unpacking this definition, we obtain the following elementary description of the isotropy group of T.
Proposition 2.3 Let T be an algebraic theory with isotropy group ZT : fpT-Mod → Grp. For a ﬁnitely presented T-model M an element α ∈ ZT(M ) is an automorphism αM of M, together with, for each homomorphism f : M → N, an automorphism αf of N, subject to the compatibility condition that αgf g = gαf for all f : M → N, g : N → K.
Proof. This is immediate from the definition of isotropy and Proposition 2.1.  □
Syntactic Characterization
In this section we present the main result of the paper, namely a syntactic descrip- tion of the isotropy group associated to an algebraic theory. Towards this aim, we first fix some terminology and notation regarding term models and indeterminates. Throughout, we are working with an arbitrary but fixed algebraic theory T.
First, the free T-model on generators x1,..., xk is denoted ⟨x1,..., xk⟩; explic- itly, the underlying set of this model is obtained from the set Tm(x1,..., xk) of terms in the variables x1,..., xk modulo the smallest congruence containing the T-axioms.
Next, given a T-model M , we write M⟨x1,..., xk⟩ for the coproduct in the cat- egory fpT-Mod of M with the free model ⟨x1,..., xk⟩. This model can be thought of as the result of adjoining indeterminates x1,..., xk to the model M . There is an obvious coproduct inclusion morphism ιM : M → M⟨x1,..., xk⟩. Moreover, any ho- momorphism f : M → N induces a homomorphism f⟨x1,... xk⟩ : M⟨x1,..., xk⟩→ N⟨x1,..., xk⟩ making
f	zN,
ιM	ιN
,	, 
M⟨x1,..., xk⟩ f⟨x1,...,xk⟩ zN,⟨x1,..., xk⟩

commute, and with f⟨x1,..., xk⟩(xi) = xi. When k is understood, we also write M⟨→x⟩ for M⟨x1,..., xk⟩. We recall that an explicit presentation of M⟨→x⟩ can be obtained as follows.
Definition 3.1 Given a T-model M and indeterminates x1,..., xk, let Tm(M ; →x)= 
Tm(M ; x1,..., xk) be the smallest set satisfying the following conditions:
x1,..., xk ∈ Tm(M ; →x).
M ⊆ Tm(M ; →x).
If f is an l-ary function symbol of T and t1,..., tl ∈ Tm(M ; →x), then
f (t1,..., tl) ∈ Tm(M ; →x).
Next, let R = RM;→x be the smallest congruence on the set Tm(M ; →x) satisfying the following conditions:
If s(y1,..., yl)= t(y1,..., yl) is an axiom of T in the variables y1,..., yl, then
(s(t1,..., tl), t(t1,..., tl)) ∈ RM;→x for all t1,..., tl ∈ Tm(M ; →x).
If f is an l-ary function symbol of the language of T and m1,..., ml ∈ M , then (f M (m1,..., ml),f (m1,..., ml)) ∈ RM;→x, where f M : Ml → M is the interpretation of f in the model M , so that f M (m1,..., ml) ∈ M .
With the above notation, we have M⟨→x⟩ := Tm(M ; →x)/RM;→x. When t is an element of Tm(M ; →x), we will write [t] for its image in the T-model M⟨→x⟩.
As usual in categorical logic, terms of the theory T get interpreted as suitably typed morphisms in a category with finite products. In particular, when the in- terpreting category is Set and M is a T-model, a term t with variables x1,..., xl (and possibly constant symbols corresponding to elements of M ) is interpreted as a function denoted tM : Ml → M . This function satisfies
tM (m1,..., ml)= t[mi/xi]M .
Soundness guarantees that [s] = [t] implies sM = tM . That is, if two terms are
T-provably equal, then their interpretations are the same.
Now given a homomorphism h : M → N , we obtain a function Tm(h; →x) : Tm(M ; →x) → Tm(N ; →x) which replaces all symbols m in t by h(m). We will write th for Tm(h; →x)(t). It is readily seen that [t]= [s] implies [th]= [sh], so that Tm(h; →x) induces the homomorphism h⟨→x⟩ : M⟨→x⟩ → N⟨→x⟩. Moreover, given t ∈ Tm(M ; →x), the interpretation tN of th fits into a commutative diagram

(4)
Mk tM  zM,

hk	h
,	, 
N  zN,
h
Remark 3.2 [Notation] Given terms t, s ∈ Tm(M ; →x), we must distinguish care- fully between the statement that tM = sM , which means that the two (open!) terms have the same interpretation in the model M , i.e., are interpreted as the same func- tion Mk → M , and the statement that tM⟨→x⟩ = sM⟨→x⟩, which means that the two terms are equal qua elements of the model M⟨→x⟩. The latter implies the former but

not conversely: for example, in the case of a group M , the terms g—1xg and x may have equal interpretation in M (which of course happens precisely when g is in the center of M ) but are necessarily different elements of M⟨x⟩ when g /= e. In what follows we will sometimes write M ▶ t = s to denote the former, and M⟨→x⟩ ▶ t = s for the latter.
Now we define the following functor GT : fpT-Mod → Set.
Definition 3.3 For any object M of fpT-Mod, we define GT(M ) to be the set of all [t] ∈ M⟨x⟩ such that for any morphism h : M → N in fpT-Mod, the induced function


is a T-automorphism of N .
tN : N → N

For a morphism hj : M → K in fpT-Mod, we define GT(hj): GT(M ) → GT(K) as follows. First, consider the induced morphism hj⟨x⟩ : M⟨x⟩ → K⟨x⟩. Then for
[t] ∈ GT(M ), it is easy to show that hj⟨x⟩([t]) is an element of GT(K). The following diagram may clarify the situation:

GT(M )
GT(h′)
, 
⊆	zM,⟨x⟩
h′⟨x⟩
, 

GT(K) ⊆	zK,⟨x⟩.
Finally, it is easy to show that GT is functorial, so that we have indeed defined a functor GT : fpT-Mod → Set.
Note that for [t] ∈ GT(M ) and a homomorphism h : M → N , we get, as a special case of (4), a commutative square

(5)
tM zM,

h	h
,	, 
N  zN,.
h
The following theorem now relates this functor GT to the isotropy group of T.
Theorem 3.4 The underlying object of the isotropy group ZT of T is naturally isomorphic to the functor GT : fpT-Mod → Set.
Proof. We construct a natural isomorphism β : GT → ZT = Z. Given an element
[t] ∈ GT(M ), let βM ([t]) ∈ Aut(M/fpT-Mod → fpT-Mod) be the element of isotropy whose component at h : M → N is the automorphism tN , as in (5):
βM ([t])h := tN : N → N.
To show that this is indeed a well-defined element of isotropy, we must consider

a commutative triangle (left)
  h  	tN

(6)
M¸¸
¸¸
zN,
N   h  zN,

h′ ¸¸¸ g	g	g

r, 
K
,	, 
K	K  zK,
h′

and show that g ◦ β
([t])	= β ([t]) ′ ◦ g, i.e., that g ◦ tN
= tK ◦ g, as in the

M	h	M	h
h	h′

square in the right of (6). But one can prove that this holds for all t ∈ Tm(M ; x)
by induction on t. Thus βM ([t]) is a natural automorphism of the forgetful functor
M/fpT-Mod → fpT-Mod, which proves that βM ([t]) ∈ Z(M ), as desired.
Next, we show that βM : GT(M ) → Z(M ) is surjective. Consider an arbitrary element of isotropy α ∈ Z(M ). We wish to construct [t] ∈ GT(M ) for which βM ([t]) = α. Consider the inclusion homomorphism ι : M → M⟨x⟩, which is an object of M/fpT-Mod. Then we have an automorphism αι : M⟨x⟩→ M⟨x⟩, and we define
[t] := αι([x]) ∈ M⟨x⟩.
We now show that [t] ∈ GT(M ) and βM ([t]) = α. To show that [t] ∈ GT(M ), let h : M → N be any morphism in fpT-Mod with domain M . We must show that the function tN : N → N is a T-automorphism of N . It suffices to show that tN = αh,
h	h
since αh is a T-model automorphism. For this, let n ∈ N be arbitrary, and consider
the commutative triangle on the left:

(7)
M ¸	ι zM,⟨x⟩	M⟨x⟩  αι  zM,⟨x⟩


¸¸¸¸
h ¸¸¸¸ hn	hn	hn
r,	,	, 
N	N	αh	zN,
where hn sends the indeterminate x to n ∈ N . Then by naturality of α, the square on the right in (7) commutes, which gives
αh(n)= αh(hn([x])) = hn(αι([x])) = tN (n),
as desired. The last equality follows because one can prove by induction on t that
hn([t]) = tN (n) holds for all t ∈ Tm(M ; x). Note that we have also shown that,

for h : M → N , βM ([t])h = tN
= αh, so that βM ([t]) = α. Remaining details are

unsurprising and left to the reader.	□
One of the key steps in this proof, namely the consideration of the inclusion M → M⟨x⟩ qua object of M/fpT-Mod and the fact that any n ∈ N induces a commutative triangle (7), is also at the heart of Bergman’s categorical characterization of inner automorphisms in the category of groups [1]. Indeed, one may view the above result as a reinterpretation and generalization of Bergman’s.
While this concrete characterization of the isotropy group of T is more syntactic than categorical, it still leaves something to be desired, because the definition of the elements of GT(M ) (for M ∈ fpT-Mod) awkwardly quantifies over all morphisms in fpT-Mod with domain M . Ideally, we would like to obtain a purely syntactic characterization of the elements of GT(M ).

The object M⟨x⟩ does not only carry a T-model structure, but is at the same time a monoid with respect to substitution. Explicitly, for any t, s ∈ Tm(M ; x), we have the associative multiplication operation given by [t] · [s]= [t[s/x]]. The iden- tity element is then [x]. Somewhat more conceptually, the interpretation function M⟨x⟩→ Set(M, M ), which sends [t] to tM , has the property that t[s/x]M = tM ◦sM . Thus there is a monoid homomorphism
(8)	M⟨x⟩→ Set(M, M )
from the substitution monoid to the monoid of endofunctions of M . Moreover, an element [t] ∈ M⟨x⟩ is invertible in the monoid M⟨x⟩ if there is some (unique) [tj] ∈ M⟨x⟩ such that [t[tj/x]]= [x]= [tj[t/x]].
Lemma 3.5 For any [t] ∈ M⟨x⟩, if [t] ∈ GT(M ), then [t] is invertible in the substitution monoid M⟨x⟩.
Proof. This follows from the proof of Theorem 3.4.	□
In order to single out those elements [t] of the substitution monoid which are not only invertible but also induce T-model automorphisms, we need the following definition:
Definition 3.6 Let f be a k-ary operation of the language of T, let M ∈ fpT-Mod, and let [t] ∈ M⟨x⟩. Then we say that [t] (or just t) commutes generically with f if
M⟨x1,..., xk⟩ ▶ t[f (x1,..., xk)/x]= f (t[x1/x],..., t[xk/x]).
(Recall that this means that the two terms are equal qua elements of the model
M⟨x1,..., xk⟩, see Remark 3.2.)
In the case of a nullary function symbol f , the above definition means that
M ▶ t[f /x]= f .
Lemma 3.7 Let [t] ∈ GT(M ). Then [t] commutes generically with all operation symbols of T.
Proof. Let [t] ∈ GT(M ) and let f (x1,..., xk) be a function symbol of T. Write ι : M → M⟨x1,..., xk⟩ for the inclusion homomorphism. Then ι⟨x⟩ : M⟨x⟩ → M⟨x1,..., xk, x⟩ sends [t] to [t]. Since [t] ∈ GT(M ), it follows that the induced function
tM⟨x1,...,xk⟩ : M⟨x1,..., xk⟩→ M⟨x1,..., xk⟩
is a T-automorphism. In particular, this function commutes with the interpretation of f in the model M⟨x1,..., xk⟩, and so we have
M⟨x1,..., xk⟩ ▶ t[f (x1,..., xk)/x]= f (t[x1/x],..., t[xk/x]),
as required.	□
Now we have the following result, which characterizes the isotropy group in a purely syntactic way.
Theorem 3.8 Let M  ∈ fpT-Mod.	Then for all [t] ∈ M⟨x⟩, we have that
[t] ∈ GT(M ) if and only if [t] is invertible in the substitution monoid M⟨x⟩ and

commutes generically with every operation of T. Hence the isotropy group of T at M is isomorphic to the subgroup of M⟨x⟩ on those invertible elements which commute generically with every operation of T.
Proof. Lemmas 3.5 and 3.7 show that every element of GT(M ) is invertible and commutes generically with the operations of T. For the converse, suppose [t] ∈ M⟨x⟩ has these properties. To show [t] ∈ GT(M ), let h : M → N be a morphism with domain M in fpT-Mod. We must show that the induced function
(h⟨x⟩[t])N = tN : N → N
is a T-model automorphism. Since the map h⟨x⟩ : M⟨x⟩ → N⟨x⟩ is a monoid homomorphism, it preserves invertible elements. Hence when [t] is invertible in M⟨x⟩, [th] is invertible in N⟨x⟩. Moreover, since the interpretation function N⟨x⟩→ Set(N, N ) is a monoid homomorphism, the function tN is bijective.
To show that tN is a homomorphism, consider a function symbol f (x1,..., xk).
We want to show that

(9)
 (tN )k
N	zN,


f N	f N
,	, 
N	N	zN,
h
commutes. Since [t] commutes generically with f by assumption, we know that
M⟨x1,..., xk⟩ ▶ t[f (x1,..., xk)/x]= f (t[x1/x],..., t[xk/x]).
Applying h⟨x1,..., xk⟩ : M⟨x1,..., xk⟩→ N⟨x1,..., xk⟩ to both sides gives
h⟨x1,..., xk⟩([t[f (x1,..., xk)/x]]) = h⟨x1,..., xk⟩([f (t[x1/x],..., t[xk/x])]),
which is equivalent to
N⟨x1,..., xk⟩ ▶ th[f (x1,..., xk)/x]= f (th[x1/x],..., th[xk/x]).
This in turn implies that we have the following equality of induced functions:
th[f (x1,..., xk)/x]N = f (th[x1/x],..., th[xk/x])N .
Using the fact that substitution is interpreted as composition, commutativity of (9) follows. Thus tN is a T-automorphism for any h : M → N , and hence [t] ∈ GT(M ) as required.	□

Examples and Applications
In this section we will use the purely syntactic characterization of the isotropy group given in Theorem 3.8 to compute the isotropy groups of several well-known algebraic theories. As is to be expected, in each of these examples we ultimately invoke information about the word problem for the theory in question.
Example 4.1 [Groups] Let G be any (finitely presented) group. We compute the isotropy group Z(G) at G, that is, the group of all elements [t] ∈ G⟨x⟩ such that
[t] is invertible in the substitution monoid G⟨x⟩ and commutes generically with the

unit, inverse, and multiplication operations. Note that an element [t] ∈ G⟨x⟩ can be presented as the congruence class of a multiplicative word in x and elements of G (without bracketing).
We show that the isotropy group of G is the group of all congruence classes of the form [gxg—1] ∈ G⟨x⟩ for all g ∈ G. Clearly words of this form give elements of isotropy, since (the function induced by) [gxg—1] preserves the group structure and is invertible, with inverse [g—1xg].
Conversely, suppose that [t] ∈ G⟨x⟩ is invertible in the substitution monoid G⟨x⟩ and commutes generically with the unit, inverse, and multiplication operations. We show that [t] = [gxg—1] for some g ∈ G. Since [t] commutes with multiplication, we have that [t[x1x2/x]] = [t[x1/x]t[x2/x]]. Then, as in [1], one can show that this implies that (the reduced word corresponding to) t has at most one occurrence of x, which must have exponent 1. If t did not have an occurrence of x, then it would follow that [t] = [h] for some h ∈ G, but then [t] could not be invertible in the substitution monoid G⟨x⟩, contrary to supposition. So t must have exactly one occurrence of x, with exponent 1, so that [t]= [gxh] for some g, h ∈ G. The above equality [t[x1x2/x]] = [t[x1/x]t[x2/x]] then implies [gx1x2h] = [gx1hgx2h]. Since the word gx1x2h is reduced, the solution to the word problem implies that hg = e and hence g = h—1 in G. So then [t]= [gxg—1], as desired.
Thus the isotropy group at G is isomorphic to G itself, via the assignment
g '→[gxg—1].
Recall that in the classifying topos SetfpGrp for groups, the universal model is the inclusion functor U : fpGrp → Grp. Hence we see that the isotropy group of SetfpGrp coincides with the universal model. On the other hand, we know from Theorem 2.2 that the isotropy group coincides with the automorphism group of the universal model. We thus have the following diagram:
U ¸¸ ι	zAu,t(U )
¸¸¸¸¸	∼
∼= ¸¸¸ =
r, 

where the map ι is the usual inner automorphism map. It is easily seen from the construction of the two isomorphisms in this diagram that the diagram is commu- tative, and hence that ι must be an isomorphism as well. A group G is called complete when the inner automorphism map G → Aut(G) is an isomorphism. We have therefore shown:
Theorem 4.2 The universal group is complete.
In particular, this shows that completeness, as a property of groups, is not definable in geometric logic: if it were, then inverse image functors would preserve it, and hence every group, being an inverse image of the universal group, would be complete, which is not the case.
Example 4.3 [Monoids] Let M be any (finitely presented) monoid. We show that the isotropy group at M is the group of all elements [t] ∈ M⟨x⟩ of the form [t] = 

[mxm—1] for all invertible elements m ∈ M with inverse m—1. As in the previous example, it is straightforward to show that if m ∈ M is invertible, then the element [mxm—1] ∈ M⟨x⟩ gives an element of isotropy. Conversely, suppose that [t] ∈ M⟨x⟩ is isotropy. Then exactly as in the previous example, one can show that [t]= [m1xm2] for some elements m1, m2 ∈ M , and then that m1 is invertible with inverse m2, so that [t]= [m1xm—1] for some invertible element m1 ∈ M .
One can easily show that the map m '→[mxm—1] from the group of invertible elements of M to the isotropy group at M is a group isomorphism, so that the isotropy group at a (finitely presented) monoid is the group of its invertible elements.
Example 4.4 [Abelian Groups and Commutative Monoids] Let G be any (finitely presented) abelian group. Note that an element [t] ∈ G⟨x⟩ can be presented as the congruence class of an additive group word in x and the elements of G (without bracketing). We show that the isotropy group at G is the group consisting of just the congruence classes [x], [−x] ∈ G⟨x⟩, where ‘-’ is the inverse operation. It is easy to see that both of these elements are isotropy.
Conversely, let [t] ∈ G⟨x⟩ be invertible in the substitution monoid G⟨x⟩ and commute generically with the unit, inverse, and addition operations. Then we can rearrange t to obtain that [t] = [g + nx] for some g ∈ G and some n ∈ Z. Since
[t] commutes generically with the constant 0, we have that [g + n0] = [0], which
implies that g = 0, so that [t]= [nx]. Now, we assumed that [t] is invertible, and so there is some [s] in the isotropy group at G such that [t[s/x]]= [x]= [s[t/x]]. By the above argument for [t], we know that [s] = [mx] for some m ∈ Z. So then we have [nx[mx/x]] = [(nm)x]= [x], which implies that nm = 1. Then it follows that n = ±1, so that [t]= [±x], as desired. So for any (finitely presented) abelian group G, the isotropy group at G is (isomorphic to) the two element abelian group Z2. Thus the isotropy group of the classifying topos is a constant presheaf of groups, in the sense that its value is the same for any finitely presentable Abelian group.
Since the theory of commutative monoids has no additive inverse operation, the above arguments show that the isotropy group at any (finitely presented) commu- tative monoid M contains just [x] ∈ M⟨x⟩ and so is the trivial group.
Example 4.5 [Lattices] Let T be the algebraic theory of (not necessarily bounded or distributive) lattices. We consider this theory to have the signature {∨, ∧}; the axioms state that these binary operations are associative, commutative and idempotent, and that the absorption laws a ∨ (a ∧ b)= a and a ∧ (a ∨ b)= a hold. We show that T has trivial isotropy. To this end, let M be a free lattice on finitely many generators; we wish to show that ZT(M )= {[x]}. This is easy when
M = ∅, the free lattice on no generators, because [t] ∈ M⟨x⟩ implies [t]= [x].
Next suppose that M = ⟨y1,..., yn⟩ is free on n ≥ 1 generators. We need to show that if [t] ∈ ZT(M ) is an element of isotropy at M , then [t]= [x]. To this end, it suffices to prove the following lemma:
Lemma 4.6 If t is any term in the variables x, y1,..., yn such that t has a right inverse with respect to substitution, then M⟨x⟩ ▶ t = x.

Here, by t having a right inverse we mean that there exists a term s with t[s/x]= x. Note that the lemma indeed implies the desired result, since any term representing an element of isotropy is invertible with respect to substitution, and hence in particular has a right inverse.
Proof. Induction on the structure of the term t. If t = x, then the result is trivial, and if t = yi for some 1 ≤ i ≤ n, then t cannot have a right inverse (since yi /= x), so the result holds vacuously.
Now let t = t1 ∨ t2 for some lattice terms t1 and t2 for which the induction hypothesis holds, and suppose that t has a right inverse. Thus there is a term s in the variables yi,x such that
x = t[s/x]= t1[s/x] ∨ t2[s/x].
Now let ≤ be the associated partial order on the lattice M⟨x⟩, so that for terms u and v, we have that u = v if and only if u ≤ v and v ≤ u. Since t1[s/x] ∨t2[s/x]= x, it follows that t1[s/x] ∨ t2[s/x] ≤ x and x ≤ t1[s/x] ∨ t2[s/x]. The first inequality implies that t1[s/x] ≤ x and t2[s/x] ≤ x. Now the solution to the word problem for free lattices [9,10] in particular tells us that the generators are prime elements, in the sense that x ≤ v ∨ w implies x ≤ v or x ≤ w. Thus, we find that x ≤ t1[s/x] or x ≤ t2[s/x].  So either t1[s/x] = x or t2[s/x] = x, and hence either t1 has a right inverse or t2 has a right inverse (and with the same right inverse term s). Suppose without loss of generality that t1 has a right inverse. Then by the induction hypothesis, it follows that t1 = x, and so we have that t = t1 ∨ t2 = x ∨ t2.
Note that t1 = x implies that t1[s/x]= s. Then we have that
x = t1[s/x] ∨ t2[s/x]= s ∨ t2[s/x].
So s ≤ x and t2[s/x] ≤ x, and by the solution to the word problem for free lattices, we also have that either x ≤ s or x ≤ t2[s/x]. If x ≤ s, then we obtain that x = s, and so it follows that
x = t1[s/x] ∨ t2[s/x]= t1 ∨ t2 = t,
as desired. And if x ≤ t2[s/x], then x = t2[s/x]. So then t2 has a right inverse, and so by the induction hypothesis it follows that t2 = x. But then we have
t1 ∨ t2 = x ∨ x = x,
as desired.
Dual reasoning also works in the case t = t1 ∧t2. This completes the induction.□
Similar reasoning, using the solution of the word problem for (possibly non- free) finitely presented lattices, can also be used to show that every general finitely presented lattice has trivial isotropy.
For reasons of space, detailed proofs of some of the following examples will be given in the forthcoming Ph.D thesis of the second author.
Example 4.7 [(Commutative) Unital Rings] If R is a (not necessarily commuta- tive) (finitely presented) unital ring, then the isotropy group at R is the group of all elements [t] ∈ R⟨x⟩ such that [t] = [uxu—1] for some unit u ∈ R (i.e. some

u ∈ R with a multiplicative inverse). One can then easily show that the isotropy group at R is isomorphic to the group of units of R. If R is a commutative (finitely presented) unital ring, then the isotropy group at R is the trivial group consisting of just [x] ∈ R⟨x⟩.
Example 4.8 [Theory of an Automorphism] Let T be the algebraic theory on a signature with two unary function symbols f, g whose axioms are f (g(x)) = x and g(f (x)) = x. Then for any finitely presented T-model M , we show that the isotropy group at M is the group of all elements [t] ∈ M⟨x⟩ such that [t]= [fn(x)] or [t]= [gn(x)] for some n ≥ 0. Certainly, if t has one of those forms, say t ≡ fn(x) for some n ≥ 0, then [t] is an element of isotropy, since [t] is invertible with inverse [gn(x)], and since [t] commutes generically with both f and g in M⟨x⟩, since one can easily show that [fn(g(x))] = [g(fn(x))], and one obviously has [fn(f (x))]= [f (fn(x))].
Conversely, suppose that [t] is an element of isotropy. We must show that there is some n ≥ 0 such that [t] = [fn(x)] or [t] = [gn(x)]. But this follows from the (easily shown) more general claim that for any [s] ∈ M⟨x⟩, either there is some n ≥ 0 such that [s] = [fn(x)] or [s] = [gn(x)], or there is some m ∈ M such that [s]= [m]. Since [t] is an element of isotropy, it follows that t must contain x, and hence the second option is impossible.
From this syntactic description of the isotropy group of T at M , one can then easily show that for any finitely presented T-model M , the isotropy group of T at M is isomorphic to the additive group Z.
Example 4.9 [Racks and Quandles] Racks and quandles are algebraic structures that originally arose in the context of knot theory, where they describe the so- called Reidemeister moves and the relation of isotopy these generate. From an algebraic viewpoint, they axiomatize the notion of conjugation (without reference to multiplication or inverses). Specifically, both theories can be expressed over a signature with two binary function symbols  and  —1. The axioms for the theory of racks are as follows:
x  (y  z)= (x  y)  (x  z).
x  —1 (y  —1 z)= (x  —1 y)  —1 (x  —1 z).
(x  y)  —1 y = x.
(x  —1 y)  y = x.
The axioms for the theory of quandles are the axioms for the theory of racks together with the following additional axioms:
x  x = x.
x  —1 x = x.
For example, given any group G, a quandle structure can be defined on (the underlying set of) G by specifying that for any g, h ∈ G we have g  h := h—1gh and g —1h := hgh—1. Examples of racks which are not quandles include constant actions x  y := σ(x), where σ is a permutation of a fixed set X. Roughly speaking, groups are to monoids as quandles are to racks. Moreover, any equation involving only

conjugation that is provable in the theory of groups is also provable in the theory of quandles. Hence quandles indeed fully capture the behaviour of the conjugation operation in groups.
Using the translation of the word problems for free racks and quandles into the word problem for free groups given in [4], we have then shown the following theorem:
Theorem 4.10 Let ⟨y1,..., yn⟩ be the free quandle on n generators y1,..., yn. Then the isotropy group ZQuandle(⟨y1,..., yn⟩) of ⟨y1,..., yn⟩ is the group of all (free quandle congruence classes of) quandle terms t over x, y1,..., yn of the form
t ≡ (... ((x  e1 yi )  e2 yi ) .. .)  em yi
(including t ≡ x), where ej = ±1 and 1 ≤ ij ≤ n for all 1 ≤ j ≤ m.
From this, one can then show without much difficulty that the isotropy group of the free quandle on n generators is isomorphic to the free group on n generators. For racks, we have also shown the following result:
Theorem 4.11 Let ⟨y1,..., yn⟩ be the free rack on n generators y1,..., yn. Then the isotropy group ZRack(⟨y1,..., yn⟩) of ⟨y1,..., yn⟩ is the group of all (free rack congruence classes of) rack terms t over x, y1,..., yn of the form
t ≡ (... ((((... ((x  d1 x)  d2 x) .. .)  dp x)  e1 yi )  e2 yi ) .. .)  em yi
(including t ≡ x), where dj = ±1 for all 1 ≤ j ≤ p and ek = ±1 and 1 ≤ ik ≤ n
for all 1 ≤ k ≤ m.
From this, one can then show that the isotropy group of the free rack on n generators is isomorphic to the product of the group Z with the free group on n generators.
Remark 4.12 As the reader can see, the examples reinforce the idea that elements of isotropy encode a notion of inner automorphism. Indeed, they suggest that for a general algebraic theory T, an automorphism f ∈ Aut(M ) ofa model M should be called inner when there is an element of isotropy α ∈ ZT(M ) whose component at 1M is f .
To conclude this section, we mention the following observation involving the addition of a constant to a theory. Let T be a theory and c a constant symbol not occurring in the signature of T. Then let Tc denote the theory obtained from T by adding c to the signature; the axioms of Tc are simply those of T. Note that a model of Tc is the same thing as a model M of T together with a chosen element of M . There is an obvious forgetful functor Tc-Mod → T-Mod which forgets the interpretation of the constant c. We do not distinguish notationally between a model of Tc and its underlying T-model.
Proposition 4.13 Let T be an algebraic theory and let c be a constant. Then there is an injective group homomorphism, natural in M,
ZTc (M ) → ZT(M )
whose image consists of those [t] for which tM (cM )= cM .

For instance, when T is the theory of groups, then a Tc-model M is a group together with a specified element cM of M . The isotropy group at such M is then the subgroup of M on those elements that leave the specified cM invariant.
Remark 4.14 The above result can be seen as a special case of a coproduct of theories. Another special case is that of freely adjoining a function symbol to a theory; it can be shown (proofs will appear in the forthcoming PhD thesis of the second author) that this trivializes isotropy.

Future Directions
We have not included results concerning the behaviour of the isotropy group with respect to morphisms of theories. It follows from [6] that Morita- equivalent theories have the same isotropy. We would like to apply the general analysis of functoriality in [7] to identify morphisms of theories which induce comparison maps between isotropy groups.
The category of algebraic theories admits several well-known constructions, such as the coproduct and tensor product. An interesting problem is to char- acterize the isotropy groups of T + S and T ⊗ S in terms of the isotropy groups for T and S. Note that Proposition 4.13 is a special case of a coproduct of theories. Additionally, the example of (commutative) unital rings suggests in- vestigating the isotropy of theories arising through distributive laws: given theories T, S and a distributive law θ of T over S, can we describe the isotropy of the resulting theory T ◦θ S?
In the present work we have focused on algebraic theories. A natural next step is to consider other classes of theories, such as quasi-algebraic theories, regular theories, coherent theories, geometric theories, or theories of presheaf type (i.e., geometric theories whose classifying topos is a presheaf topos).
As explained in detail in [7], the isotropy group of a category C induces a con- gruence ∼ on C, namely the smallest congruence containing all automorphisms which are part of isotropy in the sense of being in the image of the projection homomorphism Z(X) → Aut(X) . The quotient map C → C/ ∼ is called the isotropy quotient of C. It may happen that C/ ∼ itself has non-trivial isotropy. However, as one can show (using some elementary but non-trivial group theory) in the case C = fpGrpop this does not happen. Put differently: the classifying topos for groups has no higher isotropy. We conjecture that this holds for any algebraic theory T. The investigation is complicated by the fact that the quotient fpT-Mod/∼ is rarely of the form fpS-Mod for an algebraic theory S, so that the methods developed in the present paper do not apply.
One potentially interesting generalization of the work presented here involves replacing the isotropy group of a small category C by the isotropy Lawvere theory. (Fittingly, this was suggested to the first author by Lawvere.) This is the functor Cop → Cat assigning to an object X the Lawvere theory whose maps n → m are the natural transformations from C/M → C → Cn to

C/M → C → Cm. Explicitly, such a natural transformation α assigns to an object f : N → M of C/M a morphism αf : Nn → Nm of C, subject to the expected compatibility conditions. Just as the isotropy group rectifies the non-functoriality of X '→Aut(X), the isotropy Lawvere theory is the solution to the problem of making X '→LT(X) functorial, where LT(X) is the Lawvere theory of the object X, that is, the full subcategory of C whose objects are the finite powers of X.
As conjectured correctly by one of the anonymous referees of this paper, in the case where C = fpT-Modop, such a natural transformation α can be charac- terized syntactically by an m-tuple of terms [t1],..., [tm] ∈ M⟨x1,..., xn⟩ each of which has the property that for each h : M → N , the associated function th : Nn → N is a T-model homomorphism. It would be interesting to know whether this larger invariant detects differences between algebraic theories that the isotropy group cannot detect, or whether it is possible for an algebraic the- ory to have a trivial isotropy group but non-trivial isotropy Lawvere theory.
Another interesting suggestion by one of the referees was to investigate isotropy in the context of Mal’cev varieties.

References
George Bergman, An inner automorphism is only an inner automorphism, but an inner endomorphism can be something strange. Publicacions Matematiques 56, pp. 91–126, 2012.
Spencer Breiner, Scheme representation for first-order logic. PhD thesis, Carnegie Mellon University, 2016.
Olivia Caramello, Theories, Sites, Toposes. Oxford University Press, 2017.
Patrick	Dehornoy,	Some	aspects	of	the	SD-world.	Preprint,	2017.	Available	at
https://arxiv.org/abs/1711.09792.
Peter J. Freyd, Core Algebra Revisited. Theoretical Computer Science 374(1–3), pp. 193–200, 2007.
Jonathon Funk, Pieter Hofstra and Benjamin Steinberg, Isotropy and crossed toposes. Theory and Applications of Categories 26, pp. 660–709, 2012.
Jonathon Funk, Pieter Hofstra and Sakif Khan, Higher Isotropy. Accepted for publication in Theory and Applications of Categories, 2018. Available online at http://mysite.science.uottawa.ca/phofstra/HI.pdf.
Saunders Mac Lane and Ieke Moerdijk, Sheaves in geometry and logic. Springer-Verlag, 1992.
Philip M. Whitman, Free Lattices. Annals of Mathematics 42, pp. 325–329, 1941.
Philip M. Whitman, Free Lattices II. Annals of Mathematics 43, pp. 104–115, 1941.
