Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 303 (2014) 79–105
www.elsevier.com/locate/entcs

Dualizing Clones as Models of Lawvere Theories
Sebastian Kerkhoff1,2
Institute of Algebra Technische Universit¨at Dresden
Dresden, Germany


Abstract
While universal algebraists are well aware of the equivalence between abstract clones and Lawvere theories as well as that of concrete clones and models of Lawvere theories in the category of sets, they almost never use the category-theoretic framework. It seems as if they simply do not see a reason why it might be beneficial to use category theory in order to study the problems that they are interested in. In this paper, we argue that the possibility of applying duality theory might be such a reason, and we support this claim by outlining how treating and dualizing clones as models of Lawvere theories can be beneficial for the classical problem of studying the lattice of clones on a given set. In particular, we give several examples of concrete results that are obtained with this method.
Keywords: clones, Lawvere theories, coclones, concrete dualities, centralizer clones, copowers, dual operations, Priestley spaces, idempotent operations, essential arities


Introduction
Clone theory (see [34] in this volume for an introduction) is a substantial part of the research in universal algebra. Its main object of study is the lattice of all clones on a given set A. While this lattice was completely described for |A| = 2 in the 1920s by Emil L. Post (published around 20 years later in [29]), all larger cases remain open. Investigating them is the focus of virtually all publications in the field [27,38,20,11]. In 1963, Bill Lawvere introduced what is nowadays known as a Lawvere theory;
a small category with finite products that is generated by a single object. The image of a Lawvere theory under a product-preserving functor is called a model, and what Post and his successors studied as clones is, up to a caveat about nullary operations, equivalent to models of Lawvere theories in the category of sets. Moreover, giving

1 Email: Sebastian.Kerkhoff@tu-dresden.de
2 The author gratefully acknowledges the support of the Royal Society project “Universal Algebra and its dual: monads and comonads, Lawvere theories and what?” (IE120596)

http://dx.doi.org/10.1016/j.entcs.2014.02.005
1571-0661/© 2014 Elsevier B.V. All rights reserved.

a Lawvere theory is, up to the same caveat, equivalent to giving an abstract clone [5,41,39]. While universal algebraists know about these connections and acknowl- edge them in the literature [25,40], the theory of Lawvere theories has never played a notable part in the study of the lattice of clones on a given set. But recently there has been a step in this direction. Started in [23] and continued in [14,18], it was outlined how treating clones as models of Lawvere theories allows one to dualize them and to use the dualized notion to examine some of them in a more convenient way. It seems that this cannot be done in entirely universal algebraic terms, as the concept of duality is (in this generality) intrinsically tied to category theory.
The aim of this paper is to elaborate on this technique and to apply it to the study of the lattices of clones, showing that it might be a reason why treating clones categorically is not such a bad idea after all – even if ones interest comes exclusively from the classical universal algebraic case.
After the introduction of some notation in Section 2, the work starts in Section 3, where we follow an approach suggested in [23] to explain how to treat clones more generally as models of Lawvere theories in arbitrary categories. We then show that many familiar notions (including the tremendously powerful Galois theory based on the notion of an operation preserving a relation) can be generalized to this setting, and we explain how these notions can be dualized. In Section 4, we use this framework to introduce the general duality theory for clones from [18], followed by a discussion in Section 5 of when this theory can best be applied.
Finally, in Section 6 and Section 7, we put the approach to work and explain its benefits for the study of the clone lattices. In Section 6, we pick an example and apply the duality theory to the centralizer clones of (not necessarily finite) distributive lattices. We dualize these clones into the category of Priestley spaces [30], which does not change them abstractly, but replaces them with a different set of morphisms. As we will see, investigating the latter is often easier. Hence, instead of dealing with the centralizer clones directly, we look at their duals in the category of Priestley spaces, collect results for the latter, and finally translate them back to the classical case. In the end, we obtain results about the centralizer clones and the lattice of their subclones, which have nothing to do with dualities or category theory, except that they were used to find and prove them.
Section 7 takes a more general route. Since dualized clones consist of morphisms from an object X to finite copowers of this object, one has reason to believe that the properties of the copowers play a decisive role for the clones. Indeed, if X is an object in a concrete category, then we can study the concrete form of the copowers of X (that is, their image under the forgetful functor to the category of sets) to obtain information about the original non-dualized clone. For instance, we show how a particular property of the copowers immediately reveals all of a clone’s minimal subclones, and we discuss the effects of the form of the copowers to questions regarding the essential variables of the clone’s functions.

Notation
We will assume that the reader is familiar with the basics of clone theory as intro- duced in [34]. As for category theory, we will almost exclusively use notions that are amongst the most elementary ones, see for instance [21]. The only purpose of this section is to introduce our notation, the notion of algebraic structure, and the concept of duality.
Definition 2.1 Let A be a set, let F be a set of finitary operation symbols, and let R be a set of finitary relation symbols. An algebraic structure of type ⟨F, R⟩ is a structure A = (A, F A, RA), where F A consists of an n-ary operation f A : An → A for each n-ary operation symbol f ∈ F , and RA consists of an n-ary relation rA ⊆ An for each n-ary relation symbol r ∈ R. An algebraic structure of type ⟨F, ∅⟩ is an algebra and an algebraic structure of type ⟨∅, R⟩ is a relational structure.
Let A = (A, F A, RA), B = (B, F B, RB) be algebraic structures of the same type ⟨F, R⟩. We say that A is substructure of B provided that
A ⊆ B,
∀ n-ary f ∈ F : f A = f B|An ,
∀ n-ary r ∈ R : rA = rB ∩ An.
A function ϕ : A → B is said to be a homomorphism from A to B provided that
∀ n-ary f ∈ F, (a1,..., an) ∈ An : ϕ(f A(a1,..., an)) = f B(ϕ(a1),..., ϕ(an)),
∀ n-ary r ∈ R, (a1,..., an) ∈ rA : (ϕ(a1),..., ϕ(an)) ∈ rB.
Definition 2.2 For a class K of algebraic structures with the same type, we denote by ISP(K) the class of all algebraic structures (necessarily of the same type) that are isomorphic to some substructures of some (Cartesian) product of structures from K. We call K a quasivariety if it equals ISP(K), which, in turn, is called the quasivariety generated by K.
What we call a category in our paper is sometimes also called a locally small category. In other words, our categories may have proper classes of objects, but only sets of morphisms between any two of them. When writing C op, we mean the opposite category of C . For n ∈ N and A ∈ C , we write An to mean the n-th power of A (provided it exists) and we denote the associated projection mor- phisms by πn : An → A (i ∈ {1,..., n}). For morphisms f1,..., fn : B → A, we denote by ⟨f1,..., fn⟩ : B → An the tupling of f1,..., fn. Dually, for an object X ∈ C , we denote by n · X the n-th copower of X (provided it exists) and by ιn : X → n · X (i ∈ {1,..., n}) the associated coprojection morphisms. For mor- phisms g1,..., gn : X → Y, we denote by [g1,..., gn]: n · X → Y the cotupling of g1,..., gn.
If an object A ∈ C has finite powers, then we can use the following functor from
Nop (where N is understood as a category by treating n ∈ N as the set {1,..., n}

and taking all set-functions as morphisms) to C


A(−) :	Nop → C
n '→ An
ϕ ∈ N(n, m) '→ Aϕ := ⟨πm



,..., πm



⟩ : Am → An.

Similarly, if an object X ∈ C has finite copowers, then we can use the functor


(−) · X :	N → C
n '→ n · X
ϕ ∈ N(n, m) '→ ϕ · X := [ιm



,..., ιm



]: n · X → m · X.


Note that these functors can be used to write identities in categories. For instance, if we take some A ∈ Set , f : An → A and define
ϕ : n → n : i '→ ⎧⎨ 1 if i ∈ {1, 2},
⎩ i otherwise,
then f = Aϕ ◦ f is equivalent to the identity f (x1,..., xn)= f (x1, x1, x3,..., xn).
Definition 2.3 A dual equivalence between categories C and X is a pair of functors D : C op → X , E : X op → C such that ED and DE are naturally equivalent to the identity functors idC and idX , respectively.
The notion “dual equivalence” is justified since D and E are full, faithful and preserve all purely category-theoretic properties, except that they reverse the di- rection of the morphisms. For instance, monomorphisms become epimorphisms and products become coproducts. In particular, we have An ∈ C if and only if n · D(A) ∈ X .
Clones in categories
As mentioned in the introduction and explained in [34], Lawvere theories are equiv- alent to abstract clones, whereas concrete clones are essentially the same thing as models of Lawvere theories in Set . Thus, as long as universal algebraists want to study clones, no matter if concretely or abstractly, they can use their own notions. This is no longer the case if one considers models of Lawvere theories in categories different from Set , a task whose benefits for the classical case will be discussed in this paper. The following definition, which we will use in the remainder of this paper, might offer the universal algebraist a more familiar way to look at them:
Definition 3.1 [23] Let C be a category and A ∈ C be an object with finite powers. Denote by O(n) the set of all n-ary operations over A, that is, O(n) := C (An, A),
A	A

and set OA := 

n>0
O(n).  A subset C ⊆ OA is called a clone of operations,

written C ≤ OA, if C contains all the projection morphisms πn : An → A and, for
f ∈ C∩O(n) and f1,..., fn ∈ C∩O(k), the superposition f ◦⟨f1,..., fn⟩ is also in C.
A	A
To avoid some technical problems that might occur if we had O(n) = O(m) for
A	A
some n /= m, let us assume that An and Am always denote different (but possibly
isomorphic) objects if n and m are distinct. Clearly, this goes without loss of generality, because we can always add isomorphic copies to the category without essentially changing it.
This is almost verbatim the classical definition in universal algebra except that the composition under which the clones must be closed is written with the help of tuplings. In particular, putting C = Set , this is exactly the notion ofa clone as it is classically used. The following proposition shows that giving a clone in a category C is indeed equivalent to giving a model of a Lawvere theory in this category.
Proposition 3.2 [14] A subset C ⊆ OA is a clone of operations over A if and only if there exists a model M : L −→ C of a Lawvere theory L in C such that M (n)= An and C(n) = {M (f ) | f ∈ L(n, 1)} for all n ∈ N+.
Note that nullary operations are excluded from the definition, i.e., C (A0, A) /⊆ OA. We made this decision to follow the convention in universal algebra of omitting nullary operations. This decision has its advantages but also disadvantages. How- ever, it makes almost no difference to the content of this paper. Thus, the reader who wishes to include nullary operations might as well think of a clone as a subset of OA ∪ C (A0, A) that is defined in exactly the same way.
We can now lift every notion from clone theory to our setting as long as we can write it in purely category-theoretic terms. For instance, we can write identities and lift the notion of essential and nonessential variables to the operations in OA (in the classical case, the i-th variable of a function f : An → A is said to be nonessential if f (x1,..., xn)= f (x1,..., xi−1, y, xi+1,..., xn) for all x1,..., xn,y ∈ A):
Definition 3.3 For n ∈ N+ and i ∈ {1,..., n}, the i-th variable of an operation

(n)
⊆n+1
ψn+1
n+1

f ∈ OA is said to be nonessential if f◦A
is the inclusion and
n	= f◦A
i	, where ⊆n	: n → n + 1

ψn+1 : n → n + 1 : j '→ ⎧⎨ n +1 if j = i,
⎩ j	if j /= i.
A variable is called essential if it is not nonessential. Moreover, we say that an operation is essentially k-ary if it has exactly k essential variables, and we say that it is essential if all of its variables are essential.
In [17] the classical Galois connection Pol-Inv (see [34] and the references therein) was generalized to apply to arbitrary categories:
Definition 3.4 [17] Let A, B ∈ C . A relation of type B on A is a subset of C (B, A). Denote the set of all relations of type B on A by R(B).

Definition 3.5 [17] Let σ be a relation of type B on A and let f ∈ O(n). Say that σ is invariant for f , equivalently f preserves σ, written f D σ, if f ◦⟨r1,..., rn⟩∈ σ whenever r1,..., rn ∈ σ. Furthermore, a set of operations F ⊆ OA is said to preserve σ, written F D σ, if every f ∈ F preserves σ.
After choosing the allowed types of relations, this sets up the Galois connection:
Definition 3.6 [17] Let T be a nonempty class of objects from a skeleton of C
and set RT :=   R(B). We define the operators InvT : P(OA) → P(RT ) and
PolT : P(RT ) → P(OA) as follows: for F ⊆ OA and R ⊆ RT , set
A	A	A
InvT F := {σ ∈ RT | ∀f ∈ F : f D σ},
A	A
PolT R := {f ∈ OA | ∀σ ∈ R : f D σ}.
For C = Set , this Galois connection coincides with Pol-Inv if we choose T to be the set of all positive finite cardinal numbers, and it coincides with the Galois connection from [31] if we choose T to be the class of all positive cardinal numbers. Moreover, it also subsumes other versions and modifications of the classical case that appeared in the literature throughout the years, see for instance [28,33,6].

The properties of PolT -InvT
are described in [17] and shall not be discussed

A	A
here in any detail. However, it should be noted that many of the powerful results
that hold for the classical case hold in this framework as well.
In particular, the Galois closed classes of operations are precisely the locally closed clones of operations, whereas the Galois closed classes of relations are the locally closed clones of relations
Definition 3.7 A class R ⊆ RT is called a clone of relations of the typeclass T on
A, written R ≤ RT , if
∅∈ R,
R is closed under general superposition, that is, the following holds: Let I be an index class, let σi ∈ R(Bi) (i ∈ I) and let ϕ : B → C and ϕi : Bi → C be
morphisms where C ∈ C and B ∈ T. Then, the relation  ϕ	(σi)i∈I ∈ R(B)

defined by
ϕ
(ϕi)i∈I


(σi)i∈I

:=	ϕ
(ϕi)

(σi) := {r ◦ ϕ | r ∈ C (C, A), ∀i ∈ I : r ◦ ϕi


∈ σi}

belongs to R.
Note that the first condition has to be removed from this definition if we include nullary operations into OA. The local closure operators may not be defined here since they are not needed in the remainder of this paper. They are presented and studied in [17], where we can also find a characterization of the cases in which they are omissible (generalizing the case of the base set being finite). In other words, the power of the classical Galois theory still carries through. Even some of the more sophisticated results such as the Baker-Pixley Theorem [1] still hold [15].

Be all that as it may, at this point of our paper, it is unclear why universal algebraists might want to look at clones in categories different from Set in the first place. In the very few cases in which this is done (there is for instance a series of papers where the authors look at clones in the category of topological spaces [40,42]), the clones are still concrete clones in the classical sense and do not necessarily require any category-theoretic treatment.
One of the main advantages that comes with a category-theoretic framework is the possibility to use functors, allowing us to connect clones from different categories which each other. In particular, it allows us to dualize the notion of a clone, yielding that of a clone of dual operations (again assuming n · X /= m · X whenever m /= n):
Definition 3.8 Let X ∈ C be an object with finite copowers. Denote by O(n)
the set of all n-ary dual operations over X, that is, O(n) := C (X,n · X), and set

OX := 

n>0
O(n). A subset C ⊆ O
is called a clone of dual operations (or coclone),

written C ≤ OX, if C contains all the coprojection morphisms ιn : X → n · X and,
for g ∈ C ∩ O(n) and g ,...,g  ∈ C ∩ O(k), the superposition [g ,...,g ] ◦ g is also

in C.
X	1	n	X	1	n

If X is an object from the category of sets, then a clone of dual operations over X is what is introduced as a clone of cofunctions in [7] and studied, for instance, in [10,22,28]. Of course, every corresponding notion can be dualized as well. The

generalized Galois connection PolT -InvT
dualizes to an entirely analogous Galois

A	A
T
connection PolX-InvX between dual operations and dual relations, and the definition
of essential variables of dual operations uses the functor (−) · X instead of A(−):
Definition 3.9 For n ∈ N+ and i ∈ {1,..., n}, the i-th variable of a dual operation
g ∈ O(n) is said to be nonessential if ⊆n+1 · X ◦ g = ψn+1 · X ◦ g.
X	n	i
Nonetheless, there is still the question of why a researcher in classical clone theory should care about this. The attempt of the upcoming sections is to answer this question with the following statement: because applying dualities to clones in categories different from Set might be helpful even if one has only the classical case in mind.
From dual equivalences to clone dualities
As explained above, reversing all morphisms in a category C carries a clone of operations to a clone of dual operations and a clone of relations to a clone of dual relations. Thus, every clone of operations in C is a clone of dual operations in C op. Dualizing the clones from C in this way is hardly helpful as it is just a change of notation. To obtain any benefit, one needs the possibility to dualize these clones into any dually equivalent category X . Of course, this should be done in way such that the duality somehow corresponds with the generalized Galois theory.
In this section, we will explain how this can be done. Eventually, we will end up with a framework where we can move back and forth between clones of operations,

clones of relations, clones of dual operations and clones of dual relations in their respective categories, providing us with the opportunity to move a problem from one place to another, looking for the spot where it is the easiest to solve.
For the whole section, let (D, E) be a dual equivalence between categories C and X , and let A ∈ C such that all finite powers of A are also in C . Set X := D(A). Since C and X are dually equivalent, X contains all finite copowers of X. The functor D carries A to X and reverses the direction of the morphisms, so wishful thinking suggests that it should map a morphism f ∈ OA to a morphism in OX. Unfortunately, D only maps f to a morphism from X to D(An), and the latter is only isomorphic and not necessarily equal to n · X. However, we can easily get around this minor technical problem by using a natural equivalence from the functor D ◦ A(—) to (−) · X to obtain a mapping with the desired properties.

Lemma 4.1 [18] There exists a unique mapping (−)∂ : OA → OX such that
(−)∂ : OA → OX is a bijection,
(πn)∂ = ιn and (f ◦ ⟨f1,..., fn⟩)∂ = [f∂,...,f∂] ◦ f∂ for all f1,..., fn ∈ O(k),
i	i	1	n	A
whence it follows that C is a clone of operations over A if and only if C∂ is a
clone of dual operations over X.

Denoting by LA the lattice of clones of operations over A and by LX the lattice of clones of dual operations over X (both ordered by inclusion), the following theorem is an immediate consequence:
Theorem 4.2 LA ∼= LX, where an isomorphism between LA and LX is given by
C '→ C∂.
Thus, (−)∂ has all the properties that the name “clone duality” suggests. In fact, a (purely category-theoretic) statement holds for a clone of operations C ≤ OA if and only if the dualized statement holds for the clone of dual operations C∂ ≤ OX. For instance, an identity holds in C if and only if its dualized version holds in C∂:
Proposition 4.3 [18] Let f ∈ O(k), h ∈ O(l). For functions ϕ : k → n, ϕj : m → n,
A	A
we have
f ◦ Aϕ = h ◦ Aϕ′ ⇐⇒ ϕ · X ◦ f∂ = ϕj · X ◦ h∂.
Thus, the duality provides us with a new technique to examine clones: instead of trying to solve a problem for a clone of operations C, we can solve the dualized problem for C∂, which might be easier. Indeed, being able to do this is an important benefit of our theory.
The following theorem shows that the duality theory also extends to the rela-
tional side of the clones and dual clones. Denoting by L∗T and L∗T′ the lattices of
A	X
clones of relations of types from T and that of clones of dual relations of types from
Tj, respectively, we can formulate the following statement:
Theorem 4.4 [18] Let T, Tj be classes of objects from skeletons of C and X , respec- tively, that are equivalent under D (i.e., D[T] equals Tj up to isomorphism). Then

there exists a unique mapping (−)∂∗ : RT
→ RT′ that induces an isomorphism from

L∗T to L∗T′ such that the following two diagrams commute:

A	X
L	(—)∂	 L¸


LA,,


(—)∂	
X,,



InvT

J 



(—)∂∗
T′
InvX

J′ 
PolT




(—)∂∗


Pol

X


∗T′

L∗T 	 L∗¸T	L∗T 	 L¸
A	X	A	X
Thus, we can move freely between clones of operations, clones of relations, clones of dual operations and clones of dual relations, looking for where a given problem can best be solved.
We have not yet discussed how to apply all this for the classical case. This will be done in the next two sections. First, we outline how to apply this theory to the study of clones on sets. Afterwards, we put the approach to work, using it to produce a collection of concrete results.
When can we apply the approach for the classical cases?
In the last section, we presented how to dualize clones of operations, clones of rela- tions and the corresponding Galois theory in a category C to their dual counterparts in any category X that is dually equivalent to C .
So far, our approach has been entirely theoretical. We have not yet seen how the technique works in practice. Besides the obvious question of where to get the dual equivalence from, it is also unclear why we want to look at clones in C (or their duals in X ), anyhow. After all, the main interest for universal algebraists lies in Set , where the classical theory takes place. These are the issues that we discuss in this section.
First of all, let us note that a clone in a category - no matter what category that might be - is always isomorphic to a clone in the classical sense. This follows from the observation that clones in categories are still isomorphic to abstract clones and a result from [5] stating that every abstract clone is isomorphic to a concrete one.
Example 5.1 Let (A, F, R) be an algebraic structure (see Definition 2.1). If C is a category that contains A and all its finite Cartesian powers, then OA is isomorphic to the concrete clone C containing all finitary functions on A commuting with the operations from F and preserving the relations from R. Thus, LA is isomorphic to the lattice of subclones of C. In particular, for F = ∅, we have OA = Pol R, and for R = ∅, we obtain what is called the centralizer clone of the algebra (A, F ). Cen- tralizer clones have been of particular interest to the universal algebra community, see for instance [3,37,35,43].
In this case, one could even say that OA is a concrete clone. In other examples, the isomorphism is not so obvious.

Example 5.2 Let A ∈ Set op. Knowing the equivalence of Set and the category of complete atomic Boolean algebras, it follows that OA is isomorphic to the centralizer clone of the Boolean algebra given by the power set of A.

Thus, if one looks at a clone in a category different from Set , one still examines, up to isomorphism, a classical clone. However, the new category-theoretic environ- ment provides a new angle on this clone and allows us to dualize it. This is the key idea of our approach: take a clone on a set A and find it (up to isomorphism) as a clone in a category C that you know how to dualize. Or, conversely, take a dual equivalence and see what classical clones you find in them.
It is easy to take the latter road for many well-known dualities; we know precisely what clones we can find in the categories appearing in the famous dualities by Stone, Gelfand, Priestley or Pontrjagin, for instance.

Example 5.3 By the Priestley duality [30], the category of bounded distributive lattice is dually equivalent to the category of Priestley spaces, where (X, ≤, f ) is a Priestley space if (X, f ) is a Stone space (i.e., a totally disconnected compact Hausdorff space) and (X, ≤) is a poset such that the following separation axiom holds:

6x, y ∈ X, x /≤ y EU ⊆ X : U clopen & increasing,x ∈ U, y ∈/ U.

Under the duality, a bounded distributive lattice is mapped to the set of its prime ideals (or prime filters, it works both ways), equipped with the order given by inclusion and the topology whose basic opens are the sets of prime ideals containing a and the sets of prime ideals not containing a, with a ranging over all elements from the lattice. Vice versa, a Priestley space dualizes to the bounded distributive lattice given by its clopen increasing subsets. Thus, if X is the dual of A, then we can investigate the centralizer clone of a bounded distributive lattice A and its lattice of subclones by looking at the clones of dual operations over X and the lattice LX. As an example, let A = (A, V, Λ, 0, 1) be the bounded distributive lattice given by the following diagram:


This lattice has six prime ideals that constitute the following poset
x3	z2

x1	x2	y	z1
Together with the discrete topology (note that every finite Stone space is discrete), this builds the Priestley space X so that we obtain a clone duality (−)∂ : OA → OX.
Other examples can be found in the fairly extensive theory of natural dualities [4,8], where we can find dualities for many other categories of algebraic structures. This provides us with a rich class of clones to which we can apply our theory.
However, the other way sounds more difficult. Given a clone C on a set A, there is no obvious way how to find this clone in category that can be dualized conveniently. Of course, one can hardly expect a recipe for this. However, at least for the case that A is finite, we can describe a universal way to obtain a scenario where C and X are categories of algebraic structures and their homomorphisms.
Theorem 5.4 [18] Let C be a clone over a ﬁnite set A. Then, there exist two dually equivalent categories of ﬁnite algebraic structures C , X and some A ∈ C , X ∈ X such that C = OA and there exists a clone duality (−)∂ : OA → OX.
Proof. There always exists a finite algebraic structure A = (A, F, R) such that C is the set of homomorphisms from finite powers of A to A itself (we can set A = (A, Inv C), for instance). Now, let M be a finite algebraic structure such that A is in ISP(M). Define C to be the category whose class of object contains all finite structures from ISP(M) and whose morphisms are given by the homomorphisms between these structures. Note that we have A ∈ C and C = OA. By the Brute Force construction for natural dualities [8], there exists some algebraic structure M such that C is dually equivalent to some subcategory of the category formed by all finite structures from ISP(M) and the homomorphisms between them. Define
X to be this category and let X be the dual of A under the corresponding dual equivalence.	2
Note that one major advantage of the theorem’s result is the fact that C appears as the full clone over the structure A. This means that, in terms of the morphisms over A, we do not dualize more than we must.
Using the approach for centralizer clones of distribu- tive lattices
In this and the next section, we finally put our approach to work and present several applications of the theory. We choose a collection of results (some are taken from previously published papers), illustrating how clone dualities produce general results as well as specific, technical ones.

In this section, we pick one particular class of clones, namely centralizer clones of distributive lattices. As discussed in Example 5.3, we can examine the centralizer clone of a bounded distributive lattice A by looking at the abstractly identical but concretely different full clone OX, where X = (X, ≤, f ) is the Priestley space dual to A under the Priestley duality. In particular, we can study LA, the lattice of subclones of the centralizer clone of A, by looking at LX. Considering that the copowers of X are easy to understand (the coproduct in the category of Priestley spaces is given by disjoint union), we have reason to believe that investigating OX and LX is easier than trying to study OA and LA directly. Hence, let us collect some results about the clones of dual operations over Priestley spaces.
We start by taking a look at idempotent dual operations. The equation that defines idempotency of a set-function f : An → A is f (x,..., x) = x. Written in category-theoretic terms, this means f ◦ ⟨idA,..., idA⟩ = idA. Thus, by duality, a dual operation g ∈ OX is idempotent whenever we have [idX,..., idX] ◦ g = idX. Note that the set of all idempotent (dual) operations necessarily forms a clone. Our first goal is to examine the lattice of its subclones (which are called the idempotent clones of dual operations). In order to do so, we need to introduce some more notation.
Definition 6.1 Denote by Partfin(X) the set of all finite coproduct partitions of X into nontrivial Priestley subspaces. That is, an n-element set {X1,..., Xn} of subsets of X belongs to Partfin(X) if
each Xi is the carrier set of a nonempty Priestley subspace Xi of X,

n
i=1
Xi = X,

if i /= j, then any two elements x ∈ Xi, y ∈ Xj are incomparable.
Observe that an n-element set {X1,..., Xn} of nontrivial Priestley subspaces
belongs to Partfin(X) if and only if the coproduct  n	Xi is isomorphic to X via
the canonical morphism
n
[κ1,..., κn]:	Xi → X,
i=1
where each κi : Xi → X is the injection. Also, let us note that each Xi is necessarily clopen.
Moreover, denote by “ the coarser-than order relation on partitions. That is, for two collections of sets P1, P2, we have P1 “ P2 if and only if
6P ∈ P2 EQ ∈ P1 : P ⊆ Q.

Note that (Partfin(X), “) is a lattice. We are going to show that the structure of the lattice of idempotent clones of dual operations over X and that of (Partfin(X), “) are closely related. The advantage of this result lies in the fact that the structure of the lattice (Partfin(X), “) is easy to understand. To make the connection explicit, denote by Idl (Partfin(X), “) the lattice of all ideals of (Partfin(X), “) ordered by inclusion.

Lemma 6.2 For a Priestley space X = (X, ≤, f ), the lattice of idempotent clones of dual operations over X is isomorphic to Idl (Partfin(X), “).
Proof. In order to show the desired isomorphism, we need to collect a few obser-

vations. First, for g ∈ O(n), it is routine to show that [id
,..., idX
] ◦ g = idX

is equivalent to the existence of some i ∈ {1,..., n} for each x ∈ X such that
g(x)= ⟨i, x⟩ = ιn(x).
Second, for every dual operation g ∈ O(n) (idempotent or not), we can define a
finite partition of X by setting
Π(g) := {g—1[ιn[X]],..., g—1[ιn[X]]} \ {∅}.
1	n
Let us show that we have Π(g) ∈ Partfin(X).  It is evident that g—1 [ιn[X]] is the carrier set of a Priestley subspace of X. It remains to show that, for two different g—1[ιn[X]], g—1[ιn[X]] ∈ Π(g), any two elements y1 ∈ g—1[ιn[X]],
i	j	i
y2 ∈ g—1[ιn[X]] are incomparable. For contradiction, assume y1 ≤ y2. But now,
this means ιn[X] e g(y1) ≤ g(y2) ∈ ιn[X], which is impossible due to i /= j. Thus
i	j
Π(g) ∈ Partfin(X) for all g ∈ OX.
Moreover, for a given partition P ∈ Partfin(X), there is always an idempo- tent dual operation g such that Π(g) is that partition:  for an n-element set
{X1,..., Xn}∈ Partfin(X), define g(x)= ⟨i, x⟩ :⇐⇒ x ∈ Xi. It follows readily from the definition of Partfin(X) that g is continuous and preserves the order. Thus, the restriction of the mapping Π: OX → Partfin(X) to the idempotent dual operations in OX is surjective.
Also, for idempotent g, h ∈ OX, we have g ∈ Clo(h) if and only if Π(g) “ Π(h) (a proof is spelled out in [14] for the case that X is an object in the category of finite sets, but the arguments hold almost verbatim for X being an arbitrarily large Priestley space). For our purposes, we need to extend this statement slightly as fol- lows: for idempotent g, h1,..., hn ∈ OX, we want to show that g ∈ Clo(h1,..., hn)
is equivalent to Π(g) “  n	Π(hi). For this, it suffices to show that a suitable su-
perposition of h1,..., hn and the coprojection morphisms generate a dual operation
h for which we have Π(h)=  n	Π(hi) and Clo(h)= Clo(h1,. .., hn). In order to
do so, let us introduce the following notation for a k-ary f ∈ OX:
Jf,...,f ) := [ϕ1 · X ◦ f,..., ϕm · X ◦ f ],
`m ˛ti¸mesx
where ϕi : k → mk : j '→ (i − 1)k + j. Note that this defines a morphism from k · X to mk · X. After possibly adding some nonessential variables, we can assume that h1,..., hn all have the same arity, say k. Using the notation we have just introduced, we set
h := Jhn,..., hn) ◦ ... ◦ Jh3,..., h3) ◦ Jh2,..., h2) ◦ h1.
`kn−1˛¸timesx	` k2 ˛ti¸mes x	` k t˛im¸ es x



Evidently, we have h ∈ Clo(h1,..., hn) and Π(h) =  n
Π(hi).	We also



have h1,..., hn ∈ Clo(h) since Π(hi) “ Π(h) for all i ∈ {1,..., n}. Thus, Clo(h1,..., hn)= Clo(h).
We have now collected all the results to prove the claim of the statement. Denote by IX the set of all idempotent dual operations among OX and by L the lattice of all idempotent clones of dual operations. We define
ψ : L → Idl (Partfin(X), “)
C '→ {Π(g) | g ∈ C}.
By our previously collected observations, ψ is well defined. It is also order pre- serving and order reflecting.  Moreover, we can infer that, for a given ideal J ⊆ Partfin(X), the set {g ∈ IX | Π(g) ∈ J} is a clone. Thus, the assignment J '→ {g ∈ IX | Π(g) ∈ J} constitutes the inverse of ψ.	2
The following statement is an almost obvious consequence of this lemma:
Proposition 6.3 The lattice of ﬁnitely generated clones of idempotent dual opera- tions is isomorphic to (Partfin(X), “).
Proof. Under the isomorphism given in Lemma 6.2, every finitely generated clone C ⊆ IX corresponds to a principal ideal in (Partfin(X), “), and these can be natu- rally identified with a single element of this lattice. In fact, if C = Clo(g1,.  , gn),
then ψ(C)= {P ∈ Partfin(X) | P “  n	Π(gi)}.		2
The following lemma gives us additional insight into LX:
Lemma 6.4 Let X = (X, ≤, f ) be a Priestley space. For each n ∈ N+, the follow- ing statements are equivalent:
there exist n, but not more, nonempty Priestley spaces X1,..., Xn such that X is their disjoint union (or, equivalently stated, the supremum of the cardinality of the sets among Partfin(X) is n).
The essential arity of dual operations over X is strictly bounded by n.
The lattice of idempotent clones of dual operations over X is isomorphic to
(Part(n), “), the lattice of partitions of an n-element set.
For each k ∈ N, there are exactly k!S(n, k)p1 essential k-ary dual operations

over X, where p1
is the cardinality of O(1) and S(n, k) is the Stirling number

of the second kind (that is, the number of partitions of an n-element set into k
parts).
Proof. (i) ⇐⇒ (ii).	It is easy to check that the i-th variable of a given

g ∈ O(n)
is nonessential if and only if g[X] ∩ ιn[X] = ∅. Thus, using the func-

X  	i
tion Π: OX → Partfin(X) defined in the proof of Lemma 6.2, the number of es-
sential variables of g is the cardinality of Π(g). Since we have already learned supg∈OX |Π(g)| = supP∈Partfin(X) |P|, the claim follows.
(i) ⇐⇒ (iii). Obvious by Lemma 6.2, Proposition 6.3.

(i) =⇒ (iv). Choose an n-element set {X1,..., Xn} ∈ Partfin(X). For each
f ∈ O(1) and surjective ϕ : n → k we define the function
⎧⎪ ⟨ϕ(1),f (x)⟩ if x ∈ X1,

⎪⎪⎩ ⟨ϕ(n),f (x)⟩ if x ∈ Xn.

It is straightforward to check that h(f,ϕ) is well defined. Moreover, it is triv- ial that each of its variables is essential. Thus, each pair (f, ϕ) uniquely deter- mines an essential k-ary dual operation on X. Conversely, let h ∈ OX be essential with arity k. Since X1,..., Xn are all coproduct-irreducible, there exists a unique

ϕ(i) ∈ {1,..., k} for each i ∈ {1,..., n} such that h[Xi] ⊆ ιk
[X]. Since h is essen-

tial, the assignment i '→ ϕ(i) must be surjective. Setting f (x) = [idX,..., idX] ◦ h, we obtain h = g(f, ϕ). Thus, there is a one-to-one correspondence between the k-ary essential dual operations in OX and the pairs (f, ϕ), where f is a unary (dual) oper- ation and ϕ : n → k surjective. Since there are exactly k!S(n, k) surjective functions from n to k, the claim follows.
(iv) =⇒ (ii). Trivial.	2
Example 6.5 For the Priestley space given in Example 5.3, the integer n is 3. Thus, the lattice of idempotent clones of dual operations over X is isomorphic to (Part(3), “) and there are exactly 403 essential dual operations over X; 31 are unary, 186 are binary and 186 are ternary.

Let us now use the duality between the clones of LA and that of LX to trans- late the obtained statements to what we are actually aiming for: results for the centralizer clones of bounded distributive lattices.
Definition 6.6 Denote by Partfin(A) the set of finite nontrivial congruence decom- positions of A. That is, an n-element set {θ1,..., θn} ⊆ Con(A) \ {∇A} belongs to Part(A) if the product of A/θ1,..., A/θn is isomorphic to A via the canonical lattice homomorphism
n
⟨natθ1 ,..., natθn ⟩ : A →	A/θi.
i=1
Note that the elements of Partfin(A) correspond to isomorphism classes of finite decompositions of A into a direct product. Moreover, the Priestley duality ensures that the lattice (Partfin(A),  ) is isomorphic to (Partfin(X), “).
Theorem 6.7 Let A = (A, V, Λ, 0, 1) be a bounded distributive lattice. The lat- tice of idempotent clones is isomorphic to Idl (Partfin(A), “). Moreover, for each n ∈ N+, the following statements are equivalent:
The greatest partition of 1 contains n elements, that is, there exist n (but not more) elements a1,..., an ∈ A \ {0} such that  ai = 1 and ai Λ aj = 0 for

i /= j.
The essential arity of operations over A is strictly bounded by n.
The lattice of idempotent clones over A is isomorphic to (Part(n), “).
For each k ∈ N, there are exactly k!S(n, k)p1 essential k-ary operations over
A, where p1 is the cardinality of O(1).
Proof. By (Partfin(X), “) ~= (Partfin(A), ), the first part follows immediately. For the equivalences of (i)–(iv), it only remains to recall the well-known fact that the largest product-partition of A into non-empty sublattices contains exactly n elements if and only if the largest partition of 1 contains n elements.	2
Note that applying this theorem to the centralizer clone of a bounded distributive lattice A does not require us to know the dual of A.
Example 6.8 For the bounded distributive lattice A displayed in Example 5.3, it can be checked that the greatest partition of 1 consists of 3 elements. Thus, the theorem establishes that the centralizer clone of A contains exactly 403 essential operations (41 unary, 186 binary, 186 ternary) and that the lattice of its idempotent subclones is isomorphic to (Part(3), “).
One might ask what happens if one drops the condition of the distributive lattices to be bounded. That is, we consider objects A = (A, V, Λ) in the category of distributive lattices rather than in that of bounded distributive lattices. Note that, even if A has bottom 0 and top 1, the centralizer clone of (A, V, Λ) is still different to that of (A, V, Λ, 0, 1). This is because each operation of the first clone only needs to preserve the binary operations V and Λ, whereas those of the latter clone also need to preserve 0 and 1. Applying duality theory to investigate centralizer clones of arbitrary distributive lattices will still be beneficial, but, for reasons we are about to see, things are not quite as easy.
By taking another variant of the Priestley duality, we know that the category of all distributive lattices is dually equivalent to the category of bounded Priestley spaces.
Definition 6.9 A space (X, 0, 1, ≤, f ) is called a bounded Priestley space if (X, ≤, f ) is a Priestley space and the two constants 0, 1 are the least and greatest element of the poset (X, ≤). The morphisms in the category of bounded Priestley spaces are the continuous maps that preserve the partial order as well as 0 and 1.
The duality works as the one described in Example 5.3, except that the empty and full subset are added to the poset of prime ideals. That is, a bounded distribu- tive lattice is mapped to the set of its prime ideals and trivial subsets, equipped with the order given by inclusion and the topology whose basic opens are the sets of prime ideals and trivial subsets containing a and the sets of prime ideals and trivial subsets not containing a, with a ranging over all elements from the lattice.
Dualizing the bounded distributive lattice from Example 5.3 as a distributive lattice without the constants 0, 1 would for instance look as displayed in Figure 1.

(A, V, Λ)	(X, 0, 1, ≤, f )
1

x3	z2

x1	x2	y	z1
0
Fig. 1. A distributive lattice and its dual

While this is still a somewhat similar scenario and some of the arguments (and their consequential results) still hold, there are notable differences. Amongst other things, product-partitions and partitions of 1 do not have such a decisive role for the properties of LA (even if the lattice happens to have a top and a bottom). For instance, the bound on the essential arity of operations is a different one, even for the case that A is finite:
Proposition 6.10 [19] For a ﬁnite distributive lattice A and each n ∈ N+, the following statements are equivalent:
The essential arity of operations over A is strictly bounded by n.
The greatest antichain of join-irreducible elements in A contains n elements.
Example 6.11 The greatest antichain of the lattice A that is displayed in Example
5.3 and Figure 1 contains exactly 4 elements. Thus, a tight bound on the essential arity of the centralizer clone of (A, V, Λ) from Figure 1 is 4, whereas that on the centralizer clone of (A, V, Λ, 0, 1) was 3. Indeed, considering a bounded distributive lattice A = (A, V, Λ, 0, 1), the difference between the supremum of the essential arity of operation over A and that of the operations over (A, V, Λ) can be arbitrarily high, up to the point where every operation in OA has essential arity 1, whereas there is no bound on the essential arity of operations over (A, V, Λ). Consider, for instance, the distributive lattice that is defined on the power set of N in the obvious way, and add an additional element as the upper neighbour of the element N.
The next statement, which is among the more technical ones, also shows a subtle difference between both cases. It deals with the clone generated by the union of IA := {f ∈ OA | f idempotent} and End A. That is, we look at the least clone that contains all idempotent and all unary operations over A. In other words, we look at the join of the clone of all idempotent operations and that of all essentially unary operations in LA. This clone has been studied for various situations. In the lattice of clones over sets, it is the full clone. One way to see this is to apply the S-lupecki criterion [36]. The same is true in the lattice of clones over Boolean algebras [23] and even Boolean lattices [14]. As we show now, it is also true in the case of bounded distributive lattices.

Proposition 6.12 Let A be a bounded distributive lattice. The join of the clone of all idempotent operations and that of the clone of all unary operations is the full clone.
Proof. Let f ∈ O(n). For each x ∈ X, there exists some ix ∈ {1,..., n} such that f∂(x) ∈ ιn [X]. We define g := [idX,... idX] ◦ f∂ and h : X → n · X by setting

h(x) := ⟨ix
, x⟩. We have g ∈ O(1), and it is straightforward to check that h is a well-

defined idempotent n-ary dual operation. Since we have f∂ = [ιn ◦ g,..., ιn ◦ g] ◦ h
1	n
it follows that f is generated by g∂−1 ∈ End A and h∂−1 ∈I .	2
For a distributive lattice A, however, this is not necessarily the case, not even if A is finite. Indeed, we can characterize the cases in which the join of IA and End A is the full clone. However, to be able to state and understand it, we need to introduce some more notation:
Definition 6.13 Let X be a finite bounded Priestley space with constants 0, 1. Define GX to be the undirected graph whose set of vertices is X \ {0, 1} and in which two vertices x1 and x2 are connected by an edge if and only if x1 ≤ x2 or x2 ≤ x1. A subset Z ⊆ X \ {0, 1} is said to be connected if there exists a path in Z between each pair x, y ∈ Z. For x ∈ X \ {0, 1}, denote by ⟨x⟩GX the largest
connected subset of X \ {0, 1} that contains x. Then, Con(X) := {⟨x⟩GX | x ∈ GX}
is called the set of connected components of X.
Example 6.14 Consider the bounded Priestley space X from Figure 1. The sets
{x1, x3} and {x1, x2, x3} are connected, whereas {x1, x2} is not. Indeed, the con- nected components of X are the three sets {x1, x2, x3}, {y} and {z1, z2}.
Definition 6.15 For Y ∈ Con(X), denote by Spl(Y ) the set of pairs
(Y1, Y2) ∈ (P(Y ) \ {∅}) × (P(Y ) \ {∅}),
such that each of the two sets Y1 and Y2 is connected and we have y1 ¢ y2 and
y2 ¢ y1 for all y1 ∈ Y1, y2 ∈ Y2.
Example 6.16 In the bounded Priestley space from Figure 1,	we have Spl({x1, x2, x3})= {({x1}, {x2}), ({x2}, {x1})} and Spl({y})= Spl({z1, z2})= ∅.
Clearly, Spl(Y ) is a symmetric relation. The notation Spl(Y ) is due to the fact that (Y1, Y2) ∈ Spl(Y ) indicates that Y1 and Y2 can be mapped into different con- nected components of 2 · X via some dual operation g ∈ O(2) (this is straightforward
to prove, see [18]).
With this notation, we can now formulate the desired result.
Theorem 6.17 [18,14] The following two statements are equivalent:
Clo (IA ∪ End A)= OA.
For each Y ∈ Con(X) and (Y1, Y2) ∈ Spl(Y ) there exists Y j ∈ Con(X) \ {Y }
such that Y1 or Y2 can be order-embedded into Y j.

Proof. A proof takes about 3 pages and uses the generalized Galois theory. It can be found in [14].	2
Example 6.18 With  the  theorem  we  can  easily  infer  that  we  have Clo (IA ∪ End A) = OA for the lattice A from Figure 1.  As an easy exam- ple where the theorem states Clo (IA ∪ End A) /= OA, take the distributive lattice of the following form:

One particular important change between the scenario for bounded distributive lattices and that for regular distributive lattices is a change in the coproduct. While it is the disjoint union in the category of Priestley spaces, it is not the disjoint union in the category of bounded Priestley spaces. This causes, for instance, that the proof of Proposition 6.12 fails (h will not necessarily preserve the order).
However, as one might expect, many results hold for both versions in (almost) the same way. In the next section, we will see that, abstractly speaking, this has a lot to do with the fact that the copowers, while not identical, are still somewhat similar.
Before we turn to these more general observations, however, let us note that applying the duality theory to (bounded) distributive lattices is just one possible application. Several other examples are presented in [23,24,14,18,19,16].
7	General results obtained by investigating copowers
To shift to more general observations, let us assume that C and X are dually equiv- alent categories with finite powers and finite copowers, respectively. Let (D, E) be a dual equivalence between them and let A ∈ C such that X := D(A). Let (−)∂ : OA → OX denote the corresponding clone duality. Since our whole approach of applying (−)∂ to examine clones over A does hardly make sense if we treat both categories abstractly (in this case, duality would mean nothing but a change of notation), let us assume that we are dealing with two concrete categories, that is, there exist two faithful functors U : C → Set and V : X → Set .
Example 7.1 Recall the scenario from the last section. We investigated clones in the category of (bounded) distributive lattices by looking at their duals in the category of (bounded) Priestley spaces. The categories are dually equivalent (and thus, abstractly the same category up to the direction of morphisms). However, both categories are concrete (with the obvious forgetful functors), so we have a different way to look at them, and we used this different perspective to obtain the results.
For the sake of notational simplicity, let us assume that all objects in C and X
already have carrier sets, that the morphisms are set-functions, and that U and V

map to this underlying set-structure. Clearly, this goes without loss of generality. Following this convention, we shall write g[X] instead of V (g)[V (X)] for a morphism g ∈ X (X, Y).
Of course, notions connected with dual operations over some object X (such as their clones) are deeply connected to the form of the copowers of X or, equivalently, the images of the functor (−) · X. In this section, we try to derive results from properties that these copowers may or may not have, establishing the new approach of investigating clones over A by looking at the properties of the copowers of the dual of A. Let us start by defining such a property:
Definition 7.2 For k ∈ N , the copowers of X are said to be non-deformed to the degree k provided that V (n · X)=  ϕ : k→n ϕ · X[k · X] for all n ≥ k.
Note that copowers being non-deformed to the degree 1 simply means V (n·X)= 

n i=1
ιn[X] for all n ≥ k.

Example 7.3 If X is an object in categories where the coproducts are given by disjoint union (Set , Top, the category of Priestley spaces, every quasivariety of rela- tional structures, every quasivariety of algebraic structures where every operation symbol is unary,...), then the all objects in the category have non-deformed copow- ers to the degree 1. This also applies to categories in which the coproducts are not the disjoint union but somewhat close to it (the category of pointed spaces, the category of bounded Priestley spaces, every quasivariety of algebraic structures where every operation symbol is unary or nullary,...).
It seems as if the copowers of some object, if there are non-deformed at all, are most likely to be non-deformed to the degree 1. Although this is true for many standard categories, it is not true in general. In fact, there are natural examples of categories where the copowers of some object are non-deformed to an arbitrarily large degree k > 1, but not k = 1, some of which are given in [14].
Whenever the copowers of X are non-deformed to some degree k, we can directly derive some strong properties for the clones of dual operations over X, and hence, by duality, for the clones of operations over A. Let us start by looking at the case k = 1:
Theorem 7.4 [18] Assume that X has non-deformed copowers to the degree 1, and
let f ∈ O(n) and h ∈ O(r). If, for ϕ : n → n and ϕj : r → n, we have f◦Aϕ = h◦  ϕ′
A	A	A ,
then the i-th variable of f is nonessential whenever ϕ(i) ∈/ ϕj[r]. In other words, no
f ∈ OA satisﬁes a nontrivial irregular identity.
Note that this is a strong condition on the identities that an operation can satisfy.
Example 7.5 Let A ∈ C such that D(A) has non-deformed copowers to the degree
1. In [34], we have seen Ivo Rosenberg’s theorem from [32] saying that every minimal clone is generated by an operation from one of five classes, and we have also discussed that this statement holds almost verbatim for abstract clones (and thus, clones in

categories). Of these five classes, three are defined by irregular identities. For instance, recall that a majority operation m is an essential operation satisfying
π2 = m ◦ ⟨π2, π2, π2⟩ = m ◦ ⟨π2, π2, π2⟩ = m ◦ ⟨π2, π2, π2⟩.

1	1	1	2
1	2	1
2	1	1

Applying Theorem 7.4 to the equation π2 = m ◦ ⟨π2, π2, π2⟩ implies that m does
1	1	1	2
not depend on its first variable. This, however, is impossible except if A contains
only one element, which would make m trivial. Hence, there are no minimal clones generated by majority operations. In a very similar way, we can also conclude that OA does not contain any nontrivial minority operation or semiprojection.
Thus, assuming that D(A) has non-deformed copowers to the degree 1, a min- imal clone in LA (i.e., an atom in the lattice) can only be generated by an auto- morphism of prime order, a nontrivial unary operation f ∈ OA with f 2 = f or by a nontrivial binary idempotent operation. While Rosenberg’s result already ensures minimality for the unary case, we still have to look at the idempotent operations. But now, these are also heavily affected by X having non-deformed copowers to the degree 1. In fact, we will see that this is the property that caused most of our observations about the idempotent operations in the centralizer clone of a bounded distributive lattice. In order to formulate that result, we need the following defini- tion:
Definition 7.6 Let X be the set of all x ∈ V (X) such that ιn(x) /= ιn(x) for all
i	j
n ∈ N+ and i /= j.
Note that x ∈/ X is equivalent to ιn(x)= ιn(x)= ... = ιn(x) for all n ∈ N+.
1	2	n
Example 7.7 If the coproduct in X is given by disjoint union, then X is V (X). If X is the category of bounded Priestley spaces and X = (X, 0, 1, ≤, f ), then we have X = X \ {0, 1}.
With the definition of X , we can again assign partitions to the idempotent dual operations over X. In fact, as long as X has non-deformed copowers to the degree 1, the set
Π(g) := {X1,..., Xn} \ {∅}, where x ∈ Xi :⇐⇒ x ∈ X Λ g(x) ∈ ιn[X],
is a partition of X for each idempotent dual operation g ∈ O(n). The key observa- tion is that X having non-deformed copowers to the degree 1 implies that g ∈ O(n) is idempotent if and only if, for each x ∈ X , there exists a unique i ∈ {1,..., n} such that g(x)= ιn(x) (details can be found in [18]). Denote by Partfin(X ) the set of finite partitions of X .
Lemma 7.8 Assume that X has non-deformed copowers to the degree 1 and that
f, h1,..., hn ∈ OA are idempotent operations. We have f ∈ Clo(h1,..., hn) if and
only if Π(f∂) “  n	Π(h∂).
Proof. For n = 1, a proof is given in [18]. The step from n = 1 to arbitrary n ∈ N+
is then done in exactly the same way as in the proof of Lemma 6.2.	2

With this result, it is now easy to copy arguments from the proof of Lemma 6.2 in order to show that the lattice of idempotent clones over A can be order-embedded into the partition-lattice (Partfin(X ), “) provided that X has non-deformed copow- ers to the degree 1 [18]. This generalizes our observations for distributive lattices, insofar as only the image of the embedding Partfin(X ) was really determined by the actual structure of A; everything else came from the copowers being non-deformed to the degree 1.
Moreover, we have also collected all the arguments to state something that is usually hard to achieve: we can now characterize the minimal clones in LA if X has non-deformed copowers to the degree 1.
Theorem 7.9 If X has non-deformed copowers to the degree 1, then the minimal clones in LA are precisely the clones generated by
an automorphism of prime order,
a nontrivial unary operation f ∈ OA with f 2 = f,
a nontrivial binary idempotent operation.
Proof. By Rosenberg’s result and the arguments from Example 7.5, it only remains to show that every nontrivial binary idempotent operation is minimal. This follows immediately from Lemma 7.8.	2
The following corollary is one example of how to apply this theorem (others can be found in [14]):
Corollary 7.10 Let A be a ﬁnite Boolean algebra with k elements.  Setting

n := log2
k and and letting Pp
denote the number of permutations of order p on

n, there are exactly
S(n, 2) +
pΣ≤n,  p prime
p n
p − 1


n—1
+	i(n—i)
i
i=1

minimal subclones of the centralizer clones of A.
Proof. The category of finite Boolean algebras is dually equivalent to Set fin, the category of finite sets. Under the duality, A dualizes to its set of atoms X. But now, X ∈ Set fin has non-deformed copowers to the degree 1, so we can apply Theorem 7.9. We have to count the number of essentially different binary idempotent operations over A, the number of essentially different automorphisms on A that are of prime order and the number of nontrivial retraction over A. As noted before, an n-ary dual operation g over X is idempotent if and only if, for each x ∈ X, there exists some i ∈ {1,..., n} such that g(x) = ιn(x). Since |X| = log2 k, this implies that the number of essentially different binary idempotent dual operations over X (and hence that of essentially different binary idempotent operations over A) is S(n, 2). Moreover, for each prime number p, there are Pp automorphisms of order p on X.
n	p

Thus, it is also the number of automorphisms of order p on A, and  Pn 
of them

generate different clones. It remains to count the number of retractions over A.

We will do so by counting the number of retractions over X. Let Gi
⊆ O(1) be the

set of retractions with |g[X]| = i. We have |Gi| = n i(n—i) since we can choose
i fixpoints, and each of the n − i remaining elements can be mapped to each of the i fixpoints. By |X| = n, we end up with Σn—1 n i(n—i) nontrivial retractions
over X.	2
When we dealt with distributive lattices in the last section, we also obtained results about the essential variables. This was easy, because we observed that the i-th variable of some dual operation g is essential if and only if g[X] ∩ ιn[X] /= ∅. This statement is true whenever the coproduct is given by disjoint union, and it can be generalized as follows:
Lemma 7.11 [19] Assume that X has non-deformed copowers to the degree k. For

an at least binary g ∈ O(n)
and i ∈ {1,..., n}, the following two statements are

equivalent:
g[X] ⊆
ϕ : k→n, i∈/ϕ[k]

ϕ · X[k · X].

The i-th variable of g is nonessential.
In particular, for k = 1, this lemma boils down to the following easy charac- terization of nonessential variables: the i-th variable is nonessential if and only if

g[X] ⊆ 
j∈{1,...,n}\{i}
ιn[X].

Before coming to the last result of this paper, let us use this lemma in an
example:
Example 7.12 If C is a clone over a commutative unital C∗-Algebra A, then it dualizes to a clone of dual operations over a compact Hausdorff space X by building the clone duality on the dual equivalence of Gelfand and Naimark (since this is only supposed to be a small example, we will not introduce the duality and all the corresponding notions; see for instance [13]). Since every object in the category of compact Hausdorff spaces has non-deformed copowers to the degree 1, we can apply the last lemma, and it follows that the i-th variable of a dual operation g ∈ C∂ is essential if and only if g[X] ∩ ιn[X] /= ∅. However, ιn[X] is clopen with respect
i	i
to the topology of n · X, so g—1[ιn[X]] must be clopen as well. Hence, it follows
that {g—1[ιn[X]],..., g—1[ιn[X]]} \ {∅} is a partition of X into clopen sets whose
1	n
cardinality gives the essential arity of g. Consequently, the essential arity of the
operations over A is bounded by a finite integer if and only if X has finitely many connected components. Indeed, provided that this is the case, the supremum of the essential arity of operations over A is the number of connected components of X. This, in turn, is the integer n such that there are precisely 2n idempotent elements in A.
The lemma also immediately implies that OA has bounded essential arity when- ever X (= D(A)) has a finite carrier set and non-deformed copowers to some degree n ∈ N+ (note that this implies the finiteness of LA). In fact, the connection is much closer than that, at least in the case that (D, E) is a concrete duality. That is, the

functors V ◦D and U ◦E are equivalent to the hom-functors C (−, ZC ) and X (−, ZX ) for some pair of objects ZC , ZX (called dualizing objects) that are generators in their respective categories. To fully understand the concept, we refer the reader to [9,13,2,26]. Important for our purpose is the fact that almost all known dualities (including all that have been mentioned in this paper) are of this form. For all of them, we have the following statement:
Theorem 7.13 Assume that (D, E) is a concrete duality where A is ﬁnite and a retract of ZC . The following statements are equivalent:
the essential arity of operations in OA is bounded,
the copowers of X are non-deformed to some degree k ∈ N+.
Proof. Without loss of generality, we can assume V ◦ D = C (−, ZC ) and U ◦ E = X (−, ZX ). Since A is finite, ZC is a retract of A and V (X)= C (A, ZC ), it follows that X is finite. In view of Lemma 7.11, we can finish the claim by showing that X
has non-deformed copowers to the degree k if and only if g[X] ⊆  ϕ : k→n ϕ· X[k· X]
for each g ∈ O(n). This simply boils down to verifying V (n · X)=	g[X] for
each n ∈ N+. To this end, let x ∈ n· X. By the construction of (−)∂ (it is explicitly given in [18]), there exists a natural equivalence η : D(A(—)) → (−) · X such that f∂ = ηn ◦ D(f ) for all n ∈ N+. Since ZC is a retract of A, there exist d : A → ZC and e : ZC → A such that d ◦ e = idZ . Set y := d and f := e ◦ η—1(x). Now,
C	n
f∂(y)= ηn ◦ D(f )(y)= ηn ◦ D(e ◦ η—1(x))(d)= ηn ◦ d ◦ e ◦η—1(x)= x,
`=˛id¸Zx

where y ∈ D(A)= X and f ∈ O(n), as required.	2
Thus, under the given assumptions, the answer to the (abstract) question of whether the essential arity of operations over A is bounded depends exclusively on the concrete form of the copowers of X. Note that, knowing the category X , it is usually trivial to decide whether X has non-deformed copowers or not.
Example 7.14 In [4], there is a table displaying dualities for categories of algebraic structures A. By using this table and Theorem 7.13, we can immediately infer that OA has bounded essential arity if, for instance, A is from the category of Boolean algebras, distributive lattices, median algebras (studied, for instance in [12]) or implicative lattices. In the same way, it follows that OA does not have bounded es- sential arity whenever A is an at leat two-element object from the category Boolean groups or semilattices.
Among the assumptions, the required finiteness of A is strong, but it is not avoidable as the statement fails for infinitely large A:
Example 7.15 Let X be a Stone space with cardinality κ ≥ ℵ0, and let Xj be a compact Hausdorff space that also has cardinality κ but a finite number of connected components.  By the arguments from Example 7.12, the essential arity of dual

operations over X is not bounded whereas that of Xj is bounded (namely by the number of connected components). However, the copowers of X and Xj have the same image under the obvious forgetful functor to Set . Moreover, one can take a suitable Boolean algebra A and a commutative unital C∗-algebra Aj such that X and Xj are the images of A and Aj under the Stone duality and Gelfand-Naimark duality, respectively (in this scenario, A will have κ prime filters and Aj will have 2n idempotent elements, where n is the number of connected components of Xj). Moreover, both dualities can use retracts of A and Aj for the dualizing object ZC , namely the two-element Boolean Algebra and the C∗-algebra that is given by C in the obvious way.
However, from the point of view of universal algebra, this condition is perhaps bearable as questions concerning essential arities are usually discussed for finite structures. Moreover, once we require finiteness of A, the assumption of ZC being a retract of A becomes mild. Indeed, for virtually all concrete dualities that include an interesting amount of finite objects, the dualizing object ZC is chosen such that it is a retract of all but some trivial objects of the category.
Finally, let us note what might be the most surprising thing about the theorem: it has no dual version. Whether the essential arity of dual operations in OX is bounded has practically nothing to do with the image of the powers of E(X) under the forgetful functor U : C → Set . Indeed, there is no property on the images of the copowers of E(X) under the forgetful functor U that is equivalent to OX having bounded essential arity (even if we assume that X is finite and a retract of ZX ).

References
Baker, K. A. and F. Pixley, Polynomial interpolation and the Chinese Remainder Theorem for algebraic systems, Math. Zeitschrift 143 (1975), pp. 165–174.
Barr, M., J. F. Kennison and R. Raphael, Isbell duality, Theory Appl. Categ. 20 (2008), pp. No. 15, 504–542.
Burris, S. and R. Willard, Finitely many primitive positive clones, Proc. Amer. Math. Soc. 101 (1987),
pp. 427–430.
Clark, D. M. and B. A. Davey, “Natural Dualities for the Working Algebraist,” Cambridge studies in advanced mathematics 57, Cambridge University Press, Cambridge, 1998.
Cohn, P. M., “Universal Algebra,” Harper and Row, New York, NY, 1965.
Couceiro, M., Galois connections for generalized functions and relational constraints, in: Contributions to general algebra. 16, Heyn, Klagenfurt, 2005 pp. 35–54.
Csak´any, B., Completeness in coalgebras, Acta Sci. Math. 48 (1985), pp. 75–84.
Davey, B. A., Natural dualities for structures, Acta Univ. M. Belii Ser. Math. (2006), pp. 3–28.
Dimov, G. D. and W. Tholen, A characterization of representable dualities, in: Categorical topology and its relation to analysis, algebra and combinatorics (Prague, 1988), World Sci. Publ., Teaneck, NJ, 1989 pp. 336–357.
Drbohlav, K., On quasicovarieties, Acta Fac. Rerum Natur. Univ. Comenian. (1971), pp. 17–20.
Goldstern, M. and M. Pinsker, A survey of clones on infinite sets, Algebra Universalis 59 (2008),
pp. 365–403.
Isbell, J., Median algebras, Trans. Amer. Math. Soc. 260 (1980), pp. 319–362.


Johnstone, P. T., “Stone spaces,” Cambridge Studies in Advanced Mathematics 3, Cambridge University Press, Cambridge, 1982, xxi+370 pp.
Kerkhoff, S., “A General Duality Theory for Clones,” Ph.D. thesis, Technische Universit¨at Dresden (2011).
Kerkhoff, S., A generalized version of the Baker-Pixlexy Theorem, Preprint MATH-AL-07-2012, TU Dresden (2011), to appear in Communications in Algebra.
Kerkhoff, S., A connection between clone theory and FCA provided by duality theory, in: D. Ignatov and F. Domenach, editors, Formal Concept Analysis: 10th International Conference, ICFCA 2012 Proceedings, Lecture Notes in Computer Science (2012).
Kerkhoff, S., A general Galois theory for operations and relations in arbitrary categories, Algebra Universalis 68 (2012), pp. 325–352.
Kerkhoff, S., A general duality theory for clones, International Journal of Algebra and Computation
23 (2013), pp. 457–502.
Kerkhoff, S., On essential variables of dual operations and the consequences for operations, Algebra Universalis 70 (2013), pp. 43–70.
Lau, D., “Function algebras on finite sets,” Springer Monographs in Mathematics, Springer-Verlag, Berlin, 2006, xiv+668 pp., a basic course on many-valued logic and clone theory.
Mac Lane, S., “Categories for the working mathematician,” Graduate Texts in Mathematics 5, Springer- Verlag, New York, 1998, second edition, xii+314 pp.
Maˇsulovi´c, D., “The lattice of clones of co-operations,” Ph.D. thesis, University of Novi Sad, Yugoslovia (1999).
Maˇsulovi´c, D., On dualizing clones as Lawvere theories, Internat. J. Algebra Comput. 16 (2006),
pp. 657–687.
Maˇsulovi´c, D., On clones of operations over finite boolean algebras, Algebra Universalis 59 (2008),
pp. 447–461.
McKenzie, R. N., G. F. McNulty and W. Taylor, “Algebras, lattices, varieties. Vol. I,” The Wadsworth & Brooks/Cole Mathematics Series, Wadsworth & Brooks/Cole Advanced Books & Software, Monterey, CA, 1987.
Porst, H.-E. and W. Tholen, Concrete dualities, in: Category theory at work (Bremen, 1990), Res. Exp. Math. 18, Heldermann, Berlin, 1991 pp. 111–136.
P¨oschel, R. and L. A. Kaluˇznin, “Funktionen- und Relationenalgebren,” Deutscher Verl. der Wiss., Berlin, 1979.
P¨oschel, R. and M. Ro¨ssiger, A general Galois theory for cofunctions and corelations, Algebra Universalis 43 (2000), pp. 331–345.
Post, E. L., “The Two-Valued Iterative Systems of Mathematical Logic,” Annals of Mathematics Studies, no. 5, Princeton University Press, Princeton, N. J., 1941, viii+122 pp.
Priestley, H. A., Representation of distributive lattices by means of ordered Stone spaces, Bull. London Math. Soc. 2 (1970), pp. 186–190.
Rosenberg, I. G., A classification of universal algebras by infinitary relations, Algebra Universalis 1
(1971/72), pp. 350–354.
Rosenberg, I. G., Minimal clones I: the five types, in: Lectures in universal algebra (Szeged, 1983), Colloq. Math. Soc. Janos Bolyai 43, North-Holland, Amsterdam, 1983 pp. 405–427.
R¨oßiger, M., A unified general Galois theory, Mult.-Valued Log. 5 (2000), pp. 239–258, ivo G. Rosenberg’s 65th birthday.
S. Kerkhoff, F. S., R. Po¨schel, A short introduction on clones, in: Proceedings of the Workshop of Algebra, Coalgebra and Topology, Bath,2013, Electronic Notes in Theoretical Computer Science ?
Sichler, J. and V. Trnkov´a, Essential operations in centralizer clones, Algebra Universalis 59 (2008),
pp. 277–301.
S-lupecki, J., Kriterium pe-lnosci wielowartosciewych systemow logiki zdan´, C. R. Seane Soc. Sci. Varsovie
32 (1939), pp. 102–109.

Snow, J. W., Generating primitive positive clones, Algebra Universalis 44 (2000), pp. 169–185.
Szendrei, A´., “Clones in universal algebra,” S´eminaire de Math´ematiques Sup´erieures [Seminar on Higher Mathematics] 99, Presses de l’Universit´e de Montr´eal, Montreal, QC, 1986, 166 pp.
Taylor, W., Characterizing Mal’cev conditions, Algebra Universalis 3 (1973), pp. 351–397.
Taylor, W., “The clone of a topological space,” Research and Exposition in Mathematics 13, Heldermann Verlag, Berlin, 1986, v+91 pp.
Taylor, W., Abstract clone theory, in: Algebras and orders (Montreal, PQ, 1991), NATO Adv. Sci. Inst. Ser. C Math. Phys. Sci. 389, Kluwer Acad. Publ., Dordrecht, 1993 pp. 507–530.
Trnkov´a, V., Clones of topological spaces, Topology Appl. 159 (2012), pp. 3122–3129.
Trnkov´a, V. and J. Sichler, All clones are centralizer clones, Algebra Universalis 61 (2009), pp. 77–95.
