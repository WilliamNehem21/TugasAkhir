

Electronic Notes in Theoretical Computer Science 230 (2009) 39–69
www.elsevier.com/locate/entcs
A Framework for Component Categories
Emmanuel Haucourt 1,2
PPS/LSL
Paris 7/CEA Saclay Paris, France

Abstract
This paper provides further developments in the study of the component categories which have been in- troduced in [7]. In particular, the component category functor is seen as a left adjoint hence preserves the pushouts. This property is applied to prove a Van Kampen like theorem for component categories. This last point is very important to make effective calculations. The original purpose of component categories is to suitably reduce the size of the fundamental categories which are the directed counterpart of classical fundamental groupoids (see [15]). In concrete examples, the fundamental category is as “big” as R while the component category is “finitely generated”. We take advantage of this fact to define the cohomology of a directed geometrical shape as the cohomology of its component category. The cohomology of small categories is defined in [2] and [1]. Still, in the recent paper [18], the homology of small categories is defined in a very similar way and applied to the study of asynchronous transition systems.
Keywords: algebraic topology, directed algebraic topology, partially ordered spaces, pospaces, local pospaces, Yoneda inversible morphisms, inessential morphisms, weak equivalence subcategory, loop-free category, fundamental category, component category, Van Kampen theorem, fundamental monoid, directed (co)homology


Introduction
Given a small category C and a subcategory Σ of C, we define the quotient cat-
egory C/	applying the results developed in [3].  Indeed, the size of π−→(→− )/

Σ	−→ →−
1 X	Σ

decreases as the one of Σ increases. As one can expect, if Σ = π1(X ) then π−→(→− )/Σ
−→	1 X
is {∗}. Then the component category of a pospace X is defined as π−→(−→)/Σ
where Σ is the greatest weak-equivalences subcategory of C and π−→(−→) the
−→	1 X −→
fundamental category of X . We have in mind that Σ is made of the dipaths 4 of X 5
along which “no choice is made” so we do not lose information removing them 6 .

1 Thanks to everyone who should be thanked
2 Email: haucourt@cea.fr
3 Email: couserid@codept.coinst.coedu
4 or execution traces from a computer scientist point of view.
5 seen as the space of states of a computer on which a program runs.
6 precisely, they are not removed but turned into identities.

1571-0661/© 2009 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2009.02.016

The previous construction can be done in a category whose objects are taken in the class of pairs (C, Σ), such a pair is called a system over C, where C is an object of a subcategory of CAT and Σ ⊆ C. The idea is to equip the objects C of a sub-category of CAT with a sub-poset of the poset of all subcategories of C. Then we define the quotient functor sending (C, Σ) on C/Σ. The component category is obtained when Σ is optimal i.e. when the size of C/Σ is minimal without loss of relevant information. Several examples are given, involving different subcategories of CAT, and we define component categories of pospaces, local pospaces and d-spaces. Some proofs of technical points are skipped and the paper is organized in the fol- lowing way:
Pospaces, local pospaces and d-spaces are defined. Concrete but informal ex- amples are given to make the reader understand what component categories should be.
Generalized congruences and some related tools are described.
A general theorem describes a framework in which the component category functor can be defined. As we shall see, this theorem makes the component category functor a left adjoint.
The previous theorem is applied to define the component category of pospaces, local pospaces and d-spaces. We check that we have obtained what was ex- pected.
Preservation of colimits by component category functor is applied to prove Van Kampen like theorems for component category (instead of fundamental category). Examples are given.
A form of directed cohomology is defined as the cohomology of the component category.

Geometrical intuition of component categories through examples
Component categories first appear in [7] in order to reduce the size of the funda- mental category. Pospaces are certainly the simplest model of directed topology one may find.
Definition 2.1 [Pospaces] A pospace is a triple (X, τX , ≤X) where (X, τX) is a topological space, (X, ≤X) is a poset and ≤X is a closed subset of (X, τX) × (X, τX). A dimap from a pospace (X, τX , ≤X) to a pospace (Y, τY , ≤Y ) is a set-theoretic function f from X to Y inducing a continuous map from (X, τX) to (Y, τY ) and an increasing map from (X, ≤X) to (Y, ≤Y ). The collection of po-spaces together with dimaps between them form a category denoted POSPC. Isomorphisms of POSPC are called dihomeomorphisms and are bijective (one-to-one, onto) dimaps whose inverse is also a dimap. Monomorphisms are one-to-one dimaps.
Note that the caracterization of epimorphisms is much more complicated. The unit segment [−0−→1] with classical topology and order is a pospace as well as all its






		
Fig. 1. Square with centered hole and Swiss flag
products with product topology and order. [−0−→1] is in fact the “standard” example in the sense that it is the cogenerator 7 of the category of compact pospaces 8 . The examples of figure 1 are built up from the unit square with classical topology and
order in which “holes” have been dug. In each case the underlying space is divided into “components” which give the set of objects of the component category, their borders are drawn with the dashed lines. Two components sharing a frontier are “neighbours” and we put a unique “prime arrow” between neighbour components, the source component being the left most bottom most one. The morphisms of the component category are “generated” by those “prime arrows”. In the first example, the component category is free, in the “swiss flag” example (figure 1) it is not the case any more because we have  BD  ◦  AB  =  CD  ◦  AC  . 
The two examples of figure 2 are not dihomeomorphic since their component categories are clearly not isomorphic, it suffices to compare how many morphisms go from the left most bottom most object to the right most upper most one.
Before going further in the study of examples, let me emphasize the fact that we “read” the dipaths of the pospace in its component category. In mathematical terms, we have a lifting property which says that any morphism of the funda- mental category is represented by a unique morphism of the component category, conversely, any morphism of the component category represents a morphism of the fundamental one. This property can be found in [7], it is also given for free provided we define the component category by means of generalized congruences, see [3] and the description of the component category given in the rest of the paper. Next examples are 3−dimensional, the unit cube (with classical topology and order) with a centered hole is shown on the left side of figure 3. The right side picture depicts its components, whose border are represented by “walls”:
In figure 5, the blue parallelepipeds are holes and the red cube is a deadlock

7 see [4] for the definition.
8 i.e. the underlying topological space is compact.








a

Fig. 2. Two possible configurations of two holes in a square










Fig. 3. The cube with a centered hole



The point at the center of the left side figure is represented by a 3−morphism (the grey filling on the right side figure) in a suitable 3−category built up from the component category.


.
Fig. 4. Dimensional duality
area, i.e. any dipath entering in it will not go beyond the deep right upper corner of the red cube. On the right side, the corresponding component category is depicted, but the conventions of representation are different, vertices are components, edges are elementary arrows and faces represent relations between morphisms. By the way, this convention of representation induces a “dimensional duality”, components are 3−dimensional subpospaces of the cube and they are represented by points, which are 0−dimensional. Faces of the components are 2−dimensional subpospaces and they are represented by “elementary arrows” (hence 1 − dimensional) from component to the neighbour it shares the face with. A segment shared by four faces
  ¸,¸,¸¸

β 
     
¸¸¸δ
¸¸

is a 1− dimensional subpospace and is represented by a relation
¸,¸¸¸ ⇔
  ,

¸¸¸¸
α ¸¸¸   γ
between the four “elementary arrows” representing the four faces. This relation can be seen as a 2 − dimensional arrow provided we turn the component category into a 2−category adding a trivial groupoid between β ◦ α and δ ◦ γ. One can even go further with a point of the pospace shared by six segments all of them being shared by four faces, which makes us reach 3−categories, see figure 4.
This “duality” property has been practically applied by Eric Goubault to write a program which provides a 3-dimensional “view” of the component category of the 3-dimensional pospaces. A detailed description of the method is available in [11]. The right side picture of figure 5 has been produced by this program.

Generalized congruences
This section is devoted to generalized congruences which have been formalized in [3].







	





Fig. 5. Three philosophers diner
Definition 3.1 [Generalized Congruences [3]] A generalized congruence on a small category C, is an equivalence relation ∼o on Ob(C) and a partial equivalence rela- tion ∼m on Mo(C)+ (the set of all non-empty finite sequences of morphisms of C) satisfying the following conditions (· is the usual concatenation, the α’s, β’s and γ’s range over Mo(C)):
(βn, ..., β0) · (αp, ..., α0) ∼m (γq, ..., γ0) ⇒ tgt(αp) ∼o src(β0)
(βn, ..., β0) ∼m (αp, ..., α0) ⇒ tgt(βn) ∼o tgt(αp) and src(β0) ∼o src(α0)
x ∼o y ⇒ idx ∼m idy
(βn, ..., β0) ∼m  (αp, ..., α0) and (δq, ..., δ0)  ∼m  (γr, ..., γ0) and tgt(βn)  ∼o
src(δ0) ⇒
(δq, ..., δ0) · (βn, ..., β0) ∼m (γr, ..., γ0) · (αp, ..., α0)
src(β) = tgt(α) ⇒ (β ◦ α) ∼m (β, α)
Given a functor f ∈ CAT[C1, C2], in other words a morphism of CAT from C1 to C2, the generalized congruence ∼f := (∼o, ∼m) is defined by x ∼o y iff f (x) = f (y) and given ∼o-composable sequences (βm, ..., β0) and (αn, ..., α0), (βm, ..., β0) ∼m
(αn, ..., α0) iff f (βm) ◦... ◦f (β0) = f (αn) ◦... ◦f (α0). For any generalized congruence
∼, (αn, ..., α0) is a ∼o-composable sequence iff ∀k ∈ {0, ..., n − 1}, src(αk+1) ∼o
tgt(αk).
Theorem 3.2 (Quotient Category [3]) Given (∼o, ∼m) a generalized congru- ence on a small category C, we deﬁne the quotient category C/∼ by

Ob(C/∼) := {[x]∼o /x ∈ Ob(C)}
src([(γn, ..., γ0)]∼m ) = [src(γ0)]∼o and tgt([(γn, ..., γ0)]∼m ) = [tgt(γn)]∼o
[(βn, ..., β0)]∼m ◦ [(αp, ..., α0)]∼m = [(βn, ..., β0) · (αp, ..., α0)]∼m
Moreover, there is a quotient functor Q∼ : C → C∼, deﬁned by Q∼(x) = [x]∼o and Q∼(γ) = [γ]∼m . Q∼ enjoys the following universal property, for any functor f : C → C2, if ∼⊆∼f then ∃!g : C/∼ → C2 making the following diagram commutes

C/∼
Q∼ ¸,¸ ¸ g
=
¸z 

C

Still, we have the following facts :
g is a monomorphism iff ∼f =∼
∼Q∼ =∼
Q∼ is an extremal epimorphism
f	 C2 

Lemma 3.3 ([3]) Generalized congruences on a given small category, ordered by componentwise inclusion form a complete lattice whose meets are componentwise intersections. The total relation which identiﬁes all objects and all non-empty ﬁnite sequences of morphisms is a generalized congruence, precisely T of the lattice, while

(=Ob(C), =
+ ) is ⊥. M o(C)+ is the set of non empty ∼o-composable sequences.

Mo(C) 
Thus, for an arbitrary pair of relations Ro on Ob(C) and Rm on Mo(C)+, there is a least generalized congruence containing (Ro, Rm).

The Component Category functor
Loop Free, One Way and Directed categories
Pureness first appears in [7] and is an unavoidable technical tool to study component categories, indeed, good properties of C/Σ directly depend on pureness of Σ. In ideas, if Σ consists of execution paths 9 along which nothing happens then if β◦α ∈ Σ it is expectable that β, α ∈ Σ too. It is also a convenient way to define loop free, one way and directed categories.
Definition 4.1 A sub-category B of C is pure in C iff ∀f, g morphisms of C with
src(g) = tgt(f ), g ◦ f ∈B ⇒ f, g ∈ B.
Pureness is a kind of generalization of convexity in poset framework, indeed, a subposet (A, ≤A) of a poset (X, ≤X) is convex iff A' is a pure subcategory of X', where A' and X' are the small categories coresponding to A and X.

9 it is a computer science point of view.

Definition 4.2 A loop free category is a category whose subcategory of endo- morphisms is pure and discrete 10 .
A one way category is a category whose subcategory of isomorphisms is pure
and discrete. 11
A directed category or d-category is a category whose subcategory of isomor- phisms is pure. Loop free, one way and directed small categories respectively form epi-reflective subcategories of CAT respectively denoted LFCAT, OWCAT, dCAT, see
proposition 4.3.

The fundamental category of a pospace is obviously loop free, the one of a local pospace is one way, but it is much harder to prove, and I conjecture that the one of a d-space is directed, it is in fact the reason why I called them “directed”, roughly speaking, it comes from the fact that dX is stable under direparametrization (see definition 7.2).
We say that A is a reflective subcategory of B when
A is a full subcategory of B
for all A ∈ Ob(A) and B ∈ Ob(B), if A and B are isomorphic in A then A ∈ Ob(B).
the inclusion functor A,˛  B has a left adjoint.
When the two first points are satisfied, we say that A is a replete subcategory of B. The left adjoint is called the reflection. Moreover, if all the elements of the counit of the adjunction are epimorphisms, we say that A is an epireflective subcategory of B.
Proposition 4.3
We have the inclusion functors
LFCAT,˛	 OW CAT,˛	 dC AT,˛	 CA T
and the domain of each inclusion depicted on the previous diagram is an epireflective subcategory of its source.
For further details about reflective subcategories, see [4].
Conjecture 4.4 We have the following commutative diagram
POSPC,˛	 LP OSPC,˛	 dS PC
π1	π1	π1
J ,˛	  J ,˛	 J 

LFCAT
OWCAT
dCAT





10 i.e. for all diagram
α
zinzC, α and β are identities. Hence C has no “loops”, whence the name.


β
11 A one way category might have loops, but each loop is either clockwise or anticlockwise never both at the time.

Weak Equivalences Subcategory
Next materials are directly related to the choice of a Σ such that C/Σ is the component category of C. As we shall see, all the rest of the subsection, in particular the existence of a non empty weak equivalences subcategory, holds for any directed category C. Then the component category of a pospace/local pospace/directed space, is defined as the component category of its fundamental category.


Yoneda inversible morphisms, Left/Right extension properties and Weak Equivalences Subcategories
Definition 4.5 [[7]] Let C be a category. A morphism σ of C is said to be Yoneda revertible iff ∀x ∈ Ob(C), (C[x, src(σ)] /= ∅ ⇒ γ ∈ C[x, src(σ)] '→ σ ◦ γ ∈ C[x, tgt(σ)]) is bijective and ∀y ∈ Ob(C), (C[tgt(σ), y] /= ∅ ⇒ γ ∈ C[tgt(σ), y] '→ γ ◦ σ ∈ C[src(σ), y]) is bijective.
Definition 4.5 is closely related to representable functors of C and Yoneda’s lemma (see [4]), however, the restriction ∀x ∈ Ob(C), (C[x, src(σ)] /= ∅... and
∀y ∈ Ob(C), (C[tgt(σ), y] /= ∅... cannot be removed, otherwise, a Yoneda inversible morphism would necessarily be an isomorphism which is silly for loop free and one way categories whose only isomorphisms are identities. From a computer science point of view, the subtle difference between Yoneda inversible morphisms and isomorphisms give a theoretical method for deadlock detection, but we will not develop this remark here. In all examples given in section 2, any dipath joining two points of the same component gives rise to a Yoneda inversible morphism of the fundamental category.

Lemma 4.6 Let C be any (small) category, x, y objects of C and σ1, σ2 ∈ C[x, y] Yoneda inversible, ∃!f1, f2 ∈ Iso(C)[y, y], σ2 = f1 ◦ σ1, σ1 = f2 ◦ σ2 and ∃!g1, g2 ∈ Iso(C)[x, x], σ2 = σ1 ◦ g1, σ1 = σ2 ◦ g2.
Proof. C[y, y] /= ∅ hence by definition of Yoneda inversible applied to σ1, ∃!f1 ∈ C[y, y] such that σ2 = f1 ◦ σ1. Exchanging σ1 and σ2, ∃!f2 ∈ C[y, y] such that σ1 = f2 ◦σ2. In particular, σ2 = f1 ◦ (f2 ◦σ2) = (f1 ◦f2) ◦σ2 and σ1 = f2 ◦ (f1 ◦σ1) = (f2 ◦ f1) ◦ σ1, but, by definition of Yoneda inversible, idy is the only morphism of h ∈ C[y, y] such that σ2 = h ◦ σ2. It is also only morphism of h ∈ C[y, y] such that σ1 = h◦ σ1. It follows that f1 ◦ f2 = f2 ◦ f1 = idy i.e. f1, f2 ∈ Iso(Mo(C)). It works the same way for the g’s.	 
Corollary 4.7 Let C be a (small) category such that Iso(C) is dicrete, then given
x, y objects of C, C[x, y] ∩ {Y oneda inversibles} is either ∅ or a singleton.
Remark 4.8 Any isomorphism is Yoneda inversible morphism, and a composition of Yoneda inversible morphisms is a Yoneda inversible morphism. Moreover, if L is loop-free and σ is a Yoneda inversible morphism of L then L[src(σ), tgt(σ)] = {σ}.

To prove the last point, note that γ ∈ L[src(σ), src(σ)] '−→ σ ◦ γ ∈ L[src(σ), tgt(σ)] is a bijection. Up to now, this definition has only proved its rel- evance in loop-free cases. First, we recall from [7] that the Σ-zigzag connected component of x in L denoted Cx is the subcategory of L whose objects are those connected to x by a zigzag of morphisms of Σ and satisfying for all objects y, z of Cx, Cx[y, z] = L[y, z] ∩ Σ.
Definition 4.9 Right Extension Property
Σ has the right extension property with respect to C iff ∀γ : y' −→ x', ∀σ : x −→ x' ∈ Σ, ∃σ' : y −→ y' ∈ Σ, ∃γ' : y −→ x such that σ ◦ γ' = γ ◦ σ', i.e. the following diagram is commutative:


∃σ'∈Σ 
 
y'  j
,,,,
 y ,

, ∃γ'
, ,vz
cccc

∀γ ,,,	ccc∀σ∈Σ
vz  jc
x
Left Extension Property is obtained “dualizing” definition 4.9
Definition 4.10 [Eric Goubault] 12 Let C be a small category, Σ ⊆ M o(C) is a WE-subcategory iff (by definition) Σ is stable under composition (of C) and satisfies
Iso(C) ⊆ Σ ⊆ Y oneda(C) 13
Σ is stable under pushouts and pullbacks (with any morphism in C). It means that Σ has both REP and LEP with respect to C and further the commutative squares provided by REP and LEP can be chosen in order to be respectively pullback and pushout squares in C.
Eric Goubault, in [12], has changed the definition of Weak Equivalences sub- category of [7] 14 replacing left and right extension axiom by pushout/pull back stability axiom, providing an extremely handy tool. Indeed, any WE-subcategory of any small category C is pure (it will be proved later) and has left and right exten- sion properties (it is obvious). Moreover, if Iso(C) is pure in C (i.e. C is directed) then C has a ⊆-biggest WE-subcategory.

Locale of the Weak Equivalences of a small category
We give several results which will be combined to prove that the collection of WE- subcategories of a small category C such that Iso(C) is pure in C forms a locale. We recall that a locale is a poset (L, ≤L) such that ∀U ⊆ L, U has a least upper bound and a greatest lower bound (it is a complete lattice) and ∀(bj)j∈J ∈ LJ ∀a ∈ L, a ∧

12 in directed categories framework, this definition is equivalent to Eric Goubault’s one.
13 Iso(C) and Y oneda(C) are subcategories of C respectively generated by isomorphisms and Yoneda in- versible morphisms of C.
14 definition of [7] was itself inspired by the notion of calculus of fractions, see [8] and [4].

 j∈J bj = j∈J (a ∧ bj) (see [5], [19], [9] or [10]). Lemma 4.11 is due to Eric Goubault, it is the reason for definition 12. Indeed, in [7], we had to enforce the pureness of Σ by an axiom, unfortunately, the resulting definition was not “stable” in the sense that the subcategory generated by two pure subcategory is not, in general, pure.

Lemma 4.11 Let C be a small category such that Iso(C) is pure in C. Then any WE-subcategory of C is pure in C.

Proof. Take σ ∈ Σ and f1, f2 ∈ Mo(C) such that σ = f2 ◦ f1. By 2nd point of definition 12, we have a σ' ∈ Σ and f' which form a pushout square and a unique



g ∈ Mo(C) making the push-out diagram


,,,,
mmutative. By pureness

σ	,  f1
of Iso(C) in C, f' and g are isomorphisms, hence by 1st point of definition 12, belongs to Σ. So, by stability under composition of Σ (definition 12), f2 = g ◦ σ' ∈ Σ. The same way, using the pull-back (instead of push-out) extension property, one proves that f1 ∈ Σ. Thus Σ is pure in C.	 

Lemma 4.12 Let C be a small category. If Iso(C) is pure in C then Iso(C) is a WE-subcategory of C.

Proof. Stability under composition and 1st point of definition 12 are obviously satisfied since, any isomorphism is Yoneda inversible (remark 4.8) and isomorphisms

f ◦σ
−1 
 
¸,,¸,
, ,id

compose. Let σ ∈ Iso(C) and f ∈ Mo(C) be, then we have
, ¸pu,shout
, and

,,,
 ¸,


 ¸,,,¸,
σ ,,,  f

σ 
   
,,f
,,	nd

,¸pul,lback
 ¸s,o the 2
point is also satisfied.	 

,
σ−1◦f
 
,  id


Lemma 4.13 If (Σj)j∈J is a non empty family of WE subcategories of a small category C then  j∈J Σj is a WE-subcategory of C.

Proof.  j∈J Σj obviously enjoys stability under compose and the 1st point of def- inition 12. Suppose σ ∈  j∈J Σj and f ∈ Mo(C) with src(f ) = src(σ). Take

j1, j2 ∈ J, since σ ∈ Σj1 we have a push out square
'	¸x1,¸,¸'	'	¸x2,¸,¸'

f1 
   
¸σ1∈Σj1
¸ ¸
f2 
and also 
¸σ2∈Σj2
¸ ¸

¸,¸¸¸pushout
  ,
¸,¸¸¸pushout
  ,

¸¸¸	¸¸¸
σ  ¸¸  f	σ  ¸¸  f

because σ ∈ Σj2 . By uniqueness (up to isomorphism) of the pushout, we have an
isomorphism τ from x2 to x1 such that σ' = τ ◦ σ' . By 1st point of definition 12
and for τ is an isomorphism, τ ∈ Σj which is stable under composition (1st point),

2
thus	' =	'
'	Σ  i.e.	'	Σ

 ¸,,¸σ',∈T
1 
	,
j∈J Σj

and we have
,, ¸pu,shout
 ¸,
. The same proof holds for pull-backs.	 

T	,,,,
σ∈ j∈J Σj	,  f
Lemma 4.14 If (Σj)j∈J is a non empty family of WE subcategories of a small category C then j∈J Σj is a WE-subcategory of C. Where j∈J Σj is the least sub-category of C including all the Σj’s.
Proof. By definition,  j∈J Σj  = {σn ◦ ... ◦ σ1/for n ∈ N∗ {j1, ..., jn} ⊆ J and ∀k ∈ {1, ..., n}σk ∈ Σj }, stable under composition and 1st point of definition 12 immediately follows since a composition of Yoneda inversible morphisms (re- spectively isomorphism) is Yoneda inversible (respectively isomorphism) (see remark

4.8). Take σn◦...◦σ1 ∈ 

j∈J
Σj with n ∈ N∗, {j1, ..., jn}⊆ J, ∀k ∈ {1, ..., n}σk ∈ Σj
,,

and f ∈ Mo(C) with src(σ1) = src(f ). We have f
	    	 . With a finite

σ1∈Σj1	σn∈Σjn
induction (apply consecutively the 2nd point of definition 12 for Σj , ..., Σj ), we


have
'
,_1 ,_ _1 , , 
f pushout f1
'
,_n ,_ _n , , 
fn−1 p ushout fn . Now, it is a general fact that a “composition” of

 	  	  	  

σ1∈Σj1
σn∈Σjn
σ' ◦...◦σ' ∈U	Σj

,_ ,_
_n _
_ 1_
_j∈_J _
_ _ , , 

push-out squares is a push-out square (see [4]) hence f
pushout
σ ◦...◦σ ∈U	Σ
 fn .
  

n	1	j∈J  j
It works analoguously for pull-backs, thus the 2rd point of definition 12 is satisfied. 
Lemma 4.15 Let C be a (small) category. If A is a pure subcategory of C then for all families (Cj)j∈J of subcategories of C, A∩  j∈J Cj = j∈J (A∩ Cj)
Proof. The inclusion A∩  j∈J Cj ⊇ j∈J (A∩ Cj) is always satisfied. Indeed, if f is an element of the right member, then one has n ∈ N∗, {j1, ..., jn} ⊆ J,

∀k ∈ {1, ..., n}σk ∈ A ∩ Σjk and f = σn ◦ ... ◦ σ1. Now A is a subcategory of C and in particular ∀k ∈ {1, ..., n}σk ∈ A, hence f ∈ Mo(A). Conversely, suppose that we
have n ∈ N∗, {j1, ..., jn}⊆ J, ∀k ∈ {1, ..., n}σk ∈ Σj and f = σn ◦ ... ◦ σ1 ∈ M o(A),
by pureness of A, σn, ..., σ1 ∈ Mo(A). Then ∀k ∈ {1, ..., n}σk ∈ A∩ Σjk and f is an
element of the left member.	 
Remark 4.16 If C satisfies the following property: ∀γ1, γ2 ∈ M o(C), γ2 ◦γ1 = γ2 ⇒
γ1 = id and γ2 ◦ γ1 = γ1 ⇒ γ2 = id, then the converse of lemma 4.15 is true.
Proof. Take γ2 ◦ γ1 ∈ Mo(A) where γ2, γ1 ∈ Mo(C). Set C1 := {γ1}, C2 := {γ2} 15 and apply the distributivity for the family {C1, C2}. If γ1 /∈ M o(A) and γ2 /∈ M o(A) then (A∩ C1)  (A∩ C2) = ∅ while A∩ (C1  C2) = {γ2 ◦ γ1}. If γ1 /∈ M o(A) and γ2 ∈ Mo(A) then (A∩ C1)  (A∩ C2) = {γ2} while A∩ (C1  C2) = {γ2, γ2 ◦ γ1} and γ2 /= γ2 ◦ γ1 by the property of C, precisely, if we had γ2 = γ2 ◦ γ1, we would have γ1 = idsrc(γ1) hence idsrc(γ1) ∈ M o(A) because A is a subcategory of C.
 
The required property is true if C is a groupoid or a loop-free category. In fact, having A∩  j∈J Cj =  j∈J (A∩ Cj) is equivalent to the existence of the right adjoint of the functor A∩ : ({subcategories of C}, ⊆) −→ ({subcategories of C}, ⊆), where the continuous lattice ({subcategories of C}, ⊆) is seen as a complete and co-complete small category. The equivalence directly comes from the special
adjoint functor theorem . This equivalence is related to the link between locales and complete Heyting algebras, see [5] for further details.
Corollary 4.17 Let (Σj)j∈J be a family of WE-subcategories of a (small) cat- egory C such that Iso(C) is pure in C and Σ a WE-subcategory of C. Then Σ ∩  j∈J Σj  =  j∈J (Σ ∩ Σj).
Proof. By lemma 4.11, Σ is pure in C, the result follows by lemma 4.15. Note that the hypothesis that all the Σj’s are WE-subcategories is not used in the proof.	 
Remark 4.18	and	are associative over the family of subcategories of a small category C.
Theorem 4.19 Let C be a small category such that Iso(C) is pure in C (i.e. C is directed). Then, the family of WE-subcategories of C is not empty and, together with
⊆ it forms a locale whose l.u.b. operator is  and g.l.b operator is  . Moreover, the least element of this locale (“bottom”) is Iso(C).
Proof. Axioms of a locale are given by lemmas 4.13, 4.14 and corollary 4.17.
 
As it is explained in [5] and [19], the notion of locale generalizes the notion of family of open subsets of a topological space, thus, theorem 4.19 gives us a kind of topology over C as soon as Iso(C) is pure in C.  This pureness hypothesis is

15 an abuse of notation to say that C1 and C1 are subcategories of C respectively generated by γ1 and γ2

actually very “natural”. Ideologically, if we want to consider an isomorphism of C as a path that can be run forward, which is the case when C is a fundamental category, it geometrically makes sense to expect that all its subpaths can also be run forward i.e. are isomorphisms. When this “geometrical” assumption is fulfilled by a small category C, roughly speaking, C describes the arc-wise connectedness of a “geometrical shape”.


Quotient of a small category by one of its subcategory : C/Σ
Given Σ a subcategory of a small category C, we can define C/Σ := C/∼ where ∼ is the least generalized congruence on C containing

(∅, {(idtgt(σ), σ), (σ, srcsrc(σ))/σ ∈ M o(Σ)}) This definition holds by lemma 3.3.
Theorem 4.20 (Description and universal property of C/Σ)
Given a small category C and Σ ⊆ Mo(C), closed under composition (in fact, take Σ a subcategory of C). Let (∼o,Σ, ∼m,Σ) be the least generalized congruence containing (∅, {(idtgt(σ), σ), (σ, idsrc(σ))/σ ∈ Σ}). Then ∀x, y ∈ Ob(C),x ∼o,Σ iff there is a Σ-zig-zag between x and y. ∀(βn, ..., β0), (αm, ..., α0) ∼o,Σ-composable sequences (i.e.  src(αi+1) ∼o,Σ tgt(αi) and src(βi+1) ∼o,Σ tgt(βi)), we have (βn, ..., β0) ∼m,Σ (αm, ..., α0) iff there is a ﬁnite sequence of “elementary trans- formation” from (αm, ..., α0) to (βn, ..., β0), where an “elementary transformation” is either
(αn, ..., αi+1, σ, αi−1, ..., α0) ∼1	(αn, ..., αi+1, idsrc(σ) or idtgt(σ), αi−1, ..., α0) if
σ ∈ Σ


or
(αn, ..., αi+2, αi+1, αi, αi−1, ..., α0)  ∼1

(αn, ..., αi+2, αi+1 ◦ αi, αi−1, ..., α0)  if

src(αi+1) = tgt(αi).
C/Σ  is caracterized by the following universal property, ∀f ∈CAT[C, C'], if
∀σ ∈ Σ,f (σ) = id then ∃!g ∈CAT[C, C/Σ] such that

C/Σ
QΣ  ¸,¸¸¸¸¸g
  commutes ¸¸¸
C 	z ' 
f	C


Moreover, if C1
  f	 C satisﬁes f (Σ ) ⊆ Σ then ∃! C /Σ  h  C /Σ	making the

following diagram commutes

C 	f	 C 


QΣ1	=

J 

QΣ2

J 

C1/Σ1	h	 C2 /Σ2
Where QΣ is the quotient functor (refer to theorem 3.2) associated to the generalized congruence induced by Σ. g is also denoted f/Σ, and in the same stream of notation h is denoted f/Σ1,Σ2 .
Definition 4.21 (Definition   of   the   Component   Category)  The

component category of a directed category C is defined as C/T

WE(C)
where

TWE(C) is the biggest weak equivalence subcategory of C.Given a pospace/local
pospace/directed space X, the component category of X is defined as the component category of π1(X), the fundamental category of X.
It makes sense by theorem 4.19 and 4.3. Remark we have not the functoriality yet. Next theorem establishes a relation between connectedness 16 and component category of the fundamental groupoid of a topological space.
Theorem 4.22 Let G be a groupoid, then Mo(G) is the ⊆-biggest WE-subcategory of G. Moreover G/Mo(G) is (isomorphic to) the set (prcisely a discrete category seen as its set of objects) of zigzag connected components of G. If G := Γ1(X, τX) the fundamental groupoid of topological space (X, τX), then G/Mo(G) is the set of arc-wise connected components of (X, τX).
Proof. Any morphism of Mo(G) is an isomorphism of M o(G), thus, by 1st point of definition 12, if G has a WE-subcategory, it is necessarily Mo(G) which is stable un- der composition. By remark 4.8, each morphism of a groupoid is Yoneda inversible hence 1st point of definition 12 is satisfied. Finally, it is a general fact that if σ is an isomorphism, then any morphism f such that src(f ) = src(σ) has a push-out along σ and any morphism g such that tgt(g) = tgt(σ) has a pull-back along σ, thus we have the 2nd point of definition 12.
Then each morphism of G is identified with the identity of its source and target. Two objects x, y of G are identified iff there is a zigzag between them (note that, since G is a groupoid, it is equivalent to G[x, y] /= ∅).	 
Remark 4.23 Any free category is obviously a one-way category, so we can always define the component category of a free category. For example, the component category of the monoid (N, +) seen as a small category is (N, +). However, (N, +) is not the component category of the free categories generated by the following graphs

16 in the classical algebraic topology sense.

 ¸,,,
,,  

z, 
,,,, ,
... indeed, there are there own component category.

 ¸ ,
,vz¸,  J 


This is a rather severe drawback for the study of directed shapes with loops since, ideologically, we expected that they admit (N, +) as component category. The last
section of the paper is devoted to some ways of fixing this up. Also note that −→1
can be seen as a continuous generalization of the previous examples. 17 .
Theorem 4.24 Let C be a small category and Σ a wide subcategory of C. If C is loop-free and Σ is a pure subcategory of Yoneda inversible morphisms admitting left and right extension properties then C/Σ is loop-free. If Σ is pure in C then C/Σ is one-way.
Proof. Omitted.	 
Theorem 4.25 For any small category C, C/Σloop is loop-free. Where Σloop is the wide subcategory of C generated by morphisms σ such that ∃α, β, γ ∈ M o(C) forming a loop as follows



,,,,
γ


 ¸,
 

α ,,vz   β σ
the above diagram is not required to be commutative.
Proof. Omitted.	 
Note that Σloop is a pure subcategory of C
Definition 4.26 A category is thin iff its biggest weak equivalences subcategory is discrete. TLFCAT, TOWCAT and TdCAT are the full sub categories of thin loop-free categories of LFCAT, OWCAT and dCAT.
Conjecture 4.27 Let L be a small loop-free category and ΣL the biggest WE- subcategory of L. Then L/ΣL is thin (see deﬁnition 4.26).
Functoriality of component categories
Next theorem gives the general framework in which the notion of component cate- gory becomes functorial. As pointed out in the abstract, the idea is to equip any small category C in our scope of interest with a subcategory of distinguished mor- phisms (called “inessential” in [7]) which are unformally those along which “nothing happens”.
Theorem 4.28 (General framework for component category functor)
Let K be a subcategory of CAT and Φ be an “assignment” which gives to each C object of K a subposet of (Sb(C), ⊆) (which is the complete partial order of subcategories of C) with “top” and “bottom” elements. Then we deﬁne KΦ the category whose objects

−→
Still, note that the fundamental category of π1(S ) is not free as described in section 2.

are pairs (C, Σ) where C is an object of K and Σ ∈ Φ(C) and KΦ[(C1, Σ1), (C2, Σ2)] :=
{f ∈K[C1, C2]/∀σ ∈ Σ1, f (σ) /= id ⇒ f (σ) ∈ Σ2}.
∀f ∈K[C1, C2]∀σ ∈ TΦ(C1), f (σ) /= id ⇒ f (σ) ∈ TΦ(C2)
∀f ∈K[C1, C2]∀σ ∈ ⊥Φ(C1), f (σ) /= id ⇒ f (σ) ∈ ⊥Φ(C2)
For all C object of K, ∀Σ ∈ Φ(C)
⊥Φ(C) ⊆ id(C)
QΣ : C −→ C/Σ is a morphism of K (hence C/Σ is an object of K)
∀f ∈KΦ[(C, Σ), (C', Σ')], f/Σ : C/Σ −→ C' and f /Σ,Σ' : C/Σ −→ C'/Σ' 18
are morphisms of K
Then we have
(iiia) ⇒ (ii)
If (i) is satisﬁed then R is well deﬁned and U E R
If (ii) is satisﬁed then L is well deﬁned and L E U
If (iii) is satisﬁed then CompΦ is well deﬁned and CompΦ E L
Where


c c
K
, R_ ¸ ¸
U	, ,




CompΦ

U is the obvious forgetful functor.
Given C ∈K, L(C) := (C, ⊥Φ(C ), R(C) := (C, TΦ(C)), CompΦ(C, Σ) := C/Σ.
Given f : C1 −→ C2, R(f ) is the induced morphism from (C1, TΦ(C1)) to (C2, TΦ(C2)) (i.e. U (R(f )) = f) L(f ) is the induced morphism from (C1, ⊥Φ(C1)) to (C2, ⊥Φ(C2)) (i.e. U (L(f )) = f) and for all f ∈KΦ[(C1Σ1), (C2, Σ2)], CompΦ(f ) := fΣ1,Σ2 .
Proof. (iiia) ⇒ (ii): Take f ∈K[C1, C2] and σ ∈ ⊥Φ(C1) by (ii), σ is an identity so necessarily f (σ) is an identity.
⇒ U E R: R is well defined because the object part does not raise any problem and (i) is exactly the assumption we need to ensure that morphism of K from C1 to C2 induces a morphism of KΦ from (C1, TΦ(C1)) to (C2, TΦ(C2)). The unit of the ajunction is η(C,Σ) : (C, Σ) −→ (C, TΦ(C)), which is a morphism of KΦ since Σ ⊆ TΦ(C). The co-unit is εC := idC . Given f : (C, Σ) −→ (C', Σ'), put g := U (f ), it is clearly the only morphism of K such that f = g ◦ idC and f = R(g) ◦ η(C,Σ). The naturality of η is obvious.
⇒ L E U : L is well defined because the object part does not raise any problem

18 see lemma 4.20 for notations f/Σ and f/Σ,Σ' .

and (ii) is exactly the assumption we need to ensure that morphism of K from C1 to C2 induces a morphism of KΦ from (C1, ⊥Φ(C1)) to (C2, ⊥Φ(C2)). The unit of the ajunction is ηC = idC the co-unit is ε(C,Σ) : (C, ⊥Φ(C)) −→ (C, Σ) which is a morphism of KΦ because ⊥Φ(C) ⊆ Σ. Given a morphism f ∈K[C1, C2], setting g := ε(C,Σ) ◦L(f ), we have f = ηC ◦ L(g) i.e. f = L(g).
⇒ CCΦ E L: The object part of CCΦ is well defined by (iiib), the morphism part of CCΦ is well defined by (iiic) (f/Σ,Σ' : C/Σ −→ C'/Σ' is a morphism of K). The unit of the adjunction is the only morphism η(C,Σ) : (C, Σ) −→ (C/Σ, ⊥Φ(C/Σ)) such that U (η(C,Σ)) = QΣ, QΣ is in K by (iiib), moreover ∀σ ∈ Σ, QΣ(σ) is an identity, hence by definition of KΦ, η(C,Σ) is in KΦ. Let f : (C, Σ) −→ (C', ⊥Φ(C')) morphism of KΦ, it follows that ∀σ ∈ Σ, f (σ) /= id ⇒ f (σ) ∈ ⊥Φ(C'), however, by (iiia), ⊥Φ(C') ⊆ id(C') then ∀σ ∈ Σ, f (σ) is an identity. So we can apply lemma 4.20, f /Σ is the only morphism of small categories from C/Σ to C' such that U (f ) = f /Σ◦QΣ. It follows that f /Σ is the only morphism of K (cf (iiic)) such that f = L(f /Σ) ◦ η(C,Σ). Naturality of η(C,Σ) is a consequence of uniqueness property of lemma 4.20.	 





Definition of the Component Category Functor by Means of Theorem 4.28
It suffices to set K:=LFCAT and Φ(C) := WE(C), (ii) and (iiia) are satisfied because ⊥Φ(C) := {idx/x ∈ Ob(C)}. By theorem 4.24, ∀Σ ∈ WP (C), C/Σ is a loop-free category, since LFCAT is a full sub-category of CAT, (iiib) and (iiic) are also satisfied. Note that (i) is not necessarily satisfied, hence we do not have, in general, the functor R.
We can do the same setting K:=OWCAT and Φ(C) := WE(C), (ii) and (iiia) are satisfied because ⊥Φ(C) := {idx/x ∈ Ob(C)}. By theorem 4.24, ∀Σ ∈ WP (C), C/Σ is a one-way category, since OWCAT is a full sub-category of CAT, (iiib) and (iiic) are also satisfied. Once again, (i) is not necessarily satisfied, hence we do not have, in general, the functor R.

For directed categories, things are slightly more intricate, the reason is that the least weak equivalences subcategory of a directed category C might contain isomorphisms which are not identities, hence (iiia) of theorem 4.28 is not neces- sarily satisfied. However, by theorem 4.3, OWCAT is a reflective subcategory of dCAT hence, if L E(dCAT‹→OWCAT) we define the compoent categroy functor as CompOW ◦ L where CompOW is the component category functor defined in the case of one way categories. It is natural, isomorphisms are Yoneda inversible so they have to be turned into identities, the fact that we have to identify them before applying theorem 4.28 is just a technical twist which does not change the underlying philosophy of the method.

Comments and examples
Is there any relation with weak equivalences in model categories ?
In our context, morphisms of the weak eaquivalence subcategory of C are to be called weak equivalences. However, these weak equivalences are far from model cat- egories ones. There is a slight analogy between them, due to the pushout/pullback stability property but it does not really go further. In fact, the main difference is that, in model categories, the weak equivalences are (almost) always given by an intrisic property of the morphisms, for example in SPC the category of topo- logical spaces, weak equivalences are continuous maps giving rise to isomorphisms between homotopy groups in all dimensions. This definition just depends on the map and its domains and codomains, in some sense, it is local. On the other hand, weak equivalences in our context are defined as part of a subcategory which is
defined in a global way. Let us consider −→ := {(x, y)/0 ≤ x, y; x + y ≤ 1} and
−→	T
C := {(x, y)/0 ≤ x, y ≤ 1} with classical topology and order. It is easy to check
that in π1(−→) as well as in π1(−→), all morphisms are Yoneda inversible. π1(−→)
T	C	−→	C
clearly has all pushouts and pullbacks hence any morphism of π1( C ) is a weak
equivalence while the only weak equivalences of π1(−→) are identities. The reason
−→  T
is that for any non identical morphism σ of π1( T ) one can find a morphism γ so
that the (right) extension property is not fulfilled. The last example emphasizes the global and geometric aspect of our weak equivalence definition.

Detailed calculation of the component category of the “L” pospace
The idea is to find morphisms that are “obviously” not weak equivalences and to check the remaining ones form a weak equivalence subcategory. Let L be the pospace depicted in figure 6 with classical topology and order. Given (x, y) ≤ (x', y') there is, up to dihomotopy, a unique morphism from (x, y) to (x', y'), hence any morphism is Yoneda inversible. Now suppose that a morphism σ crosses the vertical dotted segment, then take γ a morphism which crosses the horizontal one. Clearly, the right extension property is not satisfied by σ. Now it is easy to check that the subcategory made of the morphisms of π1(L) which do not cross any dotted segments are weak equivalences. By the way, note that if a morphism has its source or target exactly on the dotted line, it is still a weak equivalence. This is due to topological properties of components which have been deeper studied in [7].


Tool for calculation of component categories
The presentation given above could let the reader think that theorem 4.28 is useless to define component categories, and forgeting the functoriality question, he is right! The point is that, in concrete case, we want to be able to calculate component categories and, in order to do so, we need efficient tools. One of the most classical results towards calculation of fundamental groups, groupoids and categories are Van








Fig. 6. The “L” pospace

Kampen theorem 19 . The idea of the theorem is as follows, given a geometrical shape X (classical or directed), instead of directly calculating the fundamental object of X, split X into two parts, say A and B whose fundamental objects are known (or at least easier to calculate) then “glue” the fundamental objects of A and B to have the fundamental object of X. If you see a geometrical shape as a program and its fundamental object as an abstract interpretation (see [6]) of this program, then Van Kampen theorem becomes a kind of “compositionality” result. Technical details of Van Kampen theorem are of out of the scope of this paper, so we just give an unformal statement.
In theorems 5.1 and 5.2,  SPC are CAT are taken by pair according to the following
table Table 19
where SPC is the domain of the fundamental category functor π1 and CAT its codomain.
Theorem 5.1 (Van Kampen for fundamental category) Let −→  −→ be sub-
−→	X 1, X 2−→
objects of X (object of SPC) such that the underlying topological space of X is the
union of the interiors 20 of the underlying topological spaces of −→1 and −→ and let

−→	−→	−→
−→	−→
−→	−→	−→
X	X 2	−→

X 0 := X 1 ∩ X 2. i1 : X 0 ‹→ X 1, i2 : X 0 ‹→ X 2, j1 : X 1 ‹→ −→ and j2 : −→2 → X


19 there are several versions depending on the framework : see [22] and [24] for groups, [15] for groupoids,
[14] for categories.
20 with respect to the underlying topology of X.

the inclusion maps. Then we have the following push-out squares


−→
 ¸X,¸,¸ ¸
π1(−→)
s¸, ,¸ ¸

j 
  1
−→
¸
j2¸¸¸
−→
s
π1(j1)
−→ ss
¸
π1(j2¸)¸¸
−→

push−out
1 ¸,¸¸¸
 ¸X,2
π1(X 1¸)
push−out	π1(X 2)
sss¸,

i1¸¸¸
−→
 i2
π1(i1¸)¸¸
π1(i2)
−→ ss

X 0

respectively in  SPC and  CAT.
π1(X 0)

Theorem 5.2 (Van Kampen for component category)
Let −→ , −→ be sub-objects of −→ (object of  SPC) such that the underlying topolog-
ical space of −→ is the union of the interiors of the underlying topological spaces of

−→	−→  X3	−→
−→	−→
−→	−→
−→	−→
−→	−→

X 1 and X 2 and let X 0 := X 1 ∩ X 2. i1 : X 0 ‹→ X 1, i2 : X 0 ‹→ X 2, j1 : X 1 ‹→ X3
and j2 : −→ → −→ the inclusion maps.
Moreover, we suppose that Σ1, Σ2 are WE-subcategories of π1(−→ ), π1(−→ ),
π1(j1)(Σ1)	π1(j2)(Σ2) (also denoted Σ3) is a WE-subcategory of π1(−→ ),
π1(i1)(Σ0) ⊆ (Σ1) and π1(i2)(Σ0) ⊆ (Σ2) (i.e.  π1(i1), π1(i2) are morphisms of
 CATΦ).

Then i1, i2, j1 and j2 give rise to i' , i' , j'
and j'
morphisms of  CATΦ and we

have
1  2  1	2

(π1(−→ ), Σ )

,, X¸3
3
¸¸¸j'

1,,
−→	,,,
¸2¸¸¸
−→

(π1(X 1), Σ¸1)
push out in	(π1(X 2), Σ2)
,,, ¸

¸¸¸¸¸
٨CAT Φ
,,,,,

'	¸¸¸
,,,, '

(π1(−→ ), Σ )


and
X 0	0

CompΦ(π1(−→ ), Σ )

CompΦ(j',),,,,,_ 
−→ ,,,,
X 3	3
¸¸¸¸C¸ompΦ(j' )
¸¸¸¸	−→

CompΦ(π1(X 1), Σ1)
¸¸¸¸_¸¸¸¸¸¸
push out in	CompΦ(π1(X 2), Σ2)
,,,,,,,,_ 

CompΦ(i¸' ¸)¸¸¸¸¸
٨CAT
,,,,,,C,o,mpΦ(i' )

CompΦ(π1(−→ ), Σ )
The proof of theorem 5.1 requires three cases, one for each line of table 19. POSPC/LFCAT case can be found in [13]. dSPC/dCAT is available in [14]. In all the cases one might define the fundamental category of a local pospace as the fundamental category of its corresponding directed space see theorem 4.3.

Proof. Theorem 5.1 gives us pushout squares in  SPC and  CAT:

−→
 ¸X,¸,¸ ¸
π1(−→)
s¸, ,¸ ¸

j 
  1
−→
¸
j2¸¸¸
−→
s
π1(j1)
−→ ss
¸
π1(j2¸)¸¸
−→

push−out
1 ¸,¸¸¸
 ¸X,2
π1(X 1¸)
push−out	π1(X 2)
sss¸,

i1¸¸¸
−→
 i2
π1(i1¸)¸¸
π1(i2)
−→ ss

X 0	π1(X 0)
We have to prove that π1(−→ ), π1(−→ ), π1(−→ ) and π1(−→ ) respectively equiped
with Σ0, Σ1, Σ2 and Σ3 give rise to a pushout square in  CATΦ.  Given f1 :

(π1(−→	1
−→
1	1	2

such that f1 ◦ i1 = f2 ◦ i2, by hypothesis, ∃!h : π1(−→ ) −→ L (morphism of CAT) such that f1 = h◦j1 and f2 = h◦j2. It remains to see that h gives rise to a morphism of CATΦ i.e. h(Σ3) ⊆ Σ. By hypothesis, Σ3 = j1(Σ1) j2(Σ2) so any element of Σ3 can be written j2(α2n+1) · j1(α2n) · ... · j2(α1) · j1(α0) where ∀k ∈ {0, ..., n}, α2k ∈ Σ1 and α2k+1 ∈ Σ2, so h(j2(α2n+1) · j1(α2n) · ... · j2(α1) · j1(α0)) = (h ◦ j2)(α2n+1) · (h ◦ j1)(α2n) · ... · (h ◦ j2)(α1) · (h ◦ j1)(α0) = f2(α2n+1) · f1(α2n) · ... · f2(α1) · f1(α0) ∈ Σ
since f1, f2 are morphisms of CATΦ, hence h gives rise to a morphism of CATΦ from (π1(−→ ), Σ ) to (L, Σ). Thus we have a pushout square in CATΦ. Now by
theorem 4.28, we know that CompΦ is a left adjoint hence 21 preserves colimits and,
in particular, pushouts.	 
Theorem 5.2 does not necessarily give the biggest WE-subcategory of π1(−→ ), so one has to guess what this biggest WE-subcategory is in order to choose appropriate Σ1 and Σ2, the choice of Σ0 is not as important, and once Σ1 and Σ2 are given, it
might be possible to take Σ0 as the biggest WE-subcategory of π1(−→ ) satisfying
π1(i1)(Σ0) ⊆ (Σ1) and π1(i2)(Σ0) ⊆ (Σ2). A very simple application of theorem 5.2 to calculate the component category of the first example given in section 2.









y











x



Let us come back to the example of the rectangle with two holes:

21 general facts of category theory see [4].









j1


Pushout in
POSPC

which gives, by theorem 5.2





In this figure, rectangle filled with grey color are not commutative. The holes of the geometrical shape are represented by non-commutative squares in the compo- nent category.
Applying theorem 5.2 we can also prove that the component category of the cube with a centered cubical hole has 26 objects 22 .  It can be repre- sented in R3 putting an object in the “center” of each vertex, edge and face (8 vertices + 12 edges +6 faces = 26 objects). Morphisms are generated by arrows
from a point to its “closer neighbours in the future”, for example those of (0, 0, 0)
are (0, 0, 1 ), (0, 1 , 0) and ( 1 , 0, 0) while (1, 1, 1) has no such neighbours. In order to
2	2	2
have the hypothesis of theorem 5.2 satisfied, we split the cube into two parts so
that, following notation of theorem 5.1, X0 :=] 1 − ϵ, 1 + ϵ[×[0, 1] × [0, 1]. It is the
2	2
analog of the previous example in three dimensions.






22 geometrically, picture the Rubik’s cube, the interior cube is the hole, all other cubes give an object.

Towards directed cohomology
In [2] and [1] a cohomology of small categories is presented by means of natural systems of factorization. The idea would be to define the cohomology of a directed
geometrical object −→ as the cohomology of its fundamental category 23 . However,
as we have already pointed it out, the fundamental category has often as many objects as R. Still, there is only few of them which is relevant, and finding them
amounts to calculate the component category. Thus, the cohomology of −→ could
−→	X
be defined as the cohomology of the component category of X . For example, with this definition, the fourth and fifth examples given in section 2 are distinguished by their first cohomology groups.

In this paragraph, “cubical” pospace means a disjoint union of unit cubes of dimension n in which finitely many parallelepipeds 24 have been dug out. As we have remarked in the previous paragraph, the choice of a “good” natural system is influenced by “good” properties of the small category we want to calculate the cohomology groups.

Definition 6.1 • A morphism γ is said prime iff for any morphisms γn, ..., γ0 such that γ = γn ◦ ... ◦ γ0, ∃!i ∈ {1, ..., n}, γi /= id.
A category C is generated by primes iff any non trivial morphism of C can be written as a finite composition of prime morphisms.
A category C is homogeneous iff C is generated by primes and for all composable sequences of prime morphisms (γn, ..., γ0) and (γ'n' , ..., γ'0) we have (γn ◦...◦γ0) = (γ'n' ◦ ... ◦ γ'0) ⇒ n = n'. n + 1 is the length of γn ◦ ... ◦ γ0.
A category C is said strongly homogeneous iff C is generated by primes and
∀x, y ∈ Ob(C)∃Nx,y such that for all composable sequences of prime morphisms (γn, ..., γ0) with src(γ0) = x and tgt(γn) = y we have n = Nx,y. In this case, length depends only on src and tgt.
A category C is said bounded iff the length of the composable sequences of C whose elements are not trivial are bounded, i.e. ∃NC ∈ N such that for all composable sequences (γn, ..., γ0) satisfying γi /= id, we have n ≤ NC .
A category C is said weakly  bounded  iff  ∀γ  ∈  M o(C),M ax({n  ∈
N/∃(αn, ..., α0) such that αn ◦ ... ◦ α0}) < +∞

The relations existing between these properties are given in the following dia-



23 it is abusive to write “the” cohomology of a small category because, as far as I know, it depends on the natural system one has put on the small category one wants to calculate “the” cohomology. Hence, it
−→
becomes a part of the art to choose a good natural system. In partical cases, the component category of X
has good properties which induce an “obviously” interesting natural system.
24 with faces parallel to the faces of the unit cube.

gram


Free Strongly Homogeneous  zH"omogcenzeous

	 z"	cz

Bounded Dirceczt
Weakly Bounded

czgenerated

zc#z 	 z"	cz

Loop-free
Iso is discrete


cz
Skeletal
Prime morphisms generalize prime numbers, indeed, the monoid (N, +) seen as a small category has prime morphisms which are exactly the prime numbers. In fact, it is homogeneous by the famous prime number decomposition theorem. In
particular, π (−→1
1 S ) is homogeneous.  The notion of direct categories is related to
model category theory, see [17] or [16] for further details.
Definition 6.2 A linear extension of a small category C is a functor f : C → λ such that ∀γ ∈ Mo(C),f (γ) = id ⇒ γ = id and where λ is an ordinal 25 i.e. a poset whose any non empty subset has a minimum.
A direct category is a small category having a linear extension. An inverse category is a small category whose dual is direct.
Conjecture 6.3 The component category of a cubical pospace is homogeneous. Moreover, if its underlying space is connected, the component category is bounded.
In general it is not strongly homogeneous as shown by the right side of figure 2 nor bounded because it is always possible to have a infinite disjoint union of connected cubical pospaces C0 H... HCn H... such that ∀n ∈ N, Cn has a composable sequence of prime morphisms of length n. Being homogeneous induces a natural system as follows. Given a small category C, the category of factorizations of C (denoted FC) is given by Ob(FC) = M o(C) and FC[α, β] is the collection of pairs (γ2, γ1) ∈ C[tgt(α), tgt(β)] × C[src(β), src(α)] such that β = γ2 ◦ α ◦ γ1 26 . Given a small category C, a natural system (of abelian groups) 27 on C is a functor D : FC →Ab, where Ab is the category of abelian groups and group morphisms between them.


25 see [17] or [20] or any set theory textbook for the definition.
26 If C is small then so is F C. Moreover, if C is loop-free then so is F C.
27 see [2] and [1] for further details.

Lemma 6.4 Let C be a homogeneous small category. We deﬁne a natural system on C setting D(γ) := Zlength(γ) and for



γ1


D(γ2, γ1) : (xn, ..., x1) ∈ Zlength(α) ‹→ ( 0, ............, 0 , xn, ..., x1, 0, ............, 0 ) ∈
le`ngth(˛γ2¸) timxes	le`ngth(˛γ1¸) timxes
Zlength(β), with length(γ2) zeros on the left side of xn and length(γ1) zeros on the right side of x1.
Instead of a (boring and) formal proof that we actually have a functor, observe the following example, suppose length(γ1) = 1, length(γ2) = 2, length(β) = 6, then necesarily, length(α) = 3 and D(γ2, γ1) is an abelian group embedding pictured by the following diagram:


{0}	×
0
J 
{0} ×
0
J 
Z	×	Z	×
	
id	id
J	J 
Z	×  {0}
id	0
J	J 

Z	×	Z	×	Z	×	Z	×	Z	×	Z
It is important to notice that the image of a morphism of FC only depends on the length of γ1, γ2 and α.
Dealing with loops: the fundamental monoid
As one can notice, the category POSPC does not contain any satifactory model of
the directed circle “−→1”. Indeed, the only authorized paths of −→1 are the clockwise
ones 28 . The problem is to modelize this idea. What order relation should equip S1
in order to make it a pospaces whose dipaths are exactly the clockwise ones? Sup- pose that such a relation ≤ exists, in particular, t ∈ −→ '−→ (cos(−2πt), sin(−2πt))
is clockwise, so we should have ∀t ∈ [0, 1], (0, 1) ≤ (cos(−2πt), sin(−2πt)) ≤ (0, 1) hence, by antisymmetry, (cos(−2πt), sin(−2πt)) = (0, 1) which is a contradic- tion.  A naive solution consists of weakening the definition of a pospace asking
≤ be a preorder instead of an order relation.  But then, by transitivity, ∀t, t' ∈
[0, 1], (cos(2πt), sin(2πt)) ≤ (cos(2πt'), sin(2πt')) so t ∈ −→ '−→ (cos(2πt), sin(2 πt))
which is anticlockwise would also be directed. Marco Grandis approach consists of equiping a topological space X with a set of distinguished paths denoted dX and submited to some conditions. The elements of dX are naturaly called the directed
paths. Then it suffices to equip S1 with the set of all clockwise paths to obtain a
model of the directed circle. It is also possible to have a model of directed circle by covering S1 with open subsets, each of which being suitably equiped with an order relation ≤ that locally makes S1 a pospace.

28 obviously we could have chosen the anticlokwise ones

Besides, the fact that a pospace does not have loops makes its fundamental cat- egory loop-free, in particular it has no endomorphisms. As a direct consequence,
trying to define the “fundamental monoid” of a pospace −→ as π−→(−→)[x, x] is sound

−→ −→
X	1 X

but pointless because π1(X )[x, x] = {idx}.  Introducing loops in our models, the
“fundamental monoid” becomes relevant.
Ideas related to the definition of local pospaces are borrowed from the ones of differential geometry and smooth manifold theory, for a deeper analogy see [21] and [23].
Definition 7.1 [Local Pospaces] A local pospace is a triple (X, τX , ≤X) such that (X, τX) is a topological space, ≤X a relation on X and ∀x ∈ X∃U an open neighbourhood of x such that (U, τU , ≤U ) is a pospace. τU and ≤U are respectively the restriction of τX and ≤X to U . An atlas of (X, τX , ≤X) is an open covering (Ui)i∈I of (X, τX) such that ∀i ∈ I, (Ui, τUi , ≤Ui ) is a pospace. A local dimap f : (X, τX , ≤X) → (Y, τY , ≤Y ) is a continuous map between underlying topolog- ical spaces such that ∃(Uj)j∈J atlas of (X, τX , ≤X) ∃(Vj)j∈J atlas of (Y, τY , ≤Y ) satisfying ∀j ∈ J, fUj→Vj : x ∈ Uj '−→ f (x) ∈ Vj is a dimap (i.e. a morphism of POSPC). Local pospaces and local dimaps organize themselves in a category denoted LPOSPC.
As [−0−→1] is the standard example of pospace, the directed circle −→1 is the standard
example of local pospace, its relation is described by means of maps θ0 : x ∈
]0, 2π['−→ (cos(x), sin(x)) ∈ S1 and θ1 : x ∈] − π, π['−→ (cos(x), sin(x)) ∈ S1 setting
∀x, y ∈]0, 2π[, θ0(x) < θ0(y) if x < y and ∀x, y ∈] − π, π[, θ1(x) < θ1(y) if x < y.
The next definition is due to Marco Grandis in [14] 29
Definition 7.2 [d-spaces] A directed space or d-space is a triple (X, τX , dX) where (X, τX) is a topological space and dX ⊆ {paths of (X, τX)} with the following conditions
{constant paths}⊆ dX
for all θ : [0, 1] → [0, 1] continuous and increasing, for all γ ∈ dX, γ ◦ θ ∈ dX
(dX is stable under di-reparametrization)
for all γ1, γ2 ∈ dX, γ2 ◦ γ1 ∈ dX (dX is stable under concatenation)
A d-map from (X, τX , dX) to (Y, τY , dY ) is a continuous map f from (X, τX) to (Y, τY ) such that ∀γ ∈ dX f ◦ γ ∈ dY d-spaces and d-maps organize themselves in a category denoted dSPC.
Remark that we have the “obvious” inclusion functors
POSPC,˛	 LP OSPC,˛	 dS PC
Now let us focus on two examples:

29 [14] also contains a definition of local pospace which differs from the presently given one.

Denoting π (−→1) the fundamental category of −→1
, we have

∀x ∈ −→1, π (−→1)[x, x] isomorphic to N.	Compare N to
the fundamental group of the circle.	Precisely, π (−→1)
can be described the following way, for each x, y ∈ S1
there is a distinguished arrow αx,y and the family of dis- tinguished arrows is submitted to the following axiom,
∀x, y, z ∈ S1, αy,z ◦ αx,y = αx,z, where y ∈ (x, z). Here,
(x, z) is the clockwise open arc from x to z. Intuitively, the distinguished arrow from x ∈ −→1 to y ∈ −→1 is the
clockwise path from x to y on the directed circle, see the
left side figure. Then ∀γ ∈ π (−→1)[x, y] ∃!n ∈ N such that
−→
γ = (αy,y)n ◦ αx,y and ∀γ ∈ π ( 1)[x, x] ∃!n ∈ N such
that γ = (αx,x)n. Hence we could define the fundamental monoid of −→1 as (N, +).
The idea of the fundamental monoid is attractive but does not work because, in general, it depends on the base point x:



The left side picture can easily be described as a lo- cal pospace or a directed space denoted −→ in both
cases. Adapting the description of the fundamental
category of −→1, it is easy to describe the one of −→.
Then we observe that π−→(−→)[x, x] ∼= (N, +) in MON
1 X	−→ −→	∼
- the category of monoids - while π1(X )[y, y] = {•}. The base point dependence makes impossible to de-
fine the fundamental monoid of −→ as the straight-
forward generalization of the fundamental group.


In addition, the component category of −→1 is its fundamental one. Indeed, none
−→	S
of the morphisms αx,y of π1(S1) is Yoneda inversible. By definition, if αx,y were
Yoneda inversible then, since π (−→1)[y, x] /= ∅, we would have a morphism g from y
−→
to x such that g ◦ αx,y = idx, which is impossible. Hence, as any arrow of π ( 1)
can be written as a composition of α’s, none of them is Yoneda inversible.
In particular the component category, as it has been defined previously, does not efficiently reduce the size of the fundamental category of a local pospace or a directed
space which “contains” −→1. Still, the next result may provide a way to solve this
problem:

Proposition 7.3 Let C be a small category. Suppose that σ : x −→ y is a morphism

of C:
If ∀δ ∈ C[x, x] ∃!γ ∈ C[y, y] such that σ ◦ δ = γ ◦ σ then the map Φσ : δ ∈ C[x, x] '−→ γ ∈ C[y, y] is a morphism of monoids
If ∀γ ∈ C[y, y] ∃!δ ∈ C[x, x] such that γ ◦ σ = σ ◦ δ then the map Ψσ : γ ∈ C[y, y] '−→ δ ∈ C[x, x] is a morphism of monoids
If ∀δ ∈ C[x, x] ∃!γ ∈ C[y, y] such that σ◦δ = γ ◦σ and ∀γ ∈ C[y, y] ∃!δ ∈ C[x, x]
such that γ ◦ σ = σ ◦ δ then Ψσ ◦ Φσ = IdC[x,x] and Φσ ◦ Ψσ = IdC[y,y]
Proof. σ◦idx = idy◦σ, thus Φσ(idx) = idy. Moreover, σ◦(δ2◦δ1) =  Φσ(δ2◦δ1) ◦σ
and σ ◦ (δ2 ◦ δ1) = (σ ◦ δ2) ◦ δ1 =  Φσ(δ2) ◦ σ  ◦ δ1 = Φσ(δ2) ◦ (σ ◦ δ1) =  Φσ(δ2)  ◦
 Φσ(δ1) ◦σ. By uniqueness, Φσ(δ2 ◦δ1) = Φσ(δ2) ◦ Φσ(δ1), hence Φσ is a morphism of monoids. The same holds for Ψσ dualizing everything. Suppose we have the hypothesis of the third point, then σ ◦ δ = Φσ(δ) ◦ σ = σ ◦ Ψσ(Φσ(δ)), hence, by uniqueness, Ψσ(Φσ(δ)) = δ. The same way, Φσ(Ψσ(γ)) = γ.	 
Proposition 7.4 Let C be a small category. Suppose that σ : x −→ y is a morphism of C such that fσ : δ ∈ C[x, x] '−→ σ◦δ ∈ C[x, y] and gσ : γ ∈ C[x, x] '−→ γ◦σ ∈ C[x, y] are bijective. Then the hypothesis of the third point of proposition 7.3 are satisﬁed.
Proof. Given δ ∈ C[x, x], by definition of the bijections f and g, γ := g−1(σ ◦ δ) is the only element of C[y, y] such that σ ◦ δ = γ ◦ σ. Of course, given γ ∈ C[y, y], by defintion of the bijections f and g, δ := f−1(γ ◦ σ) is the only element of C[x, x] such that γ ◦ σ = σ ◦ δ. In particular, Φσ = g−1 ◦ fσ and Ψσ = f−1 ◦ gσ.	 
σ	σ
Corollary 7.5 Any Yoneda inversible morphism satisﬁes the hypothesis of propo- sition 7.4
For example, we remark that ∀x, y ∈ S1, αx,y satisfies the hypothesis of the third point of proposition 7.3 and of proposition 7.4, nevertheless, as we have already seen, they are not Yoneda inversible. This remark leads to settle some definitions, the former Yoneda inversible morphisms are, from now, called strong Yoneda inversible, the morphisms satisfying the hypothesis of proposition 7.4 are called Yoneda inversible and the ones enjoying the hypothesis of the third point of proposition 7.3 are called weak Yoneda inversible. The next step consists of adapting the definition of inessential system, putting Yoneda or weak Yoneda in- stead of strong Yoneda. In the new context, there is no doubt that the definition of the component category will require some changes too.

Component category of the directed torus with a hole
Take the directed square with a hole (see figure 1) then identify [0, 1] × {0} ≈ [0, 1] × {1} and {0} × [0, 1] ≈ {1} × [0, 1]. We obtain a local pospace whose underlying topological space is a torus with a hole and where the local order is clockwise on the “small” and “large” generators, denote T this local pospace. Figure 7 represents T with the identifications described above.  No morphism is








		

Fig. 7. Directed torus T 2 -unfold representation-
Yoneda inversible, for the same reason as in the directed circle case. Still, all the morphisms of the fundamental category they induce are both monic and epic making the correponding set theoretic maps are one-to-one but not onto (see definition 4.5). For example, the dipaths α and β on figure 7 are not dihomotopic, the right hand part shows the “only” dihomotopy one could image. In fact, α and β are not even homotopic, it is a classical algebraic topology problem. The
consequence is that ∀δ, morphism of π (−→2 , ÇB ◦ (C → A) /= (C → A) ◦ δ. Where
1 T )
(C → A) is an arrow whose beginning is in the interior of C and the end in the interior of A, and ÇB is a loop starting from A going through B and coming back to its initial point. In particular, any dipath crossing the fronteer of A, B or C,
cannot be weakly Yoneda inversible. Conversely, it seems that any dipath staying in the same “component” is weakly Yoneda inversible.  Then, ideologically, we
“should” have three components 30 and the component category “should” be the



free category generated by
fB



B
fC

t\
A,,,,  C



gB	gC
These last statements are just prospective thoughts and conjectures.

References
Baues, H. J., “Combinatorial Homotopy and 4-Dimensional Complexes,” De Gruyter expositions in Mathematics 2, Walter de Gruyter, 1991.
Baues, H. J. and G. Wirsching, Cohomology of small categories, Journal of Pure and Applied Algebra
38 (1985).
Bednarczyk, M., A. Borzyszkowski and W. Pawlowski, Generalized congruences-epimorphisms in Cat, Theory and Applications of Categories 5 (1999).

30 which are connected up to identification.


Borceux, F., “Handbook of Categorical Algebra 1 : Basic Category Theory,” Encyclopedia of Mathematics and its Applications 50, Cambridge University Press, 1994.
Borceux, F., “Handbook of Categorical Algebra 3 : Categories of Sheaves,” Encyclopedia of Mathematics and its Applications 52, Cambridge University Press, 1994.
Cousot, P. and R. Cousot, Abstract interpretation frameworks, Journal of Logic and Computation 2
(1992), pp. 511–547.
Fajstrup, L., E. Goubault, E. Haucourt and M. Raußen, Component categories and the fundamental category, APCS 12 (2004), pp. 81–108.
Gabriel, P. and M. Zisman, “Calculus of fractions and homotopy theory,” Ergebnisse der Mathematik und ihrer Grenzgebiete 35, Springer Verlag, 1967.
G.Gierz, K.H.Hofmann, K.Keimel, J.D.Lawson, M.Mislove and D.S.Scott, “A Compendium of Continuous Lattices,” Springer, 1980.
Gierz, G., K. H. Hofmann, K. Keimel, J. D.Lawson, M. W.Mislove and D. S.Scott, “Continuous Lattices and Domains,” Encyclopedia of Mathematics and its Applications 93, Cambridge University Press, 2003.
Goubault, E., Inductive computation of components categories of mutual exclusion models (2003).
Goubault, E., A note on inessential morphisms (2003).
Goubault, E., Some geometric perspectives in concurrency theory, Homology, Homotopy and Applications 5 (2003), pp. 95–136.
Grandis, M., Directed homotopy theory, I. the fundamental category, Cahiers de Topologie et G´eom´etrie Diff´erentielle Cat´egoriques 44 (2003), pp. 281–316, preliminary version: Dip. Mat. Univ. Genova, Preprint 443 (Oct 2001). Revised: 5 Nov 2001, 26 p.
Higgins, P. J., “Categories and Groupoids,” Mathematical Studies 32, Van Nostrand Reinhold, 1971, libre d’accs sur internet l’adresse http://www.tac.mta.ca/tac/reprints/.
Hirschhorn, P. S., “Model Categories and their Localizations,” Mathematical Surveys and Monographs
99, American Mathematical Society, 2003.
Hovey, M., “Model Categories,” Mathematical Surveys and Monographs 63, American Mathematical Society, 1999.
Husainov, A. A., On the homolgy of small categories and asynchronous transition systems, Homology, Homotopy and Applications 6 (2004), pp. 439–471.
Johnstone, P. T., “Stone Spaces,” Cambridge studies in advanced mathematics 3, Cambridge University Press, 1982.
Kunen, K., “Set Theory: An Introduction to Independence Proofs,” Studies in Logic and The Foundations of Mathematics 102, North-Holland, 1980.
Lisbeth Fajstrup, E. G. and M. Raußen, Algebraic topology and concurrency, Theoretical Computer Science 357 (2006), pp. 241–278, also technical report, Aalborg University, available at http://www.ipipan.gda.pl/ stefan/AlgTop/reports.html and presented at Mathematical Foundations of Computer Science 1998 (London).
Massey, W. S., “A Basic Course in Algebraic Topology,” Gradute Texts in Mathematics 127, Springer- Verlag, 1991.
Sokolowski, S., A case for Po-manifolds : in chase after a good topological model for concurrency, Technical report, Institute of Computer Science, Gdansk Division (2002).
Switzer, R. M., “Algebraic Topology - Homology and Homotopy,” Classics in Mathematics, Springer, 2002, reprint of the 1975 edition.
