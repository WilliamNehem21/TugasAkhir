

Electronic Notes in Theoretical Computer Science 262 (2010) 65–81
www.elsevier.com/locate/entcs
Undecidability of the Logic of Overlap
Relation over Discrete Linear Orderings
Davide Bresolin1
University of Verona, Verona, Italy
Dario Della Monica2
University of Udine, Udine, Italy
Valentin Goranko3,6
Technical University of Denmark, Lyngby, Denmark
Angelo Montanari4
University of Udine, Udine, Italy
Guido Sciavicco5,6
University of Murcia, Murcia, Spain

Abstract
The validity/satisfiability problem for most propositional interval temporal logics is (highly) undecidable, under very weak assumptions on the class of interval structures in which they are interpreted. That, in particular, holds for most fragments of Halpern and Shoham’s interval modal logic HS. Still, decidability is the rule for the fragments of HS with only one modal operator, based on an Allen’s relation. In this paper, we show that the logic O of the Overlap relation, when interpreted over discrete linear orderings, is an exception. The proof is based on a reduction from the undecidable octant tiling problem. This is one of the sharpest undecidability result for fragments of HS.
Keywords: interval temporal logics, overlap relation, undecidability, octant tiling problem


1 Email: davide.bresolin@univr.it
2 Email: dario.dellamonica@dimi.uniud.it
3 Email: vfgo@imm.dtu.dk
4 Email: angelo.montanari@dimi.uniud.it
5 Email: guido@um.es
6 These authors have been partially supported by the Spanish-South African Project n. HS2008-0006 “INTEGRATED ACTION [2009-2010] (Metric Interval Temporal Logics: Theory and Applications)”

1571-0661 © 2010 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2010.04.006

Introduction
Linear temporal logics are modal logics whose frames are linearly-ordered struc- tures. Most linear temporal logics are interpreted in models where points are the primitive ontological entities and the truth of (temporal) formulae is evaluated at time points. Different choices for the temporal domain (discrete, dense, Dedekind- complete, etc.) and for the temporal operators (F, P, Next, Until, etc.) lead to dif- ferent point-based linear temporal logics. However, the ability to represent and to reason about time intervals is needed in a variety of computer science fields, includ- ing natural language processing, constraint satisfaction problems, theories of action and change, temporal databases, specification and verification of concurrent and real-time systems [8,12]. Unlike point-based ones, interval temporal logics assume time intervals as their primitive ontological entities and all formulae are evaluated relative to intervals, rather than points. The systematic description of the variety of relations between intervals on linear orderings was first discussed by Allen [1] in an algebraic setting, with the aim of exploiting interval reasoning in systems for time management and planning. The modal logic counterpart of Allen’s Interval Algebra is Halpern and Shoham’s logic HS [9], which features a modal operator for each Allen’s interval relation (apart from equality), namely, “ends” E, “during” D, “begins” B, “overlaps” O, “meets” A, “after” L, and their inverses E, D, B, O, A, L. Because every formula of HS is interpreted as a binary relation, rather than a set of points, the validity/satisfiability problem for HS turns out to be highly undecidable under very weak assumptions on the class of interval structures over which its for- mulae are interpreted. In particular, HS is undecidable when interpreted over any class of linearly-ordered structures that contains at least one linear ordering with an infinite ascending or descending chain, thus including N, Z, Q, and R [9].
The bad computational behavior of HS motivates a systematic analysis of the family of its fragments in the search for expressive enough, yet decidable, ones and, more generally, in the quest for identifying the precise boundary between decidability and undecidability in the realm of interval logics. The first major step in this direction was taken by Halpern and Shoham themselves in their original paper, where they show that undecidability results for HS hold even if one restricts the logic to its ABE fragment (we use the following notation: ‘XY ... Z’ is the fragment of HS involving only the modalities corresponding to the relations X, Y,..., Z) and suggest to investigate weaker or incomparable meaningful fragments such as BE and DD. The undecidability of BE over dense linear orderings was proved by Lodaya almost ten years later [10], while the decidability of DD over Q has been just established [11]. The recent identification of significant decidable fragments of HS, such as the logic of interval neighborhood AA over various classes of linear orderings [6,7] and the logic of the subinterval relation D over dense orderings [5,13], brought new interest in the investigation of HS fragments. A partial classification of HS fragments with respect to decidability/undecidability, reflecting the recent state of the art, can be found in [3]. Further undecidability results were obtained since then in [4].
While undecidability dominates over the complete set of HS fragments, decid-

ability is typically the case for fragments of HS involving only one modality, which makes that set of fragments particularly interesting. The decidability of B, B, E, E can be easily shown by a reduction to point-based logics. The decidability of A, A, and thus that of L, L (respectively definable in terms of A, A) has been established in [6,7] by different model-theoretic arguments each implying small (non-standard) model property for these logics; likewise for the decidability of D over dense linear orderings (the proof can also be adapted to the case of D). The decidability of D over general, finite, or discrete linear orderings, however, is still open.
In this work, we show that O (and hence O, which is symmetric) is the only so far proven exception from that decidability trend, despite its simplicity and limited expressive power. The main result of the present paper is that the logic O (resp., O), interpreted over discrete linear orderings, is undecidable. This result strengthens those obtained in [4] for a number of extensions of O when the semantics is restricted to discrete linear orderings.The proof is based on a reduction from the undecidable octant tiling problem (see, e.g., [2]), which is the problem of establishing whether a given finite set of tile types can tile the second octant of the integer plane, respecting the color constraints between pairs of tiles that are vertically or horizontally adjacent.
The paper is organized as follows. In Section 2, we introduce syntax and seman- tics of the fragment O, interpreted over discrete linear orderings. In Section 3, we briefly illustrate the structure of the undecidability proof. In Section 4, we give a detailed account of it. Conclusions provide an assessment of the work and outline future research directions.

The Logic of Overlap O: Syntax and Semantics
Let D = ⟨D, <⟩ be a discrete linearly-ordered set. An interval over D is an or- dered pair [a, b], with a, b ∈ D and a < b, thus excluding intervals with coincident endpoints (strict semantics). For any interval [a, b], we define the length of [a, b], denoted len([a, b]), as the cardinality of the set {a,..., b} minus 1, e.g., the length of a three-point interval is 2. As an alternative, one can define an interval over D as a pair [a, b], with a, b ∈ D and a ≤ b (non-strict semantics). Hereafter, we restrict our attention to strict semantics; however, all proofs can be easily adapted to the non-strict case (it makes no difference if point intervals are allowed or not, since O-formulae can only talk about the current interval or intervals of length greater than or equal to 2).
The logic O features an infinite set of propositional letters AP, the classical connectives ¬, ∨ (the remaining ones are considered as abbreviations), and the unary modal operator ⟨O⟩ (the dual operator [O] is defined as ¬⟨O⟩¬ as usual). Well-formed formulae, denoted by ϕ, ψ, . . ., are obtained by means of the following abstract grammar:
ϕ ::= p | ¬ϕ | ϕ ∨ ϕ | ⟨O⟩ϕ.
A model for O is a structure of the form M = ⟨I(D),V ⟩, where I(D) is the set of all intervals over D and V : AP '→ 2I(D) assigns to every p ∈ AP the set of intervals

V (p) over which it holds. The truth of a formula over a given interval [a, b] in a model M is defined by structural induction on formulae:
M, [a, b] H p iff [a, b] ∈ V (p), for all p ∈ AP;
M, [a, b] H ¬ψ iff it is not the case that M, [a, b] H ψ;
M, [a, b] H ϕ ∨ ψ iff M, [a, b] H ϕ or M, [a, b] H ψ;
M, [a, b] H ⟨O⟩ψ iff there exists an interval [c, d] such that a < c < b < d, and
M, [c, d] H ψ.
As usual, we have that an O-formula is satisﬁable if it is true on some interval in some model and it is valid if it is true on every interval in every model.

An Intuitive Account of the Undecidability Proof
In this section, we give an intuitive account of the structure of the undecidability proof. We have already exploited a reduction from the tiling problem for the second octant of the integer plane to prove the undecidability of various HS fragments [3,4]. However, the nature of the overlap modality featured by the logic O substantially influences the technicalities of the reduction.

The tiling problem for the second octant O of the integer plane
Let O = {(i, j) : i, j ∈ N ∧ 0 ≤ i ≤ j} be the second octant of the integer plane Z × Z. The tiling problem for O is the problem of establishing whether a given finite set of tile types T = {t1,..., tk} can tile O. For every tile type ti ∈ T , let right(ti), left(ti), up(ti), and down(ti) be the colors of the corresponding sides of ti. To solve the problem, one must find a function f : O → T such that
right(f (n, m)) = left(f (n + 1, m)), with n < m,
and up(f (n, m)) = down(f (n, m + 1)).
Using K¨onig’s lemma one can prove that a tiling system tiles O if and only if it tiles arbitrarily large squares if and only if it tiles N × N if and only if it tiles Z × Z. The undecidability of the first one immediately follows from that of the last one [2].

The encoding of the tiling problem for O
The reduction from the tiling problem for O to the satisfiability problem for a given interval temporal logic takes advantage of some special propositional letters, namely, u, Id, tile, ∗, up rel, t1, t2,..., tk. Additional (distinct) propositional letters are introduced for the different logics.
For every propositional letter p, by p-interval we mean an interval satisfying p. The reduction consists of three main steps: (i) the encoding of the octant by means of a suitable chain of intervals, called ‘unit’ intervals (u-intervals, for short), (ii) the encoding of the above-neighbor relation by means of a suitable class of intervals, called up rel-intervals, and (iii) the encoding of the right-neighbor relation. In the first step, we set our framework by forcing the existence of a unique infinite chain of u-intervals on the linear ordering (u-chain, for short). The u-intervals are used as cells to arrange the tiling. Next, we define a chain of Id-intervals (Id-chain, for

short), each of them representing a row of the octant. Any Id-interval consists of a sequence of u-intervals; each u-interval is used either to represent a part of the plane or to separate two Id-intervals. In the former case, it is labeled with the propositional letter tile, in the latter case, it is labeled with the propositional letter
∗. Then, we define two relations that connect each tile with its above neighbor and right neighbor (if any) in the octant, respectively. Taking advantage of these relations, we force the j-th Id-interval to contain exactly j tile-intervals. Finally,
we introduce a set of propositional letters T = {t1, t2,..., tk} corresponding to the set of tile types T = {t1, t2,..., tk} and we define a formula ΦT which is satisfiable if and only if there exists a proper tiling of O by T , i.e., a tiling that satisfies the
color constraints on vertically- and horizontally-adjacent tiles.


The Logic O and the Construction of the u-Chain
The main problem we must solve when dealing with the logic O is the construction of the u-chain: we must specify how to reach, from a given u-interval, the next one by using only the operator ⟨O⟩. We solve this problem by exploiting the discrete nature of the linear ordering: we build a chain of adjacent u-intervals, each of them of length 2. To this end, we make use of a set of additional propositional letters,
namely, u1, u2, u, k1, k2, k, beginu1 , beginu2 , begink1 , and begink2 .  More precisely, to constrain the length of the u-intervals, we first force each inner point of every u-interval to be the starting point of infinitely many beginu-intervals and then we constrain each beginu-interval to not overlap any other beginu-interval starting inside the same u-interval. In this way, we constrain each u-interval to have exactly one inner point (Fig. 1). Moreover, to force consecutive pairs of u-intervals to be adjacent, we take advantage of an auxiliary chain of k-intervals, each one of length 2 as well, such that the endpoints of each k-interval are the (unique) inner points
of two consecutive u-intervals (Fig. 2).


Undecidability of the Logic O over Discrete Linear Orderings
In this section, we formally prove that the logic O, interpreted over discrete linear orderings, is undecidable.

a	b	a	b






Figure 1. an inconsistent scenario where the u-interval [a, b] has length greater than 2 and there exist two beginu-intervals starting inside it which overlap (left) and the correct scenario where the u-interval [a, b] has length equal to 2 and all beginu-intervals starting inside it do not overlap (right).

u	u	u	u	u	u	u	u
k	k	k	k	k	k	k	k
Figure 2. u-intervals are adjacent and each pair of consecutive u-intervals is connected by a k-interval.
Deﬁnition of the u-chain
The construction of the u-chain can be formalized as follows. For any interval [a, b], with len([a, b]) ≥ 2, let G[a,b] be the set of intervals that contains the interval [a, b] and all intervals [c, d], with len([c, d]) ≥ 2, which start after a and end after b. Moreover, let [G] (always in the future) be the following derived operator:
[G]p ≡ p ∧ [O]p ∧ [O][O]p.
It is not difficult to show that [G]p holds over an interval [a, b], with len([a, b]) ≥ 2, if and only if p holds over every interval in G[a,b]. Let [a, b] be the interval over which we evaluate formulae (technically, the interval to the right of which the u- chain starts). Hereafter, we confine ourselves to intervals (resp., sets of intervals) belonging to (resp., included in) G[a,b].
In order to define the u-chain, we use the following formulae:
[G]((k ↔ k1 ∨ k2) ∧ (u ↔ u1 ∨ u2) ∧ (k1 → ¬k2) ∧ (u1 → ¬u2))	(1) [G]((k1 → ⟨O⟩u1) ∧ (u1 → ⟨O⟩k2) ∧ (k2 → ⟨O⟩u2) ∧ (u2 → ⟨O⟩k1))	(2)
¬u ∧ ¬k ∧ [O]¬u ∧ [O]¬k2 ∧ ⟨O⟩k1	(3)

Formulae (1)-(3) force the existence of an infinite chain of overlapping intervals where k- and u-intervals alternate in a regular way. More precisely, u-intervals (resp., k-intervals) are partitioned into u1- and u2-intervals (resp., k1- and k2-intervals) (formula (1)). Every k1-interval (resp., u1-, k2-, u2-interval) overlaps at least a u1- interval (resp., k2-, u2-, k1-interval) (formula (2)). The first interval of the chain is a k1-interval (formula (3)). As we will show further, the next formulae constrain the length of both u- and k-intervals to be equal to 2:


[G]((u1 → [O]beginu1 ) ∧ (u2 → [O]beginu2 )∧
∧(k1 → [O]begink1 ) ∧ (k2 → [O]begink2 ))
[G](((u2 ∨ k1 ∨ k2) → ¬⟨O⟩beginu1 ) ∧ ((u1 ∨ k1 ∨ k2) → ¬⟨O⟩beginu2 )∧
∧((k2 ∨ u1 ∨ u2) → ¬⟨O⟩begink1 ) ∧ ((k1 ∨ u1 ∨ u2) → ¬⟨O⟩begink2 )) [G]((beginu1 ∧ ¬⟨O⟩beginu2 → ¬⟨O⟩beginu1 )∧
∧(beginu2 ∧ ¬⟨O⟩beginu1  → ¬⟨O⟩beginu2 )∧
∧(begink1 ∧ ¬⟨O⟩begink2  → ¬⟨O⟩begink1 )∧
∧(begink2 ∧ ¬⟨O⟩begink1  → ¬⟨O⟩begink2 ))

(4)

(5)


(6)

(1) ∧ ... ∧ (6)	(7)

Formulae (4)-(6) force the first k1-interval to start from the last inner point of the initial interval [a, b] and every ki-interval (resp., ui-interval) to meet the k3−i-interval

(resp., u3−i-interval) that immediately follows it.
Lemma 4.1 If M, [a, b] H (7), then there exists an inﬁnite sequence of points c1 < b1 < c2 < b2 < . . . < bi−1 < ci < bi < . . . such that a < c1, b = b1, and for each i ≥ 1:
len([ci, ci+1]) = 2 and len([bi, bi+1]) = 2;
M, [ci, ci+1] H k1 (resp., M, [ci, ci+1] H k2) if and only if i is an odd (resp., even) number;
M, [bi, bi+1] H u1 (resp., M, [bi, bi+1] H u2) if and only if i is an odd (resp., even) number,
and no other interval [c, d] ∈ G[a,b] satisﬁes k1 (resp., k2, u1, u2), unless c > ci
(resp., c > ci, c > bi, c > bi) for each i > 0.
Proof The proof of statements 1-3 is by mutual induction on the indexes i and j
of the sequences c1 < c2 < . . . and b1 < b2 < . . ., respectively.
Base case. We prove that a < c1 < b = b1 < c2 < b2, len([c1, c2]) = 2, len([b1, b2]) = 2, M, [c1, c2] H k1, and M, [b1, b2] H u1. We first show that [a, b] overlaps one and only one k1-interval, whose length is equal to 2. By (3), [a, b] overlaps one interval satisfying k1. Suppose now, by contradiction, that there exists a k1- interval [c, d] such that [a, b] overlaps [c, d] and len([c, d]) > 2. This means that there is at least one point b' such that c < b' < d and b' /= b. Let us assume b' < b (the opposite case can be dealt with in a very similar way). By (2), there exists an
interval [e, f ] such that [c, d] overlaps [e, f ] and [e, f ] satisfies u1. By (4), the interval [b',f ] satisfies begink . We show that [b',f ] does not satisfy the third conjunct of
formula (6), that is, we show that the begink -interval [b',f ] satisfies ч⟨O⟩begink ,
1	2
but it does not satisfy ч⟨O⟩begink1 , thus leading to a contradiction. In order to show that [b',f ] satisfies ч⟨O⟩begink , suppose, by contradiction, that there exists a begink -interval [g, h] such that [b',f ] overlaps [g, h]. We distinguish two cases:
if g < d, then the k1-interval [c, d] overlaps the begink2 -interval [g, h], which
contradicts the fourth conjunct of (5);
if g ≥ d, then the u1-interval [e, f ] overlaps the begink2 -interval [g, h], which contradicts the fourth conjunct of (5) as well.
Let us show now that [b',f ] satisfies ⟨O⟩begink . By (2), there exists an interval [g, h] such that [e, f ] overlaps [g, h] and [g, h] satisfies k2. By (4), the interval [b, h]
satisfies begink . Hence, the begink -interval [b',f ] overlaps the begink -interval [b, h]
1	1	1
(contradiction). It follows that [a, b] overlaps (one and) only one k1-interval, whose length is equal to 2.  Let [c1, c2] be such a k1-interval.  From len([c1, c2]) = 2, it follows that b is the only point in between c1 and c2. By (2), the k1-interval [c1, c2] overlaps a u1-interval, say, [b1, b2]. Since len([c1, c2]) = 2, b1 = b. To prove that len([b1, b2]) = 2, we can apply the same argument we used to show that len([c1, c2]) = 2.
Inductive step. Let us assume that, by the inductive hypothesis, M, [ci, ci+1] H k1 (resp., M, [ci, ci+1] H k2), where len([ci, ci+1]) = 2 and i is odd (resp., i is even). The argument we applied to the base case can be applied to prove that M, [bi, bi+1] H u1 (resp., M, [bi, bi+1] H u2), where ci < bi < ci+1 < bi+1 and len([bi, bi+1]) = 2.

Similarly, if we assume that, by the inductive hypothesis, M, [bi, bi+1] H u1 (resp., M, [bi, bi+1] H u2), where len([bi, bi+1]) = 2 and i is odd (resp., i is even), then the argument we applied to the base case allows us to conclude that M, [ci+1, ci+2] H k2 (resp., M, [ci+1, ci+2] H k1), where bi < ci+1 < bi+1 < ci+2 and len([ci+1, ci+2]) = 2.
To conclude the proof, we must show that there is no interval [c, d] ∈ G[a,b] such that [c, d] satisfies u1 and [c, d] /= [bi, bi+1], for every odd positive integer i, unless c > bi for every i > 0 (the same for u2, k1, and k2). Suppose, by contradiction, that such an interval [c, d] exists. From (1) and (3), it immediately follows that [a, b] neither satisfies u1 nor overlaps an interval that satisfies u1, and thus c ≥ b. Given the properties of the u-chain and k-chain we just proved, it suffices to distinguish the following three cases:
if c = bi for some odd i, then d > bi+1. Since [ci+1, ci+2] is a k2-interval, for any e > d, the interval [bi+1, e] is a begink2 -interval overlapped by the u1-interval [c, d], contradicting the fourth conjunct of (5);
if c = bi for some even i, then, by the last conjunct of (1), d > bi+1; exactly
the same argument we applied to the previous case yields a contradiction;
if c = ci for some odd (resp., even) i, then d ≥ ci+1 and, for any e > d, the interval [bi, e] is a begink1 -interval (resp., begink2 -interval) overlapped by the u1-interval [c, d], contradicting the third (resp., fourth) conjunct of (5).
The same argument can be applied to the cases of u2-, k1-, and k2-intervals (in fact, in the case of k1-intervals, we must take into account that, by (3), [a, b] overlaps the first k1-interval of the sequence; however, the proof remains essentially the same). 





Corollary 4.2 If M, [a, b] H (7), then there exists an inﬁnite sequence of points c1 < b1 < c2 < b2 < . . . < bi−1 < ci < bi < . . . such that a < c1, b = b1, and for each i ≥ 1, (i) M, [ci, ci+1] H k and (ii) M, [bi, bi+1] H u. Moreover, no other interval [c, d] ∈ G[a,b] satisﬁes u (resp., k) unless c > bi (resp., c > ci) for each i > 0.




We conclude the section by introducing the operator ⟨Xu⟩, which allows one to step from one u-interval to the next one: if evaluated over the initial interval [a, b], or over a u-interval, ⟨Xu⟩p holds if and only if p holds over the next u-interval. It is formally defined as follows:




⟨Xu⟩p ≡ ⟨O⟩(k ∧ ⟨O⟩(u ∧ p)).

Deﬁnition of the Id-chain
To define the Id-chain, we take advantage of the following set of formulae:
чId ∧ ч⟨O⟩Id	(8)
⟨Xu⟩(∗∧ ⟨Xu⟩(tile ∧ ⟨Xu⟩∗ ∧[G](∗→ ⟨Xu⟩(tile ∧ ⟨Xu⟩tile))))			(9) [G]((u ↔∗ ∨ tile) ∧ (∗→ чtile))		(10) [G](∗→ ⟨O⟩Id)	(11)
[G](Id → ⟨O⟩(k ∧ ⟨O⟩∗))	(12)
[G](k → ч⟨O⟩Id)	(13)
[G](u ∧ ⟨O⟩Id → ∗)	(14)
[G](⟨O⟩∗→ ч⟨O⟩Id)	(15)
(8) ∧ ... ∧ (15)	(16)

Lemma 4.3 Let M, [a, b] H (7) ∧ (16) and let c0
< b = b0
< c1
< b1
< ... <

bk1−1 < ck1 < bk1 = b0 < c1 < b1 < . . . < bk2 = b0 < ... be the sequence of points
1	1	1	2	2	2	2	3
deﬁned by Lemma 4.1. Then, for each j ≥ 1, we have:
M, [b0, b1] H ∗;
j	j
M, [bi , bi+1] H tile for each 0 < i < kj;
j	j
M, [c1, b0	] H Id;
j	j+1
k1 = 2, kl > 2 for each l > 1,
and no other interval [c, d] ∈ G[a,b] satisﬁes ∗ (resp., tile, Id), unless c > bi for each
i, j > 0.
Proof a) First of all, observe that there exists an infinite sequence of ∗-intervals, thanks to (9), (11), and (12). Let us denote by [b0, b1], [b0, b1],..., [b0, b1],... such a
1  1	2  2	j	j
sequence. By the first conjunct of (10), we can assume that there is no ∗-interval

between [b0, b1] and [b0	, b1
], for each j > 0.

j	j	j+1 j+1
Since by (10) each interval satisfying ∗ or tile is a u-interval and each u-interval satisfies either ∗ or tile, the u-intervals between any two ∗-intervals (if any) must be tile-intervals.
By (11), for each ∗-interval [b0, b1] there exists an Id-interval starting at c1 and
j	j	j
ending at some point, say it c'. We want to show that c' = b0	, that is, the Id-
interval starting inside the ∗-interval [b0, b1] ends at the point which starts the next
j	j
∗-interval. Suppose, by contradiction, that c' /= b0	and consider the following

cases:
If c' < b0
, then (12) is contradicted, since either [c1, c'] does not overlap any

k-interval or [c1, c'] overlaps a k-interval that does not overlap any ∗-interval;
If c' = c1	, then (12) is contradicted, since the interval [c0, c'] does not overlap
any k-interval;

If c' > c1	, then (15) is contradicted, since the interval [c0, c1
] overlaps both

j+1
the ∗-interval [b0
1
j+1
] and the Id-interval [c1, c'].
1  j+1

By (9), it immediately follows that k1 = 2 and kl > 2 when l > 1.
Finally, suppose, by contradiction, that there exists an Id-interval [c, d] ∈ G[a,b]

b)
b f b f b
Figure 3. up rel-intervals starting from backward (resp., forward) rows of the octant do not overlap.
such that [c, d] /= [c1, b0	] for each j > 0 and that c ≤ bi for some i, j > 0. By (8),
j	j+1	j
the interval [a, b] neither satisfies Id nor overlaps an interval that satisfies Id, thus
c ≥ b, and one of the following cases arise. 1) If c = bi for some i ≥ 0, j > 0, then
(13) is contradicted. 2) If c = ci for some i ≥ 0, j > 0, with i /= 1, then (14) is
contradicted. 3) If c = c1 for some j > 0, then we have already shown that it must

be d = b0
. The fact that no other interval [c, d] ∈ G[a,b] satisfies ∗ or tile, unless

c > bi for each i, j > 0 can be proved by a similar argument.	 

Deﬁnition of the above-neighbor relation
We now proceed with the above-neighbor relation, whose encoding is shown in Fig. 3. Intuitively, the above-neighbor relation connects each tile-interval with its vertical neighbor in the octant (e.g., t2 with t3 in Fig. 3). If a tile t is connected to
2	2
the tile t' through the above-neighbour relation, then we simply say that t is above- connected to t'. To model such a relation, we use intervals labeled by up rel, that is, up rel-intervals connect pairs of tile-intervals encoding pairs of above-connected
tiles of the octant.
We distinguish between backward and forward rows of 0 using the propositional letters b and f: we label each u-interval with b (resp., f) if it belongs to a backward (resp., forward) row (formulae (17)-(18)). Intuitively, the tiles belonging to forward rows of 0 are encoded in ascending order, while those belonging to backward rows are encoded in descending order (the tiling is encoded in a zig-zag manner). In particular, this means that the left-most tile-interval of a backward level encodes the last tile of that row (and not the first one) in 0. Let α, β ∈ {b, f}, with α /= β:
⟨Xu⟩b Λ [G]((u — b V f) Λ (b → чf))	(17) [G]((α Λ ч⟨Xu⟩∗→ ⟨Xu⟩α) Λ (α Λ ⟨Xu⟩∗→ ⟨Xu⟩β))	(18)
(17) Λ ... Λ (18)	(19)
Lemma 4.4 If M, [a, b] H (7) Λ (16) Λ (19), then there exists a sequence of points like that deﬁned in Lemma 4.3 such that M, [bi , bi+1] H b if and only if j is an odd
j	j
number and M, [bi , bi+1] H f if and only j is an even number. Furthermore, we have
j	j

that no other interval [c, d] ∈ G[a,b] satisﬁes b or f, unless c > bi
for each i, j > 0.

We make use of such an alternation between backward and forward rows to use the operator ⟨O⟩ for correctly enconding the above-neighbor relation. We constrain each up rel-interval starting from a backward (resp., forward) row not to overlap any other up rel-interval starting from a backward (resp., forward) row. The structure

of the encoding is shown in Fig. 3, where up rel-intervals starting inside forward (resp., backward) rows are placed one inside the others. Consider, for instance, the 3rd and 4th rows in Fig. 3b. The 1st tile-interval of the 3rd row (t3) is connected with the next-to-last tile-interval of the 4th row (t4), the 2nd tile-interval of the 3rd row (t3) is connected with the third from last tile-interval of the 4th row (t4), and so
2	2
on. Notice that, in forward (resp., backward) rows, the last (resp., first) tile-interval has no tile-intervals above-connected with it, in order to constrain each row to have exactly one tile-interval more than the previous one (these tile-intervals are labeled with last).
Formally, we define the above-neighbor relation as follows. If [bi , bi+1] is a tile-
j	j
interval belonging to a forward (resp., backward) row, then we say that it is above-
connected with the tile-interval [bj+2−i, bj+2−i+1] (resp., [bj+2−i−1, bj+2−i]). We cap-

j+1
j+1
j+1
j+1

ture this situation by labelling with up rel the interval [ci+1, cj+2−i+1] (resp., [ci+1,
j	j+1	j
cj+2−i]). Moreover, we distinguish between up rel-intervals starting from forward and backward rows and, for each one of these cases, between those starting from odd and even tile-intervals. To this end, we use a new propositional letter, namely, up relb (resp., up relb, up relf , up relf ) to label up rel-intervals starting from an odd
e	o	e
tile-interval of a backward row (resp., even tile-interval/backward row, odd/forward, even/forward). Moreover, to ease the reading of the formulae, we group up relb and
up relb in up relb (up relb — up relb ⊕ up relb), and similarly for up relf.  Finally,
e	o	e
up rel is exactly one among up relb and up relf (up rel — up relb ⊕ up relf). In such
a way, we encode the correspondence between tiles of consecutive rows of the plane induced by the above-neighbour relation. Let α, β ∈ {b, f} and γ, δ ∈ {o, e}, with α /= β and γ /= δ:
[G]((up rel — up relb V up relf) Λ (up relα — up relα V up relα))	(20)
o	e

[G](k → ч⟨O⟩up rel)	(21)
[G](u Λ ⟨O⟩up relα → ч⟨O⟩up relα Λ ч⟨O⟩up relβ)	(22)
γ	δ
[G](up relα → ч⟨O⟩up relα)	(23)
[G](up relα → ⟨O⟩(tile Λ ⟨O⟩up relβ))	(24)
γ	γ
(20) Λ ... Λ (24)	(25)
Lemma 4.5 If M, [a, b] H (7) Λ (16) Λ (19) Λ (25), then there exists a sequence of points like that deﬁned in Lemma 4.3 such that, for each i ≥ 0, j > 0, the following properties hold:
[c, d] satisﬁes up rel if and only if c = ci ,d = di' for some i, i', j, j' > 0, that is,
j	j'
each up rel-interval starts and ends inside u-intervals;
[ci , ci' ] satisﬁes up rel if and only if it satisﬁes exactly one between up relb and
j	j'
up relf and [ci , ci' ] satisﬁes up relb (resp., up relf) if and only if it satisﬁes exactly
j	j'
one between up relb and up relb (resp., between up relf and up relf );
o	e	o	e
for each α, β ∈ {b, f} and γ, δ ∈ {o, e}, if [ci , ci' ] satisﬁes up relα, then there is
j	j'	γ
no other interval starting at ci satisfying up relβ such that up relα /= up relβ;
j	δ	γ	δ

	each up relb-interval (resp., up relf-interval) does not overlap any other up relb- interval (resp., up relf-interval);
if [ci , ci' ] satisﬁes up relb (resp., up relb, up relf , up relf ), then [bi'−1	i' ] satisﬁes

j	j'
e	o	e
j'	, bj'

tile and there exists a up relf -interval (resp., up relf -interval, up relb-interval,
o	e	o
up relb-interval) starting at ci' .
e	j'
Now, we constrain each tile-interval, apart from the ones representing the last tile of some level, to have a tile-interval above-connected with it. To this end, we label each tile-interval representing the last tile of some row of the octant with the new propositional letter last (formulae (33)-(35)). Next, we force all, and only those, tile-intervals not labelled with last to have a tile-interval above-connected with them (formulae (36)-(39)):

чup rel Λ ч⟨O⟩up rel	(26)
[G](tile → ⟨O⟩up rel)	(27)
[G](u Λ ⟨O⟩up rel → tile)		(28) [G](α → [O](up rel → up relα))		(29) [G](up relα → ⟨O⟩β)	(30)
[G](⟨O⟩∗→ ч(⟨O⟩up relb Λ ⟨O⟩up relf))	(31) [G](tile Λ ⟨O⟩up relα Λ ⟨Xu⟩tile → ⟨Xu⟩(tile Λ ⟨O⟩up relα))	(32)
γ	δ
[G](last → tile)	(33)
[G]((∗Λ b → ⟨Xu⟩last) Λ (f Λ ⟨Xu⟩∗ → last))	(34)
[G]((last Λ f → ⟨Xu⟩∗) Λ (b Λ ⟨Xu⟩last → ∗))		(35) [G](∗Λ f → ⟨Xu⟩(tile Λ ⟨O⟩(up rel Λ ⟨O⟩(tile Λ ⟨Xu⟩∗))))	(36) [G](last Λ b → ⟨O⟩(up rel Λ ⟨O⟩(tile Λ ⟨Xu⟩(tile Λ ⟨Xu⟩∗))))		(37)
[G](k Λ ⟨O⟩(tile Λ ⟨O⟩up relα) → [O](⟨O⟩up relα Λ ⟨O⟩(kΛ

γ	γ
⟨O⟩(tile Λ ⟨O⟩up relβ Λ чlast)) → ⟨O⟩up relα))
(38)

δ	δ


[G](up rel → ч⟨O⟩last)	(39)
(26) Λ ... Λ (39)	(40)
Lemma 4.6 If M, [a, b] H (7) Λ (16) Λ (19) Λ (25) Λ (40), then there exists a sequence of points like that deﬁned in Lemma 4.3 such that the following properties hold:
	for each up rel-interval [c, d], there exist c', c'', d', d'', with c' < c < c'' < d, c < d' < d < d'', such that [c', c''] and [d', d''] are tile-intervals and if [c, d] satisﬁes up relb (resp., up relf), then [c', c''] satisﬁes b (resp., f) and [d', d''] satisﬁes f (resp., b);
(strict alternation property) for each tile-interval [bi , bi+1], with i < kj − 1,
j	j
such that there exists a up relb-interval (resp., up relb-interval, up relf -interval,
o	e	o
up relf -interval) starting at ci+1, there exists a up relb-interval (resp., up relb-
e	j	e	o
interval, up relf -interval, up relf -interval) starting at ci+2;
e	o	j

for every tile-interval [bi , bi+1] satisfying last, there is no up rel-interval ending
j	j
at ci+1;
for each up rel-interval [ci , ci' ], with 1 < i ≤ k , we have that j' = j + 1.



Proof
j	j'	j

Let [c, d] be a up rel-interval. By (24), we have that there exist d', d'', with c < d' < d < d'', such that [d', d''] is a tile-interval and by (21), (28), and Lemma 4.1, there exist c', c'', with c' < c < c'' < d, such that [c', c''] is a tile-interval. Now, suppose that [c, d] satisfies up relb (the other case is symmetric) and that [c', c''] satisfies f. Then, (29) is contradicted. Similarly, if [d', d''] satisfies b, then
(30) is contradicted.
Straightforward, by (32);
Straightforward, by (39);
Let [ci , ci' ] be a up rel-interval, with 1 < i ≤ k , and suppose, for contradiction,
j	j'	j
that j' /= j + 1. Suppose that [ci , ci' ] is a up relb-interval (the other case is
j	j'
symmetric). By point a) of this lemma, we have that [bi−1, bi ] satisfies b and
j	j
that [bi'−1, bi' ] satisfies f. Two cases are possible:
j'	j'
if j' = j, then [bi−1, bi ] and [bi'−1, bi' ] belong to the same Id-interval. By
j	j	j'	j'
Lemma 4.4, they must be both labelled with b or f, against the hypothesis;
if j' > j + 1, then consider a tile-interval [bh	, bh+1] belonging to the (j + 1)-
th row. By Lemma 4.4, we have that [bh	, bh+1] satisfies f (since [bi−1, bi ]
j+1 j+1	j	j
satisfies b) and, by (27) and (29), we have that there is a up relf-interval

starting at ch+1
and ending at some point ch'
for some j'' > j + 1 (by

point (i)). Consider the ∗-interval [b0
1
j+2
]. We have that the interval

[c0, c1
] overlaps the ∗-interval [b0
, b1
], the up relf-interval [ch+1, ch' ]

1  j+2
j+2
j+2
j+1
j''

and the up relb-interval [ci , ci' ], contradicting (31).
j	j'
Hence, the only possibility is j' = j + 1.	 
Lemma 4.7 Each tile-interval [bi , bi+1] is above-connected with exactly one tile-
j	j
interval and if [bi , bi+1] does not satisfy last, then there exists exactly one tile-interval
j	j
which is above-connected with it.
Proof First of all, we observe that each tile-interval is above-connected with at least one tile, by (27) and by Lemma 4.6, item (a). Now suppose, for contradiction, that there exists a tile-interval [bi , bi+1] not satisfying last and such that there is
j	j
no tile-interval above-connected with it.  If [bi , bi+1] is the rightmost interval of
j	j
the j-th Id-interval not satisfying last (base case) and it satisfies f (resp., b), then
we have that i = kj − 2 (resp., i = kj − 1) and (37) (resp., (36)) guarantees the existence of a up rel-interval ending at ci+1, leading to a contradiction. Otherwise,
if [bi , bi+1] is not the rightmost interval of the j-th Id-interval not satisfying last,
j	j
then the inductive case applies. So, we can assume the inductive hypothesis, that

is, there is a up rel-interval ending at ci+2
and starting at some point ci'
. We

want to show that there exists also a up rel-interval ending at ci+1. Without loss of

generality, suppose that [ci'  , ci+2] satisfies up relf . Then, by Lemma 4.5, item (e),
j−1  j	o
there exists a up relb-interval starting at ci+2 and, by the strict alternation property
o	j
(Lemma 4.6, item (b)), there exists a up relb-interval starting at ci+1.  We show
e	j
that, by applying (38) to the k-interval [ci'−1, ci'  ], we get a contradiction. Indeed,
j−1	j−1
[ci'−1, ci'  ] satisfies kΛ⟨O⟩(tileΛ⟨O⟩up relf ) and it overlaps [bi'−1, bi ], which satisfies

j−1	j−1
j−1	j

the following formulae:
⟨O⟩up relf : [ci'  , ci+2] satisfies up relf ;
o	j−1  j	o
⟨O⟩(k Λ ⟨O⟩(tile Λ ⟨O⟩up relb Λ чlast)): the interval [ci , ci+1] satisfies k and
e	j	j
overlaps the tile-interval [bi , bi+1], which does not satisfy last (by hypothesis)
j	j
and overlaps a up relb-interval (that one starting at ci+1).
e	j
We show that [bi'−1, bi ] does not satisfy the formula ⟨O⟩up relf , getting a contra-
j−1	j	e
diction with (38). Suppose that there exists an interval [e, f ] satisfying up relf and

such that
i'−1
e
i	. We distinguish the following cases:

bj−1 < e < bj < f 
if f > ci+2 and e > ci'  , then the up relf -interval [ci'  , ci+2] overlaps the
j	j−1	o	j−1  j
up relf -interval [e, f ], contradicting Lemma 4.5, item (d);
if f > ci+2 and e = ci'  , then there are a up relf - and a up relf -interval starting
j	j−1	o	e

i'
j−1
, contradicting Lemma 4.5, item (c);

if f = ci+2, then there are a up relf - and a up relf -interval ending at ci+2 and,
j	o	e	j
by Lemma 4.5, item (e), there are a up relb- and a up relb-interval starting at
o	e
ci+2, contradicting Lemma 4.5, item (c);
finally, if f = ci+1, we have a contradiction with the hypothesis. Thus, there exists no such an interval, contradicting (38).
This proves that each tile-interval is above-connected with at least one tile-
interval and if it does not satisfy last, then there exists at least one tile-interval above-connected with it. Now, we show that such connections are unique. Suppose,

for contradiction, that for some [ci , ci'
] and [ci , ci''
], with ci'
i''
(the case

j	j+1
j	j+1
j+1 < cj+1

ci'
i''
i	i'
i	i''

j+1 > cj+1 is symmetric), we have that both [cj, cj+1] and [cj, cj+1] are up rel-
intervals. By Lemma 4.5, we have that they both satisfy the same propositional

letter among up relf , up relf , up relb and up relb, say up relf
(the other cases are

o	e	o	e	o
symmetric). Then both ci'	and ci''	start a up relb-interval by Lemma 4.5, item
(e). By the strict alternation property, a up relb-interval starts at the point ci'+1.
e	j+1
Since [bi'  , bi'+1] does not satisfy last (it is not the rightmost neither the leftmost
tile-interval of the (j + 1)-th Id-interval), then, as we have already shown, there exists a point c such that [c, ci'+1] is a up rel-interval. By Lemma 4.5, items (e) and
, we have that [c, ci'+1] is a up relf -interval. We show that the existence of such
j+1	e
an interval leads to a contradiction:
if c < ci , then the up relf -interval [c, ci'+1] overlaps the up relf -interval [ci ,
j	e	j+1	o	j

i''
j+1
], contradicting Lemma 4.5, item (d);

if c = ci , then ci starts both a up relf - and a up relf -interval, contradicting
j	j	o	e
Lemma 4.5, item (c);
if c > ci , then the up relf -interval [ci , ci'  ] overlaps the up relf -interval [c,
j	o	j	j+1	e

ci'+1], contradicting Lemma 4.5, item (d).
In a similar way, we can prove that two distinct up rel-intervals cannot end at the same point.	 

The right-neighbor relation
Intuitively, the right-neighbor relation connects each tile-interval with its horizontal neighbor in the octant, if any (e.g., t3 with t3 in Fig. 3). If a tile t is connected
2	3
to the tile t' through the right-neighbour relation, then we simply say that t is
right-connected to t'.
Again, we must distinguish between forward and backward rows: a tile-interval belonging to a forward (resp., backward) row is right-connected with the tile-interval immediately on its right (resp., left), if any. For example, in Fig. 3b, the 2nd tile- interval of the 4th row (t4) is right-connected with the tile-interval immediately on its right (t4), since the 4th row is a forward one, while the 2nd tile-interval of the 3rd row (t3) is right-connected with the tile-interval immediately on its left (t3),
2	3
since the 3rd row is a backward one.
As a consequence, we define the right-neighbor relation as follows. If [bi , bi+1] is
j	j
a tile-interval belonging to a forward (resp., backward) Id-interval, with i /= kj − 1
(resp., i /= 1), then we say that it is right-connected with the tile-interval [bi+1, bi+2]
j	j
(resp., [bi—1, bi ]).
j	j
Lemma 4.8 (Commutativity property) If M, [a, b] H (7) Λ (16) Λ (19) Λ (25) Λ (40), then there exists a sequence of points like the one deﬁned in Lemma 4.3 such that the following commutativity property holds: given two tile-intervals [c, d] and [e, f ], if there exists a tile-interval [d1, e1], such that [c, d] is right-connected with [d1, e1] and [d1, e1] is above-connected with [e, f ], then there exists also a tile-interval [d2, e2] such that [c, d] is above-connected with [d2, e2] and [d2, e2] is right-connected with [e, f ].

Tiling the plane
The following formulae constrain each tile-interval (and no other interval) to be tiled by exactly one tile (formula (41)) and constrain the tiles that are right- or above-connected to respect the color constraints (from (42) to (44)):

[G]((( k
ti) — tile) Λ (  k

ч(ti Λ tj))	(41)





up(ti)=down(tj )
(ti Λ ⟨O⟩(up rel Λ ⟨O⟩tj)))	(42)

[G](tile Λ f Λ ⟨Xu⟩tile → 

right(ti)=left(tj )
(ti Λ ⟨Xu⟩tj))	(43)

[G](tile Λ b Λ ⟨Xu⟩tile → 

left(ti)=right(tj )
(ti Λ ⟨Xu⟩tj))	(44)

(41) Λ ... Λ (44)	(45)

Given the set of tile types T = {t1, t2,..., tk}, let ΦT be the formula

(7) Λ (16) Λ (19) Λ (25) Λ (40) Λ (45).


Lemma 4.9 Given any ﬁnite set of tile types T = {t1, t2,..., tk}, the formula ΦT
is satisﬁable if and only if T can tile the second octant 0.
Since the above construction can be carried out on any linear ordering containing an infinite discrete ascending chain of points, such as, for instance, N and Z, the following theorem holds.

Theorem 4.10 The satisﬁability problem for the logic O (resp., O) is undecidable over any class of discrete linear orderings that contains at least one linear ordering with an inﬁnite ascending (resp., descending) sequence.

From Theorem 4.10, it immediately follows that the logic O (resp., O) is undecidabile over the linear orderings Z and N (resp., Z and Z—).
Conclusions and future work
In this paper we proved the undecidability of the interval temporal logic with a single modality corresponding to Allen’s Overlap relation, interpreted over discrete linear orderings, by a reduction from the octant tiling problem.
It is not difficult to show that the given undecidability proof cannot be directly applied to the logic of Overlap relation, interpreted over other classes of linear orderings, e.g., the class of dense linear orderings. We are interested in solving the decision problem for the considered logic when interpreted over other linear orderings. As a matter of fact, we are not aware of any interval temporal logic which is decidable (resp., undecidable) with respect to some classes of linear orderings and undecidable (resp. decidable) with respect to other ones.

References
J. F. Allen. Maintaining knowledge about temporal intervals. Communications of the ACM, 26(11):832–843, 1983.
E. B¨orger, E. Gr¨adel, and Y. Gurevich. The Classical Decision Problem. Springer, 1997.
D. Bresolin, D. Della Monica, V. Goranko, A. Montanari, and G. Sciavicco. Decidable and Undecidable Fragments of Halpern and Shoham’s Interval Temporal Logic: Towards a Complete Classification. In Proc. of the 15th Int. Conf. on Logic for Programming, Artificial Intelligence, and Reasoning, volume 5330 of LNCS, pages 590–604. Springer, 2008.
D. Bresolin, D. Della Monica, V. Goranko, A. Montanari, and G. Sciavicco. Undecidability of Interval Temporal Logics with the Overlap Modality. In C. Lutz and J.F. Raskin, editors, Proc. of the 16th International Symposium on Temporal Representation and Reasoning, pages 88–95. IEEE Computer Society Press, 2009.
D. Bresolin, V. Goranko, A. Montanari, and P. Sala.  Tableau-based decision procedures for the logics of subinterval structures over dense orderings. Journal of Logic and Computation, doi:10.1093/logcom/exn063, 2008.


D. Bresolin, V. Goranko, A. Montanari, and G. Sciavicco. Propositional Interval Neighborhood Logics: Expressiveness, Decidability, and Undecidable Extensions. Annals of Pure and Applied Logic, 161(3):289–304, 2009.
D. Bresolin, A. Montanari, P. Sala, and G. Sciavicco. Optimal Tableaux for Right Propositional Neighborhood Logic over Linear Orders. In Proc. of the 11th European Conference on Logics in AI, volume 5293 of LNAI, pages 62–75. Springer, 2008.
Z. Chaochen, C. A. R. Hoare, and A. P. Ravn. A calculus of durations. Inf. Proc. Letters, 40(5):269– 276, 1991.
J. Halpern and Y. Shoham. A propositional modal logic of time intervals. Journal of the ACM, 38(4):935–962, 1991.
K. Lodaya. Sharpening the undecidability of interval temporal logic. In Proc. of the 6th Asian Computing Science Conference, volume 1961 of LNCS, pages 290–298. Springer, 2000.
A. Montanari, G. Puppis, and P. Sala. A decidable spatial logic with cone-shaped cardinal directions. In Proc. of the 18th Annual Conference of the EACSL, volume 5771 of LNCS, pages 394–408. Springer, 2009.
B. Moszkowski. Reasoning about digital circuits. Tech. rep. stan-cs-83-970, Dept. of Computer Science, Stanford University, Stanford, CA, 1983.
I. Shapirovsky and V. Shehtman.	Chronological future modality in Minkowski spacetime.	In
P. Balbiani, N. Y. Suzuki, F. Wolter, and M. Zakharyaschev, editors, Advances in Modal Logic, volume 4, pages 437–459. King’s College Publications, London, 2003.
