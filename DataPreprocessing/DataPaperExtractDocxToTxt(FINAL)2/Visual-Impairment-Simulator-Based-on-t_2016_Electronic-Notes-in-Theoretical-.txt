Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 329 (2016) 169–179
www.elsevier.com/locate/entcs

Visual Impairment Simulator Based on the Hadamard Product
Ramiro Velazquez1, Claudia N. S´anchez2
Universidad Panamericana. Campus Aguascalientes Facultad de Ingenier´ıa Aguascalientes, Mexico
Edwige E. Pissaloux3
Universit´e de Rouen D´epartement Physique Mont-Saint-Aignan, France

Abstract
In this paper, a real-time image processing system designed to simulate visual impairment for the normally sighted is presented. The system consists of a video camera, a computer, and a virtual reality (VR) headset. Based on the Hadamard (or Schur) product of the camera’s video signal and a set of predefined masks, users can experience eye diseases such as macular degeneration, diabetic retinopathy, glaucoma, hemianopsia, among others. A quantitative user study is presented to illustrate the most complex daily
task people with visual impairments face: reading.
Keywords: Hadamard product, image processing, simulator, visual impairment, wearable system.


Introduction
In August 2014, the World Health Organization (WHO) released its latest report on Visual Impairment and Blindness [27]. This report estimates that there are 285 million visually impaired people worldwide. Of these, 246 million present low vision and 39 million are blind primarily from cataract, glaucoma, and age-related macular degeneration. The prevalence of blindness is both age and demography dependent: about 82% of the world’s visually impaired are aged 50 and above and 90% of the people with visual impairments live in low income settings. These figures

1 Email: rvelazquez@up.edu.mx
2 Email: cnsanchez@up.edu.mx
3 Email: edwige.pissaloux@univ-rouen.fr

http://dx.doi.org/10.1016/j.entcs.2016.12.010
1571-0661/© 2016 The Author(s). Published by Elsevier B.V.
This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/4.0/).

represent an important social and health care problem that requires the involvement of society.
For most normally sighted, blindness and visual impairment seem a far issue. The daily limitations experienced by this population cannot be imagined when sight is taken for granted. Any common activity (such as information access, mobility, way finding, interaction with the environment and with other people, etc.) repre- sents a serious challenge. Few sighted have ever wondered what would be like to be visually impaired. The possibility of experiencing the disability and facing its challenges would certainly represent a step forward to a better understanding of visual impairment.
Within this context, we have developed a computer-based system that gives the user an accurate idea of the consequences of several eye diseases in human vision. The system essentially consists of a virtual reality (VR) headset that projects image and video within an immersive environment.
Upon the use of digital image processing techniques, the VR headset’s input can be modified to simulate the most common causes of visual impairment.
The main goals of this project are to educate normally sighted about low vision and to provide a technological platform that recreates low vision conditions for the normally sighted in order to test new concepts of assistive devices.
The rest of the paper is organized as follows: Section 2 presents a brief state of the art review of low vision simulators. Section 3 describes the design, prototype, and operation principle of the proposed simulator. Section 4 evaluates the system’s performance through a reading task performed on a group of voluntary subjects. Finally, Section 5 concludes summarizing the paper’s main contributions and future work perspectives.

Related work
The easiest way to represent impaired vision is by drawings and paintings. There are some artistic works made by people with visual impairment that illustrate the consequences of eye diseases. For example, the compilation of paintings in [17] shows the perception that an artist with macular degeneration has of the environment.
A popular way to simulate visual impairments is with lenses. Several simulators of this kind already exist and are commercially available [9,28]. They consist of welder’s goggles that have their lenses modified to simulate low vision. They are simple, robust, and inexpensive. The main inconvenience of goggles is they can simulate only one eye disorder.
Computer technology has been employed to simulate low vision. Several projects can be found in the literature. They all consist of software tools that, upon the use of digital image processing techniques, are capable of simulating myopia, macular degeneration, cataract, glaucoma, etc. [1,11,13] as well as different levels of color blindness [26,21]. The user normally selects the eye pathology to apply over 2D static images and visualizes the results on the computer’s screen.
In the VR field, Jin et al. designed a virtual apartment that had to be explored

experiencing visual impairment [14]. Similarly, Lewis et al. proposed in [16] a virtual restaurant that users had to navigate under low vision conditions.
Design concept and prototype
The conceptual design of the simulator is shown in fig. 1(a). The system essentially consists of a video camera and a VR headset both connected to a computer. The video obtained by the camera is modified by real-time image processing techniques running on the computer and the result is projected on the VR headset.
The VR headset works as a secondary display to the computer. This first pro- totype uses the Emagin Z800 3DVisor [8], which is a compact, lightweight, and low cost head-worn display that provides an immersive environment. On the other hand, the video camera provides high-resolution (1600 x 1200 pixels) RGB images. Its compact dimensions (6.8 cm x 6 cm x 5.8 cm) and mass (89 g) are an advantage for this application. The simulator is shown in fig. 1(b). Note that the system is totally wearable.
Perimetry studies carried out with an automated Humphrey Field Analyzer (HFA) reveal that the prototype’s attainable visual field is 56◦. Fig. 2 compares some visual fields of interest with the simulator’s one: the human field of view is approximately 190◦. However, a correct discrimination of objects requires some visual acuity which does not occur in all this range. Discrimination of forms is accomplished with a visual field of 60◦ while reading text with one of 20◦.
A self-developed software in C++ and OpenCV [19] modifies the VR headset’s input image/video to simulate eight different types of eye pathologies. The operation principle is shown in fig. 3.
Consider an RGB image of dimensions MxNx3 denoted by matrix A and a binary image of dimensions MxN denoted by matrix P (the mask). The Hadamard (or Schur) product is the element-wise multiplication of each RGB layer of matrix A and matrix P as defined by eq. (1). If the value of the pixel pij is 0 (black), then the output pixel cij will be 0. If the value of the pixel pij is 1 (white), then the output pixel cij will equal aij.


C = (A ◦ P )ij
=	0	if pij =0 
aij	if pij =1 
(1)

where the symbol “◦” represents the Hadamard product operator and ij the set of indices that indicate the position of the element within the matrix.
Upon the use of this technique, users can experience:
Macular degeneration: It is an eye disease caused by degeneration or damage of the macula. It is usually observed in adults over 50 years old and is the leading cause of visual impairment in this population [6]. When the macula does not work properly, the central area of the view is clouded with a black spot. Peripheral vision remains intact (Fig. 4(a)).
Diabetic retinopathy: It is an ocular manifestation of diabetes caused by the deterioration of the blood vessels that irrigate the retina. Such deterioration



(a)

(b)

Fig. 1. Visual impairment simulator: (a) Design and (b) prototype.

gaze direction

text


10°

-10°

forms



30°

28°
-30°

-28°
simulator

visual field




95°	-95°




Fig. 2. The simulator’s visual field.

involves fluid or blood leaking onto the retina. The consequences in human vision are shown in fig 4(b). It is estimated that 80% of all patients who have diabetes type 1 or 2 for more than 10 years will develop diabetic retinopathy [15].
Hemianopsia: This is an eye medical condition that only affects half (either


  
Fig. 3. Visual impairment simulator: Operation principle based on masks and the Hadamard product.

(a)	(b)	(c)

(d)	(e)	(f)

(g)	(h)

Fig. 4. Eye diseases simulated by the prototype: (a) macular degeneration, (b) diabetic retinopathy, (c) hemianopsia, (d) central scotoma, (e) tunnel vision, (f) migraine fortification, (g) pituitary tumors, and (h) glaucoma and retinitis pigmentosa.

right or left) of the visual field (Fig. 4(c)) [10]. It normally affects both eyes. It may be congenital but it is usually related to brain injuries caused by strokes, severe trauma, or as a result of surgery.
Glaucoma: It is an eye disease that is usually characterized by the increase

Table 1
Profiles of simulated eye diseases.

of intraocular pressure. As a result, blind spots are generated in the visual area. Glaucoma can either cause loss of central vision (central scotoma, fig. 4(d)) or loss of peripheral vision (tunnel vision, fig. 4(e)) [3].
Migraine fortification phenomenon: People suffering from migraine may experience transit visual symptoms similar to that shown in fig. 4(f) [12]. Once the migraine diminishes, vision returns to normal and the patient may experience other symptoms of the migraine including headache, nausea, loss of balance, ringing in the hears, etc.
Pituitary tumors: These tumors are benign (noncancerous) and they are often never diagnosed during a person’s life. As the tumor grows, variations may occur in the production of hormones that regulate important body functions such as vision. Fig. 4(g) shows a typical visual change due to pituitary tumors [18].
Glaucoma and retinitis pigmentosa: Sometimes glaucoma and retinitis pigmentosa combine to severely damage vision (Fig. 4(h)) [2]. It is a genetic and degenerative pathology. Often, a patient with this combination will become legally blind because of the severe loss of vision.
Table 1 quantifies the impact of the proposed masks on the simulator’s input image/video by giving the affected percentage for each simulated pathology.

Evaluation
Tasks that can be conducted with the simulator involve information access, mobility, object manipulation, interaction with other people, among others.
Indeed, several surveys conducted with low vision patients agree that reading is the most challenging task in their everyday lives [7,5]. For example, an intake questionnaire asked to 1,000 visually impaired patients at Johns Hopkins Wilmer Eye Institute show that reading is the primary concern for 65% of the respondents (Fig. 5).

A preliminary experiment was carried out with a group of normally sighted to evaluate subject performance in reading texts with the simulator and a set of simulated visual impairments.
Reading Driving Near tasks
Distance tasks
Mobility Faces Other tasks
Glare Writing
TV
0	10	20	30	40	50	60	70
Answers (%)

Fig. 5. Main concerns for people with visual impairments, after [20].


Participants
Five young adults (3 men and 2 women) undergraduate students at Panamericana University participated voluntarily in the experiments. The only selection criterion used was to have good vision without the need of glasses; this with the sole purpose of not obstructing the use of the VR headset. Ages ranged from 19 to 24 years with an average age of 21.2.
Method
The experiment consisted of reading aloud a text of 180 words with the prototype and with the prototype simulating diabetic retinopathy, hemianopsia, central sco- toma, and tunnel vision. Three different texts of 180 words each (Times Roman font size 14) were used throughout the test to minimize the effects of sentence repetition and text memorization. The reading time was recorded for each participant under each of the low vision conditions.
Before the test, the subjects were allowed to adjust the VR headset at their con- venience. After explaining the task, a short familiarization time with the simulator was granted. During the test, a 500 lux room lighting level was provided to ensure ideal conditions for reading. Fig. 6(a) illustrates the development of this test.
Results
Fig. 6(b) summarizes the reading times obtained from the subjects for each sim- ulated visual impairment. Median reading times were 50 s for normal reading conditions (without the prototype), 58 s for the prototype projecting the original video (no simulated impairment), and 80 s, 84 s, 84 s, and 264 s for the prototype

simulating diabetic retinopathy, hemianopsia, central scotoma, and tunnel vision, respectively.
Note that the median reading times for normal reading conditions and for the prototype projecting the original video are very similar so it can be concluded that the use of the simulator did not affect significantly the subjects’ performance in the task. Note also that reading performance with diabetic retinopathy, hemianopsia, and central scotoma is practically the same. These three eye disorders affect central vision whereas peripheral vision is maintained; therefore a similar performance can be expected. Nevertheless, an important increase on the reading time is observed (30 s over normal reading). Not surprisingly, the highest reading times were observed for tunnel vision. Two subjects found this reading condition extremely difficult and abandoned the test without concluding it. They were excluded from the analysis. Based on these results, it can be concluded that peripheral vision is more relevant for reading than central vision.

(a)












(b)

Fig. 6. Reading task: (a) Experimental setup and (b) box plot analysis for the reading times under each simulated visual impairment.

Conclusion
In this paper, the design, implementation, and preliminary evaluation of a simulator of visual impairments was presented.
The system consists of three modules: a video camera, a computer, and a VR headset. Real-time image processing techniques are applied to the video obtained by the camera and the result is projected on the VR headset. Upon the use of the Hadamard product and a set of masks, the system is capable of simulating the eight most common causes of visual impairment.
The simulator’s design is simple and easy to implement. The prototype devel- oped is compact, low cost, wearable, and provides a clear and precise idea of the nature of the eye diseases simulated.
An advantage over low vision simulator goggles [9,28] is that the use of masks does not require any manufacturing or mechanical assembling and allows an eas- ier/faster development and testing of low vision effects. Comparing the simulator with the works described in [1,11,13], the prototype here presented provides real- time video of the surrounding environment which is undoubtedly a great advantage over static images on the computer’s screen. Concerning the low vision simulators in virtual environments [14,16] it can be concluded that although they offer real- istic graphics, they offer a limited version of the environment for users to explore and interact. The simulator presented in this paper is designed to work in real environments.
The simulator was experimentally evaluated with a group of five normally sighted volunteers in a task involving reading texts. Data from this experiment allow us to determine the impact of these impairments on the task. Results obtained suggest that reading speed depends on peripheral vision (in agreement with [4]).
The main goal of our system is to educate and sensitize normally sighted about low vision and the daily challenges the visually impaired face. This is particu- larly useful for professionals involved in the field such as special education teachers, Braille teachers, psychologists, orientation and mobility specialists, low vision spe- cialists, and vision rehabilitation therapists. A second goal is to have a wearable technological platform that simulates low vision conditions for the normally sighted. This is useful for the design and evaluation of new concepts of assistive devices.
Future applications of the simulator will assist the design of software tools that address the problem of digital information access for people with visual impairment. The simulator will undoubtedly provide helpful hints on how to adjust the text displayed on the computer’s screen to fit the particular needs of low vision readers. It is also expected to use the simulator to review our previously developed assistive devices [22,23,24,25] with the aim of finding improvement points in terms of usability and accessibility.
References
Banks, D. and R. J. McCrindle, “Visual eye disease simulator”, Proc. of International Conference on Disability, Virtual Reality and Associated Technologies (2008), 167-174.

Bhatti, M. T., Retinitis pigmentosa, pigmentary retinopathies, and neurologic diseases, Current Neurology Neuroscience Report, 6 (2006), 403-413.
Casson, R., G. Chidlow, J. Wood, J. Crowston, and I. Goldberg, Definition of glaucoma: clinical and experimental concepts, Clinical & Experimental Ophthalmology, 40(4) (2012), 341-349.
Chung, S. T., G. E. Legge, and S. H. Cheung, Letter-recognition and reading speed in peripheral vision benefit from perceptual learning, Vision Research, 44(7) (2004), 695-709.
Crossland, M., E. Gould, C. Helman, M. Feely, and G. Rubin, Expectations and perceived benefits of a hospital-based low vision clinic: Results of an exploratory, qualitative research study, Visual Impairment Research, 9(2-3) (2007), 59-66.
De Jong, P. T., Age-related macular degeneration, The New England Journal of Medicine, 355 (2006), 1474-1485.
Elliott, D., M. Trukolo-Ilic, J. Strong, R. Pace, A. Plotkin, and P. Bevers, Demographic characteristics of the vision-disabled elderly, Investigative Ophthalmology & Visual Science, 38(12) (1997), 2566-2575.
eMagin Inc., Bellevue, WA, USA. URL: http://www.emagin.com.
Fork  in  the  Road  Vision  Rehabilitation  Services  LLC,  Madison,  WI,  USA.  URL:
http://www.lowvisionsimulators.com

Giorgi, R., R. Woods, and E. Peli, Clinical and laboratory evaluation of peripheral prism glasses for hemianopia, Optometry and Vision Science, 86 (2009), 492-502.
Goodman, J., P. M. Langdon, P. J. Clarkson, N. Caldwell, and A. M. Sarhan, “Equipping designers by simulating the effects of visual and hearing impairments”, Proc. of International ACM SIGACCESS Conference on Computers and Accessibility (2007), 241-242.
Grosberg, B., S. Solomon, and R. Lipton, Retinal migraine, Current Pain and Headache Reports, 9(4)
(2005), 268-271.
Hogervorst, M. A. and W. J. Van Damme, Visualizing visual impairment, Gerontechnology, 5(4) (2006), 208-221.
Jin, B., Z. Ai, and M. Rasmussen, “Simulation of eye diseases in a virtual environment”, Proc of Annual International Conference of the IEEE Engineering in Medicine and Biology Society (2005), 5128-5131.
Kamath, S., V.I. George, and S. Vidyasagar, Simulation Study on Type I Diabetic Patient, IETE Journal of Research, 55(6) (2009), 287-293.
Lewis, J., D. Brown, W. Cranton, and R. Mason, “Simulating visual impairments using the unreal engine 3 game engine”, Proc. of IEEE International Conference on Serious Games and Applications for Health (2011), 1-8.
Mcpherson, H., Between landscape and blindness: some paintings of an artist with macular degeneration, Cultural Geographies, 15(2) (2008), 261-269.
Melmed, S. and D. Kleinberg, “Pituitary masses and tumors”, in Williams Textbook of Endocrinology,
S. Melmed (Ed.), Elsevier Saunders, Philadelphia (2011), 229-290.
Open Source Computer Vision (OpenCV). URL: http://opencv.org
Rubin, G., Measuring reading performance, Vision Research, 90 (2013), 43-51.
Ruminski, J., M. Bajorek, J. Ruminska, J. Wtorek, and A. Bujnowski, “Computerized color processing for dichromats”, in Human-Computer Interaction AISC 98, Z. S. Hippe (Ed.) Springer-Verlag, Berlin (2012), 453-470.
Vel´azquez, R., E. Pissaloux, J.C. Guinot, and F. Maingreaud, “Walking using touch: Design and preliminary prototype of a non-invasive ETA for the visually impaired”, Proc. of Annual International Conference of the IEEE Engineering in Medicine and Biology Society (2005), 6821-6824.
Vela´zquez, R. and S. Guti´errez, “New test structure for tactile display using laterally driven tactors”, Proc. of IEEE International Instrumentation and Measurement Technology Conference (2008) 1381- 1386.
Vela´zquez, R., H. Hern´andez, and E. Preza, “A portable eBook reader for the blind”, Proc. of Annual International Conference of the IEEE Engineering in Medicine and Biology Society (2010), 2107-2110.

Vela´zquez, R., E. Pissaloux, and A. Lay-Ekuakille, Tactile-foot stimulation can assist the navigation of people with visual impairment, Applied Bionics and Biomechanics, 2015 (2015), 9 pages.
Vienot, F. and H. Brettel, “Color display for dichromats”, Proc. of SPIE 4300, Color Imaging: Device- Independent Color, Color Hardcopy, and Graphic Arts VI (2001), 199-207.
World Health Organization (WHO), “Visual impairment and blindness”, Fact Sheet No. 282 (2014).
URL: http://www.who.int/mediacentre/factsheets/fs282/en/
Zimmerman
Low Vision Simulation Kit, Pittsburgh, PA, USA. URL: http://www.lowvisionsimulationkit.com
