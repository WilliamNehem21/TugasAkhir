Electronic Notes in Theoretical Computer Science 44 No. 1 (2001)
URL: http://www.elsevier.nl/locate/entcs/volume44.html 20 pages


From Varieties of Algebras to Covarieties of Coalgebras

Jiˇr´ı Ad´amek 1,2
Department of Theoretical Computer Science Technical University of Braunschweig Braunschweig, Germany
Hans–E. Porst 3,4
Department of Mathematics University of Bremen Bremen, Germany


Abstract
Varieties of F -algebras with respect to an endofunctor F on an arbitrary cocomplete category C are defined as equational classes admitting free algebras. They are shown to correspond precisely to the monadic categories over C. Under suitable assumptions satisfied in particular by any endofunctor on Set and Setop the Birkhoff Variety Theorem holds. By dualization, covarieties over complete categories C are introduced, which then correspond to the comonadic categories over C, and allow for a characterization in dual terms of the Birkhoff Variety Theorem. Moreover, the well known conditions of accessibilitly and boundedness for Set-functors F , sufficient for the existence of cofree F -coalgebras, are shown to be equivalent.


Introduction


What is a variety?
A classical answer is: an equationally presented class of

finitary algebras (such as groups, lattices, etc). Less classical answer: an equa- tionally presented class of algebras with infinitary operations of possibly un- bounded arities (such as complete semilattices or compact Hausdorff spaces). The first, classical, case corresponds precisely to algebras of a finitary monad

1 Support under Project SMS No. 34-99141-301 is gratefully acknowledged.
2 Email: adamek@iti.cs.tu-bs.de
3 This paper was written during an extended stay of the second author at the Department of
Mathematics of the University of Stellenbosch, whose hospitality is gratefully acknowledged.
4 Email: porst@math.uni-bremen.de
◯c 2001 Published by Elsevier Science B. V. Open access under CC BY-NC-ND license.


over Set. The latter one, then, to algebras of an arbitrary monad over Set. This, however, has nothingto do with Set as a base category: we are going to introduce equations for —and equational classes of—F -algebras, where F is an endofunctor on any cocomplete category C. Those equational classes that have free algebras are called varieties. They are proved to precisely corre- spond to monadic categories over C. Although this is a folklore fact, it seems that it has never been really formulated. Our formulation is based on the con- struction of free F -algebras as a colimit of “term-objects” (which, in general, diverges: we do not assume that free F -algebras exist) presented by the first author in [2]. Functors F for which free F -algebras exist are called varietors in [6]. For all varietors on Set (and all varietors on “reasonable” categories preserving regular epimorphisms) the Birkhoff Variety Theorem generalizes to the present context: varieties are precisely the full subcategories of Alg(F ) which are closed under products, subalgebras and quotients.

What is a covariety?
It is a simple but important observation that for

every endofunctor on a category C the category Coalg(F ) of all F -coalgebras is the dual of the category of Fop-algebras, where Fop is the endofunctor on Cop acting as F . Consequently, by simple dualization we obtain the con- cept of coequation and coequational class of coalgebras. Those coequational classes that have cofree coalgebras (i.e., which are varieties of Fop-algebras) are called covarieties. And, for complete base categories, those are precisely the comonadic categories. If F is a covarietor, i.e., if all cofree coalgebras exist, and C = Set or C is “reasonable” and F preserves regular monomor- phisms, then covarieties are precisely the full subcategories of Coalg(F ) which are closed under coproducts, quotients and subcoalgebras.
Covarieties—for bounded endofunctors on Set only—have been considered by various authors. The equivalence of our approach, when specialized to this particular case, to most of these concepts will be shown below.

Which
Functors are
(Co-)Varietors?
Varietors on Set have been com-

pletely characterized in [6] by the existence of arbitrarily large fixed points. A full characterization of covarietors on Set is not known, but several sufficient conditions are known: M. Barr shows in [9] that every accessible functor is a covarietor, and Y. Kawahara and M. Mori [17] prove that every bounded
functor has a final coalgebra (from which it follows that every bounded func- tor is a covarietor). In the present note we prove that accessibility is, in fact, equivalent to boundedness, and both are equivalent to F being small, i.e., a small colimit of hom-functors. This seems to be the first time that the impli- cation accessible =⇒ small has been properly proved (but see e.g. P. Freyd [11], which contains this result implicitly).

Algebras and coalgebras with respect to a functor
Let F : C → C be an endofunctor of some category C. Categories Alg(F ) and
Coalg(F ) are defined as follows.

Objects of Alg(F ), called F-algebras (over C), are pairs (C, αC) where C is a C-object and αC : FC → C is a C-morphism. Morphisms f : (C, αC) → (D, αD) of Alg(F ), called F -algebra homomorphisms, are C -morphisms f : C → D makingthe diagram
FC	Ff	 F D 

αC	αD
J	J 


commute.
C	f	 D 

Objects of Coalg(F ), called F-coalgebras (over C), are pairs (C, αC) where C is a C-object and αC : C → FC is a C-morphism. Morphisms f : (C, αC) → (D, αD) of Coalg(F ), called F -coalgebra homomorphisms, are C-morphisms f : C → D makingthe diagram
C 	f	 D 

αC	αD
J	 J 


commute.
FC	Ff	F D 

Composition and identities in Alg(F ) and Coalg(F ) respectively are those of C.
Alg(F ) and Coalg(F ) are concrete categories over C in that they are equipped with canonical underlyingfunctors
F U : Alg(F ) → C	and	UF : Coalg(F ) → C
respectively 5 .
The dual of a functor F : C → D is the functor Fop : Cop → Dop acting on objects and morphisms as F . With these notations one has
Lemma For any functor F : C → C the following hold:
Coalg(F )= (Alg(F op))op
UF = (F op U )
Example Let Ω be a signature in Birkhoff’s sense, i.e., Ω = (Ωn)n∈N is a countable family of sets Ωn. We shall describe the category AlgΩ of Ω-algebras—up to a concrete isomorphism— as (Alg(F ), U ) for a functor F = FΩ : Set → Set as follows:
FΩ assigns to a set X the sΣet Σn∈N Ωn × Xn. CorresponΣdingly FΩ assigns
to a map f : X → Y the map	n∈N Ωn × fn, i.e., the map	n∈N Ωn × Xn →
n∈N Ωn ×Y n mappinga pair (ω, (x1,..., xn)) to the pair (ω, (fx1,...,fxn)).

5 Whenever confusion is unlikely to arise we will omit the subscript F .

Functors of the form FΩ are called polynomial functors.
We collect a number of well known properties of categories of F -algebras in the case C = Set as follows:
Theorem For every endofunctor F of Set the following hold:
Alg(F ) has all limits and these are created by U.
Alg(F ) has all colimits. Those which are preserved by F are created by U.
Alg(F ) has regular factorizations of homomorphisms; these are created by U.
Remark The above properties hold in more general situations than just over Set: as an inspection of the essentially standard proofs (see e.g. [3] or [6]) shows, the followingproperties of the category C = Set and the functor F respectively are needed only:
C is complete, cocomplete, (regularly) co-wellpowered and has (regular epi, mono)-factorizations of homomorphisms.
F preserves (regular) epimorphisms.
These conditions can be assumed to be satisfied in particular for every endofunctor on the category Setop, too. One only has to recall the following result of V.Trnkova´ (see [6, III.4.5-6]):
Every endofunctor F on Set either preserves monomorphisms, or there is a monomorphism-preserving functor F ' which coincides with F on all non- empty sets and functions, and F '∅ /= ∅ /= F∅.
It follows that, concerningcategories Alg(F ) and Coalg(F ) over Set, one al- ways may assume that F preserves monomorphisms: Coalg(F ) and Coalg(F') are (concretely) isomorphic, while Alg(F ) = Alg(F ') whenever F fails to pre- serve monomorphisms.
By means of Lemma 1.1 one thus gets by dualization the following properties of categories of F -coalgebras:
Theorem Let F be an endofunctor of Set. Then the following hold:
Coalg(F ) has all colimits and these are created by U.
Coalg(F ) has all limits. Those which are preserved by F are created by U.
Coalg(F ) has regular factorizations for homorphisms; these are created by U.

Free algebras and cofree coalgebras
Example For polynomial endofunctors FΩ on Set, the concept of free algebra X on a set X of generators is well known. We can describe it either recursively as X = ∪i<ωX where
X = X + Ω0


 i+1
= X + FΩ∅	terms of depths 0 are variables and nullary operations
= X + {(ω, t0,..., tn−1) | ω ∈ Ωn, t0,..., tn−1 ∈ X }

= X + FΩX 
terms of depths i+1

Or directly: X is the algebra of all finite “properly” labeled trees. “Properly” means that a node with n > 0 children is labeled by an n-ary operation, and a leaf is labeled by a variable or a nullary operation. We have the universal arrow ηX : X → X , embedding X into X .
Remark Free F -algebras on X for an object X (of “variables”) of C can be defined for all functors F : C → C as pairs consistingof an F -algebra


FX  ϕX  X
and a morphism	ηX : X → X

with the universal property that given an F -algebra (C, αC) and a morphism f : X → C of C there exists a unique F -homomorphism f extending f , i.e., such that the followingdiagram commutes.
FX  ϕX	 X ¸,	 X
ηX


Ff 
J  αC
FC 

f	 
 
J, s
C 

In other words, ηX is a universal arrow of the forgetful functor U : Alg(F ) → C.
Lemma Let F : C → C be a functor where C has finite coproducts and X a C-object. The following are equivalent for a morphism ιX : X + F IX → IX with components ηX : X → IX and αX : F IX → IX.
(IX, ιX) is the initial algebra of type X + F (−).
(IX, αX) is the free F-algebra on X with universal morphism ηX.
Corollary For a free F-algebra X one has X  X + FX .
This is Lambek’s Lemma (saying that initial F -algebras are fixed points of F ) applied to FX = X + F (−).
It is good to have a name for endofunctors F such that every object of C
admits a free F -algebra, that is, such that U has a left adjoint.
Definition ([6]) An endofunctor F : C → C is called a varietor provided that a free F -algebra exists on every C-object.

Examples  1. Polynomial endofunctors on Set are varietors.
2. If, more generally, C has colimits and finite products such that colimits of ω-chains commute with finite products, then every polynomial endo- functor FΩ on C is a varietor. In fact, it is easy to see that, for all Ω, FΩ preserves colimits of ω-chains. And then free algebras can be obtained by the following
Finitary Free-Algebra Construction (see [2]): This is an application of the famous construction of an initial F-algebra (the free F -algebra on 0, an initial object of C) as a colimit of the chain


0 −→!
F 0 −F→!
F 20 F 2!
F 30 ··· 

to the functor FX = X + F (−) (see Lemma 2.3 above). Let C have countable colimits. Given an object X in C we define an ω-chain X (i < ω) as follows:


0 −→!
X + F 0 −X−+−F→!
X+F (X+F !)
X + F (X + F 0) −−−−−−−→
(X + F (X + F (X + F 0)) ··· 



That is:
X = 0, X = X + F 0= X + FX 

and x 

=0 −→!

X + F 0 is the unique

0	1
morphism
0	0,1

 
i+1
= X + FX 
 i+1,j+1
= X + Fx 
for all i ≤ j

Claim: If F —and thus X + F —preserve a colimit X = colimi<ωX 
of the

above chain, then X is a free F -algebra on X.	More detailed: suppose
(X −x→i  X ) is a colimit cocone. If X + F preserves that colimit we have a
unique morphism
ϕX : X + FX → X  with	ϕX ◦ (X + Fxi)= xi+1
The two components ηX : X → X and αX : FX → X of ϕX form a free
F -algebra on X.
Proof For every F -algebra (C, αC) and any morphism (“assignment to vari- ables”) f : X → C define a cocone of the above chain ( computation of terms) recursively as follows:
f =!	and	f	= [f, αC ◦ Ff ]

0

Then the (unique) factorization X 
i+1

−x→i
i

f	C = f 

gives the (unique)

homomorphism f : (X , αX) → (C, αC) with f = f ◦ ηX.	✸

Examples	1. For the endofunctor FY = 1 + Y × Y (i.e., one constant

and one binary operation) on Set, we know that the terms in X 
are

just the binary trees of depths ≤ i labelled in X + 1. This corresponds
precisely to the construction above.

2. For the endofunctor FY = Y N (i.e., one ω-ary operation) on Set we again might form the sets X of terms, but here the colimit after ω steps does not give a free F -algebra, of course: we need ω1 steps of the following
Free-Algebra Construction (see [2] or [6, IV.3.2]): Let C be a co- complete category. For every endofunctor F on C and every object X (“of

variables”) in C define a transfinite chain of objects X 
(i any ordinal) and

connectingmorphisms
x  : X → X (i ≤ j)

i,j	i	j
by the following transfinite induction:

	= 0, X 
= X + F 0	with	x 
beingthe unique morphism	0
−→!

X + F 0

 
i+1
= X + FX 
for all ordinals i, x 
= X + Fx 
for all i ≤ j

X = colimi<jX  for all limit ordinals j with colimit cocone x 
, i < j.

j	i	i,j
Claim: If the above chain construction stops after k steps, i.e, if k is an
ordinal such that x	: X → X + FX is an isomorphism, then X is a free
k,k+1	k	k	k
F -algebra on X. More detailed: Denoting the inverse of xk,k+1 by ϕX with
components
αX : FX → X	and	ηX : X → X 
k	k	k
these form a free F -algebra on X.
Proof Given an F -algebra (C, αC) and a morphism f : X → C we define a cocone f : X → C (i an ordinal) by transfinite induction as above (leaving
i	i

out the limit steps; compatibility fj ◦x 
= fi (i < j) implies that the fi (i < j)

determine fj for limit ordinals j):
f =!	and	f	= [f, αC ◦ Ff ]
0	i+1	i
Now f : X → C is the unique homomorphism with f = f ◦ ηX.	✸
k	k	k
Definition ([6]) A functor F : C → C is called constructive varietor
provided that its Free-Algebra Construction 2.9 stops for each C-object X.
A functor can be a varietor, though the above chain-construction fails to stop for every X (see e.g. [6, IV.3.A]). However we have the following results:
An endofunctor F on a cocomplete category which preserves colimits of λ-chains for some infinite cardinal λ is a constructive varietor.
In fact, if F preserves X = colimj<λX , then the free algebra construction
λ	j
stops after λ steps.
Theorem ([6, 4.3], [4]) Every varietor on each of the categories Set, Setop, Veck 6 and Vecop is a constructive varietor.

6 This is the category of vector spaces over some field k.


Callingan endofunctor F on Set trivial iff F is constant on nonempty sets one can prove (note that trivial endofunctors clearly are varietors):
Theorem ([6]) A non-trivial endofunctor F on Set is a (constructive) varietor iff F has arbitrarily large fixed points.

Cofree coalgebras are the correspondingdualization of free algebras. A cofree F -coalgebra (with respect to a functor F : C → C) on a C- object
X (“of colours”) is a coalgebra ψX : X → F X together with a (“colour- ing”) morphism ρX : X → X having the universal property that given an F -coalgebra (C, αC) and a morphism f : C → X of C there exists a unique F -coalgebra homomorphism f extending f , i.e., such that the diagram
C 	αC	 F C 

  
f 
  
 ,s


f 
J  ψX

Ff 
J 

X ¸,ρ	X 	 F X 
commutes. In other words, ρX is a couniversal arrow of the forgetful functor
U : Coalg(F ) → C.
Definition An endofunctor F : C → C is called a covarietor provided that a cofree F -coalgebra exists on every C-object.
This terminology is justified by the following remark based on 1.1 and 2.3.
Remark The followingare equivalent for any F : C → C:
F is a covarietor.
Fop is a varietor.
In case C has finite products, another equivalent condition is:
For every object X in C the functor FX = X × F has a terminal (= final) coalgebra.
Dualization of the free-algebra construction above gives the following
Cofree Coalgebra Construction: Let C be a complete category. For every endofunctor F on C and every object X (“of colours”) in C define a transfinite cochain of objects Xi (i any ordinal) and connectingmorphisms xi,j : Xi → Xj (i ≥ j) as follows (where 1 denotes a terminal object of C):

X0 = 1, Xi = X × F 1	with x1,0 : X × F 1 −→!
1 the unique morphism

Xi+1 = X × FXi for all ordinals i, xi+1,j+1 = X × Fxi,j for all i ≥ j
Xj = limi<jXi for all limit ordinals j with limit cone xj,i, i < j.

If this cochain construction stops after k steps, i.e, if k is an ordinal such

that xk,k+1 : X × FXk
→ Xk
is an isomorphism, then Xk
is a cofree F -

coalgebra on X. More detailed: Denotingthe inverse of xk,k+1 by ϕX : Xk →
X × FXk with components
αX : Xk → FXk	and	ρX : Xk → X
these form a cofree F -coalgebra on X. For an F -coalgebra (C, αC) and a morphism f : C → X the extension f  of f is the k-th member of the cocone

fi : C → Xi
which is defined by transfinite induction (leaving out the limit

steps) as follows:

f 0 =!	and	fi+1 = ⟨f, Ffi ◦ αC⟩.

Definition A functor F : C → C is called constructive covarietor pro- vided that its Cofree-Coalgebra Construction 2.17 stops for each C-object X.
As the dual of Corollary 2.11 the followingholds:
Corollary An endofunctor F on a complete category which preserves limits of λ-cochains for some infinite cardinal λ is a constructive covarietor.
Examples	1. Polynomial functors on Set are covarietors (here λ = ω).
Generalized polynomial functors on Set, i.e., functors FY = Σ	Y Ci
for a given family (Ci)i∈I of (not necessarily finite) sets are covarietors
(again, λ = ω).
Every endofunctor on Set which has arbitrarily large exponential fixed points (i.e., there are arbitrarily large sets X such that each set Y with cardX ≤ cardY ≤ card expX is a fixed point of F ) is a covarietor (see [4]). Compare with Theorem 2.13.
Varieties and Covarieties
The followingdefinition generalizes concepts from [1]:
Definitions Let F be an endofunctor of a cocomplete category C. Using the notation X and f as in 2.9 we define:
i	i
An equation arrow over X is a regular epimorphism e : X → E for some ordinal i. An F -algebra (C, αC) is said to satisfy e provided that for every morphism f : X → C the morphism f factors through e:
X 	e	 E 
i ,,,
,,,,
f  ,,,
i	,vJz 
C


For any class E of equation arrows, Alg(F, E ) denotes the full subcate- gory of Alg(F ) spanned by all F -algebras satisfying every e ∈ E. Such categories are called equational categories (of F-algebras) over C.
An equational category Alg(F, E ) over C will be called a variety (of F- algebras) over C provided that the underlyingfunctor
UE = U|Alg(F,E) : Alg(F, E ) → C
has a left adjoint.
Remarks	1. Equations in classical (finitary) universal algebra are pairs of terms, i.e, parallel pairs of morphisms
u, v : 1 → X = X 
An algebra (C, αC) satisfies this equation iff for every morphism f : X →

C the unique homomorphism f = f 
extending f merges u and v, i.e,

f ◦ u = f ◦ v.
This is equivalent to the satisfaction, in the above sense, of the equation arrow e : X → E which is a coequalizer of u and v.
In general, every pair of parallel morphisms (with C-objects A, X and an ordinal i)
u, v : A → X 

in C defines an equation arrow e : X 
→ E, a coequalizer of u and v.

An algebra (C, αC) “satisfies u = v” (in the expected sense: for every
morphism f : X → C we have f ◦ u = f ◦ v) iff (C, αC) satisfies e in the
i	i
above sense.
If the base category C has kernel pairs, then, conversely, equation ar- rows can be substituted by parallel pairs: given a regular epimorphism e : X → E, denote by u, v : A → X a kernel pair of e. Then an algebra
i	i
satisfies u = v iff it satisfies e.
Observe here that the index i can be upgraded arbitrarily: given a

parallel pair u, v : A → X 
and an ordinal j > i, put u' = x 
u and

'	 
i,j
v. Then the equations u = v and u' = v' are satisfied by the

same algebras.
Let C have kernel pairs and let F be a constructive varietor. It follows from 2. that all equations we have to consider are of the form
u, v : A → X 
for objects A, X in C: in fact, upgrade any given parallel pair to an ordinal j such that X = X . Here, the satisfaction of u = v by (C, αC) means that for every f : X → C the unique homomorphism f : (X , ϕX) →


(C, αC) merges u and v. Since all homomorphisms h on (X , ϕX) have the form h = f (for f = h ◦ ηX), we see that (C, αC) satisfies u = v iff hu = hv for all homorphisms h : (X , ϕX) → (C, αC). Thus we can, equivalently, work with equation arrows
e : X → E
which are regular quotients, in C, of free F -algebras.
Suppose that F is a constructive varietor such that Alg(F ) has coequal- izers (e.g., whenever C has kernel pairs and regular factorizations of mor- phisms, is regularly cowellpowered and F preserves regular epimorphisms, see Remark 1.4). Then instead of regular epimorphisms e : X → E in C we can work with regular epimorphisms in Alg(F ). For that purpose recall the followingnotions:
An object I in a category C is called injective w.r.t. a given morphism
e : C → D provided that each morphism h : C → I factorizes over e:
h : C¸   e	 D 
¸¸¸¸¸
h ¸¸¸¸¸
¸zJ 
I
Given a class E of homomorphisms, we denote by InjE the injectivity class of E , i.e., the full subcategory of Alg(F ) spanned by all algebras injective w.r.t. each e ∈ E.
The injectives w.r.t. all regular monomorphisms are called the regular injectives.
The dual notions are (regular) projective and projectivity class ProjE . Now observe that for every equation u, v : A → X we have a new equation u , v : A → X which is satisfied by precisely the same algebras (C, αC) (because, given a homomorphism h : (X , ϕX) → (C, αC), then (hu) = hu and (hv) = hv ). Thus, if e¯: (X , ϕX) → (E¯, αE¯ ) denotes
a coequalizer of u  and v  in Alg(F ), then for every algebra (C, αC) we
have
(C, αC) satisfies e ⇐⇒ (C, αC) is injective w.r.t.	e¯.
Consider the base category C = Set. It then follows from 4. that, for any varietor F : Set → Set,
every variety of F -algebras is specified by injectivity to regular epimor- phisms of Alg(F ) with regularly projective domains 7 .
The converse is also true:
every class of F -algebras specified by injectivity to regular epimor- phisms of Alg(F ) with regularly projective domains is a variety.

7  Every free F -algebra over Set is regularly projective by the axiom of choice.


In fact, consider such an epimorphism, e : (D, αD) → (E, αE), in Alg(F ). Since Since the homomorphism id : (D , ϕD) → (D, αD) is a regular epimorphism in Alg(F ) and (D, αD) is regularly projective we have a homomorphism
m : (D, αD) → (D , ϕD)  with	id ◦ m = id.
Choose a pair of homomorphisms u, v with coequalizer e in Alg(F ). Then an algebra (C, αC) is orthogonal to e iff for every homomorphism h : (D, αD) → (C, αC) we have h ◦ u = h ◦ v. This is equivalent to stating that for every homomorphism k : (D , ϕD) → (C, αC) we have k ◦ (m ◦ u) = k ◦ (m ◦ v): given k, put h = k ◦ m, and given h, put

k = h ◦ id . Thus, if
e¯: (D , ϕD) → (E¯, αE¯ ) denotes a coequalizer of

m ◦ u and m ◦ v in Alg(F ), then injectivity to e¯ and e, respectively, is equivalent. (And the former can be substituted by the equations u0 = v0 obtained by the kernel pair of e¯.)
This concept of equation and its satisfaction has already been consid- ered by H. Herrlich and his co-authors in [16] and [8].
Example The power-set functor P on Set is not a varietor. However, we can consider equational categories of P-algebras. Complete semilattices are an example. In fact, the join-operation of a complete (upper) semilattice C is an arrow αC : PC → C satisfying (i) αC{x} = x, and (ii) αC  Mi = αC{αCMi | i ∈ I} for any collection Mi in PC. Conversely, every P-algebra satisfying (i) and (ii) is a (join operation of a unique) complete semilattice. Now (i) can be expressed by the equation arrow e : X → E where X = {x} and e just merges x and {x}, whereas (ii) corresponds to the equation arrows f : X → F where X is an arbitrary set and, for a given collection Mi in PX,
3
f merges	Mi with {Mi | i ∈ I}. The homomorphisms are precisely the
functions preservingall joins.
The followinglemma—to be proven by an easy transfinite induction—will be used frequently:
Lemma Homomorphisms of F-algebras preserve computation of terms, i.e., given a homomorphism h : (C, αC) → (D, αD) and an assignment of vari- ables f : X → C then, for all ordinals i, (h ◦ f ) = h ◦ f .
i	i
Proposition Alg(F, E ) is always closed in Alg(F ) under
subalgebras and all limits which exist;
homomorphic images carried by split epimorphisms in C.
Proof 1. is trivial by an obvious diagonal fill-in argument.
2. Let r : (C, αC) → (D, αD) be a homomorphism with coretraction s in C, where (C, αC) satisfies the equation arrow e : X  → E. Given f : X → D, one

has r ◦ (s ◦ f ) = (r ◦ s ◦ f ) = f . Thus, since (s ◦ f ) factorizes through e so
i	i	i	i
does f .	✸

Theorem Monadic categories over a cocomplete category C are precisely the categories concretely equivalent to varieties over C.
Proof I. Sufficiency: By Beck’s Theorem we have to verify that the underlying functor of a variety Alg(F, E ) creates split coequalizers. Since Alg(F, E ) is closed under quotients splittingin C, it suffices to prove that U : Alg(F ) → C creates absolute coequalizers. This is proved exactly as in the proof of Becks’s Theorem (see [18]).
II. For the converse it suffices to show that, for any monad T = (T, η, µ) on a cocomplete category C, the Eilenberg-Moore category CT of T-algebras coincides with the subcategory Alg(T, E ) of Alg(T ) for a suitable class E of equation arrows. For doingso consider, for every C-object X, the coproduct


mi+1
X
ni+1

−−−→ X + T Xi = Xi+1 ←−− T Xi .
A class E1 of equation arrows now is defined as follows: for every C-object

X let eX : X  → EX be a coequalizer of the pair m2, n2 ◦η
 ◦m1. A T -algebra
1

(C, αC) satisfies eX iff, for every morphism f : X → C, the morphism
f = [f, αC ◦ Tf ]: X + TX → C
2	1	1
satisfies f ◦ m2 = f ◦ n2 ◦ η  ◦ m1 or, equivalently, f = αC ◦ Tf ◦ η  ◦ m1.
2	2	X1	1	X1
Since η is natural, this is equivalent to f = αC ◦ ηC ◦ f which, for X = C and
f = 1C yields satisfaction of the T-algebra axiom αC ◦ ηC = 1C. Conversely, αC ◦ ηC = 1C yields f = αC ◦ ηC ◦ f by composition with f . Thus, the satisfaction of E1 is equivalent αC ◦ ηC = 1C.
Next we define a class E2 of equation arrows as follows: for every C-object

X let dX : X + TX  µX, n3 ◦ Tn2 ◦ T 2m1.
= X 
→ DX be a coequalizer of the pair n3 ◦ Tm2 ◦

T X,¸¸

µX 
    
T 2X¸¸
¸¸¸¸¸
¸¸T m2
¸¸z 
TX 
 ,2
   

n3 X + TX 


dX  D 

T 2m1
¸z   T n2
T 2X 

A T -algebra (C, αC) satisfies dX iff, for every morphism f : X → C, the morphism
f = [f, αC ◦ T [f, αC ◦ Tf ]] : X + TX → C
3	1	2
satisfies f ◦ n3 ◦ Tn2 ◦ T 2m1 = f ◦ n3 ◦ Tm2 ◦ µX. This is equivalent to
3	3
αC ◦ T αC ◦ T 2f = αC ◦ Tf ◦ µX or, since µ is natural, to αC ◦ T αC ◦ T 2f =

αC ◦ µC ◦ T 2f . Choosing f = 1C this yields satisfaction of the T-algebra axiom αC ◦T αC = αC ◦µC. Conversely, αC ◦T αC = αC ◦µC yields αC ◦T αC ◦ T 2f = αC ◦ µC ◦ T 2f by composition with T 2f . Thus, the satisfaction of E2 is equivalent αC ◦ T αC = αC ◦ µC.
Chosing E = E1 ∪ E2 one thusgets CT = Alg(T, E ).	✸

Theorem Let C be a cocomplete, regularly co-wellpowered category with regular factorizations and kernel pairs. If F : C → C is a constructive vari- etor preserving regular epimorphisms, the following are equivalent for any full subcategory K of Alg(F ):
K is a variety.
K is closed under subalgebras, products and homomorphic images carried by split epimorphisms.
Proof In view of Proposition 3.5 we only have to show that (ii) implies (i). By Remark 1.4, Alg(F ) has regular factorizations. Thus (ii) implies that K is a reflective subcategory whose reflection-arrows are regular epimorphisms in Alg(F ), see [3, 16.8]. Let now E be the class of all reflection-arrows of free algebras. We claim K = InjE . Trivially each algebra in K is injective w.r.t. all reflection arrows. Conversely, if (C, αC) is injective w.r.t. the reflection r of

the free algebra (F, αF ) over C, then the homomorphic extension id 
of the

identity of C factors as id 
= g ◦ r. This shows that g is—as a C-morphism—

a retraction. Thus, (C, αC) is a split-epi carried quotient of the K-reflection of (F, αF ), hence belonging to K by hypothesis. Thus, K = InjE . From Remark
3.2.4 above we conclude that K is a variety.	✸

Corollary (Birkhoff Variety Theorem) For every varietor F on the category Set, varieties of F-algebras are precisely the full subcategories closed under products, subalgebras and homomorphic images.

Remark In the special case C = Set it suffices, in the proof of Theorem
3.7 above, to take as E the set of reflection arrows of free algebras on sets of cardinality less than λ (λ a regular cardinal), provided that F preserves λ-directed colimits (see e.g. proof of [5, 3.9]).
By formally dualizingDefinition 3.1, see Lemma 1.1, we obtain the follow-
ing
Definitions Let F be an endofunctor of a complete category C.
An coequation arrow over X is a regular monomorphism m : M → Xi for some ordinal i. An F -coalgebra (C, αC) is said to satisfy m provided that for every morphism f : C → X the morphism fi factors through m.

For any class M of coequation arrows Coalg(F, M) is the full subcategory of Coalg(F ) spanned by all F -coalgebras satisfying every m ∈ M. Such categories are called coequational categories (of F-coalgebras) over C.
A coequational category Coalg(F, M) will be called a covariety (of F- coalgebras) over C provided that the underlyingfunctor
UM = U|Coalg(F,M) : Coalg(F, M) → C
has a right adjoint (that is, if Alg(F op, M) isa variety over Cop).
By dualizing the respective results on equational categories and varieties we immediately obtain the followingresults.
Corollary Comonadic categories over a complete category C are pre- cisely the categories concretely equivalent to covarieties over C.
Corollary (Birkhoff Covariety Theorem) For every covarietor F on the category Set, covarieties of F-algebras are precisely the full subcategories closed under coproducts, subalgebras and homomorphic images 8 .
	Remarks 1. Clearly, by duality, an equivalent condition for a full subcategory of Coalg(F ) (over Set) to be a covariety is to be a projec- tivity class w.r.t. of some class of regular monomorphisms M with cofree codomains.
2. Moreover, as in the case of varieties over Set (see Remark 3.9), also covari- eties of F -coalgebras over Set can be specified by projectivity w.r.t. a set of regular monomorphisms—in fact a single one—with cofree codomains, provided that the functor F preserves λ-directed colimits for some reg- ular cardinal λ. This follows easily from the boundedness property (see Theorem 4.1 below) of these functors (see [20,12]). Note, however, that this observation cannot be obtained by dualization of Remark 3.9.
While Theorem 3.11 shows that the dual of a covariety over Set is a variety over Setop it moreover implies the followingadditional dualization principle:
Proposition The dual of a covariety over Set is equivalent to a variety over Set.
Proof By means of the contravariant power-set functor P' the category Setop is monadic over Set. Let V : Coalg(F, M) → Set be the composite of (UM)op and P'. We need to show that V is monadic. Since V has a left adjoint and creates limits it suffices to prove that V creates coequalizers of congruence relations (= kernel pairs). Hence let r, s : (C, αC) → (D, αD) bea pair of Coalg(F, M)-morphisms sich that V r, V s is a congruence relation and

8 Observe that, in Coalg(F ), the homorphic images are given by (plain) epimorphims while the embeddings of subalgebras are the regular monomorphisms.


let q : P'(D) → X be its coequalizer. Since P' reflects congruence relations and creates their coequalizers there is a unique Setop-morphism q' : D → X' with P'(q')= q and this is a coequalizer of the congruence relation UMr, UMs. If X' /= ∅ this will even be a split coequalizer such that UM creates from it a coequalizer of r, s. The remaining case X' = ∅ is trivial: the unique F - coalgebra structure on ∅ obviously does the job.	✸

	Remarks 1. Coequations and their satisfaction have the following simple interpretation in the case of coalgebras over Set: define, for every “coterm” x ∈ Xi, the coequation [x] as the followingembedding 
Xi \ {x} ‹→ Xi.
A coalgebra (C, αC) satisfies [x] iff x does not lie in the image of fi : C → Xi for any colouring f : C → X. These are all the coequations needed: we can substitute an arbitrary coequation
m : M → Xi
by the set of coequations {[x] | x ∈ Xi \ m[M ]}.
Various concepts of covariety of F -coalgebras—all restricted to the case of a bounded endofunctor on Set (thus, a varietor—see Section 4)—have already been discussed in the literature:
subcategories of Alg(F ) closed w.r.t. coproducts, subcoalgebras and homomorphic images ([20]).
projectivity classes in Alg(F ) w.r.t. collections of embeddings of sub- coalgebras of cofree coalgebras ([13]).
projectivity classes in Alg(F ) w.r.t. collections of embeddings of sub- coalgebras of regularly injective coalgebras ([14] 9 , [7]).
Theorem 3.12 (in connection with Remark 3.2) shows in particular that all of them are equivalent to the concept introduced here if specialized to bounded Set-functors.
A more complicated concept of coequation appears in [10]; this probably is not equivalent to the one above.

Properties of Set-functors
Every endofunctor F of Set preservingcolimits of λ-chains (or, equivalently, λ- filtered colimits) for some regular cardinal λ is a varietor by 2.11. Such functors are called accessible, see [19]. An accessible functor is also a covarietor, as observed by M. Barr [9]. A different criterion is due to Y. Kawahara and M. Mori (see [17] or also [20] and [15]): recall that F is called bounded if there

9 Here, regular injectivity is called extension property


exists an infinite cardinal λ such that for every F -coalgebra (C, αC) and every element x of C there is a coalgebra homomorphism h : (D, αD) → (C, αC) with x ∈ h[D] and cardD ≤ λ. We are going to prove that this, however, is equivalent to accessibility and both are equivalent to F being small, i.e., a small colimit of hom-functors:
Theorem For an endofunctor F of Set the following conditions are equiv- alent:
F is small;
F is accessible;
F is bounded.
Proof I. Suppose first that the given endofunctor F preserves finite intersec- tions (i.e., pullbacks of monomorphisms).
(iii)	=⇒ (i): For the above cardinal λ let D be the (essentially small) category of all pairs (X, x) where X is a set of cardinality ≤ λ and x ∈
'	'	'
FX, with morphisms f : (X, x) → (X ,x ) all functions f : X → X with
'
Ff(x ) = x. We prove that F is a colimit of the diagram V : D → [Set, Set]
where V (X, x)= hom(X, −) with the colimit cocone f(X,x) havingcomponents


Y
(X,x)
: hom(X, Y ) → FY,	q −→ Fq(x) for all q : X → Y.

That is, we prove that for every set Y

the maps f Y
are collectively epimorphic, and

whenever f Y
(q) = f Y ' '
(q ) then q is connected with q by a zig–zag

in the diagram of elements of V composed with the evaluation–at–Y ,
evalY : [Set, Set] → Set.
Proof of (a): Given y ∈ FY , for the coalgebra (Y, const(y)) there exists a homomorphism h : (D, αD) → (Y, const(y)) with card D ≤ λ which fulfills D /= ∅ if Y /= ∅. For Y /= ∅ choose d0 ∈ D, then (D, d) ∈D with d = αD(d0)

Y
(D,d)
(h) = F h(αD(d)) = const(y) · h(d)= y.

The case Y = ∅ is trivial since (Y, y) ∈D.
Proof of (b): We have Fq(x)= Fq' (x' ) for some q : X → Y and q' : X' →
Y . Factor q as an epimorphism e : X → Z followed by a monomorphism m : Z → Y and put z = Fq(x); analogously e', m', and z'. By assumtion, F preserves the pullback

u  P ,,,u'

 
j 
Z ,,
,,
,,vz
Z'
    

m	vz jm' 
Y


The equality Fm(z) = Fq(x) = Fq'(x') = Fm'(z') thus guarantees that there exists p ∈ FP with z = F u(p) and z' = Fu'(p'). And since cardP ≤ card(Z × Z') ≤ card(X × X') ≤ λ2 = λ, we obtain an object (P, p) of D with morphisms

q
(X, x) ←−
(Z, z) →u
(P, p) u'
(Z', z') q
(X', x')

forming the desired zig-zag.
(i) =⇒ (ii): Every hom–functor is accessible, and a small colimit of accessible functors is accessible, see [11].
(ii) =⇒ (iii): Let F preserve λ–filtered colimits for some regular cardinal λ. Since every set is a λ–filtered colimit of all subsets of cardinality less than λ, we see that
(∗) given sets C and T ⊆ FC with card T < λ there exists a subset m : B ‹→ C
with cardB < λ and T ⊆ Fm[FB].
We prove that F is bounded: given (C, αC) and x ∈ C define a λ–chain mi : Bi ‹→ C (i < λ) of subsets of cardinality less than λ by transfinite induction as follows:
B0 = {x};
given Bi, apply (∗) to T = αC[Bi] to get mi+1 : Bi+1 → C with mi ⊆
mi+1, αC[Bi] ⊆ Fmi+1[F Bi+1], and cardBi+1 < λ;
given a limit ordinal i define Bi =   Bj – due to the regularity of λ, if
j<i
cardBj < λ for all j < i, then cardBi < λ.
Define D =   Bi and h = colim mi : D → A, then since F preserves the
i<λ
colimit D = colimBi, and since αC[Bi] is contained in the image of Fmi+1 for each i < λi we see that αC[D] is contained in the image of F h. Thus, we have αD : D → FD fΣor which h : (D, αD) → (C, αC) is a coalgebra homomorphism.
And cardD ≤	i<λ cardBi = λ. Since x ∈ B0 ⊆ D, this proves that F is
bounded.
II. For F : Set → Set arbitrary we use the result of V.Trnkova´ (see [6,
III.4.5-6]) that there exists a functor F ' preservingfinite intersections and such
that FX = F 'X for all nonempty sets X (and Fh = F 'h for all nonempty functions h). It is easy to verify that F satisfies one of the properties (i)–(iii) iff so does F '.	✸

Example of a covarietor which is not small. Given a class M of cardinal numbers, define PM : Set → Set on objects X by PM X = {A ⊆ X; A = ∅ or cardA ∈ M} and an morphismus f : X → Y by PM f (A)= f [A] if f/A is injective, else = ∅. Then PM is small iff M is small ( = bounded). But every infinite set X with cardX ∈/ M is, obviously, a fixed point of PM . It is easy to find an unbounded class M for which PM has arbitrarily large exponential fixed points (i.e., M is unbounded but has arbitrarily large ”exponential holes”). Then PM is a varietor and covarietor but is not small.

References
J. Ada´mek. Theory of Mathematical Structures. D. Reidel Publ. Comp., 1983. Dordrecht.
J. Ada´mek.	Free algebras and automata realizations in the language of categories. Comment. Math. Univ. Carolinae 15 (1974), 589–602.
J. Ada´mek, H. Herrlich, and G.E. Strecker, Abstract and Concrete Categories,
Wiley Interscience, 1990. New York
J. Ada´mek and V. Koubek. On the greatest fixed point of a functor. Theor. Comp. Science 150 (1995), 57–75.
J. Ada´mek and J. Rosicky´. Locally Presentable and Accessible Categories.
Cambridge University Press, 1994. Cambridge.
J. Ada´mek and V. Trnkov´a. Automata and Algebras in Categories. Kluwer Acad. Publ., 1990. Dordrecht
S. Awodey and J. Hughes. The coalgebraic dual of Birkhoff’s variety theorem.
Preprint.
B. Banaschewski and H. Herrlich.	Subcategories defined by implications.
Houston J. Math. 2 (1976), 149–171.
M. Barr. Terminal coalgebras in well-founded set theory. Theoretical Computer Science 114 (1993), 299–315.
C. Cˆırstea.	An algebra-coalgebras framework for system specification.
Electronic Notes in Theor. Comp. Sci. 33 (2000).
P. Freyd. Several new concepts: lucid and concordant functors, prelimits, precolimits, lucid and concordant completions of categories. Lect. Notes Mathem. 99 (1969), 196–241. Springer,
H. P. Gumm. Elements of the general theory of coalgebras. Preprint.
H. P. Gumm. Equational and implicational classes of coalgebras. Preprint.
H. P. Gumm and T. Schro¨der. Covarieties and Complete Covarieties. Electronic Notes in Theor. Comp. Sci. 11 (1998).
H. P. Gumm and T. Schro¨der. Products of coalgebras. Preprint.
H. Herrlich and C.M. Ringel. Identities in categories. Can. Math. Bull. 15
(1972), 297–299.
Y. Kawahara and M. Mori.	A small final coalgebra theorem.	Theoretical Computer Science 233 (2000), 129–145.
S. MacLane. Categories for the working mathematician. Springer, 1971. Berlin- Heidelberg-New York.


M. Makkai and R. Par´e. Accessible categories: the foundations of categorical model theory. Contemporary Math., 104, 1989. Amer. Math. Soc., Providence.
J.J.M.M. Rutten. Universal Coalgebra: a theory of systems. Report CS-R9652.
CWI Amsterdam, 1996
