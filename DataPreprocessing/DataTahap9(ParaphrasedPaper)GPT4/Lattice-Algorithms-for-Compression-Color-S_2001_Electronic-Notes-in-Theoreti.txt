The Joint Photographic Experts Group (JPEG) is a widely recognized method for compressing and storing color digital images. The challenge addressed in this research involves estimating the original compression color space used for an image that was previously compressed using JPEG but is now in an uncompressed state. Recognizing the color space in which the image was initially compressed is beneficial for tasks such as color enhancement and efficient re-compression.

When a color image is decompressed, the information regarding its original JPEG compression color space is typically not retained. Understanding the original color space is advantageous for further image processing. This study aims to infer this lost color space from the decompressed image data.

The paper discusses how in the absence of rounding errors, the three-dimensional vectors of Discrete Cosine Transform (DCT) coefficients align precisely on the vertices of a parallelepiped-shaped lattice in the observed color space denoted as ABC. The transformation matrix from the original compression color space PQR to the observed space ABC defines the lattice's dimensions.

Introducing round-off errors during decompression results in a slight displacement of the DCT vectors from their ideal lattice positions in both the original PQR and the observed ABC color spaces. The paper presents an algorithm that is capable of approximating the boundary vectors of the parallelepiped from the distorted DCT vectors.

To test the proposed method, an image originally compressed using the International Telecommunication Union (ITU) recommendation BT.601 (known as YCbCr) color space with a quality factor of 70 was examined. The image's Cb and Cr components were not sub-sampled during compression and the decompressed image was in RGB space. The algorithm attempted to estimate the transformation matrix that would map from the original YCbCr space to the RGB space.

The findings suggest that the DCT coefficients of a JPEG-compressed image tend to form a lattice-like structure. The proposed algorithm leverages this insight, combining statistical noise reduction with an advanced number theory technique called lattice reduction. Simulation results show that the algorithm successfully estimates the original compression color space with high accuracy.