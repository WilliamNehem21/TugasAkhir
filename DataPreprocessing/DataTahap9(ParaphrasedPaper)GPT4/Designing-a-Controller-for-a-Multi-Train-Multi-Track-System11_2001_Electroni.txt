The BART system in San Francisco provides heavy commuter rail service with more than 50 trains, typically with 10 cars each, powered by 1000 VDC from a third rail. The electric motors use regenerative and friction brakes, and control is largely automated; on-board operators mainly signal platform clearance and potentially engage emergency brakes. The tracks are generally double, but non-circular.

Interlocking controls track switches and signals, giving trains "go" or "stop" signals, and must not switch tracks too late for an approaching train to stop. Precise stopping at platforms is controlled to ensure exact train positioning.

The paper models the train control system, accounting for physical limits like acceleration and deceleration. It assumes sensors and motor commands are reliable to a known error margin. Safety is modeled through profiles (speed-position relations over time) and constraints (modeling system components).

Discrete profiles describe sensor readings over time, but safety is inherently continuous, requiring mapping between discrete and continuous profiles to capture what happens between sensor readings. Safety is defined compositionally, individual trains' safety properties being specified in relation to lead train, track, signal, and station behavior.

A specialized modeling language used in the HATS system allows rapid conversion from high-level specifications to prototype implementations, aiding model validation and debugging. Safety can be expressed conservativelyâ€”ensuring an object train is safe if it is within the slowest of its possible stopping trajectories, for instance.

Two theorems relate continuous and discrete safety constraints, aiding provably correct implementations. HATS uses term rewriting for transformation, highly controlled by parameterized functions.

Model development faced challenges needing iterations and tool support. Simulation output was initially difficult to interpret until visualization improvements helped validate the system and control functions.

Animations illustrate relative train positions and speeds, increasing design confidence. A randomized control function on the lead train showed that the following, formally controlled trains display intuitively correct "kite tail" behavior, though formal verification makes simulation unnecessary. For continuous properties, model checking's usefulness is uncertain due to the state space explosion.

In summary, the paper deals with modeling, verifying, and visualizing the safety aspects of BART's rail system control, considering the continuous nature of physical trains and the discrete data from the control system.