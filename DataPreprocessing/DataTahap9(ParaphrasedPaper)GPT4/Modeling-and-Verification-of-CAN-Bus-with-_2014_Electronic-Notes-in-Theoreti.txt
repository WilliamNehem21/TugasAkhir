This academic paper presents a formal model of the CAN (Controller Area Network) bus protocol and verifies its key properties using the UPPAAL verification tool. The CAN bus is a high-speed serial network commonly used in automotive electronics, which supports multi-master broadcasting where any node can transmit data when the bus is free. It features priority-based arbitration for resolving conflicts during simultaneous message transmissions, as well as a fault confinement mechanism to detect errors and maintain data consistency and reliability.

The paper models the CAN protocol based on the ISO 11898 standard, simulating aspects like arbitration, transmission, fault detection, and handling the space between frames using timed automata. Eleven properties derived from the CAN standard are verified, revealing issues such as node starvation and bus-off problems, where nodes are unable to send messages due to constantly lower priority or frequent errors.

To address these issues, the authors introduce application layer enhancements, such as a dynamic priority scheduling algorithm for addressing starvation by adjusting the message priority after consecutive arbitration losses, and a bus-off recovery mechanism to help malfunctioning nodes recover and rejoin the network communication.

Verification results show that while some properties are not satisfied in the original CAN system, they can be improved through these application layer modifications. However, some limitations still exist, particularly for error-passive nodes, leading to data inconsistency or loss.

The research indicates that while the CAN bus protocol's fault confinement mechanism is designed to improve reliability by limiting poorly performing nodes, it can inadvertently contribute to these problems. The paper suggests exploring probability models for a more accurate representation of the CAN system's performance, factoring in the likelihood of error occurrences and other stochastic events.

The work is supported by several scientific and technological projects within China, including the Shanghai Knowledge Service Platform, the National Natural Science Foundation, and the Key Lab of Information Network Security of the Ministry of Public Security.