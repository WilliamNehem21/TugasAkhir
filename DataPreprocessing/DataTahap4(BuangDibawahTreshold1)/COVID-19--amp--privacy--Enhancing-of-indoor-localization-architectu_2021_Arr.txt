The recent COVID-19 pandemic has been imposing profound changes in our daily life. Most of the affected countries adopted different coun- termeasures in order to reduce the contagious rate. Among them, an effective action is the so-called social distancing. The idea is simple as disruptive at the same time: citizens are invited to maintain at a certain physical distance from others. This recommendation applies when we interact with people out of our personal spaces, namely a restricted community of contacts.

The paper is organized as follows. Section 2 covers the background and related work in the field of Indoor Localization Technologies and GDPR-based Access Control. Section 3 describes our reference architec- ture for an ILS. Section 4 reports three reference use cases, namely visiting a museum, airport terminal access and shopping assistance. Section 5, we discuss some issues that we consider challenging for a real- world installation of an ILS and, finally, Section 6 describes our evalua- tion framework.

Bluetooth Low Energy (BLE) [11,12], LTE [13], and Ultra-Wide Band (UWB) [14,15] signals. Wi-Fi-based solutions have the advantage of exploiting the ubiquity of Wi-Fi Access Points. The most performing Wi-Fi solutions obtain high performance in terms of localization accuracy with reduced cost of maintenance and installation [16].

For example, one application (the 2M Social distance checker) re- quests permission to access to the Call Log and Address Book without specifying how the data will be used, i.e., to enable the sharing of user experience with his/her contacts. From a technical point of view, in case of open-source applications [34] specific information about the real

The most diffused technical solutions for guaranteeing social distance are based on mobile applications. Apps enable an easy-to-use user interface and, at the same time, a massive diffusion through the well- known app stores. Currently, there exist several applications whose features span from tracing contacts, e.g., Immuni [32] (the application build by Italian Health Minister), to the possibility of managing a waiting queue, e.g., ufirst [33].

The approach we followed with this work is to firstly framing a reference architecture to be adopted in very different scenarios. To this purpose, our effort has been mainly focused on generalizing a common architectural design of a remote ILS, based on 3 main building blocks: a map server, the ILS engine, and a discovery agent to broadcast its exis- tence. We then focus on the client side in the form of a smart device, as the primary interface to interact with the end-users. The architecture we propose has been deliberately designed without constraining to any of the common scenarios we daily experience. Differently, we tried to provide the community with a modular architecture to be customized. Furthermore, the current literature concerning the ILS does not identify a standard de-facto for indoor localization, rather multiple and heteroge- neous solutions are available. To the best of our knowledge, this work introduces a privacy-by-design solution, mainly inspired by the European GDPR framework, as one of the most advanced regulations about privacy in force since the last decade.

Concerning the first benefit, its adoption can be used not only to locate and track people, but also to measure their physical distance. Its adoption can be considered an effective counter-measure to track, pre- vent and analyse how close people are in indoor environments. We refer to Section 4 for a in-depth description of three use-cases in which we describe the adoption of an ILS in real-world scenarios. Moreover, the standardization will increase the possibility for a user-agent to discover and to bind to any of the ILS available indoor. Such aspect is crucial for an

Concerning the second benefit, we consider that the current user experience for outdoor localization systems (e.g. GPS) must be preserved also indoor. Under this context, the standardization could improve the design of systems enabling the hand-off between outdoor and indoor areas. We imagine a smooth transition from an outdoor map (e.g. pro- vided by OpenStreepMap or Google Maps) to detailed indoor maps provided by an ILS.

A discovery process should be defined to enable a person to look up for services available in a specific environment [53]. The process can be triggered through the Web or based on short-range network in- frastructures. We refer to the first approach as global search, since the user queries the Web looking for an ILS available e.g. in a supermarket. In this case, the user fetches the meta-information of an ILS via the HTTP or similar protocols. Differently, the second approach is referred to as local search since the user looks up for nearby ILSs, by exploiting network interfaces such as Wi-Fi Direct, Bluetooth or LTE- Direct and the up- coming 5G. Such interfaces allow to look up for surrounding services in the range of few meters.

One of the most critical aspects for the location-based services is the possible loss of control of the personal data collected. As a meaningful example, we recall the contact tracing apps also exploiting the device localization and designed for the purpose of mitigating the COVID-19 pandemic. In these cases, end-users are worried about non-expect usage of the data collected for commercial purposes. Some example of data that we consider critical are: the timestamp of the contacts, the IDs of the contacts, any information about the device used and, in some cases, the GPS location of the users.

The interaction between the ILS and the end-user needs to specifically tackled. We argue that their success also depends on the way a user in- teracts with it. Most of the people already interacts fluently with GPS navigation systems (e.g. Google Maps, Garmin or TomTom charts). In particular, users search, discover and navigate toward a specific location

that can always be represented as a pair of coordinates in the space (e.g. lat, long as WGS84 coordinates). The same user-experience should be replicated also for indoor environment, even if a higher number of challenges are present. To this purpose, we consider mandatory to design intuitive work-flows. As for example, the end-user should be able not only to search for a location, but also to navigate toward person, to pick up a list of products in a specific order or to meet a moving target indoor. A further level of interaction is also represented by the possibility of asking to an ILS context information describing the environment, such as the existence of a crowd or the waiting time before accessing a service. Such level of interactivity can be obtained by designing multi-modal interfaces, such as the Instant Messaging (IM) paradigm. Indeed, the IM paradigm implements the best metaphor for managing the exchange of information between the end-users and a system in a intuitive way. The user can chat with the ILS in order to get the position of its target, to receive suggestions, to be notified proactively and or to be guided step- by-step toward its final destination.

In the first group of components, the most important is the User- Agent. It can be described as an intelligent software component that operates on behalf of the end-user. The main functions it provides are: global and local discovery (R1), to manage the privacy for the end-users (R3), to interact with the local infrastructure to estimate position of the end-user (R2), to interact with the end-user (R4). Other functional components that could be installed on the device are the Navigator and a Translator, the first of course to manage navigation, determination of the shortest routes etc, the second is increasingly adopted to facilitate vocal interaction, as done with commercial vocal assistants (Amazon Alexa, Apple Siri, Google Home) (R4).

Finally the Communication and Interaction Orchestrator is the component in charge of man-aging the communication to and from the ILS. This component is exploiting publish-subscribe design pattern through extensible events. It is in charge to instantiate communication channels and manage flows of notifications and events data. Those events can be structured adopting several asynchronous messaging technologies like Java Messaging Service (JMS), Advanced Message Queueing Proto- col (AMQP), Message Queueing Telemetry Transport (MQTT) in order to decoupling not only the locations of the publishers and subscribers, but also decouple them temporally.

information about the social distance can also be used after the visit. More specifically, knowledge about how many people visited a spe- cific location, can be used to plan an efficient cleaning schedule, to better dispose products and, more generally, to allow the service provider to re-think the way services is accessed. Data collected after the visits can be used for statistical purpose as well, in order to measure if the actions taken prevent the existence of crowds.

Visiting a museum is a challenging scenario in which to guarantee a proper social distance among the visitors. A museum is generally orga- nized with a visiting path designed to guide visitors through the art- works. Users can decide to follow the path and to move across the rooms in a specific order. Small museums do not recommend any specific path

to follow, while others have multiple paths. Users following a path do not have any time restriction during their visits, they are free to move across the rooms and to rest. Moreover, the number of visits in a museum changes dramatically according to several factors, such as the day of the week, the hour, the scheduled holidays as well as the whether conditions. The combination of such factors determines the existence of burst of visits, as discussed in Ref. [55] that are challenging to predict.

in which users freely roam. An airport terminal provides several services for the end-users. Some of them are mandatory to all the passengers, others are optional and provided only for the entertainment purpose. The number of users accessing to such services changes dramatically ac- cording to the seasons and according to external factors, such as weather conditions, strikes and delays of the flights.

[59] proposes a multi-modal solutions based on Wi-Fi and BLE tags. Through the availability of a precise map of the environment and an accurate survey of the environment. The end-user can benefit of services based on positioning information on their own commercial smartphone. In [60] authors propose an interesting approach, based on BLE technol- ogy in an airport scenario, using a combination of Received Signal Strength Indication (RSSI) and Time-of-flight.

A shopping mall is generally organized with product-specific aisles. Customers are free to decide the order of the products to pick. Malls also have some locations for specific fresh products, such as bakery or fresh- fish. In these locations, the self-service is generally not allowed, and customers interact with an operator. Some small/mid-size malls guide customers through a suggested walking path, while in large-scale malls, customers can freely move within the areas.

Concerning the Indoor Infrastructure, the Map Server is responsible for managing the indoor map. In particular, it provides the base maps or a tile set covering a specific area. The Map Server couples with the client side, in charge or downloading (possibly, with parallel connections) and rendering the map on a e.g. 5-inch screen. Both modules are available in literature and can be re-used as third-party black boxes. As for example, the open source map-view solutions, open layers and leaflet are available. According to the specific needs, it is also possible to adopt different Map Server such as mapbox, Google Maps and AcrGis.3

Concerning the ILS engine the literature also offers some interesting and open source solutions that can be deployed as off-the-shelf products, among them we refer to Anyplace as a complete framework for indoor localization comprising API, Viewer, Navigator and Logger components.4 We finally mention some existing discovery protocols that can be embedded with the Indoor Infrastructure to discover the server in a seamless way. In particular, the SLP, UPnP, ZeroConf and WS-Discovery are old-but-robust valuables candidates for discovering networked re- sources [62]. Moreover, if the goal is to implement a local discovery then the Bluetooth beaconing and the Wi-Fi probing also represent two interesting protocols that can be used to broadcast small chunk of information.

Finally, in relation to the Smart Device we found several client in- terfaces that can be customized. Among them, we consider that Telegram app5 is a valuable alternative since it offers the possibility of customizing the popular chat-based application by reusing most of features available. Such choice allows to include specific features enabling the localization, the discovery and the map rendering in a chat box. We finally remark that guidelines for choosing the proper technical solution are out of the scope for this paper but, it is worth to remark that these design decisions strongly depend on the considered use cases.

We now discuss some issues related to the concrete possibility of adopting an indoor localization system for the purpose of measuring the distance among users. This section covers different aspects of its adop- tion. In particular, in subsection 5.1 we discuss the impact on the privacy and trust reputation of the ILS. Subsection 5.2 focuses on the discovery phase of ILS. Subsection 5.3 presents two alternatives for the social distancing, namely a manual and automatic approach and, lastly, sub- section 5.4 concludes with a description of some challenges of the deployment phase of an ILS in real-world settings.

Privacy by design encompasses seven principles that should be fol- lowed [64]: proactive privacy protection instead of remedial action after privacy violations have happened; privacy as the default setting; privacy embedded into the design; full functionality with full privacy protection; privacy protection through the entire life-cycle of the data; visibility and transparency; and respect for user privacy. Solutions for incorporating these principles in the design of an ILS are necessary. In parallel, data minimization approaches should be considered as a best practice for privacy by design adoption.

3. To this purpose, we foresee some possible solutions: to provide interoperability recommendations and specifications; to define specific governance; to provide on-line verification and validation tools in order to identify the security risks. In parallel, data should be encrypted both at rest and in transit.

for their successful adoption on the large scale. More specifically, range- based applications (i.e. based on Wi-Fi/Bluetooth signal strength) often fail in crowded scenarios or in those environments characterized by barriers and obstacles. Differently, the adoption of indoor localization system based on the data-fusion techniques are more reliable in such circumstances. Data-fusion allows to gather and to combine heteroge- neous sensing and context information. Although more complexity with

The current trend is to adopt solutions for preserving the social dis- tance that are based on apps for smartphones. We consider that such approach might fail on the large-scale and on the long-term. We consider necessary to understand those practicable alternatives and how to gradually move from the use of apps to the use of infrastructures, such as an Indoor Localization System.

If we consider that people are well predisposed for social distancing through the use of sight, a first discriminating factor is the type of environment. In open spaces, such as a supermarket, people will have greater ease of self-determination if a situation is risky or not. Differently, in indoor and constrained environments people need to be supported with automatic tools.

