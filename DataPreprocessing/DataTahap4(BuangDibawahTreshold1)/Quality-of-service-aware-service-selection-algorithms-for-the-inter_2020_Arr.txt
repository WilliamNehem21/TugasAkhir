Bouzary et al. [25] presented a comprehensive survey of service se- lection and composition in cloud manufacturing. They classified six categories comprising objective functions, selection criteria, algorithm types, correlation awareness, mapping approaches, and dynamic composition. They did not consider the service selection problem in the IoT environment or ensuring QoS based on the IoT architecture. They only investigated some of the traditional QoS parameters comprising cost, response time, reliability, and availability. In addition, they did not discuss any of the evaluation metrics used to evaluate the performance of the proposed state-of-the-art approaches.

Hamzei et al. [27] conducted a systematic survey of SC-aware methods based on QoS factors proposed in the IoT environment. They divided the methods into four main categories comprising framework-based, model-based, service-oriented architecture (SOA), representational state transfer (REST)ful-based, and heuristic-based ap- proaches. They discussed the benefits and drawbacks of the state-of-the-art approaches and defined six QoS factors to examine for the SC approaches, i.e., scalability, execution time, cost, reliability, avail- ability, and response time, but they did not consider the QoS factors based on the IoT architecture. In addition, they did not define the methods that can be used to design and evaluate service selection algo- rithms (SSAs).

Asghari et al. [29] conducted a systematic review of SC approaches in the IoT based on seven main categories: SC approaches, platforms selected, tools employed, measurement environments used to evaluate SC, QoS factors, current algorithms supported by the SC, and future challenges of SC. In particular, they considered the functional behavior of SC and non-functional aspects of QoS in the IoT in SC approaches. They investigated most of the QoS factors in the IoT system but without referring to the IoT architecture. The benefits and drawbacks of the state-of-the-art approaches were discussed and some weaknesses were identified. A useful classification was provided for service selection in IoT but the methods that must be used to design SSAs were not discussed. In addition, they did not provide a complete review of the QoS factors, such as QoS in the network layer, and they only discussed one QoS factor in the sensor layer (energy). However, they discussed the languages and verification tools employed to measure the performance of the existing approaches. Detailed descriptions were not provided of the methods used

Aoudia et al. [30] reviewed the existing SC approaches for IoT based on three groups of criteria. First, they considered the dynamic compo- sition and adaptation of the proposed solutions, including the optimi- zation method used, its description, the deployment areas, the techniques used, and whether they were applied online or offline. Second, they assessed the protection and security protocols, distribution and decen- tralization, automatic identification and resolution of failure and inter- action problems, and independence and extensibility. Third, they considered the Results obtained performance of the service representa- tions, standards and protocols used, models employed, and the optimi- zation of the composition. They investigated the essential points of the selection problem but did not explain them in detail, such as declaring the dynamic composition without defining other composition types. Moreover, they presented the techniques employed but without discus- sing the differences between them. In addition, they did not discuss the different factors that affect traditional QoS or QoS in the IoT environment.

Dongre et al. [31] investigated the QoS parameters applied for service composition and selection by considering nine QoS parameters in the application layer: execution time, response time, availability, reliability, throughput, cost, price, reputation, and latency. However, they did not discuss technique or methods used to solve the selection problem.

The remainder of this paper is organized as follows. In Section 2, we discuss the background and present necessary definitions. The proposed state-of-the-art classification method is presented in Section 3. In Section 4, we discuss solutions for designing SSA and analyze the design solu- tions. In Section 5, we explain the solutions for implementing SSA and analyze the proposed solutions. In Section 6, we consider the perfor- mance evaluations proposed for SSA solutions. The Results and future research directions are presented in Section 7. We give our conclusions in Section 8. In Section 9, we outline research limitations and provide recommendations.

Dynamic Service Selection: The services are selected during the run- time. Thus, the service components can be determined and replaced during the runtime, thereby allowing the consideration of changes that can occur in the in-service components and better alternative services may be offered for the composite services [33,36]. Dynamic service se- lection is considered a more challenging task than static service selection because critical issues must be addressed, such as time limits, service correctness, and transactional support.

The classification proposed for the QoS architecture by Li et al. [40] meets the needs of the IoT environment and allows the QoS to be opti- mized in different IoT layers. The architecture considers three IoT layers comprising the sensor layer, network layer, and application layer. The traditional QoS attributes are integrated with other essential character- istics of the IoT architecture (e.g., cost of network deployment, infor- mation accuracy, energy consumption, and coverage). The traditional QoS classification is not applicable to the heterogeneity and complexity of the IoT architecture.

simulation is the most widely used method. Computer simulation in- volves mathematical modeling on a computer using simulation software in order to predict the behavior of a physical system or the real world. Computer simulation is a useful tool for mathematically modeling many natural systems, e.g., in computational physics, chemistry, manufacturing, biology, and human systems such as psychology, eco- nomics, health care, and engineering.

The other method employed involves using a prototype. A prototype is an early stage model or a sample of a specific product built to test processes and concepts. In general, a prototype is designed to evaluate a new design of a product and to enhance precision for system users. A prototype is used in various contexts, including semantics, electronics, design, and software programming [46]. The difference between a simulation and prototype [47] is that a simulation is an analytical process representing a real working system, whereas a prototype is a real physical object that provides specifications for the actual system.

Second, we consider two basic concepts related to the implementa- tion of SSAs. Based on the QoS layer, it is necessary to define the layer where the SSA will be applied in the QoS architecture [40]. Moreover, the algorithm type can be divided into heuristics, meta-heuristics, hyper-heuristics, and other algorithms (non-heuristic algorithms).

Many methods have been proposed to solve the QoS-aware selection problem in the IoT environment. We identified these solutions based on the three QoS layers introduced for the IoT architecture by Li. et al. [40], i.e., the sensor layer, network layer, and application layer. For each layer, we classified the implementations of the methods according to four optimization algorithms comprising heuristics, meta-heuristics, hyper-- heuristics, and non-heuristic algorithms. Moreover, we considered the traditional QoS factors optimized in each proposed solution.

Alsaryrah et al. [18] aimed to select an appropriate set of smart ob- jects by considering the traditional QoS and the energy consumed to form a service. They divided their objectives into minimizing the traditional QoS (execution time, network latency, and cost) and reducing the energy consumption by the combined service, i.e., by maximizing the battery lifetime for the sensors. They proposed a bi-objective shortest path optimization (Bi-SPO) algorithm with four pruning techniques comprising pruning by the cycle, nadir point, efficient set, and label.

parameters obtained from sensors on factory floors. They aimed to reduce and balance the energy consumption in the IoT by proposing a heuristic and opportunistic link selection algorithm (HOLA) to maintain the energy efficiency in the IoT sensors by opportunistically transporting the IoT sensor data to smart devices. These intelligent devices had mul- tiple radio links (3G/4G LTE, Wi-Fi, and Bluetooth) to transmit the received data to the cloud by using HOLA to select the best radio link based on the quality preserved by the Services Level Agreements and the energy cost of the relationship.

WSN-based IoT network into a small network, where each was called a cluster head. By using a meta-heuristic algorithm to optimize the network communication, the clustering method could divide the WSN into a small, reliable, and manageable network with efficient data transmission. The proposed algorithm used five parameters comprising the distance, energy, delay, network load, and temperature of the IoT devices. To efficiently select the cluster heads, a novel method was proposed by combining the gravitational search algorithm (GSA) with the artificial bee colony (ABC) algorithm.

Abinaya et al. [16] also aimed to minimize the energy, time, and loss of packets during the transfer of data among nodes when selecting and combining services. They aimed to increase the energy efficiency, time utilization, and throughput without any loss of data or reduction in the packet delivery ratio. They proposed a meta-heuristic algorithm (ACO) to find the shortest path between the nodes using the network routing protocol approach. The algorithm clustered the data nodes before then transferring data between the nodes with low power consumption.

Khan et al. [61] proposed a QoS-aware secured communication approach for IoT-based networks called QoS-IoT. The Sybil attack detection mechanism was used for identifying Sybil nodes during multi-hop communication. To ensure the fair and efficient utilization of the available bandwidth, an optimal contention window (CW) was selected for QoS provisioning. The optimal CW size was selected by using the binary exponential back-off mechanism. The performance of QoS-IoT was evaluated based on measurements of Sybil attack detection, fairness, throughput, and buffer utilization.

reducing the search space for service discovery. The latest subjective assessment obtained from user feedback concerning the user context similarity was used to estimate the QoS in a similar environment. A subjective evaluation was conducted by calculating four factors: privacy, reliability, availability, and response time. Three objective attributes comprising the availability, response time, and calculation speed were determined by obtaining a score for each service. The service with the highest score was selected.

Gao et al. [51] conducted global optimization for event SCs by using a meta-heuristic method based on GA but without the need to consider all possible combinations. The non-functional attributes were represented by QoS properties for the latency, price, energy consumption, bandwidth consumption, availability, completeness, accuracy, and security.

Anas et al. [50] aimed to simulate human thinking when making a decision about multiple choices and using data collected from IoT sen- sors. They considered an example of a human making a decision while driving when faced with two paths that lead to the same place but with different trade-offs in terms of the time, distance, or cost. Their frame- work collected data to help systems to select their future path. The main problem was how to capture and use human heuristic information. The final solution reduced the total time and obtained more accurate Results. They used the heuristic-IoT framework for enhancing heuristic search algorithms and collecting data from IoT sensors. They implemented their framework with a GA using data regarding the habits and behavior of drivers collected from sensors deployed in taxis to solve the travelling salesman problem (TSP) with hidden edge costs. The proposed frame- work used heuristic information to generate smarter initial solutions for the GA to solve the TSP instead of generating it randomly.

On the cloud manufacturing side, Huang et al. [5] focused on solving the MOPs for cloud SC optimal selection (CSCOS) while considering non-functional QoS factors. They determined four parameters comprising the cost, execution time, energy consumption, and reliability. Non-functional attributes were considered for three types of cloud ser- vices: manufacturing software, hardware, and human resource services. They introduced a new chaos control optimal algorithm (CCOA) to solve the CSCOS problem in large-scale solution spaces.

Abu-Safe et al. [62] proposed a service selection model that ranked services based on end user feedback and the reputation value. The Likert scale was employed as a user-friendly method for acquiring feedback from end users. An improved-PSO was used to select the optimal service from ranked services. Two quality groups used to calculate the QoS factors comprised the business quality group (BQG), i.e., reputation and execution price, and the system quality group (SQG), i.e., reliability, availability, and response time.

Jatoth et al. [60] introduced a meta-heuristic model using an adaptive genotype evolution-based GA (AGEGA). They balanced the QoS param- eters and connectivity constraints to perform SC in a cloud environment. The discrete uniform rank distribution (DURD) and discrete uniform service rank distribution (DUSRD) were proposed to determine the ser- vice fitness and SC fitness, respectively, thereby allowing services to be pruned from the non-optimal solutions and reduce the search space. The specific QoS parameters employed were not defined. However, they used a synthetic data set with QoS parameters such as accessibility, cost, availability, throughput, response time, security, integrity, and reliability.

Yuan et al. [56] proposed a dynamic approach by used a fuzzy logic technique and cultural GA to adapt the global QoS constraints. The global QoS constraints were decomposed into near-optimal local QoS con- straints, before independently selecting a service component for each abstract service. They aimed to satisfy five QoS factors comprising the price, response time, availability, throughput, and successful execution rate.

Hosseinzadeh et al. [57] combined a machine learning method with a meta-heuristic algorithm in a hybrid ANN-PSO algorithm. They aimed to improve the execution time and reachability rate for a service selection model in cloud-edge computing. A labeled transition system was pro- posed based on a verification approach to check the correctness of the proposed model. Three QoS factors were considered comprising the response time, availability, and prices.

location and geographic location, and neural collaborative filtering (NCF) is applied as a neural network model to learn the in-depth latent features. NCF utilizes local features such as similar users or similar ser- vices with historical QoS values and global elements comprising user latent vectors and latent service vectors. NCF then combines the contextual information with the historical QoS values to perform both the prediction and selection processes.

Jatoth et al. [60] also aggregated the application layer and network layer with a meta-heuristic model using AGEGA, where they balanced the QoS parameters and connectivity constraints to perform SC in a cloud environment. DURD and DUSRD were applied to determine the service fitness and the SC fitness, respectively, thereby allowing services to be pruned from the non-optimal solutions to reduce the search space. However, they did not define the specific QoS parameters used in their study, although they described the use of a synthetic data set containing QoS parameters, such as accessibility, cost, availability, throughput, response time, security, integrity, and reliability.

Singh et al. [63] introduced a framework based on multi-criteria decision making for directing the selection process. The framework aggregated the sensor, network, and application layers, and they com- bined two multi-criteria decision making methods comprising the ana- lytic hierarchy process (AHP) and TOPSIS. AHP was used to calculate the weights for the QoS criteria and TOPSIS ranked the service providers. They describe a QoS parameter based on three IoT components, i.e., things, communication entity, and computing entity. Nine QoS parame- ters were considered: operating temperature range, resolution, accuracy, delay, jitter, pricing, availability, throughput, and response time.

Most previous studies used simulations to evaluate the performance of their proposed algorithms and they conducted comparisons with other SSAs in the same environment. In addition, prototypes were constructed in other studies to evaluate the performance of their proposed algo- rithms. In some cases, simulations and prototype were combined in the evaluations. In the following, we discuss the three methods used to evaluate the state-of-the-art algorithms.

Liu et al. [11] developed CEA by integrating GA and PSO. They conducted simulations and generated a data set at different scales based on real scenarios. They showed that CEA was a highly efficient search approach with greater stability and more rapid convergence compared with canonical PSO (CPSO) and the improved discrete immune algorithm based on CPSO (IDIPSO). They recommended extending the experiments to greater scales.

Reddy et al. [17] assessed the performance of the GSA and ABC al- gorithm based on the trends in the network sustainability of live IOT nodes in the network and by evaluating its convergence compared with PSO, GA, ABC, and GSO. The Results demonstrated that their approach performed better than the other methods at cluster head selection for IoT devices.

Shukla et al. [55] presented CBSSMS to link IoT services with appropriate sensors. They conducted comparisons with existing collo- cation distance algorithms based on the random mapping of services on any IoT device, where they tested linear, random, and star FBP networks. The Results showed that the CBSSMS algorithm reduced the latency and energy consumption between devices compared with the collocation distance algorithms [20].

Elhosenya et al. [22] conducted a comparative study based on the execution time, system efficiency, and data processing speed. They evaluated the effectiveness of their model against GA, PSO, and PPSO. The Results showed that the proposed model improved the total imple- mentation time by 50%. Moreover, the efficiency of the system at real-time data recovery improved significantly by 5.2%.

Lin et al. evaluated their MOEA/D approach based on a sensor se- lection problem [39]. They showed that increasing the problem size led to an increase in the energy consumption, energy balancing, energy harvesting services, and pollution level, but it did not affect the QoS. They generated their data set.

Li et al. [9] simulated their PSO method and showed that it was more efficient than using GAs. PSO optimized different fitness parameters and maximized the availability or reliability while maintaining a low cost and response time. They considered a real-world scenario involving the transport of furniture among countries by combining five Web services related to shipping cargo services. They applied their method to a pre- viously reported data set (Mao data set) of QoS values. The feasibility of applying PSO was confirmed by implementing the simulation program in

Yuan et al. [56] evaluated the performance of a fuzzy logic technique and cultural GA by comparing it with a QoS constraints decomposition (QCD)approach based on cultural GA and an integer programming (IP)-based approach. The experimental Results showed that using the fuzzy logic technique and cultural GA was appropriate in terms of the adaptability and scalability to the environment, as well as satisfying the user preferences and increasing the number of candidate services. They used the Quality Web Service (QWS) data set containing 2508 real Web services with 10 QoS attributes factors [64]. Also they randomly gener- ated other data set according to QWS (RQWS) using the Eclipse pro- gramming tool. They recommended increasing the number of fuzzy sets and formulating more appropriate fuzzy rules, before applying their approach in a distributed environment where a group of distributed QoS registries maintain the QoS values.

The hybrid ANN-PSO algorithm obtained better fitness values compared with PSO, GA, and PSOGA [57]. They evaluated their method based on simulations using the C# language as an integrated develop- ment environment (IDE) and the PAT model checker was employed to prove the correctness of the proposed algorithm. They employed QWS data set containing 2500 Web services. They recommended using deep learning methods to avoid the space explosion problem in the SC model. Satisfactory experiments were conducted based on real-world WS- Dream data sets by Gao et al. [58]. The prediction performance was evaluated using the root mean squared error and mean absolute error. The experimental Results verified the effectiveness of the proposed NCF and context-aware NCF (CNCF) frameworks compared with well-known QoS prediction methods comprising user-based PCC (UPCC), item-based PCC (IPCC), web service recommender (WSRec), and location-based factorization machine (LBFM). They recommended implementing work-based models in the QoS prediction task, such as a recurrent neural network and convolutional neural network, and studying the time factor

Sun et al. [6] evaluated three heuristic algorithms (ACO, GA, and PSO) by building prototypes to calculate the fitness, minimum, and dif- ference in the residual energy for smart devices. The Results showed that PSO performed better than GA and ACO at the optimization problem.

methods based on GA, i.e., GA, orthogonal GA (OGA), adaptive genetic programming (AGP), and transactional GA (TGA). The experimental Results showed that AGEGA obtained better fitness values within a lower execution time. They used QWS as the data set of QoS parameters and randomly generated some of the QoS parameters and their corresponding values. They recommended considering multiple service connectivity constraints and multiple QoS parameters in future research, as well as developing an efficient approach for various parallel data processing platforms.

Dhondge et al. [7] validated HOLA based on simulation studies and designed a HOLA IoT sensor prototype with Adriano. In practical ex- periments, they measured the energy consumption of the HOLA IoT sensors in different operational scenarios and communication settings. In particular, they compared the energy consumption of HOLA and the Vanilla System, and showed that HOLA could reduce the energy consumed in IoT sensors by reducing the internal communication in the IoT device. The time consumption with HOLA was better compared with the Vanilla System. They recommended detecting the maximal energy efficiency that satisfies the SLA agreement and evaluating HOLA using different smartphone densities in the future.

In the future, we recommend reviewing more SSA solutions by increasing the research scope. In this review, we focused mainly on heuristic, meta-heuristic, and hyper-heuristic algorithms, and thus we recommend studying other types of optimization algorithms. In addition, we recommend the construction of an appropriate QoS data set for the IoT environment.

