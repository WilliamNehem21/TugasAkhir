Healthy	Skin is smooth, elastic, and has well-arranged hair with normal sebum. Color varies from pink to light brown. Eyes are clear, secretion-free. Oral mucosa has normal color and saliva. Nose is moist without discharge. Limbs are strong, and joints lack redness, swelling, or inflammation.

In the experiment, a modular assembly device was designed, and a short-distance star communication network was built. It is controlled by a central control module, and each submodule has an independent control unit responsible for circuit control within the module. Each submodule is physically combined to form a sorting module consisting of at least one inlet, one detection, and several outlet modules. Similarly, connectors made of soft materials can be used to build pig passages with acoustic and optical devices to assist in the repelling of pigs and reduce human intervention; the components are assembled into the pigsty in a combination of soft and hard materials. Pigs can automatically complete the sorting process when driven by sound and light devices through guided passages.

The sorting process is divided into two parts. First, health detection was performed using the collected pig photographs. Combining the weight and visual information with a pre-trained binary classification model and decision-level fusion determines whether the pig is abnor- mal or sick, and sick pigs are sorted into isolation pens for workers to check and treat.

A fusion of the image neural network and weight-based classifica- tion results is used to improve the accuracy of the experiment and ob- tain the final target classification and recognition results through decision fusion. The ID and category of the pig are identified using the image, and its weight is measured using a weighing device. Sorting is performed by fusing the historical data of the pig with the new data ac- cording to its ID and evaluating the growth status of the pig and its growth level in the group. Simultaneously, image recognition detects whether there is a possibility of disease in the phenotype of the pig and sorts the pig to the diseased pen when it is detected as having a pos- sible disease or abnormal weight.

The experiments were analyzed and evaluated using simulation tests, and the simulations were conducted in the range according to the actual weight. Let the state transfer matrix A be set as a unit array. The system does not influence the external input; U is zero, and H is a unit matrix. The gain matrix K does not need to be initialized, and the error matrix P is initialized as a zero matrix. Q and R are the predicted and observed state covariance matrices, respectively, and Q and R are set to 0.000015 and 0.008, respectively (Wang et al., 2017). A set of typ- ical waveform graphs that can be considered as irregular motion were collected, leading to fluctuations in real-time weight information. Refer- ring to the actual scenario using different data between 20 and 100 kg for the experiment, different sets of 20 data points were collected to cal- culate and compare the average and Kalman filtering errors.

During the training process, the generator continuously improves its generative power to generate images that are as similar as possible to the real pattern to successfully fool the discriminator into thinking that it is the real image. The discriminator must continuously improve its discriminative power to avoid being fooled by the generator as much as possible. These two models iteratively play each other out to optimize the network and achieve a balance between them. When the

Deeper CNNs are used after applying the Visual Geometry Group (VGG) model. However, it has been experimentally shown that an in- crease in network depth causes the gradient to explode and disappear, resulting in a system that does not converge (Lee et al., 2019). In the VGG model, the network is guaranteed to converge by using stochastic gradient descent (SGD) in backpropagation through a data normaliza- tion operation on the input data and intermediate layers; however, when the depth of the model network exceeds a dozen layers, SGD be-

ResNet, has been proposed, which allows the network to be as deep as possible. However, it feeds a portion of the input data directly to the out- put without going through the convolutional network, and retains some of the original information. The ResNet network can add deeper convolutional layers to enhance this effect, and the residual block struc- ture plays a key role in its functioning.

In the identity classification experiment, pig identification was per- formed using the ResNet-50-based model pre-trained on the ImageNet dataset. After pre-training on the ImageNet dataset, the convolutional layer of the ResNet-50 model was frozen, and the parameters of the fully connected layer were retrained to obtain the accuracy of the net- work. The captured images were classified and saved for filtering and cropping, with 6000 images as the training set, 2000 images as the val- idation set, and 2000 images as the test dataset.

This study expanded the dataset to 1200 images by screening 300 images of sick pigs. The dataset was expanded to 800 images using arbi- trary flipping, Gaussian noise, and cropping and mixed with 1200 im- ages of healthy pigs to divide the training, validation, and test sets in a ratio of 3:1:1. The pre-trained models were migrated to the target net- work for training. Most sick pigs develop lesions on their face and back, which can be sorted out to isolate the sick pigs through specific fences. The camera unit of the sorting system captures images of the back and face in a model trained after pre-training and fine-tuning. The two images detected simultaneously were assigned to the predic- tion model, and the results obtained were fused to obtain the classifica- tion results. The weights of the detection results for the face and body

K = 154.60; a = 26.75; r = 0.022; R2= 0.9956. The pigs were divided into six categories: low development level (C1), sub-low development level (C2), normal development level (C3), higher development level (C4), high development level (C5), and abnormal development (C6). The absolute weight and recent daily growth coefficients obtained from the last two statistics are examined in the study, both of which are below 90% of the normal levels for low development level; one is below 90% of the normal level and the other is below average for the sub-low developmental level; both are above 90% of the normal levels for the high development level, and one is above 90% of the normal level and the other is above average for the high developmental level. The rest were classified as having a normal development level, as well as abnormal development owing to factors such as disease. Through the classification of five categories characterizing the growth level of the pigs, a statistical analysis of the integration of the five categories of

Kappa is a statistical coefficient used in evaluation measures to vali- date results. The kappa values illustrate the consistency of the predicted values with the actual values. The kappa values remain between zero and one, indicating the confidence level of the given rule. Lower kappa values indicate no agreement; however, the low agreement obtained in the experiment in this study is informative and within a reasonable interval. Kappa is calculated as follows:

number of correctly classified samples in each category. Supposing that the number of true samples in each category is a1, a2, .. . , aC, the num- ber of predicted samples in each category is b1, b2, .. . , bC, and the total number of samples is n, then:

In this study, a low-cost livestock-sorting system for image recogni- tion was designed based on deep learning. Using only weights and im- ages as inputs, the proposed system accomplishes functions such as livestock ID recognition, automated livestock sorting, disease detection, and data tracking and prediction, through the technical route of deep learning and the industrial Internet of Things. The following conclusions are drawn from this study.

However, the generalizability of the model to different livestock is worth further investigation because of the significant cost of data collec- tion and tagging, as well as the need for a more robust and transferable model. More extensive data must be collected to train and validate the reliability of the model. The potential of heavy recognition and 3D rec- ognition technologies in the field of livestock sorting based on image recognition has been recognized, which may enable the modeling of livestock body types and improve recognition accuracy. Because of the lack of collaboration in the veterinary field at this stage, this study only focuses on the classification and detection of diseases with obvious livestock phenotypes; diseases related to livestock pathology and multi- information fusion detection should be the focus of future research. Fur- thermore, a collaboration with the Institute of Animal Husbandry and Veterinary Science on a cross-cutting project targeting livestock patho- genesis, processes, and image recognition is anticipated. Moreover, an- other collaboration with Ningxia Jinyuhaoxing Agriculture and Animal Husbandry Co. Ltd. and Ningxia Yanchi Tan Sheep Industry Develop- ment Group Co. Ltd. is in the pipeline focusing on collecting data on other livestock, including dairy cows and tan sheep, to realize research and innovation in sorting information management systems for other livestock breeds.

