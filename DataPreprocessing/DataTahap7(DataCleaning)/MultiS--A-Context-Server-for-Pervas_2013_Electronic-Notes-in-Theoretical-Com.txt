context-aware applications are capable of recognizing environmental changes and adapting their behavior to the new context. this process can be divided into three stages: monitoring, context recognition and adaptation. on the monitoring layer, raw information about the environment is collected from sensors. the context recognition layer processes the data acquired from the context and transforms it into information which can be useful for the adaptation process. with this information, the adaptation system can determine what behavior is correct for the application in each different context. this paper proposes a context server called multis, which has the goal of solving the problems arising from the context recognition layer, and which includes the following advantages: a) the production of new context data based on the information of



ubiquitous computing is a vision about the future that was initially raised by mark weiser. it is based on the belief that computers will spread throughout the environment. their presence will be so common that it will not be noticed by the users. some years later, ibm adopted the concept of pervasive computing, which is closer to the existing technology. both wired and wireless devices can be used to provide a service network. the user data, programs and processing power will be available through the network. the service will be provided to the user by means of the resources available in the environment. this paper treats ubiquitous computing and pervasive computing as synonyms.



the isam authors propose an infrastructure where the computational environment is divided into cells. each cell is composed of wired and wireless nodes. the cells are able to communicate with each other by using peer-to-peer protocol. the applications are programmed with isam adapt abstractions, a programming language built for pervasive applications, together with exehda(environment execution for high distributed applications), which is the isam execution environment. this work forms a part of the isam initiative and seeks to propose a context-recognition engine for pervasive applications.



at the beginning of 2005, scientists from the british computer society published a list of what they believe will be the seven greatest challenges to computer science in the next twenty years. one of those challenges is how to build scalable ubiquitous systems. according to this list, context-aware computing is one of the most important properties of pervasive computing.



since several applications will be executing tasks in a given environment concurrently, there is a good chance that some of them will use the same high level of data(e.g. information about the location of a particular user). the support of middleware could save some system resources by sharing the common data between applications. however, although different applications may do this, each application may be sensitive about a given aspect of the environment and have its own particular needs. in view of this, the supporting middleware must enable each application to specify how it wants to receive its information. a context server approach can extend the middlewarebased architecture by introducing an access managing remote component. this, aggregated sensor data is moved to the context server to facilitate simultaneous multiple access. as well as allowing the re-use of sensors, using a context server has the advantage of freeing clients from resourceintensive operations. these are the factors that were the driving-force behind this work: the building of a supporting middleware that enables pervasive, context-aware applications to be executed.



this paper provides an outline of multis, a multi-sensor context server for pervasive computing. the text is structures as follows: section 2 outlines the multis. section 3 examines a case study, where a multis prototype was used to support the execution of an application, while section 4 analyzes the test results acquired through the current implementation of multis and the execution of the developed application. section 5 discusses related work in the field and compares multis to some of the existing projects in the same area. section 6 discusses the conclusions and makes recommendations for future work.



this section will give a detailed account of the multis architecture. multis is a context-server made for pervasive computing. to begin with, the context recognition process will be analyzed, followed by an examination of the multis project. the architectural elements of multis are described in section b. in addition to the context-server, a programming language was created to compose sensors; this language is detailed in section c. section d shows how to deal with disconnected events. the sections from e to f studies the sub system responsible for processing and the contextual information, called context-compositor. finally, section g shows how the contextual information is shared across applications.



monitoring: sensors are very important for context-aware computing. it is through them that systems know about the surrounding environment. there are different techniques to acquire information and there have been several studies about this. the differences in each approach make it hard to come up with a single generic solution. for this reason, most of the studies on context-recognition use an external monitoring system. the same strategy is employed by the multis project, which uses an external system for monitoring information. it is suggested that a monitoring system should be used that is capable of providing information about different sources and making them available through a common interface.



filter repository: the filters are apis used for processing contextual information. they are stored in a database called a filter repository. the filters are dynamically loaded by the verifier module, and are used in context-compositor to produce contextual information. the repository also contains detailed information about each filter that allows programmers to query the database when a filter is needed.



the cd-xml language: the cd-xml(context-definition xml) was created to enable the applications programmers to describe how the environmental information must be related and processed to produce useful information for the adaptation process. each section of the language conveys information from a given number of sources through filters. the data used by the filters may be from sensors or information produced previously by a filter. the produced information may be used either by another filter or in the adaptation process. when external context information is changed, the adaptation system is activated. it receives data about the new state of the environment and may change the behavior of the application. each language feature is described above:<context>: represents an item of information produced by the contextrecognition system. the information held by this tag describes the data used to produce its value. each tag of this type contains one filter and at least one information source. the filter is identified by the<filter> tag, while the information source may be a<sensor> or another<context> tag. in the case of the latter, the information is produced by the context-server.



the changes in the environment are detected by the sensors. when a sensor detects the change, it triggers the context recognition process. this may result in an adaptation to the application behavior. two different approaches can be used by multis to fire the context-recognition process.



it is possible to delegates this responsibility to the monitoring system, some of which are able to detect and warn when its sensors are changing. if the monitoring system is not able to do this, multis may periodically obtain the values of the sensors and compare them with the previous value. when a change is detected, a new calculation is started. this mechanism may also be used to overcome faults in the monitoring system. the use of both techniques enables the system to detect changes in the sensors even if the monitoring systems do not warn multis when a sensor is changed.



for instance: to produce the value for the<context> ispersoninroom, the system invokes the filter filteratleast that receives the information from the following sensors: iscomputerinuse, ischairinuse, ismovactive, isdoorlocked, islighton. any change in the value of these sensors activates the context recognition system. it worth pointing out that any leaf node is a sensor, and thus the tree calculation algorithm is always bottom up.



if the change on the sensors value cascade to a change on a sub-tree root node, all the nodes that use this information will have to be re-evaluated. if the root node value changes, the exehda adaptengine service is activated. it should be stressed that not all sensor changes generate adaptation. it is possible that the change in the sensor value was not enough to change the root node; in this case, no action is taken.



the search for nodes providing the same information is carried out on the basis of the cd-xml definition of each node. if a sub-tree with a given definition is found, it provides the same value. it should be pointed out that this algorithm does not find all the possible nodes, but only the ones with the same definition(i.e., nodes with a different syntax but where the same semantics are not detected). a future enhancement may find a better algorithm for this.



the calculation algorithm must be changed to support the graphs. whenever a node has its value changed, all the consumers must be re-evaluated(it may now be a list of consumers, not just one). if node c is changed, both nodes a and j must be re-evaluated. from the standpoint of the application programmer, the way the information is shared is transparent. each application receives information as



some of the most promising uses of pervasive computing are designed to enhance the existing applications. the context-aware computing characteristics enable a more valuable form of communication to occur between the system and the user. the context-aware computing was used, for instance, to select the best content in a tourist site for each user.



the user location can be used to identify the attraction which holds the users interest. apart from the location, the device characteristics might only select the supported types of information(e.g. if the device does not support audio reproduction, or if the headphone is currently unplugged, the audio information will not be



the tests were carried out using the current multis implementation. the prototype was developed in java because of its platform independence. apart from the filter repository, all the other features were fully implemented. the tests were conducted using an amd athlon x2 64 4200+, 1gb, and all the sensor data were emulated.



time, and indicates if the user has moved to another attraction. each sensor change triggered the sub-tree calculation and the adaptation of the application. the y axis represents the id information, and the horizontal lines show the application state on each event. the vertical lines represent the momentum at which the application behavior has changed.



the monitoring system used in this test was emulated and not supports the ability to notification of changes in sensor values. in view of this, the pooling strategy was used to detect environmental changes and queries were made every second. when the sensor changed nearly at the end of this period(as in the fourth sensor change), the system reacted quickly. however, when the sensor changed at



each module subscribe to the sensor or processed information node. a list of all subscribers is kept on each node and when an event is triggered, each subscriber is notified. there is a cost associated with communicating the change for the different subscribers. in the current design a thread is used to perform the communication to each subscriber.



it can be seen that there was a degradation of performance when 100 applications were being executed at the same time. there were cases where the processing time took more time than the sensor refresh rate. that is, the system was still processing information when new sensor data was being perceived by the system. there were big differences in time between the maximum and minimum processing time, as in the case of the standard deviation. the system was very close to supporting the maximum number of applications.



some important studies that have sought to solve the problems related to the context-recognition process, are reviewed in this section. among them are solar, context toolkit, aura/cis and jcaf. context toolkit is focused on the development of a new methodology for context-aware applications. this was very important and inspired several other works in this area. however, in the proposal of the context toolkit, the treatment of the context forms a part of each application, since it is hard to share context data across applications.



solar makes an interesting proposal to share contextual information. each information provider is a data flow that is processed and organized by using operators, and shown in graphs. each operator has several characteristics that must match to allow a connection. however there is no mechanism for dealing with mobility and disconnection, which are very important features of context-aware applications.



the aura/cis proposes a software layer called query synthesizer, which simulates a database management system. applications query the context server by using a language that is close to sql. each of these queries must be sent to the context-management system. however, there is no subscribing mechanism, which is very important to react to changes in the environment. the applications must pool the sensor to detect and react to changes on the environment.



multis is capable of producing contextual data based on several sensor data that use contextual inference trees. the produced information may be shared in the applications. there is independence between the application code and the treatment of contextual production. this coupling occurs by means of cd-xml. this language makes available a mechanism for dealing with undetermined values and may be used to handle disconnection situations. applications may make a query by using explicit call or using publish/subscribe. the handling of contextual information is carried out through filters that can be shared across applications, and thus save programming effort.



today, every programmer that needs to develop a context-aware application, must program all the stages of the adaptation process: the monitoring, the context recognition and the adaptation. this adds significant development costs and inhibits the development of this kind of application. however, there have been some studies to support the execution of this application which have been carried out recently. despite this, with regard to the stage of context recognition, none of the related work has been able to acquire the characteristics needed for context-aware applications.



we propose multis to fill this gap. by using multis, the integration of information from different sources can be made possible through cd-xml. this simple language enables contextual data to be produced while containing a mechanism for handling disconnection events. through the subscribe/notify mechanism of cdxml, applications are able to react to environmental changes. multis middleware also supports the execution of several different context-aware applications concurrently.



