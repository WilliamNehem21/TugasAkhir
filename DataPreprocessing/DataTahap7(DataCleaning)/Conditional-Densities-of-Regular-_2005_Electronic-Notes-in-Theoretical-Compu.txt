we define a density of a given language s in a given language l as an asymptotic probability that a randomly and uniformly chosen word of length n from l belongs to s. there are languages for which densities do not exist. we show that a problem of checking whether one regular language has a density in another regular language is decidable.



our approach to computing conditional densities is based on generating functions. an introduction to the generating functions theory can be found in. all the functions that we consider are complex functions of one complex variable. a function is rational, if it is a quotient of polynomials with integral coefficients. the proposition below is well-known(see,).



let f(x)= p(x) be the generating function for some regular language(p(x) and q(x) are polynomials with rational coefficients). we can assume that the polynomials p(x) and q(x) have no common roots. roots of q(x) are poles of f. the function f has a dominating root of multiplicity 1 if and only if q has a real positive root which is strictly smaller than the modulus of every other root. that can be formulated in the first order language over the field of complex numbers in the following way:



using the methods sketched above we can distinguish all the cases from propositions 3.1, 4.1, 5.1 and the cases(i) and(ii) from section 6. in the remaining case(iii) in section 6 we have to compare partial limits to decide whether the language s has a density in l. we present a procedure of comparing partial limits that answers this question.



we assume that languages are given by dfas. the procedure sketched above can be easily improved to have a complexity of verifying validity of a first order formula in the ordered field of real numbers. best known algorithms for that problem work in a double exponential time. however, using simpler methods(like the sturm series) we can solve simple cases(i.e. all except the one when l has many poles of maximal multiplicity on the radius of convergence) in a polynomial time.



we proved that the problem whether one regular language has a(positive) density in other regular language is decidable and can be solved in a double exponential time, provided that the languages are given by a deterministic finite automata. that computational complexity is determined by the complexity of general procedure of quantifier elimination in the ordered field of real numbers. on the other hand, the formulae that are produced by the algorithm presented in this paper are of the special kind and it seems that a better complexity bound can be obtained. however, we anticipate that in general the problem cannot be solved in polynomial time.



