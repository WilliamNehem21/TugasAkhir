modern engineered systems are reflexive. through instrumentation and sensors, they collect data on their function and performance which is used to assess their progress and safe operation. transport systems work in this way: a modern bus fleet has richly-instrumented vehicles which report their latitude and longitude, speed and heading. this data is streamed back over a data connection to an automatic vehicle location tracking system which feeds other systems such as real-time arrival prediction for bus passengers.



judging by recent advances in the field of adaptive systems, it would seem that the future offers us a vision of self-organising, self-healing systems regulated and kept in check by their data-collection subsystems. unfortunately, these datacollection subsystems are themselves often complex systems, with their own faults and problems, and intrinsic limitations to their engineering. it is not until one starts working with such subsystems that some of these problems begin to become evident. these problems increase in significance when regulators begin to calculate



determining service performance has until recently been done by human observers in place by the side of the road recording vehicle departures and applying intelligence and experience to interpret and record events. this approach has the benefit of ensuring that data is scrutinised before performance measures are calculated. in contrast, in the context where human intelligence is not applied(as in automated processing of historical avl data traces), errors of interpretation can occur, and it is these errors which are our concern here.



the avl data which is made available to us records the position of each bus in the fleet in terms of ordnance survey of great britain eastings and northings measurements, which can be easily converted to more familiar latitude and longitude coordinates. the avl data is specific to a particular bus, as determined by a unique bus identifier called a fleet number. the assignment of buses to routes is captured ina schedule which is drawn up before the bus service begins for the day, but may change without notice during the day in response to operational problems. this uncertainty about which buses are in service and which are not gives rise to part of the problems of interpreting the avl data before metrics are computed.



the remainder of this paper is structured as follows. we first discuss the visualisation of avl data in section 2, before moving on to the isolation and removal of data errors in section 3. we discuss the visualisation of headway data in section 4 and the use of headway measurements in service level agreements in section 5. we discuss related work that uses the same data or tools in section 7, and conclude the paper in section 8.



the visualisation tool has no predictive power, it can only render measurement data. neither has it any logical, inferential, deductive or verification capacity. nonetheless, it was very valuable in allowing us to find some significant errors in the data, which we then set about removing in a systematic process of data cleaning.



different views on the data have given us different insights but the identification of collective behaviour remains elusive. in a scenario where events depend not on the behaviour of individuals, but on the behaviour over the long run, or an aggregate measure obtained from a collection of observations, then representing a single individual trace is of little interest. more profound insights come from aggregating individual behaviours to look for trends and patterns.



there are very few observations of buses in this region: only one or two observations for each bus over a two day period. we can also infer that the faster part of the route is on the glasgow road leading to the airport(in the bottom left-hand corner). there are more observations here than for the depot, and there is no possible branching off the route here so fewer observations in this region must come from the buses travelling faster here.



using this tool we can conveniently eliminate the erroneous early-morning and late-night interpolated data points. this is a manual editing process, but it is made much more convenient because we can see the data points in context in a standard map view. we can define a region geometrically and then eliminate all of the points which fall within that region. once this process is complete we are left with a clean data set where all of the erroneous data which we could identify has been eliminated, allowing us to progress on to considering the performance measure of interest(headway). as before, we use visualisation to help us to gain greater insights into the data.



the overall result which we would hope to see for a well-running service is spatiotemporal separation where buses are not often close to each other for an extended period, according to some relevant semantic definition of closeness. such a metric has some merits. it allows for reasonable adaptation to problems in service delivery(so that, for example, buses can on some occasions be close to others for an extended period, as can happen). however, it is not one of the metrics which has been defined by the regulators in this instance.



the runz simulation algorithm simulates events forwards in time. departure events can occur over the course of an eight-hour day. after this time no other departures will occur and the only changes to the z counter will be decrements reflecting departures which happened one hour ago.



the algorithm is guided by an event list, given by the variables l0 and l1. l0 is the time of the next departure event. l1 is the time when the oldest recorded departure should be forgotten. the simulation algorithm has two cases depending on the relative values of these times.



the truth either. in our experience so far in working with data on the quanticol project we have always needed to use human intelligence to clean the data before any automated processing could begin. an outlier only becomes an outlier when an interpretation is placed on the other data points.



this work is supported by the eu project quanticol: a quantitative approach to management and design of collective and adaptive behaviours, 600708. the authors thank bill johnston of lothian buses and stuart lowrie of the city of edinburgh council for providing access to the data which was used for the case study. we would also like to thank allan clark for helpful comments on a draft version of this paper.



