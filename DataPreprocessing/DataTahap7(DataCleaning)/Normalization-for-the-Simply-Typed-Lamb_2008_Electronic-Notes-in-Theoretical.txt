a logic program in twelf corresponds to a partial function from inputs to outputs as specified by the mode declaration. since only total functions correspond to valid inductive proofs we must ensure that the defined function terminates on all inputs and covers all possible cases. both properties cannot be shown within the framework, e. g., we cannot give a proof that subst_red is terminating. instead, totality of a function needs external reasoning and can be ensured by built-in tactics.



the%reduces declaration states that the type expression c is a subexpression of a. twelf checks that this invariant is preserved in all possibilities of introducing subst_x a d c e f. in case subst_x_x it holds because c is instantiated to a. in case subst_x_app it follows from the ind. hyp. which states that already b=> c is a subexpression of a.



it expresses that the four type families are mutually recursive and terminate w. r. t. the lexicographic order on pairs(a, e) of types a and typing derivations e. this corresponds on a main induction on a and a side induction on e. to verify termination, twelf makes use of the%reduces declaration. using the world block wne_var, the code also coverage-checks, hence, the lemma is completely machine-verified.



