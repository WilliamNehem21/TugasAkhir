neoplasms are defined by abnormal tissue growth and can be classified as benign or malignant. benign(noncancerous) neoplasms are characterized by slow and organized spread, the presence of well-defined borders, and the absence of an invasive character at both the tissue and organ levels. malignant(cancerous) neoplasms, on the other hand, are characterized by often rapid and disorganized growth, with poorly defined borders and possible invasion of adjacent tissues and organs, implying the possibility of metastatic cancer[1,2].



the original dataset contains four categories regarding the last available information about the patient: 1) alive without cancer, 2) alive with cancer, 3) death from cancer, and 4) death without further information. our outcome of interest was patients with a confirmed cancer death between 12 and 24 months after the date of diagnosis. for the negative outcome, we included patients 1) alive without cancer or 2) alive with cancer between 12 and 36 months after the date of diagnosis. patients were removed if categorized as 4) death without other information.



for quantitative variables, we performed normalization using the zscore(separately in training and test). for all qualitative variables, we separated each category using one-hot encoding. the variable type of diagnosis presented categorized missing(value 9) for twenty-four patients. we considered this a new category for the one hot encoding procedure. we also removed 75 patients due to the lack of any information in two variables: cancer stage(two patients) and difference in days between first medical appointment dates and diagnosis(73 patients).



we tested the predictive performance of six different machine learning algorithms: catboost, xgboost, lightgbm, gradient boosting classifier, random forest, logistic regression. for catboost, xgboost and lightgbm, we used their own python packages. for the other algorithms, we used the scikit-learn library.



we used 10-fold cross-validation to select the hyperparameters in the training set with hyperopt, which applies a bayesian strategy for optimization, and randomsearch. in the case of high class imbalance(minority class representing under 25% of total outcomes), we applied the synthetic minority oversampling technique(smote). also in the training set, we applied the boruta method for variable selection. we then selected the best performing models from the training set(70% of the data) to evaluate their performance in the test set(30%).



the predictive performance of the models was evaluated on the test set using metrics such as area under the roc curve(auc-roc), area under the precision-recall curve(auc-pr), precision, recall, positive predicted value, negative predicted value, and f1-score. we also evaluated the performance of the algorithms in the 20% highest risk patients(20% k-tops), with metrics such as true positive, false positive, precision and recall. finally, the interpretation and evaluation of the contribution of each variable to the outcome was obtained by calculating the shapley values[16,17,18] for the test set. we followed the guidelines of the transparent reporting of a multivariable prediction model for individual prognosis or diagnosis(tripod).



nine models. all models presented auc-roc values of at least 0.871 and six of them reached values above 0.900. the general model presented the best overall performance, with auc-roc of 0.946 and auc-pr of 0.932. the model for the five main causes of death(top-5) presented an auc-roc of 0.945 and an auc-pr of 0.937.



tion(code 12, unacon with hematology and pediatric oncology services). a second patient(b) classified as a false negative was selected. the total risk score was 0.4782, which led the algorithm to classify the patient incorrectly as alive during the period. we observed that there was balance in the aggregate of the contribution of the predictors, highlighting the importance of cancer stage iv to increase shapley value and the non-public health service to decrease it. for patient c, a true negative classified as low risk, the most important characteristic to a low expected shapley value were cancer stage i and non-public health



we found that all models achieved an auc-roc higher than 0.86 to predict cancer mortality using only routinely-collected data. our results also indicated that a general algorithm, that included all cancer mortality, performed in most cases better than cancer-specific algorithms.



we obtained a high predictive performance without the use of omics or image data, which is a promising result in the field of oncology especially in low-income regions. we were able to develop an approach to compare the use of a general model with a model for the main causes of death, and with models specific to each type of cancer. most of the studies developed in the literature are specific for a given type of cancer, due to the selected data sets, using either from image data or through structured data[20,21]. the use of data from a cancer registry allowed for achieving consistent results in all proposed models, while at the same time providing a real-world dataset, with recent cases and different types of cancer.



in conclusion, the nine final models developed for predicting risk of death in cancer patients presented high predictive performance. the algorithms can be an important tool to help prioritize treatment decisions and patient allocation in cancer treatments, especially in low-income regions. future work should explore the proposed methodological structure and evaluate its predictive performance in new settings with different routinely collected data.



