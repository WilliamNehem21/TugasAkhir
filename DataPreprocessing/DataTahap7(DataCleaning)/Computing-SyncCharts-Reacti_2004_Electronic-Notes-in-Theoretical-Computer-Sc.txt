and reception of signals. signals are also the actors of preemption, making it possible to suspend(to freeze) or to abort the behavior of some parts of the system. synchronous models have adopted a simplifying hypothesis: the system evolves only during discrete phase(instant), the duration of which is 0. thus, the computation of a reaction, which may result from complex interactions among parts of the program, is supposed to be instantaneous. this strong hypothesis, augmented with the hypothesis of instantaneous broadcasting of signals, allows deterministic behaviors even in the presence of concurrency and preemption. esterel excels in expressing complex reactive behaviors, but it does not directly support specifications in terms of hierarchical communicating



a state can be either a simple state, drawn as a simple circle or ellipse, or a macrostate drawn as a rounded rectangle. a macrostate is refined: it contains other states. a simple state does not. a state may have a name: written inside for a simple state, written in a cartouche for a macrostate.



a transition is a directed link between two states(from a source state and a target state). there are three types of transitions: strong abortion, weak abortion, and normal termination transitions. the transition from state wa to state da is a strong abortion transition. the self-loop transition from state detection to itself, and labeled disarm is a weak abortion transition. finally the transition from state waitaandb to state done is a normal termination one.



local signals are explicitly mentioned on a syncchart: arm is signal local to macrostate detection; disarm is local to macrostate absync. external signals are not explicitly declared in the syncchart. the input signals of the outermost macrostate are a, b, reset, t, and inhib. there is only one output signal: ab.



the previous reaction implies only strong abortion transitions on simple states. strong abortion applies to macrostates as well. when reset is present, whatever the presence status of the other input signals, macrostate detection is exited without any prior internal evolution of the macrostate. the target state being the same macrostate, detection is re-entered during the reaction and recursively activates initial states of the enclosed stgs. a weak abortion is performed differently: before exiting the macrostate origin of the weak abortion transition, the internal evolutions of the macrostate are executed(see example below).



a normal termination transition has no explicit trigger. such a transition is fired as soon as each stg of the source macrostate is in a final state. for instance, if states da and wb are active, and b is present, the transition from wb to db is taken. now the two stgs in macrostate waitaandb are in a final state. instantaneously, the normal termination transition is taken, signal ab is emitted, and state done becomes active.



these few examples show the complexity of a reaction, which may result from partially ordered transition firings. in fact, communicating fsms are not well-adapted to hierarchy, preemption, and above all, instantaneous chaining of transition firings. instead of communicating fsms, we choose cooperating reactive cells as active agents.



the target of the transition is macrostate innermacro, which is re-entered. again, it is a re-incarnation. this fresh instance is receptive to strictly future occurrences of c, and to a present or future occurrence of d. the weak abortion triggered by d is then to be taken, but before, the inside of innermacro must react.



this fresh instance of s1 is receptive to a strictly future occurrence of a, and to a present or future occurrence of b. hence, the transition triggered by b is taken, and v is emitted with 5. state s2 is activated.



the structure of a syncchart can be represented by a tree that reflects the state containment hierarchy. more precisely, a macrostate contains stgs, a stg contains reactive cells, a reactive cell contains one and only one state. in the tree, a reactivecell has one and only one successor. it can be omitted absent. when computing a reaction, only input signals, which are imposed by the environment, have a definite status. the presence status of all other signals must be determined. like in the esterel language, we assume that a non-input signal is present if and only if it is emitted during the instant.



conceptually, reactive cells run concurrently. each active reactive cell locally determines its behavior(i.e., performs actions, takes a transition and thus becoming idle, or staying active). the presence status of the signals is the deciding information. to ensure the determinism of the reaction of the syncchart, all reactive cells must agree on the actual presence status of each signal. this suppose finding a fixpoint solution through dialogs.



emits a signal, this fact about the presence status of the emitted signal is broadcast to other cells. this reliable fresh information may assert or refute a pending evaluation, and thus resume the evolution of a cell. this process is applied till stability, when each active cell has terminated its evolutions, or is suspended. what is done in the latter case depends on the chosen semantics. some semantic variants will be described below. beforehand, we have to precisely define the interpretation of signal expression.



nothing left to do at the next instant. returning pause means that its reaction is over for the current instant, but will proceed at the next instant. finally, dead means that the object has terminated its reaction and has nothing left to do at the next instant except waiting for a normal termination. once entered in a final state, react() returns dead till the effective normal termination.



f. boussinot has studied different ways to resume the computation. these ideas apply to synccharts as well. the more drastic solution, in use in reactive objects, is to set to absent all not yet assigned signals, to resume the evaluation of pending expressions, and to defer the issue of the decisions to the they try to enrich their knowledge about the signal context. a most interesting information is about signals that are certainly absent(cannot be emitted) during the reaction. to know whether a signal shall not be emitted seems to be relevant of clairvoyance. in fact, using the structure(syntactic analysis), we construct a monotonic decreasing set of potentially emitted signals, called



taking account of the potential, a stalled reaction may resume, proceed by microsteps, and then stall again. this process is repeated, and eventually, either the process stops with all presence status defined, or there still exists suspended evaluation and the potential cannot help the pending evaluations. in the first case, the reaction completes successfully. in the latter case the syncchart is rejected as non constructive. the choice of the potential function is critical. a rough potential is easy to compute but leads to many unjustified rejections of synccharts; a fine potential is difficult to construct but accepts a large class of synccharts.



esterel, we have chosen to present synccharts as an independent statebased synchronous model. the structure of synccharts has been formally defined by a metamodel, using the uml notations. the computation of a reaction has been explained in terms of cooperating reactive cells. the principles of the constructive semantics have been also explained, but not formalized 5. we believe that a graphical model like synccharts may be a good introduction to synchronous programming for many engineers more familiar with state graph models than with programming languages. however, being



thus, the user could adapt his/her model to his/her needs. a simpler model is, of course, easier to learn, and may lead to more efficient compilations. for instance, the immediate modifier is very interesting for instantaneous dialogs, but it may easily introduce causality cycles. discarding immediate makes the first instant reaction far simpler: neither strong nor weak abortion can occur on a just-entered state. other possibilities concern the choice of a potential function. it is even possible to introduce variations on signal handling: under some circumstances, for example to eliminate a causality cycle, it would be convenient to differ the emission of some signals to the next instant, as it is done in statecharts. all those variations are easily formalized and implemented. additional constraints are added to the metamodel(syntax). as for semantics, it is sufficient to modify the react() methods.



