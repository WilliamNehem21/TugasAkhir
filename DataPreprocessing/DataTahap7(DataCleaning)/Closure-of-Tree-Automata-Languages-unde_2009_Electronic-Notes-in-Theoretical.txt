the aim of this work is to study the preservation of regularity for innermost rewriting, and to identify a class of trs for which better results can be found under the innermost strategy than under plain rewriting. we consider the class of shallow(all variables occur at depth 0 or 1 in the terms of the rules) trs. although the shallow case seems restrictive, for plain rewriting, shallow trs do not preserve regularity. moreover, several interesting properties of trs, like reachability, joinability, confluence and termination, are undecidable for shallow trs, while adding certain linearity restrictions allows the decidability of all these problems[14,16,10,9]. hence, from a theoretical point of view, the shallow case draws a frontier for decidability when one considers classes of trs defined by syntactic restrictions.



ta nor a btta language under the same hypotheses(proposition 3.2, section 3). one of the classical techniques for proving results of preservation of regularity consists of adding transitions to the automaton recognizing the starting language l, in order to simulate rule applications of r and recognize also all the terms reachable from l. apparently, this completion technique which works well for standard tas(in all the regularity preservation results cited so far) does not work for general shallow trs. innermost rewriting cannot be simulated by ta transitions, despite it does operate almost in a bottom-up fashion for shallow trs. the reason most once in each term(resp. right-hand side, left-hand side) of the rules. it is called shallow(resp. right-shallow, left-shallow) if variables occur at depth 0 or 1 in the terms(resp. in the right-hand sides, in the left-hand sides) of the rules and



the classical approach for proving preservation of regularity[11,14,16] consists in completing a ta recognizing the original language l with new rules inferred using r. this method cannot be generalized to bt-regular languages, according to proposition 4.3. therefore, we follow a different approach.



our goal is to reduce the effort of characterizing the set of terms innermost-reachable with r from a regular language l to characterizing the set of terms innermostreachable from a single constant. the idea is to add to the rewrite system r the inverse of the transition rules of a ta a recognizing l. we show then that the generation of the terms of l starting from the final states of a and using the transitions of a backward can be performed following the innermost strategy.



from, we have the following definitions and results. a term t is a weak normal form if it is either a constant or a term of the form t= f(t1,..., tm) such that every ti is either a constant or a normal form.



ground reachability(is a given ground term t reachable from another given ground term s?) and joinability(does there exists a term u reachable from two given ground terms s and t?) are undecidable for flat trss. they become decidable when the innermost strategy is applied. we can express this property here as a corollary of theorem 4.9.



in this section, we study the closure of regular languages under innermost rewriting with trs whose right-hand sides of rules are shallow. we show that regularity is preserved by innermost rewriting with linear right-shallow trss(subsection 5.1), but not by innermost rewriting with right-(linear and flat)(non left-linear) trss(subsection 5.2). the first result was also proved independently in.



