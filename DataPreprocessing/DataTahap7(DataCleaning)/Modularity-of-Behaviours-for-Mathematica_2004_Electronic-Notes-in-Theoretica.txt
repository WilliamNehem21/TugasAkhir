to the coalgebra cognoscenti, this situation begs for analysis: the first transition systems amounts to a coalgebra for an endofunctor b on set. the timed transition system is more complex, but we can prove that it amounts to a coalgebra for a comonad et on set, where et is generated by the time domain t and has a natural and succinct description(see definition 2.5 and theorems 2.4 and 2.6). when the time domain is the set of natural numbers with addition, the comonad et is the cofree comonad on an endofunctor(see theorem 2.7), but that is atypical. so we always have a pair of monads d and d' on set together with a d-coalgebra structure and a d'-coalgebra structure on the same set. moreover, we can assume that d is the cofree comonad on an endofunctor b and there is an important special case in which d' is also a cofree comonad on an endofunctor b'. we analyse time in section 2 and we analyse the combination of transition systems in section 3.



when they do exist, they are typically awkward to calculate. so, in section 3, we prove that the product does the job we want, we give simple and general sufficient conditions that imply the existence of such a product, and, taking the dual of a result for monads in, we characterise the product in terms with which one can readily calculate, providing that one of the comonads is cofree on an endofunctor, which is true of all the examples we study. if both comonads are cofree on endofunctors, life becomes much simpler, as the product of comonads is then the cofree comonad on the product of endofunctors, which in turn is given pointwise.



that the study of timed operational behaviour alone reduces to the study of a distributive law of the free monad t on a signature over a behaviour comonad et, with one leading example given by the cofree comonad on a behaviour endofunctor. this provides the backdrop for the analysis of combinations of behaviours that we develop in further sections here. we need just one more result from in order to proceed.



in this section, we wish to consider the combination of timed behaviour, as described in section 2, with the ordinary behaviour relative to actions as studied extensively in the coalgebra literature. this allows us, in the succeeding section, to study operational semantics for the combination. for reasons of elegance, we shall make our theoretical analysis in terms of a pair of comonads, with one or possibly both given cofreely on an endofunctor.



thus, for all examples of primary interest to us, e.g. for c= set and d and d' being any of our leading examples, we do have a comonad. much more analysis of the significance of accessibility and the fact that it includes all examples of substantial interest to us appears in. unusually, but fortunately, the fact that we know we have a comonad allows us to characterise it as the product of d and d'.



in this section, we reach the heart of the paper. we know, from section 3, how to characterise the category of coalgebras for a product of comonads under mild conditions on the comonads and on the base category. we can further characterise the product itself, under mild conditions, providing one of the components is cofree on an endofunctor, as is the case for our leading examples. we further have, from section 2, a class of examples of why we would want such a product of possible behaviours. but now we combine that analysis with the turi and plotkin idea to model structural operational semantics in terms of what are provably distributive laws[17,11,14]. the central facts for examples, the time information and the action information typically interact with each other[10, section 7.3.2]. so we consider the following question: given a monad t and comonads d and d', what are necessary and sufficient data that separate d and d' to some extent yet yield a lifting of the monad t to the category(d, d')-coalg?



proof. we already have the data for the unit, and the naturality condition is trivial. the only question is of finding necessary and sufficient conditions for each component of the natural transformation to be a map in(d, d')coalg; but we know that the maps in(d, d')-coalg are given by maps in c that respect both coalgebra structures, so it is a routine matter to check a necessary and sufficient condition for that condition: such a result appears in, which is essentially gleaned from, but it is also easy to see directly, given as in the statement.



multiplication lift. the conditions are easy to write if one is willing to use that distributive law, but it does make for potentially tricky calculation in verifying that examples satisfy the condition, as that distributive law is induced by more primitive data. fortunately, in particular cases, commutativity of the diagrams is fairly routine to verify.



