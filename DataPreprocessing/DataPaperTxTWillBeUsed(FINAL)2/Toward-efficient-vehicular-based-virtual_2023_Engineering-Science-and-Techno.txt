Engineering Science and Technology, an International Journal 44 (2023) 101456











Toward efficient vehicular-based virtual network infrastructure for smart cities
Islam Tharwat Abdel-Halim a,b,⇑, Hossam Mahmoud Ahmed Fahmy c
a School of Information Technology and Computer Science, Nile University, Giza, Egypt
b Center for Informatics Science (CIS), Nile University, 26th of July Corridor, Sheikh Zayed 12677, Egypt
c Computer Engineering & Systems Department, Faculty of Engineering, Ain Shams University, Cairo, Egypt



a r t i c l e  i n f o 


Article history:
Received 8 November 2022
Revised 3 March 2023
Accepted 30 May 2023
Available online 26 June 2023


Keywords:
Heterogeneous vehicular networks Infrastructure stability
Mobility prediction Network overhead Traffic offloading
a b s t r a c t 

Future smart cities will undoubtedly generate and process an immense volume of data. Developing a smart network infrastructure is thus becoming a key component for the better development and efficient governance of smart cities. The main objective of this article is to examine the feasibility of utilizing mov- ing vehicles to develop an efficient Vehicular-based Virtual Network Infrastructure (VVNI) for smart cities. The basic idea here is to divide the whole city into distinct cells, then predict and evaluate the vehi- cle eligibility to act efficiently as a centralized communication and information hub for each cell. Specifically, we present the basic framework of the proposed VVNI, and identify the corresponding effi- ciency requirements in terms of service availability, cost, and quality; then we introduce novel metrics to characterize the vehicle’s ability to cope with these requirements. Several simulation scenarios were con- ducted to assess the efficiency of the proposed VVNI. The simulation results demonstrate how the pro- posed model outperforms existing models and improves system performance in three benchmark areas: throughput, packet delivery ratio, and latency, especially in medium- and high-density network scenarios with slower vehicle velocities. The simulation results are promising to further enhance the development of the proposed network infrastructure.
© 2023 Karabuk University. Publishing services by Elsevier B.V. This is an open access article under the CC
BY license (http://creativecommons.org/licenses/by/4.0/).





Introduction

During the past decade, the concept of ‘‘smart things” has expanded to include all aspects of our lives, ranging from smart- phones and televisions to smart homes and cities. Smart things are being distributed to provide a more convenient and safer user experience, leading to the Internet of Things (IoT) concept. The rapid deployment of IoT devices around the globe has increased the popularity and momentum of smart cities and strengthened their ability to provide an improved living environment for humans [1]. Information and communication technologies (ICT) are the lifeline of a smart city [2]. Without ICT, the concept of smart cities will not be applicable. Thus, the design of the ICT infrastruc- ture for a smart city must be smart. So, new approaches and tech- nologies should be included to increase the flexibility, robustness, and scalability of ICT in smart cities [3,4].


* Corresponding author at: School of Information Technology and Computer Science, Nile University, Giza, Egypt.
E-mail addresses: ihalim@nu.edu.eg (I.T. Abdel-Halim), hossam.fahmy@ieee.org (H.M.A. Fahmy).
Currently, scientists and researchers are heavily exploring and exploiting the development of 5G networks, which can play a basic role in providing a pervasive and reliable Internet connection to IoT devices in smart cities [5,6]. However, it is still challenging to pro- vide coverage using a high-range spectrum due to its poor propa- gation qualities and low range, especially in urban areas. As a result, the concept of micro infrastructure will become the future of 5G as it increases the capacity and improves the network cover- age at a low deployment cost [7]. Also, the potential existence of non-cellular scenarios necessitates the need to assess the ability of other supporting radio technologies to aggregate such connec- tions to the radio access segment. So, researchers have been look- ing at different ways to set up a heterogeneous network infrastructure [8].
On the bright side, it is more likely that future smart vehicles will be equipped with powerful computing and communication units. Also, these vehicles are supposed to be intelligent enough to use or integrate various wireless technologies and will be able to autonomously exchange data with everything in smart cities [9,10]. Also, due to the growing population, the number of vehicles on the roads is steadily increasing [11]. Consequently, future smart vehicles are expected to be competent enough to be substantial


https://doi.org/10.1016/j.jestch.2023.101456
2215-0986/© 2023 Karabuk University. Publishing services by Elsevier B.V.
This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).



sources of services and information in smart cities [12]. In this con- text, an open research question is whether moving vehicles can go beyond their original roles and play a significant role in developing the ICT of tomorrow through interconnecting smart cities by vehi- cles [13].
Vehicles may have a variety of features that make them ideal for serving as efficient wireless hotspots. Moving vehicles, for exam- ple, are likely to have predictable future movements, and they are often densely scattered over the city at street level, and/or they can have several interactions with one another in a constrained space [14]. Vehicles can also connect in the 5.9 GHz frequency band, which is reserved for intelligent transportation systems and has a tenfold increase in range over standard Wi-Fi. Yet, vehic- ular networks are facing numerous challenges that hinder their ability to provide efficient wireless network infrastructure for smart cities. For instance, vehicles are always moving, which means that the network will always be moving too. So, it is very important to investigate whether moving vehicles could be used to build a wireless network infrastructure anywhere and at any time.
With such regard, this article aims to utilize future intelligent vehicles to propose an efficient Vehicular-based Virtual Network Infrastructure (VVNI) for smart cities. In the proposed infrastruc- ture, smart vehicles will be the builders of the communication net- work in our future smart cities. By doing so, smart things that exist all around the city can be connected through moving vehicles. Also, moving vehicles can help in providing Internet access to smart things.
Basically, the proposed infrastructure divides the whole city into different cells and then selects one vehicle for each cell to act as a virtual centralized communication and information hub for IoT devices in that cell. The selected vehicle is called the Virtual Network Infrastructure Manager (VNIM), which will be the system orchestrator responsible for coordinating the operations of other vehicles and IoT devices in its network cell. Consequently, it is nec- essary to employ a technique to evaluate the eligibility of each vehicle for acting as the VNIM in its current cell. In this work, the efficiency of the network infrastructure is expressed in terms of the cost required to form and maintain a high-throughput and highly available wireless network infrastructure. For this purpose, several metrics have been introduced to assess the suitability of each vehicle for playing the desired role. The main contributions of this article are summarized as follows:

Investigate the concept of utilizing moving vehicles as com- munication infrastructures to propose an entirely novel mobile decentralized out-of-band relay network infrastruc- ture for smart cities.
Formulate the problem of selecting the preferred vehicle (VNIM), which maximizes the efficiency of the network infrastructure, as a Multi-Attribute Decision Making (MADM) problem.
Develop novel metrics to measure and analyze the implica- tions of selecting a particular vehicle as the VNIM.
Present several simulation results that outline the promising capabilities of the proposed network infrastructure.

The rest of this article has the following structure: Section 2 presents the related work. The basic framework and problem state- ment of the proposed infrastructure are provided in Sections 3 and 4, respectively. Sections 5 and 6 describe the theoretical model, design, and processing of the proposed network infrastructure. Furthermore, a set of performance results delineating the efficiency of the proposed infrastructure is given in Section 7. Finally, we give the concluding remarks of this work in Section 8.
Related work

It is undisputed that the current wireless cellular networks are becoming incapable of guaranteeing efficient communication and computation infrastructure for the expected ever-increasing num- ber of IoT devices in smart cities [15,16]. This could be justified due to their limited computation and spectrum resources. To address these shortcomings, several promising and enabling technologies were recently introduced for IoT in smart cities. For example, Ultra-Dense Networking (UDN) [17] aims to deploy ultra-dense small cell base stations (BSs) to extend the network coverage and increase the network capacity to accommodate the 1000X capacity delivery of IoT traffic. Also, Mobile Edge Computing (MEC) [18] aims to provide networking capabilities, cloud computing, and resource caching near IoT devices (at the edge of the radio access network). It is a widely held view that integrating MEC-enabled UDN into IoT can provide substantial potential benefits to numer- ous smart city applications. However, there are several open chal- lenges in those technologies. For example, due to the denser and denser deployment of small cells in UDNs, and along with the scar- city of radio resources, IoT devices can suffer severe co-channel and adjacent interference. To this end, heterogeneous access meth- ods should be considered from the viewpoint of IoT devices and small cells [19].
Apart from the aforementioned technologies, a novel approach to utilize connected vehicles as the infrastructures for computation and communication is technically practical [12]. For example, the Vehicle as a Resource (VaaR) concept has been introduced in [20]. In this work, the authors discuss the potential of a smart vehi- cle to be a significant service provider in a variety of situations. As well, Car4ICT [21] has been proposed as a service discovery archi- tecture in future smart cities. In the proposed Car4ICT architecture, smart vehicles can offer a wide range of services to consumers, such as weather forecasts, data storage, and traffic information.
Besides, the concept of Vehicular Cloud Computing (VCC) has been recently proposed as a new promising approach that aims to manage, utilize, and share vehicle resources [22]. Through the VCC, not only the vehicle-related computation-intensive tasks can be fulfilled efficiently, but also the capacity of Mobile Edge Computing (MEC) can be enhanced by offloading computing tasks to the VCC [23]. In general, based on functionality, VCC systems are divided into four parts: 1) computation-as-a-service (CaaS); 2) network-as-a-service (NaaS); 3) storage-as-a-service (SaaS); and
4) sensing-as-a-service (S2aaS) [24]. Furthermore, the concept of the VCC is not limited to the resources of moving vehicles, but it is extended to include the resources of parked vehicles as well [25]. Furthermore, the concept of Vehicular Cloud Networking (VCN) has recently been proposed to create a vehicle cloud and encourage collaboration among cloud members to produce advanced vehicu- lar services that an individual cannot do alone [26]. In this approach, a VCN offers content routing, security, privacy, monitor- ing, and virtualization services.
Furthermore, creating a virtual network infrastructure by exploiting clusters of parked vehicles has recently been proposed [27]. The main idea of this work is to extend the Car4ICT model to use clusters of parked vehicles for building virtual network infrastructure. The authors can create a stable backbone network for data transmissions from and to passing vehicles, as well as data storage, by clustering such vehicles. They specifically presented a handover scheme that allows for continuous connection to such a cluster. Similarly, the work in [28] proposes a vehicular edge computing (VEC) offloading scheme in which parked vehicles can be used as static relays for data transmission between V2V. As well, the authors in [29] proposed exploiting vehicles waiting at red lights  as  virtual  network  infrastructure  for  communication,



computing, and storage. The main idea of their work is to employ vehicles stopping at red lights as vehicular temporary storage (VTS) for carrying data blocks so that more contact opportunities between data-carrying vehicles and other vehicles are created.
The idea of utilizing moving vehicles to build a mobile out-of- band relay infrastructure was first introduced in [30], where the authors proposed a scheme called location-aware virtual infras- tructure (LAVI) that constructs a stable logical network infrastruc- ture for VANETs. Also, the authors in [13] tried to extend Car4ICT to interconnect smart cities and rural areas. As well, a similar approach was recently investigated in [31], where the authors pro- posed supporting the macro base station (BS) with a secondary communication tier composed of a set of smart and connected vehicles that are in movement in the urban area. Even though his work provided the first steps toward a comprehensive cost- benefit analysis of this approach, moving vehicles are not utilized yet to provide virtual network infrastructure. In this context, this work aims to utilize moving vehicles to build a virtual network infrastructure for smart cities. The use of moving vehicles has some substantial advantages, including:

It is common to predict how long parked vehicles will con- tinue to stay parked, which makes them suitable as static backbones and service infrastructure. On the contrary, mov- ing vehicles show predictable moving patterns.
The potential existence of moving vehicles all around the city would increase the possibility of building a novel mobile infrastructure network without incurring additional investment.
The diversity of the additional channels is offered by the continuous movements of those vehicles on the city roads.
Moving vehicles can be relatively better message carriers as compared to parked vehicles. This is because moving vehi- cles can continuously transmit information by building up new connections, while parked vehicles have relatively unchanged locations over certain long periods of time.


Basic framework of VVNI

Overall, 4G LTE and 5G are appealing solutions to support large and heterogeneous IoT devices in future smart cities [32]. As well, the abilities of computation and communications of connected vehicles can play a significant role in developing the ICT of tomor- row [33]. In this context, it is expected that future vehicles will be intelligent enough to use or integrate various wireless technologies to be able to communicate with everything in the smart city. Therefore, vehicular communication (DSRC/WAVE), cellular com- munication (4G/5G and LTE-A), and short-range static communica- tion (Wi-Fi and Bluetooth) can be integrated to form heterogeneous networks that provide a robust and reliable design for future ICT systems [34]. Then and there, the vehicles can auton- omously exchange data with the road infrastructure (V2R), with the network infrastructure (V2I), with other vehicles (V2V), with pedestrians (V2P), with buildings (V2B), with homes (V2H), and so forth [35].
This article aims to go one step beyond providing services to vehicles, to utilize their capabilities to act as centralized communi- cation hubs in future smart cities. Accordingly, the moving vehicles can play two main roles: first, provide access to the vehicular net- work services by acting as a mobile base station. These services can be offered to sensors deployed in the smart city, a smart building/ home that the moving vehicles just pass by, or a pedestrian walk- ing along a road. Secondly, provide services that are offered by the vehicles themselves, as they could form a network with huge stor- age and processing capabilities.
The basic framework of the proposed VVNI is composed of two types of entities interacting with each other: service providers and users. The service providers are the smart vehicles that create the network. They are responsible for forming and maintaining the network, providing access to the user devices, providing multi- hop connectivity to other vehicles, and propagating messages through the network. Additionally, each vehicle can act as a gate- way for the second category of entities, the users. Such a user might be an IoT device close to a vehicle that makes use of the offered services by accessing the network. Note that a vehicle can be both entities at the same time.
Various aspects of the proposed infrastructure assume that each smart vehicle has an affordable multi-network on-board unit (OBU). An OBU for a smart vehicle should have multiple network- ing interfaces (e.g., 802.11p, 4G/5G, Wi-Fi, Bluetooth, etc.). The OBU can be easily installed in private or public vehicles.
By and large, the proposed VVNI aims to turn each vehicle (e.g., public and private taxis, buses, trucks, etc.) into a mobile access point (e.g., a mobile Wi-Fi hotspot) offering Internet access to its neighbouring users. Moreover, an implementation may also be able to offload cellular traffic via a vehicular network formed between vehicles. This implementation can be conducted through mobile Wi-Fi hotspots and/or fixed APs (e.g., 802.11p-based APs) distributed over the city and connected to the wired infrastructure of public or private telecom operators in strategic places. The main objective of such an implementation is to ensure the widest possi- ble coverage at the lowest possible cost.
It is worth mentioning that the proposed VVNI is not in compar- ison with 5G, as the state-of-the-art measurements revealed that 5G performs better compared to IEEE-802.11p and 4G LTE net- works [36]. However, according to the GSMA report in 2022 [37], 4G still has room to grow in most developing markets, where 4G adoption is still below a fifth of total connections. Yet, mobile oper- ators in Sub-Saharan Africa are stepping up efforts to migrate existing 2G and 3G customers to 4G networks. Even though 5G adoption is rising in leading markets such as China, South Korea, and the US, it is expected that 5G global adoption will account for only 25% of total connections by 2025. Over the same period, mobile data will more than triple in most locations, owing to increased smartphone use and video usage. Therefore, the pro- posed VVNI is supposed to support 4G/5G deployment or provide an alternative network infrastructure in case there is a lack of 4G/5G mobile network coverage. Table 1 provides acronyms and variables used in this work.
A plain example of the proposed virtual wireless infrastructure is illustrated in Fig. 1. The proposed infrastructure divides the entire city region into distinct small areas called network cells using the method proposed in [38]. This method, which is based on constrained Voronoi tessellation, generates cells that are com- pact and centered around street intersections. In each cell, only one vehicle should be selected to play the role of the centralized communication and information hub for that cell. The selected vehicle is called the VNIM; and will be responsible for handling communication as well as providing various services for IoT devices, connected vehicles, and users in its associated cell. Specif- ically, each VNIM will function similarly to a wired network’s base station, router, or Wi-Fi hotspot. Thus, the area of each cell repre- sents the service area of the corresponding VNIM.
Besides, the other vehicles in an area could be either Connected Vehicles (CV) or Virtual Gateways (VGW). A connected vehicle can communicate with the surrounding IoT devices, vehicles, and users as well as be acting as a relay node for them; whereas the virtual gateways have an additional ability to forward the traffic to the Internet core networks.
The main objective of the proposed infrastructure is to reduce the cost of wireless installations while facilitating the adoption of


Table 1
Acronyms and variables used in the VVNI implementation.

Acronym	Description

APs	Access Points
CBR	Constant Bit Rate
CV	Connected Vehicles
DSRC	Dedicated short-range communication
GM	Gauss Markov
ICT	Information and Communication Technologies
IoT	Internet of Things
MADM	Multi-Attribute Decision Making
PKI	Public Key Infrastructure
RSU	Roadside Unit
SC	Service Cost
SD	Service Degree
SAW	Simple Additive Weighting
ST	Service Time
SV	Service Value
V2B	Vehicle-to-Building
V2H	Vehicle-to-Home
V2I	Vehicle-to-Infrastructure
V2P	Vehicle-to-Person
V2R	Vehicle-to-Roadside
V2V	Vehicle-to-Vehicle
VGW	Virtual Gateways
VNIM	Virtual Network Infrastructure Manager
VVNI	Vehicular-based Virtual Network Infrastructure
WAVE	Wireless Access in Vehicular Environments
ECn	Utility function to assess the efficiency of the network infrastructure in any network cell Cn
CCCn	The computation complexity of the VVNI
dvi,gwj(t)	Distance in hops between vehicle vi and a gateway gw j at a time t
Dist(Pc,Pe)	Predicted distance of the shortest path between Pc and Pe
DTH	Threshold distance of the VNIM function
Lvi	The set of the predicted locations for a moving vehicle vi
NCn	Number of vehicles in a network cell Cn
Pc	The current point of a vehicle in a cell
Pe	The predicted point of a vehicle in a cell
si	Speed of a moving vehicle vi
THO	Handover time of the VNIM function
VCn	A set of vehicles in a network cell Cn
vi	A vehicle vi
xi(tj)	X coordinate of the predicted set of locations for a moving vehicle vi at time tj
yi(tj)	Y coordinate of the predicted set of locations for a moving vehicle vi at time tj
a	The importance (weight) of the ST
b	The importance (weight) of the SD
c	The importance (weight) of the SC
hi	The direction of a moving vehicle vi





Fig. 1. A plain example of the proposed virtual network infrastructure.



IoT devices. Therefore, forming a stable network infrastructure that lasts for a long time is pivotal for achieving reliable communica- tion. However, the communication and computation overheads of creating and maintaining virtual network infrastructure in such a highly dynamic network might outweigh its potential benefits. As a result, further research is required to assure the creation of robust network infrastructure at a low cost.

Problem formulation

In the literature, decision-making can be defined as the process of identifying alternatives and then selecting the best one. The best alternative is the one having the highest effectiveness or probabil- ity of success as well as best fit the goals and preferences of the decision maker. Additionally, Multi-Attribute Decision Making (MADM) problem is a popular branch of decision-making, in which the selection is made among a finite number of decision alterna- tives under the presence of multi-decision criteria or attributes [39]. Thus, selecting the best vehicle, among a set of vehicles V , which maximizes the stability of the network infrastructure with minimal cost, can be modelled as a MADM problem.
A MADM problem with n alternatives and m criteria can be pre- sented according to A1...An and R1...Rm as alternatives and criteria, respectively. To solve a MADM problem, the following decision matrix should be constructed, in which each column and row pre- sents the criteria and alternatives, respectively [55]:





The score anm describes the value of an alternative An against a criterion Rm. In addition, weights W1...Wm, which are assumed to be positive, should be assigned to each criterion to present the importance of each one of them to the decision. After constructing the decision matrix, a MADM technique, which will be discussed in the following section, must be used to evaluate the alternatives, and then select the best one among them. Hence, selecting the pre- ferred vehicle, among a set of vehicles, which maximizes the effi- ciency of the network infrastructure, can be modelled as a MADM problem.
As previously stated, the main objective of the proposed VVNI is to maintain an efficient wireless network infrastructure for smart cities. Therefore, let ECn represents a utility function to assess the efficiency of the network infrastructure in any network cell Cn. So, in this work, the vehicle having the highest score will be con- sidered the best alternative and it will be selected as the VNIM.
Theoretical model of VVNI

Concisely, solving our MADM problem may be broken down into three stages: (1) Identify the criteria of an efficient network infrastructure, (2) Measure and assign a rank to each vehicle to describe its competence against each criterion, and (3) Assign an overall score to each vehicle to evaluate its suitability to maximize the efficiency of the network infrastructure if it is selected as the VNIM. This section introduces the metrics developed to measure the impact of selecting a vehicle as the VNIM on network availabil- ity, throughput, and cost. These metrics are designed based on the predicted mobility information of the vehicles. So, in this work, each vehicle primarily uses the Gauss–Markov Mobility (GM) model, to predict a set of its future locations in its current cell, as well as the amount of time it will stay in that cell [40].
At first, the Service Time (ST), the Service Degree (SD), and the Service Cost (SC) are proposed to describe the vehicle’s ability to provide, high-availability, high throughput, and low-cost commu- nication, respectively. Then, the Service Value (SV) is intended to be a combined metric to quantifiably assess the impact of selecting each vehicle on the efficiency of the proposed network infrastruc- ture. The ST, SD, SC, and SV should be calculated for each vehicle in the network cell.

Vehicle mobility prediction

First, the following definitions are required for the subsequent discussion [41]:

Definition 1. A sampling location refers to a point where the location of a moving vehicle vi is recorded. Thus, each moving vehicle vi , during its existence in its current network cell will pass through a finite set of sampling locations, denoted by L.

Definition 2. A sampling location lj can be defined as the next location of a moving vehicle vi if and only if the vehicle can reach lj from its current location without going through another sam-
pling location first.
In the proposed VVNI, each vehicle entering a network cell should predict a set of next locations the vehicle will pass through along its path in that network cell. There are several proposed models in the literature for predicting vehicle mobility informa- tion. In this work, the GM model is used to predict the required
set of future locations for each vehicle vi entering a network cell
Cn. The GM model aims to be a closer model to reality in the sense that a vehicle, for instance, would turn, accelerate, or decelerate progressively.
In the GM model, the current movement of a vehicle (direction and speed) is dependent on the previous movement through Gaus- sian equations, using average direction and speed, as well as Gaus-
sian random noise. Also, the GM model uses the parameter c,
0 ≤ c ≤ 1, to control the degree of dependency on past direction and speed. The model is therefore said to feature temporal depen- dency. Consequently, the new direction and speed of a moving vehicle are calculated as follows [42]:

Accordingly, given a set of vehicles in a network cell (VCn ), the problem can be formulated as that of finding the best vehicle (vbest ) which maximizes the required utility function:
hi tj 
= c hi tj—1 
—
+ (1 — c) hi +
q(ﬃﬃ1ﬃﬃﬃﬃ—ﬃﬃﬃﬃﬃcﬃﬃﬃ)ﬃﬃ2ﬃﬃ

hix tj—1 
(2)

argmax ECn
s t  = c s t
 + (1 — c) s— +q(ﬃﬃ1ﬃﬃﬃﬃ—ﬃﬃﬃﬃﬃcﬃﬃﬃ)ﬃﬃ2ﬃﬃs  t
	(3)

vbest =
vi ∈ VCn
i  j
i  j—1	i
ix  j—1



—	—
where hi and si are the mean values of the direction and speed of
a moving vehicle vi ; hi tj and si tj denote the new direction and speed of that vehicle, and hi tj 1 and si tj 1 are random variables
5.4. Service cost (SC)

The vehicles that cause a small amount of extra traffic are pre-

from a Gaussian distribution. Thus, a moving vehicle vi can predict its required set of next locations as follows [43]:
the eligibility of a vehicle to achieve a cost-effective network infrastructure. SC is used to represent to what extent a vehicle is

x t  = x t
 + s t  cos(h (t
))	(4)
predicted to be far from all other vehicles in its cell at time t. The

i  j	i
j—1	i  j
i  j—1
SC is measured using the hop count. So, in a similar way to the
SD calculation, the overall SC of vehicle vi in a cell cn, SCCn , can

yi tj = yi tj—1 + si tj sin(hi (tj—1))	(5)
where (xi(tj), yi (tj)) and (xi(tj—1), yi (tj—1)) are the x and y coordi-
be defined as follows:
SCCn = X X 	1	


(8)

nates of the predicted set of locations for a moving vehicle vi at time tj and tj—1, respectively.
vi
k=1

vj∈Cn
dvi ;vj (tk)



Service time (ST)

In any network cell Cn, frequent disruptions may occur as a result of selecting vehicles with short staying time to play the role of VNIM. Therefore, the vehicles having a long staying time at each cell are more eligible to be the VNIMs for increasing the availability of the network infrastructure. Hence, the ST is proposed to describe the residual time of a vehicle in its current cell. As discussed, the GM model is used for predicting a set of future locations, including
the exit point, for each vehicle vi entering a network cell Cn. Let the
point Pc be the current point of a vehicle vi in a cell Cn, the location Pe be the predicted exit point of that vehicle from its current cell,
and Vvi be the velocity of the vehicle. So, the ST of a vehicle vi in a cell Cn, STCn , can be defined as the time required to move from the current point to the predicted exit point as follows [44]:
where dvi ;vj (t) represents the distance in hops between vehicle vi and vehicle vj at a time t. The set of the predicted locations is represented in L locations, and dvi ;vj (tk) represents the predicted distance in hops between a vehicle vi and vehicle vj at a time tk.

5.5. Service value (SV)

As discussed, the three criteria (attributes) of the proposed infrastructure are to select: 1) vehicles having a long staying time,
2) vehicles having multiple and shorter paths to the GWs, and 3) vehicles that are closer to all other vehicles in their current cells. Selecting and ranking vehicles according to the different and con- flicting criteria (ST, SD, and SC) are thus necessary. Hence, the SV is proposed as a combined metric to assign a total score for each vehicle, which in turn allows the appropriate selection of the pre- ferred vehicle that would maximize the efficiency of the proposed infrastructure.
The Simple Additive Weighting (SAW) method is probably the

STCn = Dist ( Pc; Pe)
(6)
most widely used MADM method [47]. Hence, the SAW method

vi	Cn
vi

where Dist( Pc ; Pe) is the predicted distance of the shortest path between Pc and Pe, which are calculated using Dijkstra algorithm; and VCn is the predicted velocity of vehicle vi in the network cell Cn.


Service degree (SD)
is used here to quantify the values of attributes (criteria) for each vehicle and then select the preferred vehicle. To attain this goal, it is required to construct the decision matrix A containing these values, derive the normalized decision matrix R, assign the impor- tance (weights) to criteria, and calculate the overall score (SV) for each vehicle. The vehicle with the highest SV is selected as the pre- ferred VNIM. The analytical structure of the SAW method can be summarized as follows:
^	^	^
SV n


Certainly, vehicles having multiple and shorter routes to the
vi = a STvi +b SDvi + c SCvi
where:
(9)

Internet are more competent to increase the throughput of the net- work infrastructure [45]. Hence, the SD is introduced to character- ize the vehicle quality in forwarding the traffic generated in its associated cell to the Internet core networks. Let a vehicle vi have
SVCn is the overall score (preference value) of a vehicle vi in a cell Cn,
^
STvi is the normalized rating of a vehicle vi for the ST criterion:

a set of GWs that can be used to forward a packet through any one	^
STCn

STv = 	vi   ; 6vj ∈ Cn,

of them to Internet. These GWs can be either physical (e.g., RSUs/ APs) or virtual (vehicle/bus). So, the SD is used to represent to what extent a vehicle is predicted to be far from all its associated GWs at a time. The SD is measured using the hop count. Thus, the overall
SD of vehicle v in a cell C , SDCn , can be defined, by allowing them
i	max(STCn )
j
^
SDvi is the normalized rating of a vehicle vi for the SD criterion:
^	 SDCn
i	max(SDCn )
j

i	n	vi	^

to share their predicted future locations, as follows:
SCvi is the normalized rating of a vehicle vi for the SC criterion:
^	min(SCCn )

SCv = 	vj , 6v ∈ C ,

k=L
i	SCCn
i

SDCn = X
k=1
X

gwj ∈GWs
	1	
dvi;gwj (tk)
(7)
a; b; and c are the importance (weight) of the ST, SD, and SC cri- terion, respectively. Accordingly, the preference of the proposed

where dvi ;gwj (t) represents the distance in hops between vehicle vi and a gateway gwj at a time t. The set of the predicted locations is represented in L locations, and dvi ;gwj (tk) represents the predicted distance in hops between a vehicle vi and a gateway gwj at a time tk.
infrastructure  could  be  tuned  by  varying  the  values  of
a; b; and c; such that a + b + c = 1. Following this procedure, the proposed infrastructure may be able to provide various VNIM selections policies, such as to be efficient either in terms of the availability, throughput, or cost of the proposed infrastructure. For example, let’s consider three policies:



Availability-oriented policy, that maximizes the availability of the proposed infrastructure. To achieve this, we can assign a higher weight to the ST criterion, such that a is higher than b
and c. This indicates that the availability of the infrastructure
is more important than the throughput and cost criteria. For example, we can set the weights as follows: a = 0.6, b = 0.2, and c = 0.2.
Throughput-oriented policy, that maximizes the throughput of the proposed infrastructure. To achieve this, we can assign a
connectivity with a reasonable overhead when the selected VNIM
is going to leave its current cell.

Algorithm 1 (Network Joining). Each vehicle entering a new net- work cell initially assumes the existence of a VNIM in its current cell, so it should wait (s second) to receive a Madv message. If the
vehicle receives a Madv message during s second, it sends a network
join request message Mjr to the current VNIM; otherwise, it starts a new VNIM selection process by broadcasting Mnetwork message.

higher weight to the SD criterion, such that b is higher than a		

and c. This indicates that the throughput of the infrastructure is more important than availability and cost. For example, we
can set the weights as follows: a = 0.2, b = 0.6, and c = 0.2.
Cost-oriented policy, that maximizes the cost of the proposed
Algorithm 1: Network Joining


Inputs: A new vehicle entering a network cell
Outputs: VNIM or CV
wait (s second) to receive a M

infrastructure. To achieve this, we can assign a higher weight
to the SC criterion, such that c is higher than a and b. This indi-	4
if (Madv isrecived)
adv

cates that the cost of the infrastructure is more important than availability and throughput. For example, we can set the weights as follows: a = 0.2, b = 0.2, and c = 0.6.

In summary, adjusting the values of a, b, and c allows develop- ing various policies to select the VNIM that aims to a specific prior- ity, such as availability, throughput, or cost. The advantage of these policies is that they can be tailored to specific applications or sce- narios. The disadvantage is that each policy may result in a com- promise on one or more criteria, depending on the weights assigned to each criterion.

VVNI processing

Implementation

Preliminarily, each vehicle uses the road data obtained from the GPS to extract the geographical locations of the main road intersec- tions. The main road intersections are used by the Voronoi diagram to divide the whole city into distinct network cells [38]. In such a way, each vehicle in the city can recognize the network cell, to which it currently belongs. Table 2 lists the messages used in the VVNI implementation. As well, Fig. 2 shows a flowchart of the VNIM selection in each network cell.
The proposed VVNI is composed of five main algorithms; 1) Net- work joining algorithm to allow a new vehicle to join the network infrastructure; 2) Location prediction algorithm to predict a finite set of future locations for each vehicle in its current network cell;
3) Utility computation algorithm to calculate ST, SD, SC, and SV of each vehicle by utilizing the vehicles predicted information; 4) VNIM selection algorithm to select the vehicles which have the highest SV among all vehicles in the network cell to be the VNIM of that cell, and 5) VNIM handover algorithm to ensure seamless


Table 2
Messages used in the VVNI implementation.

Message  Description


Madv	An advertisement message sent by the current VNIM each s
second.
send network join request message Mjr
set the current status as CV
else
start a VNIM selection process




Algorithm 2 (Location Prediction). Each vehicle predicts a finite set of next locations along its path in its current network cell using Equations (2)–(5). Then, each vehicle disseminates its predicted next locations by broadcasting the Mpredicted message.

Algorithm 2: Location Prediction


Inputs: Present and previous directions, speeds, and locations of a vehicle.
Outputs: A finite set of ‘‘L” next locations of a vehicle.
Assumption: N/A.
for each vehicle vi ; vi ≤ VCn ; do
for each location lk; lk ≤ L ; do
	predict the next location of a vehicle using Equations (2)– (5)
end for
end for




Algorithm 3 (Utility Computation). After receiving the vehicles predicted information, each vehicle begins calculating its ST, SD, SC, and SV using equations (6)–(9), respectively. Consequently, vehicles exchange their SVs by broadcasting MSV messages.

Algorithm 3: Utility Computation


Inputs: A finite set of ‘‘L” next locations for each vehicle.

Outputs: ST, SD, SC, and SV of vehicles.
for each vehicle vi ; vi ≤ VCn ; do
Calculate STCn using equation (6).
for each vehicle vj; vj ≤ VCn ; do
for each location lk; lk ≤ L ; do
Estimate di (t ).

Mjr	A join request message sent by a new vehicle in the network cell.
Mnetwork	A network message sent by a vehicle to start a new VNIM selection process
end for
end for
;j  l

Mpredicted	A message containing the predicted information of each vehicle.
Mvote	A voting message to disseminate the vote of a vehicle for the
VNIM.
Mant	An announcement message sent by the selected vehicle to announce its new role as the VNIM.
Msv	A message containing the service value of each vehicle.
Calculate SDCn using Equation (7).
Calculate SCCn using Equation (8).
Calculate SVCn using Equation (9).
end for


	




Fig. 2. Basic flowchart of the VNIM selection and handover processes.




Algorithm 4 (VNIM Selection). Each vehicle votes in favour of the vehicle having the highest SV. Afterwards, each vehicle dissemi- nates its vote by broadcasting a voting message Mvote. After finish- ing the selection procedure, the selected vehicle broadcasts an Announcement message Mant contacting its ID as the VNIM. Once Mant is received, each vehicle affiliates to the new VNIM by chang- ing its network ID to the ID of the selected VNIM. Herein, the VNIM has to monitor all other CVs by exchanging Mhello messages with
Algorithm 5 (VNIM Handover). The selected vehicle remains as the VNIM till it arrives at a threshold point PTH. When the VNIM reaches the threshold point PTH, the procedure of the VNIM selec- tion must be invoked by broadcasting Mnetwork message, and a new VNIM should be selected. In the case that the current VNIM leaves its associated network cell without transferring its responsi- bility for any reason, the CVs will recognize its absence soon after- wards and proceed as though it was never there.

them. The VNIM and its associated CVs can communicate directly		

iff there is a communication link between them; otherwise, the messages must be transmitted via relay vehicles inside the net- work cell. Moreover, when a vehicle leaves its current network cell, it will not be able to communicate with its current VNIM; conse- quently, the VNIM removes it from the list of the network mem- bers. Finally, in case of VNIM leaving, a new selection process should be invoked by broadcasting Mnetwork message in order to select the next VNIM for that network cell.

Algorithm 4: VNIM Selection


Inputs: SV of vehicles.
Outputs: Selected VNIM.
for each vehicle vi ; vi ≤ VCn ; do
IDVNIM =IDi
Algorithm 5: VNIM Handover


Inputs: the handover time THO
Outputs: New VNIM.
The current VNIM calculates the threshold distance in its current cell DTHCn
While(not reach PTH)
Monitor the current CVs
end while
Start a new VNIM selection process


The distance, denoted as DTH, between the exit point of the VNIM Pe , and the threshold point PTH, must be enough for the cur- rent VNIM vehicle to hand over its role to the next VNIM, while pre-

Cn
max
= SVCn .
serving the established communication in the network cell. The

for each vehicle vj; vj≤ VCn ; do	DTH is specifically dependent on the current VNIM velocity and

if SVCn  < SVCn . Then
the time duration of the re-selection process. Hence, calculating
the D	of the VNIM vehicle in a cell C , D  Cn  , can be defined

IDVNIM =IDj
end if
end for
TH
as follows:
n	THVNIM

vote for IDVNIM. using Equation (1)
end for
Cn VNIM
= VCn .THO	(10)







Fig. 3. The simple process of VNIM selection.


where VCn is the velocity of vehicle vi in the network cell Cn and THO is the handover time of the VNIM function (the time required to select the next VNIM vehicle and handover to it the role of VNIM). For example, if the velocity of the current VNIM is 60 km/h and the handover time is 2 s, then, DTHCn	= 60*1000 * 2 = 33.3 m. This means that the reselection process of the next VNIM should be invoked before 33.3 m of the exit point of the current VNIM; this value varies based on the velocity of the current VNIM. Fig. 3 shows a simple scenario that assumes that both A1 and B3 are selected as VNIMs in two network cells C1 and C2, respectively. So, each selected VNIM ( A1 and B3) keeps its status as VNIM until it arrives
to availability and according to the specific requirements of vari- ous applications [49].
Finally, our assumption is that all users have been verified before being given full access to the VVNI network. They can only offer or discover services once they have access. This work does not specify what needs to be verified. Public Key Infrastructure (PKI), for example, could be used [50]. The responsible authority issues a key to each user. To connect to the network, a consumer or provider must present the key to a member. Also, VVNI can adopt one of the available verification and authentication methods that were introduced specifically for vehicular networks [51].

at its corresponding threshold point (DTHC1
and DTHC2
). When

any VNIM reaches its corresponding threshold point, then a new selection process should be invoked.

Computational complexity of VVNI

Assuming that each network cell Cn has a number of vehicles ‘‘NCn”, and each vehicle predicts a number of ‘‘L” future locations in its associated network cell. Thus, the computation complexity of the network joining, location prediction, utility computation, VNIM selection, and VNIM handover algorithms are O(NCn), O(LNCn),
O(L N2 ), O(N2 ), O(NCn), respectively. Hence, in any network cell Cn, the Computational Complexity (CCCn) of the proposed VVNI is given as follows:

CCCn = O(NCn) + O(LNCn) + O LN2  + N2	(11)
Performance evaluation

The performance of the proposed infrastructure is evaluated using the Simulation of Urban Mobility (sumo-1.14.1) software and Network Simulator (ns-2.35) [52,53]. Table 3 shows the main simulation parameters. The simulated area is a real map obtained from OpenStreetMap (OSM) [54]. Fig. 4 shows the simulation area for Cairo, Egypt. The default values of the vehicle’s density, trans- mission range, and maximum velocity are 200 vehicles/km2, 200 m, and 60 km/h, respectively. Several scenarios were simu- lated thru varying the density, transmission range, and maximum velocity of vehicles. The simulation area is divided into network cells, in which each cell has 50 IoT devices. The content demand of each IoT device is modelled by assuming that 50 files are avail- able and have the same 50 Mbytes size. The per-device request rate is Poisson distributed with rate k = 0.005 request per second. An



6.3. Requirements for real VVNI deployment

The VVNI is designed to be independent of communication technology. For example, if IEEE 802.11p technology is not widely adopted in vehicles, users should be able to switch to cellular net- works to discover and use services. As well, service providers must thus periodically announce them. We assume that piggy- backing such announcements onto existing periodic messages is efficient. These messages are part of various standards, such as ETSI ITS G5 in Europe and IEEE WAVE in the US [48]. Generally, these messages are used to exchange neighbour information, but other applications could be supported. Similarly, if a member leaves a network cell, it purges all invalid services, as no perfor- mance can be expected. Besides, the VVNI does not mandate which technology entities use to communicate, but it is subject

Table 3
Simulation parameters.

Parameter	Value


Simulation Duration	900 s
Simulation Area	40 km × 20 km
Simulation Map	Cairo, Egypt
Number of vehicles per Km2	50–400 vehicles/km2
Vehicle Maximum velocity	30–75 km/h
Vehicle Transmission Range	150–300 m
Number of IoT devices per network cell	50 Device
eNodeB Transmission Range	1.5 Km
MAC protocol	IEEE 802.11p
Application Traffic	CBR
Data Rates	2 Mbps
Packet Size	512 Bytes
Routing Protocol	AODV





Fig. 4. The simulation area for Cairo, Egypt.



IoT device tries to complete its download through the VNIM ini- tially; otherwise, it can always retrieve the whole content through the cellular infrastructure. The simulations were carried out on 10 different mobility traces, with the results averaged. The confidence level is set to 95%, and the confidence interval is depicted in the fig- ures as a vertical bar.

Performance metrics

The simulation is divided into two parts. The first part was con- ducted to demonstrate the trade-off between the availability, throughput, and cost of the VVNI, we evaluated five different VNIM selection policies:

Efficient-Oriented selection policy: the availability, through- put, and the cost of the proposed network infrastructure have an equal importance (weight); a = b = c = 1/3.
Availability-Oriented selection policy: the infrastructure throughput and cost are neglected, and the vehicle with the  longer  staying  time  in  the  cell  is  selected;
a = 1 and b = c = 0.
Throughput-Oriented selection policy: the infrastructure availability and cost are neglected, and the vehicle that has more  GWs  with  shorter  paths  is  selected;
b = 1 and a = c = 0.
Cost-Oriented selection policy: the infrastructure availabil- ity and throughput are neglected, and the vehicle that is clo- ser to all vehicles in the cell is selected; c = 1 and a = b = 0.
An arbitrary selection policy: selects the vehicle with the lowest ID.

The performance metrics of this part are as follows:

VVNI availability: the percentage of time there is an active VNIM
for each cell to the total time.
VVNI overhead: the percentage of the number of control mes- sages (for creating and maintaining the VVNI) to the number of data packets received by the destinations.
VVNI throughput: the percentage of the actual VVNI transfer rate to the maximum transfer rate.
Traffic offloading fraction: the portion of cellular data offloaded to the proposed VVNI.
On the other side, the second part of the simulation was con- ducted to show how the proposed network infrastructure (VVNI) compared to similar approaches; Car4ICT [13], LAVI [30], and fmAP [31]. The performance metrics of this part are as follows:

Packet Delivery Ratio: the ratio of the number of packets deliv- ered in total to the total number of packets sent from the source node to the destination node in the network.
End-to-End Delay: the mean of end-to-end delay of all success- fully delivered packets.
Throughput: the rate of the total amount of data delivered to the destination nodes per unit of time.

VVNI availability

The percentage of time there is an active VNIM is an essential metric for characterizing the availability of the proposed network infrastructure (network uptime). A high percentage of VNIM active time indicates a highly available VVNI. Fig. 5 shows the percentage of network uptime with different velocities, transmission ranges, and the number of vehicles.
The figure demonstrates that the network uptime decreases in all selection policies with increasing velocity. For example, the results show that the percentage of network uptime of the Efficient-Oriented selection policy is 93.8% while the vehicles move at a maximum velocity of 30 km/h. The percentage of network uptime of the Efficient-Oriented selection policy is decreased to reach 87.4% when increasing the vehicle’s maximum velocity to 75 km/h. This is because the VNIM leaves its network cell in a short period of time and hence a new VNIM will be selected. In such a case, until the next VNIM is selected, the network infrastructure is considered down. Nevertheless, the figure shows that both Efficient-Oriented and Availability-Oriented selection policies per- form even much better than the Cost-Oriented, Throughput- Oriented, and arbitrary selection policies.
On the other side, the results reveal that increasing the number of vehicles in the network cell has a slight impact on increasing the percentage of network uptime, especially with the Efficient- Oriented and Availability-Oriented selection policies. For example, the percentage of network uptime of the Efficient-Oriented selec- tion policy increases from 76.9% to 94.8% when the number of vehicles increases from 50 to 400 vehicles/km2. Besides, the results




Fig. 5. VVNI Availability.



Fig. 6. VVNI Overhead.


disclose that increasing the transmission range of the vehicles has no impact on the percentage of network uptime.

VVNI overhead

Decreasing the percentage of the VVNI overhead indicates a cost-effective network infrastructure and improves its overall effi- ciency. Fig. 6 shows the percentage of the VVNI overhead for the various selection policies.
As expected, both Efficient-Oriented and Cost-Oriented selec- tion policies show better performance with respect to the per- centage of network overhead in the different simulation scenarios. Also, the results show that Availability-Oriented has a little network overhead in comparison with Throughput- Oriented and arbitrary selection policies. This is justifiable because the extra control messages required to reselect a new VNIM are reduced with increasing the percentage of STs of the selected VNIM in the Availability-Oriented selection policy; hence, the percentage of network overhead will be decreased too. As shown in Fig. 6, increasing the maximum velocity of the vehicles gives rise to an additional amount of network overhead. This could be explained because of the associated increase in the number of VNIM reselections. For example, the network overhead percentage of the Efficient-Oriented selection policy increases from 18.2% to 32.3% as a result of increasing the maximum speed of the vehicles from 30 km/h to 75 km/h. Also, the results reveal that increasing the number of vehicles in the network cell causes a significant increase in the percentage of network overhead for all comparable selection policies. The network overhead percent- age of the Efficient-Oriented selection policy increases from 18.6%
to 34.2% when the vehicle density increases from 50 to 400 vehi- cles/km2.

VVNI throughput

The percentage of the VVNI throughput is an intrinsic metric for describing the ability of the proposed infrastructure to provide high-quality communication. A high percentage of VVNI through- put indicates a high quality in forwarding the generated traffic. The percentage of the VVNI throughput is shown in Fig. 7, with respect to various vehicles’ maximum velocities, transmission ranges, and densities.
As shown, Throughput-Oriented and Efficient-Oriented selec- tion policies show a better percentage of network throughput than any other selection policy. Also, the figure shows that increasing the density of vehicles has a significant effect on increasing the percentage of network throughput. This increase is understandable since increasing the number of vehicles in a cell, may lead to an increase in the probability of finding more GWs with shorter paths in that cell. It is important to note that increasing the number of vehicles in this scenario does not imply an increase in the number of transmitted messages, which could result in many packet colli- sions and a decrease in throughput. This is because the vehicles are only providing a service and are not sending any extra messages. The network throughput of the Efficient-Oriented selection policy is 55.7% when the density of the vehicles is 100 vehicles/km2 and increases to 84% when the density of the vehicles is 400 vehicles/ km2.
As well, the results show that the percentage of network throughput is noticeably improved by increasing the transmission




Fig. 7. VVNI Throughput.



Fig. 8. Packet Delivery Ratio.


range of the vehicles. This improvement is justifiable because increasing the transmission range of the vehicles increases the portability of finding more and shorter routes to the existing GWs in the network cell. For instance, the percentage of network throughput of the Efficient-Oriented selection policy increases from 49.7% to 85.5% when the transmission range of the vehicles increases from 150 to 300 m.
In another respect, the results show that when the velocity of the vehicles increases, the percentage of network throughput decreases. This behaviour is due to the high rate of VNIM changes associated with increasing the maximum velocity of the vehicles. Therefore, the network throughput percentage of the Efficient- Oriented selection policy is decreased by about 40% when the max- imum velocity of the vehicles changes from 30 km/h to 75 km/h.
In summary, the various VNIM selection policies provide com- parative advantages over themselves with respect to the different requirements of VVNI availability, overhead, and throughput. How- ever, the Efficient-Oriented Selection Policy seems to be the most practical and convenient one, and it will be used while analyzing the performance of the proposed VVNI in the next subsections.

Packet delivery ratio

As shown in Fig. 8, the proposed VVNI’s packet delivery ratio (PDR) vs. vehicle’s maximum velocity, transmission range, and density is evaluated and compared to similar approaches including Car4ICT [13], LAVI [30], and fmAP [31]. As shown in the figure, when the vehicle speed is 30 km/h, the proposed model’s PDR is 94.1%, while the PDRs of fmAP, CAR4ICT, and LAVI are 88%, 69%,
and 60%, respectively. On the other hand, when the vehicle speed is 75 km/h, the suggested VVNI’s PDR is 78.6%, whereas the PDR of fmAP, CAR4ICT, and LAVI are 89%, 48%, and 35%, respectively. Furthermore, it is demonstrated that increasing vehicle speed has a slightly negative effect on VVNI PDR, implying that the suggested model is the applicable urban scenario.
Besides, an expected increase in the PDR for all comparable approaches is noticed with increasing the transmission range of the vehicles. For instance, the PDR of the proposed VVNI increases from 79.7% to 95.5% when the transmission range of the vehicles increases from 150 to 300 m. As well, the PDR of the proposed VVNI increases from 54.2% to 98.1% when the vehicle density increases from 50 to 400 vehicles/km2. For all investigated models, PDR increases gradually when the density of the vehicles increases, as the increment of the vehicular density means increasing the num- ber of vehicles available to carry and transmit generated data. It’s important to note that this increase in the number of vehicles does not mean that there will be more transmission vehicles, which could cause more traffic and overhead in the network and cause decreases in the PDR.

End-to-end delay

Fig. 9 depicts the evaluation of the end-to-end delay between the four aforementioned models on the basis of a gradual increase in the vehicle’s velocity, transmission range, and density. As shown, VVNI and fmAP have much lower latency than Car4ICT and LAVI in all of the simulated scenarios. This outcome is due to the optimal and appropriate selection of the VNIM to connect with




Fig. 9. End-to-End Delay.




Fig. 10. Throughput.


other vehicles or to relay information between the source nodes and infrastructure, which boosts link reliability and retransmission time, and thus minimizes average delivery delay. As shown, the delay of the proposed VVNI is improved gradually by decreasing vehicle’s maximum velocity as well as increasing the vehicle’s transmission range and density. For example, the results show that the VVNI delay is 78 ms while the vehicles move at a maximum velocity of 30 km/h, and the delay is increased to reach 169 ms when increasing the vehicle’s maximum velocity to 75 km/h. The results show that fmAP has a better delay, which could be justified because it envisions a two-tier network, where T1 is composed of the macro BSs providing service to the UEs, while T2 is a network of fmAPs supporting T1 on an orthogonal band.

Throughput

As shown in Fig. 10, the throughput has been examined once again and compared to other approaches versus the vehicle’s max- imum velocity, transmission range, and density. The results show that the throughput of VVNI is higher than that of fmAP, CAR4ICT, and LAVI at low and high densities and for any vehicle velocity. The throughput is influenced by the vehicle velocity, density, and the average distance between vehicles that determine whether vehi- cles can properly communicate. The network throughput of the VVNI is 13.1 Mbps when the density of the vehicles is 50 vehi- cles/km2 and increases to 21.3 Mbps when the density of the vehi- cles is 400 vehicles/km2. Also, the throughput of VVNI increases from 12.25 Mbps to 21.4 Mbps when the transmission range of the vehicles increases from 150 to 300 m.
Traffic offloading fraction

To further evaluate our proposed network infrastructure, the traffic-offloading fraction was measured. The traffic-offloading fraction refers to the percentage of data traffic that is redirected from a congested cellular network to the proposed VVNI. The pur- pose of traffic offloading is to relieve congestion on the cellular net- work, which can improve the quality of service for users and reduce the load on the network infrastructure. The traffic- offloading fraction is calculated by dividing the amount of data traffic that is offloaded to the VVNI (either directly thru VNIM or relayed thru CV) by the total amount of data traffic on the cellular network. A higher traffic offloading fraction indicates a more effec- tive offloading strategy and can lead to better network perfor- mance and user experience.
Fig. 11 shows the portion of mobile data offloaded to the pro- posed network infrastructure for the Efficient-Oriented selection policy. A high traffic offloading fraction indicates a higher ability to offload traffic from the cellular network to the proposed net- work infrastructure.
The offload fraction is broken down into traffic offloaded directly from the VNIMs and traffic offloaded through relay- connected vehicles (CV) using V2V. As shown in Fig. 11, a consid- erable fraction of the traffic offloading is achieved. The results clearly indicate that our proposed network infrastructure can effectively reduce mobile data traffic in cellular networks, espe- cially at low velocities, high transmission ranges, and high densi- ties of vehicles. Accordingly, around 80% of the cellular data can be offloaded through the proposed network infrastructure when




Fig. 11. Traffic Offloading Fraction.



the vehicles move at a maximum speed of 30 Km/h, have a trans- mission range of 300 m, or have a density of vehicles is 400 vehi- cles/km2.

Comparative discussion

This work provides a comparative analysis to investigate the concept of forming a novel wireless infrastructure using moving and connected vehicles. The results show that the various VNIM selection policies have a significant effect on the overall perfor- mance of the proposed infrastructure. This is expected because each policy has its own preference. However, the selection policy (Efficient-Oriented) that takes into consideration all VVNI require- ments shows relatively better performance in comparison with other policies. Furthermore, the proposed VVNI shows better per- formance in medium- and high-density network scenarios with slower vehicle velocities. So, the proposed VVNI can be thought of as a local wireless infrastructure network that facilitates com- munication between neighbouring nodes using less costly unli- censed spectrum.
Besides, there is no doubt that 5G networks have much higher throughput in contrast to the proposed VVNI. However, 5G still requires time to roll out completely. So, we do not deal with the question of whether to connect to 4G/5G infrastructure, which depends on what the user wants in terms of availability, cost, and quality of service. Instead, we concentrate on the feasibility of having the proposed VVNI, and we quantify the service offered for various VNIM selection procedures that necessitate varying levels of shared information, complexity, and additional overhead. With respect to the existing approaches, Car4ICT [13] places vehicles at the heart of a service discovery-oriented architecture. Numerous non-critical services (e.g., traffic information, video file sharing, weather predictions, processing power) may be supplied and consumed by multiple entities utilizing the architecture: peo- ple (often linked to the Car4ICT network through a smartphone) and machines (e.g., cars or computers). Service Providers (provi- ders) deliver their services via the car-based network, whilst Ser-
vice Consumers (consumers) can use the network.
Besides, LAVI [30] aims to build a nearly stable infrastructure layer on top of a dynamic physical topology. When a vehicle has to forward packets, LAVI is employed to make routing decisions. LAVI is also connected to the concept of cluster-based routing pro- tocols, which construct clusters of nodes in a network. The region covered by the network is split into several cells like the hexagons. A VANET supported by LAVI can be viewed nearly as a wireless net- work without a dynamical topology in circumstances where the density of mobile nodes is adequate.
Also, fmAP [31] studied a novel network design that included wireless access points (APs) installed on a subset of vehicles that are constantly moving in the metropolitan area, such as city buses, taxis, and even automobile sharing services. It provides extra chan- nel variety because of fmAPs mobility in the urban context. The fundamental issue is managing handoffs inside a layer (horizontal handoff) or between levels (vertical handoff). The fmAP is linked to the macro BS through a wireless backhaul link and offers data ser- vices to user equipment (UEs) during the brief duration while they are in close proximity. In extremely dynamic circumstances with high vehicle density, two or more fmAPs may be accessible for one UE. Because the distance to each fmAP changes frequently, it is critical to devise an effective technique for selecting among the available fmAPs.
Therefore, the use of VVNI has a number of important benefits, such as: 1) increased channel diversity due to the movement of vehicles in cities, 2) the ability to build small cell networks without the added cost of a fixed antenna placed on top of existing infras- tructure, and 3) the ability to allow direct communication between IoT devices that are installed in close proximity to each other.

Limitations and challenges

However, the proposed VVNI has some limitations or challenges as follows:

Limited Connectivity: The effectiveness of the VVNI depends on reliable and stable connectivity between the vehicles and the smart city infrastructure. However, the network may be con- gested, leading to latency and reliability issues.
Security and Privacy Risks: The integration of vehicles into ICT systems raises concerns about the security and privacy of data transmitted over the network. Vehicles may be vulnerable to cyberattacks, and the personal data of drivers and passengers may be at risk of being intercepted or misused.
Technical Challenges: The deployment and maintenance of the VVNI requires a significant amount of technical expertise and resources, including the installation and management of sen- sors, data transmission devices, and other infrastructure.
Integration with Existing Systems: The integration of the VVNI with existing smart city infrastructure may be complex and require significant modifications to the existing systems.

Conclusion

Without a doubt, future smart cities will generate and process an  immense  volume  of  data.  As  well,  the  expected  ever-



increasing number of IoT devices in smart cities necessitates devel- oping an efficient network infrastructure to store and process gen- erated data. Hence, with the continuous evolution of vehicles to be ‘‘smart” objects equipped with a set of communication technolo- gies, multi-sensor platforms, and a direct or indirect connection to other vehicles and with all devices around the environment, this article provides a first-hand perspective on the use of moving vehi- cles to build a novel virtual network infrastructure for smart cities instead of building and deploying extensive new infrastructure.
The proposed VVNI aims to exploit the predictability of the future movements and stay times of the vehicles in each area. A formal definition of infrastructure efficiency is given throughout this article in terms of the cost required to build and maintain a high-throughput and highly available wireless network infrastruc- ture. The proposed VVNI is systematic and extendable; this allows us to further include other criteria to assess the efficiency of the network infrastructure. The proposed VVNI is believed to be useful for IoT applications in smart cities. It may have many more func- tions in a cellular network, such as improving the robustness of a network and improving the topology of the cellular network. In addition, the VVNI can efficiently support immense access to social networking and fog services.
Finally, some proof-of-concept simulations show that the pro- posed framework can significantly improve the availability of the network infrastructure with high throughput and minimal over- head, especially in highly dense urban areas. In the future, we intend to extend this work to consider issues such as preserving the privacy of the vehicles while revealing their predicted informa- tion, and how utilizing parked vehicles can improve the overall performance of the proposed network infrastructure.Also, further investigation is needed to address the assumption that all users have been verified before being given full access to the VVNI network.
In conclusion, the proposed VVNI has the potential to signifi- cantly enhance ICT in smart cities. Eventhough relying solely on connected vehicles as information and communication hubs may not be feasible, they can still provide significant benefits when used in conjunction with other technologies and infrastructure. Hence, AI and ML can be used to analyze the vast amount of data collected by VVNI and identify patterns and trends. Also, the pro- posed VVNI can be utilized to improve autonomous driving thru developing more sophisticated algorithms, improving sensor tech- nology, and addressing legal and ethical issues related to autono- mous vehicles. By and large, the VVNI can bring several potential benefits, including improved communication, increased safety, enhanced traffic management, improved efficiency, and the devel- opment of new applications and services. To fully realize the potential of the VVNI in smart cities, continued research and devel- opment is needed to ensure that the technology is integrated into city operations in a safe, secure, and effective manner.

Declaration of Competing Interest

The authors declare that they have no known competing finan- cial interests or personal relationships that could have appeared to influence the work reported in this paper.

References

Y. Song, F.R. Yu, L.i. Zhou, X.i. Yang, Z. He, Applications of the Internet of Things (IoT) in Smart Logistics: A Comprehensive Survey, IEEE Internet Things J. 8 (6) (2021) 4250–4274.
H. Teng, M. Dong, Y. Liu, W. Tian, X. Liu, A low-cost physical location discovery scheme for large-scale Internet of Things in smart city through joint use of vehicles and UAVs, Futur. Gener. Comput. Syst. 118 (2021) 310–326.
N. Islam, K. Haseeb, A. Almogren, I.U. Din, M. Guizani, A. Altameem, A framework for topological based map building: A solution to autonomous robot navigation in smart cities, Futur. Gener. Comput. Syst. 111 (2020) 644– 653.
Z. Ali, M. A. Shah, A. Almogren, I. Ud Din, C. Maple, and H. A. Khattak, ‘‘Named data networking for efficient IoT-based disaster management in a smart campus,” Sustainability (Switzerland), vol. 12, no. 8, 2020, doi: 10.3390/ SU12083088.
Z. Qadir, F. Ullah, H.S. Munawar, F. Al-Turjman, Addressing disasters in smart cities through UAVs path planning and 5G communications: A systematic review, Comput. Commun. 168 (2021) 114–135.
M.K. Afzal, Y.B. Zikria, S. Mumtaz, A. Rayes, A. Al-Dulaimi, M. Guizani, Unlocking 5G Spectrum Potential for Intelligent IoT: Opportunities, Challenges, and Solutions, IEEE Commun. Mag. 56 (10) (2018) 92–93.
I. Vila, J. Perez-Romero, O. Sallent, A. Umbert, Characterization of Radio Access Network Slicing Scenarios with 5G QoS Provisioning, IEEE Access 8 (2020) 51414–51430.
X. Zhang, W. Gu, H. Zhang, M. Wang, Hybrid Communication Path Orchestration for 5G Heterogeneous Ultra-Dense Networks, IEEE Netw. 33
(4) (2019) 112–118.
P. Arthurs, L. Gillam, P. Krause, N. Wang, K. Halder, A. Mouzakitis, A Taxonomy and Survey of Edge Cloud Computing for Intelligent Transportation Systems and Connected Vehicles, IEEE Trans. Intell. Transport. Syst. 23 (7) (2022) 6206–
6221.
E. Uhlemann, Time for Autonomous Vehicles to Connect [Connected Vehicles], IEEE Veh. Technol. Mag. 13 (3) (2018) 10–13, https://doi.org/10.1109/ MVT.2018.2848342.
F.M. Malik, H.A. Khattak, A. Almogren, O. Bouachir, I.U. Din, A. Altameem, Performance Evaluation of Data Dissemination Protocols for Connected Autonomous Vehicles, IEEE Access 8 (2020) 126896–126906.
X. Hou, Y. Li, M. Chen, D. Wu, D. Jin, S. Chen, Vehicular Fog Computing: A Viewpoint of Vehicles as the Infrastructures, IEEE Trans. Veh. Technol. 65 (6) (2016) 3860–3873, https://doi.org/10.1109/TVT.2016.2532863.
F. Hagenauer, C. Sommer, R. Onishi, M. Wilhelm, F. Dressler, O. Altintas, Interconnecting smart cities by vehicles: How feasible is it?, Proceedings - IEEE INFOCOM vol (2016), https://doiorg/10.1109/INFCOMW.2016.7562184.
I.T. Abdel-Halim, H.M.A. Fahmy, Mobility Prediction in Vehicular Ad-Hoc Networks: Prediction Aims, Techniques, Use Cases, and Research Challenges, IEEE Intell. Transport. Syst. Mag. 13 (2) (2021) 105–126.
P. Mishra, P. Thakur, and G. Singh, ‘‘Enabling Technologies for IoT based Smart City,” in Proceedings of the IEEE International Conference Image Information Processing, 2021, vol. 2021-November. doi: 10.1109/ICIIP53038.2021.9702673.
L.P. Qian, Y. Wu, B.o. Ji, L. Huang, D.H.K. Tsang, HybridIoT: Integration of Hierarchical Multiple Access and Computation Offloading for IoT-Based Smart Cities, IEEE Netw. 33 (2) (2019) 6–13.
B.o. Li, P. Hou, H. Wu, F. Hou, Optimal edge server deployment and allocation strategy in 5G ultra-dense networking environments, Pervasive Mob. Comput. 72 (2021) 101312.
R.-S. Cheng, C.-M. Huang, H.-H. Chen, MD2DO: A Channel Selection Method for Device to Device Communication Using the Mobile Edge Computing (MEC) Paradigm, Mobile Netw Appl 27 (1) (2022) 15–32.
M.U.A. Siddiqui, F. Qamar, F. Ahmed, Q.N. Nguyen, R. Hassan, Interference Management in 5G and beyond Network: Requirements, Challenges and Future Directions, IEEE Access 9 (2021) 68932–68965.
S. Abdelhamid, H.S. Hassanein, G. Takahara, Vehicle as a resource (VaaR), IEEE Netw. 29 (1) (2015) 12–17, https://doi.org/10.1109/MNET.2015.7018198.
O. Altintas, F. Dressler, F. Hagenauer, M. Matsumoto, M. Sepulcre, C. Sommery, Making cars a main ICT resource in smart cities, Proceedings - IEEE INFOCOM vol (2015), https://doi.org/10.1109/INFCOMW.2015.7179448.
M.d. Whaiduzzaman, M. Sookhak, A. Gani, R. Buyya, A survey on vehicular cloud computing, J. Netw. Comput. Appl. 40 (2014) 325–344.
F. Sun, F. Hou, N. Cheng, M. Wang, H. Zhou, L. Gui, X. Shen, Cooperative Task Scheduling for Computation Offloading in Vehicular Cloud, IEEE Trans. Veh. Technol. 67 (11) (2018) 11049–11061.
C.-C. Lin, D.-J. Deng, C.-C. Yao, Resource Allocation in Vehicular Cloud Computing Systems With Heterogeneous Vehicles and Roadside Units, IEEE Internet Things J. 5 (5) (2018) 3692–3700.
F. Dressler, P. Handle, C. Sommer, Towards a vehicular cloud - Using parked vehicles as a temporary network and storage infrastructure, in: WiMobCity 2014 - ProceedIngs of the 2014 ACM International Workshop on Wireless and Mobile Technologies for Smart Cities, co-located with MobiHoc, 2014, 2014, https://doi.org/10.1145/2633661.2633671.
E. Lee, E.-K. Lee, M. Gerla, S. Oh, Vehicular cloud networking: architecture and design principles, IEEE Commun. Mag. 52 (2) (2014) 148–155.
F. Hagenauer, C. Sommer, T. Higuchi, O. Altintas, F. Dressler, Parked cars as virtual network infrastructure: Enabling stable V2I access for long-lasting data flows, in: CarSys 2017 - Proceedings of the 2nd ACM International Workshop on Smart, Autonomous, and Connected Vehicular Systems and Services, co- located  with  MobiCom,  2017,  2017,  https://doi.org/10.1145/
3131944.3131952.
J. Zhao, P. Dong, X. Ma, X. Sun, D. Zou, Mobile-aware and relay-assisted partial offloading scheme based on parked vehicles in B5G vehicular networks, Phys. Commun. 42 (2020) 101163.



H. Ding, Y. Fang, Virtual Infrastructure at Traffic Lights: Vehicular Temporary Storage Assisted Data Transportation at Signalized Intersections, IEEE Trans. Veh. Technol. 67 (12) (2018) 12452–12456.
R. B. Golatkar, Y. Chen, and W. S. Ku, ‘‘LAVI: A location aware virtual infrastructure for VANETs,” in 2013 International Conference on Connected Vehicles and Expo, ICCVE 2013 - Proceedings, 2013. doi: 10.1109/ ICCVE.2013.6799760.
G. Quer, T. Aktas, F. Librino, T. Javidi, R.R. Rao, A Wireless Vehicle-based mobile network infrastructure designed for smarter cities, Ad Hoc Netw. 85 (Mar. 2019) 160–169, https://doi.org/10.1016/j.adhoc.2018.10.014.
S. M. Hussain, K. M. Yusof, S. A. Hussain, and R. Asuncion, ‘‘Performance evaluation of vertical handover in Internet of Vehicles,” International Journal on Smart Sensing and Intelligent Systems, vol. 14, no. 1, 2021, doi: 10.21307/IJSSIS- 2021-012.
A.H. Salem, I.W. Damaj, H.T. Mouftah, Vehicle as a Computational Resource: Optimizing Quality of Experience for connected vehicles in a smart city, Veh. Commun. 33 (2022) 100432.
M.-A. Chung, C.-W. Yang, C.-J. Wang, A Miniaturized Planar Monopole Antenna Based on a Coupling Structure for Compact Mobile Internet of Things (IoT) and Electric Vehicles (EVs) Device Applications in 5G, LTE, WLAN, WiMAX, Sirius/ XM Radio, V2X, and DSRC Wireless Systems, Int. J. Antennas Propag. 2021 (2021) 1–12.
J. Jeong, Y. Shen, T. Oh, S. Céspedes, N. Benamar, M. Wetterwald, J. Härri, A comprehensive survey on vehicular networks for smart roads: A focus on IP- based approaches, Veh. Commun. 29 (2021) 100334.
M.N. Tahir, M. Katz, ‘‘Performance evaluation of IEEE 802.11p, LTE and 5G in connected vehicles for cooperative awareness ,” Engineering Reports, vol. 4, no. 4, 2022, doi: 10.1002/eng2.12467.
GSMA, ‘‘The Mobile Economy 2022,” 2022.
A. Graser, ‘‘Tessellating Urban Space based on Street Intersections and Barriers to Movement,” GI_Forum, vol. 1, 2017, doi: 10.1553/giscience2017_ 01_s114.
S.-H. Lin, D. Wang, X. Huang, X. Zhao, J.-C. Hsieh, G.-H. Tzeng, J.-H. Li, J.-T. Chen, A multi-attribute decision-making model for improving inefficient industrial parks, Environ. Dev. Sustain. 23 (1) (2021) 887–921.
M.J.F. Alenazi, S.O. Abbas, S. Almowuena, M. Alsabaan, ‘‘RSSGM: Recurrent self- similar Gauss–Markov mobility model,” Electronics (Switzerland), vol. 9, no. 12, 2020, doi: 10.3390/electronics9122089.
M. Chen, X. Yu, Y. Liu, Mining moving patterns for predicting next location, Inf. Syst. 54 (2015) 156–168.
T. Camp, J. Boleng, V. Davies, A survey of mobility models for ad hoc network research, Wirel. Commun. Mob. Comput. 2 (5) (2002) 483–502.
L. Ghouti, T.R. Sheltami, K.S. Alutaibi, Mobility prediction in mobile Ad Hoc networks using extreme learning machines, Procedia Comput. Sci. 19 (2013) 305–312.
A. Abuashour, M. Kadoch, Performance improvement of cluster-based routing protocol in VANET, IEEE Access 5 (2017) 15354–15371.
K. Ronasi, A.-H. Mohsenian-Rad, V.W.S. Wong, S. Gopalakrishnan, R. Schober, Delay–Throughput Enhancement in Wireless Networks With Multipath Routing and Channel Coding, IEEE Trans. Veh. Technol. 60 (3) (2011) 1116–
1123.
I.T. Abdel-Halim, H.M.A. Fahmy, A.M. Bahaa-El Din, Mobility prediction-based efficient clustering scheme for connected and automated vehicles in VANETs, Comput. Netw. 150 (2019) 217–233.
E. Boltürk, A. Kara san, C. Kahraman, Simple additive weighting and weighted product methods using neutrosophic sets, in: Studies in Fuzziness and Soft Computing, Springer Verlag, 2019, pp. 647–676, https://doi.org/10.1007/978- 3-030-00045-5_25.
IEEE Vehicular Technology Society, IEEE Standard for Wireless Access in Vehicular Environments (WAVE)–Identifiers. 2019.
M. Lee, T. Atkison, VANET applications: Past, present, and future, Veh. Commun. 28 (2021) 100310.
M.A. Rezazadeh Baee, L. Simpson, X. Boyen, E. Foo, J. Pieprzyk, Authentication strategies in vehicular communications: a taxonomy and framework, EURASIP
J. Wirel. Commun. Netw. 1 (2021) 2021, https://doi.org/10.1186/s13638-021-
01968-6.
A. Yang, J. Weng, K. Yang, C. Huang, X. Shen, Delegating Authentication to Edge: A Decentralized Authentication Architecture for Vehicular Networks, IEEE Trans. Intell. Transport. Syst. 23 (2) (2022) 1284–1298.
M. Behrisch, L. Bieker, J. Erdmann, and D. Krajzewicz, ‘‘SUMO – Simulation of Urban MObility,” Iaria, no. c, 2011.
M.H. Rehmani, Y. Saleem, ‘‘Network Simulator NS-2,” in: Encyclopedia of Information Science and Technology, Third Edition, 2014. doi: 10.4018/978-1- 4666-5888-2.ch615.
OpenStreetMap Contributors, ‘‘OpenStreetMap (OSM),” OpenStreetMap Foundation, 2021. https://www.openstreetmap.org (2021) (accessed Feb. 18,
2022).
A. Karami, Utilization and comparison of multi attribute decision making techniques to rank Bayesian network options (Master thesis), University of Skövde, Skövde, Sweden, 2011.
