

Electronic Notes in Theoretical Computer Science 249 (2009) 157–167
www.elsevier.com/locate/entcs

On the Failure of Fixed-Point Theorems for Chain-complete Lattices
in the Effective Topos
Andrej Bauer1
Faculty of Mathematics and Physics University of Ljubljana
Ljubljana, Slovenia

Abstract
In the effective topos there exists a chain-complete distributive lattice with a monotone and progressive endomap which does not have a fixed point. Consequently, the Bourbaki-Witt theorem and Tarski’s fixed- point theorem for chain-complete lattices do not have constructive (topos-valid) proofs.
Keywords: Constructive fixed-point theorems, chain-complete posets, effective topos


Introduction
Fixed-point theorems state that maps have fixed points under certain conditions. They are used prominently in denotational semantics, for example to give meaning to recursive programs. In fact, it is hard to overestimate their applicability and importance in mathematics in general.
A constructive proof of a fixed-point theorem makes the theorem twice as worthy because it yields an algorithm for computing a fixed point. Indeed, many fixed-point theorems have constructive proofs, of which we might mention Lawvere’s fixed-point theorem [5], Tarski’s fixed-point theorem for a monotone map on a complete lat- tice [8], and Pataraia’s generalization of it to directed-complete posets [6]. Two that have defied constructive proofs are Tarski’s theorem for chain-complete posets and the Bourbaki-Witt theorem [1,10] for progressive maps on chain-complete posets, see Section 5 for their precise statements.

1 Email: Andrej.Bauer@andrej.com

1571-0661 © 2009 Published by Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2009.07.089

I show that in the effective topos [3] there is a chain-complete distributive lattice with a monotone and progressive endomap which does not have a fixed point. An immediate consequence of this is that both Tarski’s theorem for chain-complete posets and the Bourbaki-Witt theorem have no constructive (topos-valid) proofs.
The outline of the argument is as follows. In the effective topos Eff every chain is a quotient of a subobject of the natural numbers, hence it has at most countably many global points. Consequently, the poset ω1 of set-theoretic countable ordinals is chain-complete in the effective topos, even though it is only countably complete in the topos of sets. The successor function on ω1 is monotone, progressive, and does not have a fixed point. We work out the details of the preceding argument carefully in order not to confuse external and internal notions of chain-completeness and countability. We use [9] as a reference on the effective topos. For the uninitiated, we have included a brief overview of the effective topos in Appendix A.

Discrete objects in the effective topos
An object in the effective topos is discrete 2 when it is a quotient of a subobject of the natural numbers object N. Such objects were studied in [4], where it is shown that X is discrete precisely when it is orthogonal to 2, by which we mean that the diagonal map X → X∇2 is an isomorphism. Here 2 = {0, 1} is the two-element set and ∇ : Set → Eff is the “constant objects” functor, see Appendix A.3. In the internal language of Eff discreteness of X is expressed by the statement
∀ f ∈ X∇2 . ∀ p ∈ ∇2 .f (p) = f (1),	(1) which says that every f : ∇2 → X is constant. We are interested in the object
D(X) of discrete subobjects of X, which we define in the internal language as
D(X) = {A ∈ P(X) | A ⊥ ∇2},
where P(X) is the powerobject and A ⊥ ∇2 is the statement 3
∀ f ∈ X∇2 . (∀ p ∈ ∇2 .f (p) ∈ A) =⇒ (∀ p ∈ ∇2 .f (p) = f (1)).	(2) Let us explicitly compute D(X) in case X = ∇S for a set S. The powerobject
P(∇S) is the set P (N)S with the non-standard equality predicate
[A =P(∇S) B] = (A ⇒ B) ∧ (B ⇒ A).
The object D(∇S) is the set P (N)S with non-standard equality predicate [A =D(∇S) B] = (A ⇒ B) ∧ (B ⇒ A) ∧ D(A),

2 The terminology is established and somewhat unfortunate, as it falsely suggests that a discrete object has decidable equality.
3 We take care not to assume that a variable A ranging over a powerobject P(X) is an actual object in the topos, which is why (1) and (2) differ slightly.

where D : P (N)S → P (N) is a strict extensional relation representing the pred- icate (2). To compute D we recall how universal quantification over a constant object works.
Suppose T is a set, X is an object, and φ is a formula with free variables t and x ranging over ∇T and X, respectively, represented by the strict extensional relation F : T × |X| → P (N). Then the predicate ∀ t∈ ∇T . φ is represented by the strict extensional relation |X|→ P (N) defined by

x '→  t∈T F (t, x).
When we apply this to the universal quantifiers in (2), and use the fact that ∇S∇2
is isomorphic to ∇(S2), we find after a short calculation that

D(A) =  f∈S2 A(f (0)) ∩ A(f (1)) ⇒ [f (0) =∇S f (1)]
=  (x,y)∈S2 A(x) ∩ A(y) ⇒ [x =∇S y].
We will need to know precisely when D(A) is non-empty. If x /= y then A(x) ∩ A(y) ⇒ [x =∇S y] is inhabited only if A(x) ∩ A(y) = ∅, because x /= y implies [x =∇S y] = ∅. Thus a necessary condition for D(A) to be non-empty is that x /= y implies A(x) ∩ A(y) = ∅. But this condition is also sufficient, since it implies that

D(A) =  (x,y)∈S2 A(x) ∩ A(y) ⇒ [x =∇S y] = 
  x=y A(x) ∩ A(y) ⇒ [x =∇S y] ∩   x/=y A(x) ∩ A(y) ⇒ [x =∇S y] =
  x=y A(x) ⇒ N ∩   x/=y ∅⇒ ∅ =   x=y A(x) ⇒ N 
is non-empty because it contains at least (the G¨odel codes of) the constant function
n '→ 0.
Let clчч : P(∇S) → ∇P (S) be the operator which maps a subset to its double- negation closure:
P(∇S) 	~=	 Ω∇ S	чч∇S (∇ 2)∇S 	~=	 ∇ P (S) Let Pω(S) be the set of all countable subsets of a set S.
Proposition 2.1 For any set S, the restriction of clчч to D(∇S) factors through
∇Pω(S):
D(∇S) 	i	 P( ∇S)
 
 

 
 J 
cl¬¬
J 

∇Pω(S)	∇j	 ∇ P (S)
Proof. In the diagram above i and j are inclusions D(∇S) ⊆ P(∇S) and Pω(S) ⊆
P (S), respectively. Because ∇ is right adjoint to the global points functor Γ, and

Γ ◦∇ is naturally isomorphic to the identity, there is a unique c : Γ(D(∇S)) → P (S) such that clчч ◦ i is the composition of ∇c and the unit of the adjunction η:

D(∇S)	η  ∇ Γ(D(∇S))
¸¸¸¸¸¸
cl  ¸¸¸¸¸¸	∇c

¬¬◦i
¸¸z J 
∇P (S)


It suffices to show that c factors through j, since then clчч ◦ i = ∇c ◦ η factors through ∇j.
A global point [A] : 1 → D(∇S) is represented by A : S → P (N) such that
D(A) /= ∅. Because clчч is composition with ¬¬, we get

c([A]) = {x ∈ S | A(x) /= ∅}.

Earlier we established that D(A) /= ∅ implies A(x) ∩ A(y) = ∅ whenever x /= y. Therefore, for each n ∈ N there is at most one x ∈ A such that n ∈ A(x), which means that there are at most countably many x ∈ S for which A(x) /= ∅. But then c([A]) is a countable subset of S, which is what we wanted to prove.	 
We shall need one more piece of knowledge about discrete objects. Define the object B = ({0, 1}, =B) to have the equality predicate
⎧⎪⎨{0}	if x = y = 0,
⎪∅	otherwise.
The object B is isomorphic to 1 + 1. By the uniformity principle [9, 3.2.21], the following statement is valid in the internal language of Eff: for all φ ∈ P(∇2 × B), if ∀ p ∈ ∇2 . ∃ d ∈ B. φ(p, d) then ∃ d ∈ B. ∀ p ∈ ∇2 . φ(p, d). We require the following equivalent form.
Lemma 2.2 The following statement is valid in the internal language of Eff: for all φ, ψ : ∇2 → Ω, if ∀ p ∈ ∇2 . (φ(p) ∨ ψ(p)) then ∀ p ∈ ∇2 . φ(p) or ∀ p ∈ ∇2 . ψ(p).
Proof. We argue in the internal language of Eff. If ∀ p ∈ ∇2 . (φ(p) ∨ ψ(p)) then

∀ p ∈ ∇2 . ∃ d ∈ 2 . ((d = 0 ∧ φ(p)) ∨ (d = 1 ∧ ψ(p))).

To see this, take d = 0 if φ(p) holds and d = 1 if ψ(p) holds. By the uniformity principle
∃ d ∈ 2 . ∀ p ∈ ∇2 . ((d = 0 ∧ φ(p)) ∨ (d = 1 ∧ ψ(p))).
Consider such d ∈ 2.	If d = 0 then ∀ p ∈ ∇2 . φ(p), and if d = 1 we obtain
∀ p ∈ ∇2 . ψ(p).	 

Posets and Chains in the Effective Topos
In this section we work entirely in the internal language of the effective topos. First we recall several standard order-theoretic notions. A poset (L, ≤) is an object L with a relation ≤ which is reflexive, transitive, and antisymmetric. A lattice (L, ≤, ∧, ∨) is a poset in which every pair of elements x, y ∈ L have a greatest lower bound x∧y, and least upper bound x ∨ y. Note that a lattice need not have the smallest and the greatest element. A lattice is distributive if ∧ and ∨ satisfy the distributivity laws (x ∧ y) ∨ z = (x ∨ z) ∧ (y ∨ z) and (x ∨ y) ∧ z = (x ∧ z) ∨ (y ∧ z). An endomap f : L → L on a poset (L, ≤) is monotone when
∀ x, y ∈ L. (x ≤ y =⇒ f (x) ≤ f (y)) ,
and progressive when ∀ x∈ L.x ≤ f (x).
For x ∈ L and A ∈ P(L) define bound(x, A) to be the relation
bound(x, A) ⇐⇒ ∀ y ∈ L. (y ∈ A =⇒ y ≤ x) .
We say that z ∈ L is the supremum of A ∈ P(L) when
bound(z, A) ∧∀ y ∈ L. (bound(y, A) =⇒ y ≤ z) .
Lemma 3.1 Suppose (L, ≤) is a poset with a ¬¬-stable order. For all A ∈ P(L)
and x ∈ L, if x is the supremum of clччA then x is the supremum of A.
Proof. By definition of clчч, y ∈ clччA is equivalent to ¬¬(y ∈ A). If ≤ is ¬¬- stable then
bound(x, clччA) ⇐⇒ ∀ y ∈ L. (¬¬(y ∈ A) =⇒ y ≤ x)
⇐⇒ ∀ y ∈ L. (y ∈ A =⇒ ¬¬(y ≤ x))
⇐⇒ ∀ y ∈ L. (y ∈ A =⇒ y ≤ x)
⇐⇒ bound(x, A).
Because clччA and A have the same upper bounds, if x is the supremum of one of them then it is the supremum of the other as well.	 
By a chain in a poset (L, ≤) we mean C ∈ P(L) such that
∀ x, y ∈ L. (x ∈ C ∧ y ∈ C =⇒ x ≤ y ∨ y ≤ x) .
The object of chains in L is defined as
C(L) = {C ∈ P (L) | ∀ x, y ∈ L. (x ∈ C ∧ y ∈ C =⇒ x ≤ y ∨ y ≤ x)}.
Proposition 3.2 Every chain is discrete, i.e., C(L) ⊆ D(L).
Proof. Consider any C ∈ C(L) and f : ∇2 → L such that ∀ p ∈ ∇2 .f (p) ∈ C. We need to show that f is constant. Because C is a chain we have
∀ p, q ∈ ∇2 . (f (p) ≤ f (q) ∨ f (q) ≤ f (p)) .

By a double application of Lemma 2.2 we obtain
(∀ p, q ∈ ∇2 .f (p) ≤ f (q)) ∨ (∀ p, q ∈ ∇2 .f (q) ≤ f (p)).
Because ≤ is antisymmetric, either of these two cases implies f (p) = f (q) for all
p, q ∈ ∇2, as required.	 
The poset ∇ω1
Let (ω1, ≤) be the distributive lattice of countable ordinals in Set. This is not a chain-complete poset, but it is complete with respect to countable subsets. Let sup : Pω(ω1) → ω1 be the supremum operator which maps a countable subset A ⊆ ω1 to its supremum.
The object ∇ω1, ordered by ∇≤, is a distributive lattice in Eff. One way to see this is to observe that ∇ preserves finite products, therefore it maps models of the equational theory of distributive lattices to models of the same theory. Moreover,
∇ also preserves the statement
∀ A∈ Pω(S) . “sup(A) is the supremum of A”
because the statement is expressed in the negative fragment of logic (∧, =⇒ , ∀), which is preserved by ∇.
Proposition 4.1 The poset ∇ω1 is chain-complete in Eff.
Proof. We claim that the supremum operator C(∇ω1) → ∇ω1 is the composition
C(∇ω1)	⊆	 D (∇ω1)	cl¬¬	 ∇ (Pω(ω1)) ∇ sup	 ∇ ω
The arrow marked by ⊆ comes from Lemma 3.2, while the one marked as сlчч is the factorization D(∇ω1) → ∇Pω(ω1) from Proposition 2.1.
We argue in the internal language of Eff. Consider a chain C ∈ C(∇ω1). Then сlччC ∈ ∇Pω(ω1), therefore (∇ sup)(сlччC) is the supremum of сlччC. But since the order ∇≤ on ∇ω1 is ¬¬-stable it is also the supremum of C by Lemma 3.1. 
Corollary 4.2 In the effective topos, there is a chain-complete distributive lattice with a monotone and progressive endomap which does not have a ﬁxed point.
Proof. The successor map suсс : ω1 → ω1 is monotone, progressive, and does not have a fixed point. The functor ∇ preserves these properties because they are all expressed in the negative fragment. Therefore, in the effective topos ∇ω1 is a chain- complete distributive lattice and ∇suсс is monotone, progressive and does not have a fixed point.	 
Discussion
An immediate consequence of Corollary 4.2 is that the following theorems cannot
be proved constructively, i.e., in higher-order intuitionistic logic:

Tarski’s Theorem [8] for chain-complete lattices: a monotone map on a chain- complete lattice has a fixed point.
Bourbaki-Witt theorem [1,10]: a progressive map on a chain-complete poset has a fixed point above every point.
The theorems cannot be proved even if we assume Dependent Choice because it is valid in the effective topos.
Dito Pataraia [6] proved constructively Tarski’s fixed-point theorem for dcpos. A natural question is whether perhaps the Bourbaki-Witt theorem can also be proved constructively for dcpos. The following observation by France Dacar [2] shows that this is not possible because the Bourbaki-Witt theorems for chain-complete posets and dcpos are constructively equivalent.

Theorem 5.1 (France Dacar) The following are constructively equivalent:
Every progressive map on a chain-complete inhabited poset has a ﬁxed point.
Every progressive map on a directed-complete inhabited poset has a ﬁxed point.
Proof. For this theorem we require chains to be inhabited. 4 The direction from chain-complete posets to directed-complete ones is trivial because every directed- complete poset is chain-complete. To prove the converse, suppose (ii) holds and let (P, ≤) be a chain-complete inhabited poset with a progressive map f : P → P . The set C of inhabited chains in P , ordered by inclusion, is inhabited and closed under directed unions, therefore it is a dcpo. Define the map F : C → C by F (A) = A ∪ f (sup(A)). This is a progressive map on C, therefore by (ii) it has a fixed point B. Now f (sup(B)) ∈ B and hence f (sup B) ≤ sup B, which means that sup(B) is a fixed point of f .	 

In constructive mathematics the tradition is not to despair when a classical theorem turns out to be unprovable, but rather to find a constructively acceptable formulation and prove it. What that might be in the present case remains to be seen.
Finally, let us remark that Giuseppe Rosolini [7] showed that in a certain realiz- ability model for the intuitionistic Zermelo-Fraenkel set theory IZF the trichotomous ordinals are precisely the discrete ordinals which are at most subcountable. Such ordinals therefore form a set in the model, rather than a class. From this it follows that the Bourbaki-Witt theorem fails in the model because the successor map is progressive and has no fixed point. However, Tarski’s theorem for chain-complete
posets is not invalidated because the successor map is not monotone in the model.
Both proofs, Rosolini’s and the present one clearly use discrete objects in a similar way.


4 So far we could work with possibly uninhabited chains because the poset of interest ∇ω1 has a least element.

Acknowledgement
I thank France Dacar for inspiration and many useful bits of knowledge. I also thank Benno van den Berg and Giuseppe Rosolini for explaining that [7] implies constructive failure of the Bourbaki-Witt theorem.

References
Bourbaki, N., Sur le th´eor`eme de Zorn, Archiv der Mathematik 2 (1949), pp. 434–437.
Dacar, F., Suprema of families of closure operators, Seminar for foundations of mathematics and theoretical computer science, November 2008, Faculty of Mathematics and Physics, University of Ljubljana, Slovenia.
Hyland, J. M. E., The effective topos, in: A. Troelstra and D. V. Dalen, editors, The L.E.J. Brouwer Centenary Symposium (1982), pp. 165–216.
Hyland, J. M. E., E. P. Robinson and G. Rosolini, The discrete objects in the effective topos, Proceedings of the London Mathematical Society 60 (1990), pp. 1–60.
Lawvere, F. W., Diagonal arguments and cartesian closed categories, Theory and Applictions of Categories (2006), pp. 1–13, originally published in: Lecture Notes in Mathematics, No. 92, pages 134–135, 1969.
Pataraia, D., A constructive proof of Tarski’s fixed-point theorem for dcpos, 65th Peripatetic Seminar on Sheaves and Logic (1997).
Rosolini, G., Un modello per la teoria intuizionista degli insiemi, in: C. Bernardi and P. Pagli, editors, Atti degli Incontri di Logica Matematica, Siena, 1982, pp. 227–230, English translation available at http://www.disi.unige.it/person/RosoliniG/RosoliniG_modtii_eng.pdf.
Tarski, A., A lattice-theoretical fixpoint theorem and its applications, Pacific Journal of Mathematics 5
(1955), pp. 285–309.
van Oosten, J., “Realizability: An Introduction to its Categorical Side,” Studies in Logic and the Foundations of Mathematics 152, Elsevier, 2008.
Witt, E., Beweisstudien zum Satz von M. Zorn, Mathematische Nachrichten 4 (1951), pp. 434–438.

The Effective Topos
We rely on [9] as a reference on the effective topos and give only a quick overview of the basic constructions here.

Deﬁnition of the effective topos
Recall that a non-standard predicate on a set X is a map A : X → P (N), where we think of A(x) as the set of realizers (G¨odel codes of programs) which witness the fact that x has the property A. The non-standard predicates on X form a Heyting prealgebra P (N)X with the partial order
A ≤ B ⇐⇒ ∃ n∈ N . ∀ x∈ X. ∀ m∈ A(x) . ϕn(m)↓∧ ϕn(m) ∈ B(x),

where ϕn is the n-th partial recursive function and ϕn(m)↓ means that ϕn(m) is defined. In words, A entails B if there is a program that translates realizers for A(x) to realizers for B(x), uniformly in x. Predicates A and B are equivalent when

A ≤ B and A ≤ B. If we quotient P (N)X by the equivalence we obtain an honest Heyting algebra, but we do not do that.
Let ⟨−, −⟩ be a computable pairing function on the natural numbers N, e.g.,
⟨m, n⟩ = 2m(2n + 1). The Heyting prealgebra structure of P (N)X is as follows:

T(x) = N	(A.1)
⊥(x) = ∅
(A ∧ B)(x) = {⟨m, n⟩| m ∈ A(x) ∧ n ∈ B(x)}
(A ∨ B)(x) = {⟨0, n⟩| n ∈ A(x)}∪ {⟨1, n⟩| n ∈ B(x)}
(A ⇒ B)(x) = {n ∈ N | ∀ m∈ A(x) . ϕn(m)↓∧ ϕn(m) ∈ B(x)}.
We say that a non-standard predicate A is valid if T ≤ A, in which case we write
|= A. The condition T ≤ A is equivalent to requiring that  x∈X A(x) contains at least one number. Often a non-standard predicate is given as a map x '→ φ(x) where φ is an expression with a free variable x. In this case we abuse notation and
write |= φ(x) instead of |= λx : X. φ(x). In other words, free variables are to be implicitly abstracted over.
An object X = (|X|, =X ) in the effective topos is a set |X| with a non-standard equality predicate =X : |X|× |X| → P (N), which is required to be symmetric and transitive (where we write [x =X y] instead of x =X y for better readability):

|= [x =X y] ⇒ [y =X x],	(symmetric)
|= [x =X y] ∧ [y =X z] ⇒ [x =X z].	(transitive)

Usually we write EX (x) for [x =X x]. Think of EX as an “existence predicate”, and
EX (x) as the set of realizers which witness the fact that x exists.
In the effective topos a morphism F : X → Y is represented by a non-standard functional relation F : X × Y → P (N). More precisely, we require that

|= F (x, y) ⇒ EX (x) ∧ EY (y)	(strict)
|= [x' =X x] ∧ F (x, y) ∧ [y =Y y'] ⇒ F (x', y')	(extensional)
|= F (x, y) ∧ F (x, y') ⇒ [y =X y']	(single-valued)
|= EX (x) ⇒  y∈Y EY (y) ∧ F (x, y).	(total)
Two such functional relations F, F' represent the same morphism when F ≤ F' and F' ≤ F in the Heyting prealgebra P (N)X×Y . Composition of F : X → Y and G : Y → Z is the functional relation G ◦ F given by

(G ◦ F )(x, z) =  y∈Y F (x, y) ∧ G(y, z).
The identity morphism I : X → X is represented by the relation I(x, y) = [x =X y].
The category Eff is a topos. Let us give a description of powerobjects. If X
is an object then the powerobject P(X) is the set P (N)|X| with the non-standard

equality predicate

[A =P(X) B] = (A ⇒ B) ∧ (B ⇒ A) ∧
   x∈|X| A(x) ⇒ EX (x)  ∧   x,y∈|X| A(x) ∧ [x =X y] ⇒ A(y)  .

The complicated part in the second line says that A is strict and extensional. If x and y are variables of type X and P(X), respectively, then the atomic predicate x ∈ y is represented by the strict extensional predicate E : |X|× P (N)|X| → P (N) defined by E(u, A) = EX (u) ∧ EP(X)(A) ∧ A(u).

Interpretation of ﬁrst-order logic in Eff
The effective topos supports an interpretation of intuitionistic first-order logic, which we outline in this section. Each subobject of an object X = (|X|, =X ) is represented by a strict extensional predicate, which is a non-standard predicate A : |X|→ P (N) that satisfies:

|= A(x) ⇒ EX (x),	(strict)
|= A(x) ∧ [x =X x'] ⇒ A(x').	(extensional)

Such a predicate represents the subobject determined by the mono I : Y → X where
|Y | = |X|, [x =Y y] = [x =X y] ∧ A(x), and I(x, y) = [x =Y y]. Strict predicates represent the same subobject precisely when they are equivalent as elements of the Heyting prealgebra P (N)X .
The interpretation of first-order logic with equality in Eff may be expressed in terms of strict extensional predicates and non-standard equality predicates. Suppose φ is a formula with a free variable x ranging over an object X. 5 The interpretation of φ is the subobject of X represented by the non-standard predicate [φ]] : |X|→ P (N), defined inductively on the structure of φ as follows. The propositional connectives are interpreted by the Heyting prealgebra structure of non-standard predicates, cf. (A.1):

[[T]] = T
[[⊥]] = ⊥
[[θ ∧ ψ]] = [[θ]] ∧ [[ψ]]
[[θ ∨ ψ]] = [[θ]] ∨ [[ψ]]
[[θ ⇒ ψ]] = [[θ]] ⇒ [[ψ]].

Suppose ψ is a formula with free variables x of type X and y of type Y , and let
A = [[ψ]] : |X|× |Y | → P (N) be a strict extensional predicate which interprets ψ.

5 In the general case φ may contain free variables x1,..., xn ranging over objects X1,..., Xn, respectively. Such a φ is interpreted as a subobject of X1 ×· · ·× Xn. It is easy to work out the details once you have seen the case of a single variable.

Then the interpretation of the quantifiers is:
[[∃ x∈ X. ψ]](y) =  x∈|X| EX (x) ∧ A(x, y),	(A.2)
[[∀ x∈ X. ψ]](y) =  x∈|X| EX (x) ⇒ A(x, y).
Suppose f, g : X → Y are morphisms represented by functional relations F, G :
|X|× |Y | → P (N), respectively. The atomic formula f = g, where x is a variable of type X, is interpreted as the subobject of X represented by the non-standard predicate [f = g]] : |X|→ P (N), defined by

[[f = g]](x) =  y∈|Y | F (x, y) ∧ G(x, y).
If other atomic predicates appear in a formula, their interpretation must be given in terms of corresponding strict extensional predicates.

The functor ∇ : Set → Eff
The topos of sets Set is (equivalent to) the topos of sheaves for the ¬¬-topology on Eff. The direct image part of the inclusion Set → Eff is the functor ∇ : Set → Eff which maps a set S to the object ∇S = (S, =∇S) where



[x =∇S
y] =	N	if x = y,
∅	if x /= y.

A map f : S → T is mapped to the morphism ∇f : ∇S → ∇T represented by the functional relation
(∇f )(x, y) = [f (x) =∇T y] .
The inverse image part is the global sections functor Γ : Eff → Set, defined as Γ(X) = Eff(1,X). Concretely, a global point 1 → X is represented by an element x ∈ |X| such that EX (x) /= ∅. Two such x, y ∈ |X| represent the same global point when [x =X y] /= ∅.
If S is a set then every element of ∇S exists uniformly, in the sense that ES(x) = N. Every map S → P (N) is strict and extensional with respect to =∇S. These two observations allow us to simplify calculations involving ∇S. For example, the powerobject P(∇S) is the set P (N)S with the equality predicate simplified to [A =P(∇S) B] = (A⇒B) ∧ (B⇒A). Similarly, the interpretation (A.2) of existential and universal quantifiers simplifies to

[[∃ x∈ ∇S. ψ]](y) =  x∈S A(x, y),
[[∀ x∈ ∇S. ψ]](y) =  x∈S A(x, y).
