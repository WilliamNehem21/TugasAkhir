Electronic Notes in Theoretical Computer Science 44 No. 1 (2001)
URL: http://www.elsevier.nl/locate/entcs/volume44.html 13 pages


Modal Rules are Co-Implications

Alexander Kurz
CWI, P.O.Box 94079, NL-1090 GB Amsterdam, The Netherlands


Abstract
In [13], it was shown that modal logic for coalgebras dualises—concerning definability— equational logic for algebras. This paper establishes that, similarly, modal rules dualise implications: It is shown that a class of coalgebras is definable by modal rules iff it is closed under H (images) and Σ (disjoint unions). As a corollary the expressive power of rules of infinitary modal logic on Kripke frames is characterised.

Introduction
The investigation of the relationship of modal logic and coalgebras is moti- vated by coalgebras being a generalisation of transition systems. A first major achievement was Moss’ paper [15] on ‘coalgebraic logic’ where it was shown how to formulate a modal logic for Ω-coalgebras depending in a canonical way on the functor Ω : Set → Set. Since then, modal logics as a specification language for coalgebras have been investigated in a number of papers, e.g. [17,18,12,10,9,5,16]. On the other hand, it is also interesting to apply cate- gorical and (co)algebraic tools in order to obtain new insights in modal logic. For example, it was shown in [13] that one can characterise the expressive power of infinitary modal logics on Kripke frames by dualising the proof of Birkhoff’s variety theorem (which, in turn, characterises the expressive power of equational logic on algebras). Here, we continue this line of research.

We start from the correspondence between implications 

i∈I
ti = t' → s =

s', I a set or class, and algebras. The classical result on implicationally defin-
able classes is due to Banaschewski and Herrlich [3] (see also Wechler [20]): A class of algebras is implicationally definable iff it is closed under subalgebras and products (and isomorphisms).
Similarly to [13], our aim here is to use the duality of algebras and coal- gebras to prove a dual of this theorem for coalgebras. As it turns out, the concept dual to implication is that of a modal rule. Theorem 4.1 establishes that a class of coalgebras is rule-definable iff it is closed under images of mor- phisms and disjoint unions. Theorem 5.2 applies this result to Kripke frames: A class of Kripke frames is definable by rules of infinitary modal logic iff it is closed under images of p-morphisms and disjoint unions.
◯c 2001 Published by Elsevier Science B. V. Open access under CC BY-NC-ND license.


An algebraically similar but logically different approach is followed by Gumm [8]. There, also the results on equationally and implicationally de- finable classes of algebras are dualised. But the logic used for coalgebras is different: A formula ϕ is an element of the carrier of a cofree coalgebra TC and ϕ holds in a coalgebra M iff for all valuations α : UM → C the formula ϕ is not in the image of the induced morphism α# : M → TC. If we consider the semantics of a modal rule or an co-implication in the sense of Gumm as given by the corresponding coreflection morphism (see the proof of theorem 4.1 or chapter 2 in [14]), then both approaches are equivalent.
A previous version of this draft has been electronically available since February 1999. It was presented at the 11th International Congress of Logic, Methodology and Philosophy of Science, Cracow, 1999. The main improve- ment over this draft is that theorem 4.1 does not depend any more on the existence of cofree coalgebras in SetΩ. As a consequence, the application to Kripke frames in theorem 5.2 does not require a bound on the degree of branch- ing of the frames. This result is quite surprising and can not be transferred in an obvious way to the case of the covariety theorem in [13].

Coalgebras
We introduce notation and briefly review coalgebras as models for modal logic (for more information see [13,14]). The classical paper on coalgebras is Rut- ten [19].
Coalgebras are given w.r.t. a category C and an endofunctor Ω : C → C. An Ω-coalgebra M = (UM, fM ) is then given by an object UM ∈ C and an arrow fM : UM → Ω(UM ) in C. Ω-coalgebras form a category CΩ where a coalgebra morphism α : (UM, fM ) → (UN, fN ) is an arrow α : UM → UN in C such that Ωα ◦ fM = fN ◦ α.
As an example consider the functor Ω : Set → Set given by ΩX = PX where P denotes powerset. 1 Then Ω-coalgebras are Kripke frames: given a coalgebra M and a world x ∈ UM , fM (x) is the set of successors of x. Coalgebra morphisms in SetP are functional bisimulations, i.e. p-morphisms.
A remark on epis and monos in SetΩ: Since a morphism α : (UM, fM ) → (UN, fN ) is also a function α : UM → UN , it is immediate that if α is epi (mono) in Set, α is also epi (mono) in SetΩ. The converse is also true for epis (see Rutten [19], 4.7), that is, a morphism in SetΩ is epi iff it is surjective. Concerning monos it holds: α ∈ SetΩ is mono in Set iff it is strong mono in SetΩ (see the appendix), that is, a morphism in SetΩ is strong mono iff it is injective.


1 This only defines Ω on sets. On functions Ω is defined in the standard way, P being the covariant powerset functor: Given f : X → Y , Ωf = λA ∈ PX.{f (a) : a ∈ A}.


Cofree Coalgebras
We first give the definition of cofree coalgebras and then show how they are interpreted in the context of modal logic. To define the notion of a cofree coalgebra consider the diagram below:
UTC
`❅	#
ϵC	❅
❄	❅
C ✛	 UM 
α
Let Ω be a functor. An Ω-coalgebra TC (and a mapping ϵC : UTC → C) is called cofree over C iff for all Ω-coalgebras M and all mappings α : UM → C there is a unique morphism α# : M → TC such that the diagram commutes. 2 Compared to universal algebra, the set of colours C corresponds to the set of variables and a colouring α to a valuation of variables.
As in the case of Ω = P, cofree coalgebras may not exist in SetΩ. This problem can be circumvented by extending the functor Ω on Set to a functor on SET 3 by defining ΩK = {ΩX : X ⊂ K, X a set} for classes K. It then follows from a theorem by Aczel and Mendler [2] that for every functor Ω on Set and all C ∈ Set the cofree coalgebras TC exist in SETΩ. Thus, in the following, we will allow, without further mentioning, that cofree coalgebras exist in SETΩ instead of SetΩ.
As an example consider Ω = P and C = PP where P is a set of proposi- tional variables. Let M be an Ω-coalgebra, i.e. a Kripke frame. The functions α : UM → C are valuations: every world x in M is assigned the set of propo- sitional variables holding in x, that is, (M, α) is a Kripke model. (Note that an Ω-coalgebra M plus a valuation α : UM → C is a C × Ω-coalgebra; and a morphism between C × Ω-coalgebras f : (M, α) → (N, β) is an Ω-morphism f : M → N such that β ◦ f = α, see [13].) The diagram above then shows that any Kripke model (M, α) has a unique p-morphic image in the model (TC, ϵC). We can think of (TC, ϵC) as the disjoint union of all models based on Ω-frames with the additional feature that any two bisimilar worlds are identified.
Strong-mono-Coreflective Classes of Coalgebras
The concept of a strong-mono-coreflection is a generalisation of the concept of cofreeness and dualises the concept of a strong epireflection (see Borceux [4], I.3.6). Strong monos do appear here because they are the categorical way of describing subcoalgebras (see the appendix). Coreflective classes are used

2 Note that every morphism α# : M → TC ∈ SetΩ is by definition of morphisms in SetΩ
also a mapping α# : UM → UTC ∈ Set.
3 SET is the category of classes and class maps as in Aczel [1], chapter 7, and Aczel and Mendler [2].


because, on the one hand, they are precisely those classes closed under the operators H (closure under images of coalgebra morphisms) and Σ (closure under disjoint unions (coproducts, sums) of coalgebras), and because, on the other hand, the ‘coreflection morphisms’will allow us to see what the defining modal rules will be (section 4).
Let Ω : Set → Set be a functor. A strong-mono-coreflection for a class
K of Ω-coalgebras is given by coalgebras RKM and strong monomorphisms
K : RKM → M for all M ∈ SetΩ such that for all N ∈ K every morphism
α : N → M factors uniquely through ϵK :

K
M ✛ M  RKM
`❅	α∗
α ❅
N

RKM is called the coreflection of M and ϵK
the coreflection morphism of M .

Proposition 2.1 (Existence of strong-mono-coreflections) Let Ω be a functor on Set and K a class of Ω-coalgebras. Then for all M ∈ SetΩ there

is RKM ∈ SetΩ and a strong mono ϵK
: RKM → M ∈ SetΩ such that for

all N ∈ K and all α : N → M in SetΩ there is a unique α∗ : N → RKM in
SetΩ such that ϵK ◦ α∗ = α. Moreover, RKM ∈ HΣHK.
Proof. Let M ∈ SetΩ. Let A = {α : N → M | N ∈ K} be the collection of all coalgebra morphisms N → M with N ∈ K. Now, the union of the images of all α ∈ A defines a subcoalgebra RKM of M with inclusion ϵK . 4 Clearly, for each N ∈ K the above factorisation property holds. Moreover, the fact that union is a quotient of a disjoint union shows that RKM ∈ HΣHK.   ✷
Definition 2.2 (Strong-mono-coreflective-classes, smc) Let Ω be a func- tor on Set and K a class of Ω-coalgebras. K is called strong-mono-coreflective, or smc for short, iff it is closed under isomorphisms and contains all core- flections RKM. 5
Strong-epi-reflective classes of algebras are characterised as being exactly those classes of algebras that are closed under subalgebras and products. Du- ally, smc-classes of coalgebras are characterised by closure under homomorphic images (denoted by H) and closure under disjoint unions, i.e. coproducts (de- noted by Σ).
Proposition 2.3 Let Ω be a functor on Set and K a class of Ω-coalgebras.
K is smc iff it closed under H and Σ.

4 Every coalgebra morphism α ∈ SetΩ factors through its image Im α, see Rutten [19], theorem 7.1; and the union of images of coalgebra morphisms always exists, see [19], theo- rem 6.4.
5 Categorically: K is smc iff it is closed under isomorphisms and the inclusion functor
K → SetΩ has a right adjoint RK with the counit (i.e. ϵK ) being strong mono.


Proof. “only if”: Closure under H is (the dual) of [4], I.3.6.4. For closure under Σ let Mi ∈ K (for all i ∈ I) and M the sum of all Mi. Note that RKMi is isomorphic to Mi. We have to show that RKM is isomorphic to M . ϵK

being a strong mono, it suffices to show that ϵK
is epi in Set (and hence epi in

SetΩ). This follows from the observation that every x ∈ UM is in the image of an inclusion ini : Mi → M and every inclusion factors through ϵK .
“if”: Follows from RKM ∈ HΣHK.	✷
Closure under H and Σ is equivalent to closure under the operator HΣ. This is dual to the fact that, in universal algebra, SP is closure under subalgebras and products (see Gumm and Schro¨der [6] for details on closure operators on coalgebras). We can therefore phrase the proposition above as K smc iff K = HΣ(K).

An Example
To illustrate the notions above and their connection to modal logic we give an example. Let Ω = B × P, where B is the set of Booleans. That is, every state is assigned (b, Y ), where b is a Boolean and Y a set. We interpret b as the truth value of a fixed proposition and Y as the set of successors. A modal language for this functor is build from the usual connectives, modal operators and propositional variables from a set P , plus a propositional constant denoted by start . A SetΩ-coalgebra M = (UM, f ) is a Kripke frame together with a predicate interpreting start . To be more precise, let α : UM → PP, x ∈ UM, p ∈ P . Then (boolean cases as usual and π1, π2 denoting the projections from the product B ×P to its components):

The states x satisfying the first clause are called states marked by start . Next, we want to axiomatise a subclass of these Kripke frames by modal rules. A modal rule ϕ/ψ (where ϕ, ψ are modal formulas) is interpreted via
M |= ϕ/ψ ⇐⇒ ∀α : UM → PP : M, α |= ϕ ⇒ M, α |= ψ
Modal axioms are rules with true premise. Now, consider the following rules:
(refl)	✷p → p (trans)	✷p → ✷✷p (start)	start → ✷p/p 
The first two are the well-known axioms defining reflexivity and transitivity on Kripke frames. The third one is the start rule from Kro¨ger [11]. In the

presence of reflexivity and transitivity it expresses that every state has to be reachable from a state marked by start .
Call Φ the set of the three rules above and let K be the class of Kripke frames defined by Φ. We show that K is smc. Define RKM as the largest subcoalgebra of M satisfying Φ (that is, to find RKM , take the largest subcoal- gebra of M that is reflexive and transitive and then cut off all states that are
not reachable by a state marked by start ). ϵK : RKM → M is the canonical
embedding and it is a strong mono since it is injective. Recalling the defini- tion of a coreflective subcategory, it remains to show that for all N ∈ SetΩ satisfying Φ it holds that for all f : N → M there is a unique g : N → RKM such that f = ϵK ◦ g:
K
M ✛ M  RKM
.✻
`❅	.
❅	.
f ❅	.
N

Consider a factorisation N →e
Im f →m
M of f . Since rules are invariant under

taking images (see proposition 3.5) it follows that Im f |= Φ. Moreover m : Im f → M is a subcoalgebra of M and since RKM is the largest subcoalgebra

of M satisfying Φ, m factors through ϵK
as m = ϵK
g' for some g'. Now,

g = g' ◦ e is the required morphism and g is uniquely determined since ϵK is
injective.
Finally, let us note that K is closed under images and disjoint unions (coproducts) but not under subcoalgebras. Hence K is an example of a co- quasivariety that is not a covariety.
Modal Logics for Coalgebras
There are many different kinds of modal logics but most of them share the following features that are essential for a logic for coalgebras: formulas are evaluated in points (worlds, states) and they are invariant under bisimulations. Compared to the paper on covarieties [13] the definition below changed a little: Since we have no requirement that the functor Ω is bounded, a logic has to have formulas for arbitrary large sets of colours.
Definition 3.1 Let Ω be a functor. A modal logic for coalgebras L is given by the following:
a class Col of sets (the sets in Col are called sets of colours of L), where Col contains for each cardinal κ a set with cardinality ≥ κ, and for each C ∈ Col a class of formulas LC,
for all C ∈ Col, for all M ∈ SetΩ, and for all valuations α : UM → C a
relation |=C	⊂ UM × LC. (Write M, α, x |= ϕ for (x, ϕ) ∈ |=C	.)
for all C ∈ Col, M, N ∈ SetΩ, α : UM → C, β : UN → C, ϕ ∈ LC,

x ∈ UM, and all C × Ω-morphisms 6 f : (M, α) → (N, β), it has to hold
M, α, x |= ϕ ⇔ N, β, f (x) |= ϕ.
The last condition says that formulas have to be invariant under bisimulations respecting not only the structure of the Ω-coalgebras but also the given val- uations. As usual, M, x |= ϕ, (M |= ϕ) are defined by quantifying over all valuations (and all elements) of M .
Formulas ϕ ∈ LC define subsets of the cofree coalgebra (TC, ϵC). It is useful to introduce the following notation:
[[ϕ]]T C,єC = {x ∈ UTC : TC, ϵC,x |= ϕ}.
From the invariance of the formulas under bisimulations it follows the funda- mental property allowing to reduce validity w.r.t. a valuation in any model to validity in the cofree models:
M, α |= ϕ ⇐⇒ Im α# ⊂ [[ϕ]]T C,єC .
Next, we show that dualising the concept of an implication in algebra we obtain the notion of a modal rule. The reader might want to recall the semantics of implications in universal algebra. First two basic facts: Let X be a set of variables and TX be the term algebra over variables X. Then every valuation α : X → A has a unique lifting to an algebra morphism αb : TX → A. And every algebra morphism αb : TX → A determines a congruence relation on TX that we denote by ker αb. Next, consider an
implication	ti = t' → s = s'. It determines two congruence relations
i∈I	i
'

P, Q on the carrier of TX, P standing for the relation induced by
i∈I ti = ti

and Q for the relation induced by s = s'. Now, it is not difficult to see that
the implication holds in an algebra A iff P ⊂ ker αb ⇒ Q ⊂ ker αb for all α : X → A. This characterisation of implications is dualised by the following definition of modal rules.
Definition 3.2 (Rules) Given two formulas ϕ, ψ ∈ LC we call the expres- sion ϕ/ψ a rule. The class of all rules built from formulas in LC is denoted by RuC. Deﬁne |=
M |= ϕ/ψ iff ∀α : UM → C : Im α# ⊂ [[ϕ]]T C,єC ⇒ Im α# ⊂ [[ψ]]T C,єC ,
Definition 3.3 (rule-definable) Let Ω: Set → Set be a functor and L be a modal logic for Ω-coalgebras. K ⊂ SetΩ is rule-deﬁnable iff there are classes ΦC ⊂ RuC, C ∈ Col, such that M ∈ K ⇔ ∀C ∈ Col : M |= ΦC.
Up to now, we have only required that formulas of modal logic are evalu- ated in points and are invariant under bisimulations. We need an additional

6 Recall that f : (M, α) → (N, β) is a C × Ω-morphisms iff f is an Ω-morphism such that
β ◦ f = α.


property that guarantees enough expressive power.
Definition 3.4 A modal logic for coalgebras L is called expressive if for all C ∈ Col and every C × Ω-subcoalgebra S of (TC, ϵC) there is a formula ϕ such that US = {x ∈ TC : TC, ϵC,x |= ϕ}.
An important consequence of our definition of a modal logic for coalgebras is that rules are preserved under images and disjoint unions.
Proposition 3.5 Let L be a modal logic for Ω-coalgebras and let K be a rule- deﬁnable class of Ω-coalgebras. Then K is closed under the operators H and Σ.
Proof. Let C ∈ Col and ϕ, ψ ∈ LC.
“H”: Suppose M ∈ K and f : M → N epi in SetΩ. We have to show

M |= ϕ/ψ =⇒ N |= ϕ/ψ. For a contradiction assume that N
|=/
ϕ/ψ, i.e.

there exist β : UN → C and y ∈ UN s.t. N, β, y |= ϕ and N, β, y |=/ ψ. Define
α : UM → C by α = β ◦ f , i.e. f is a C × Ω-bisimulation between (M, α) and (N, β). Now, since f epi in SetΩ implies f epi in Set and since |= is compatible with C × Ω-bisimulations, there is x ∈ UM such that M, α, x |= ϕ
and M, α, x |=/ ψ, which is the desired contradiction.
“Σ”: Similar to the above. Let (Mi)i∈I be a family of models in K and

M = Σi∈IMi. Suppose M
|=/
ϕ/ψ. That is, there exist α : UM → C and

x ∈ UM such that M, α, x |= ϕ and M, α, x |=/ ψ. Since sums in SetΩ are
constructed as sums in Set 7 there is a j ∈ I such that x ∈ Mj. Now, using that the inclusion inj of Mj into M is a bisimulation shows Mj, ij,x |= ϕ and
Mj, ij,x |=/ ψ.	✷

Rule-Definable Classes of Coalgebras
We have already seen that rule-definable classes are closed under H and Σ. To show the converse, one uses that every class K closed under H and Σ is strong- mono-coreflective (smc) and then shows that K is ‘defined’by its coreflection morphisms.
Theorem 4.1 (Characterisation of rule-definable classes)
Let Ω : Set → Set be a functor and L an expressive modal logic for Ω- coalgebras. Then a class K is deﬁnable by rules of L iff K is closed under H and Σ.
Proof. “only if” is proposition 3.5. For “if” note that K is smc by propo- sition 2.3. The defining rules are now determined by the coreflection mor-
phisms ϵK : RKM → M . Define ΦC for C ∈ Col as follows. For M ∈ SetΩ,
|UM| ≤ |C|, choose an injective mapping i : UM → C.	By expressive-
ness there are formulas ϕC , ψC  ∈ LC such that [ϕC ]]T C,єC = Im i# and
M	M	M

[[ψC ]]T C,єC = Im(i# ◦ ϵK ). Let ΦC = {ϕC /ψC
: M ∈ SetΩ, |UM| ≤ |C|}.

M	M	M	M

7 Categorically: U : SetΩ → Set creates all colimits, see [19], theorem 4.5.


We have to show N ∈ K ⇔ ∀C ∈ Col : N |= ΦC.
“ ⇒ ”: Let ϕC /ψC ∈ ΦC and suppose N, β |= ϕC , i.e. Im β# ⊂ [[ϕC ]]T C,єC .
M	M	M
By definition of ϕC there is i : UM → C with [ϕC ]]T C,єC = Im i#. Hence, β#
factors through i# as β# = i# ◦ f for some f : N → M . Since N ∈ K and K
is smc, f factors through ϵK as f = ϵK ◦ g for some g : N → RKM . It follows
Im β# = Im(i# ◦ ϵK ◦ g) ⊂ Im(i# ◦ ϵK )= [[ψC ]]T C,єC , i.e. N, β |= ψC .
M	M	M	M
“ ⇐ ”: Let N ∈ SetΩ. Choose C ∈ Col, |C| ≥ |UN|, and i : UN → C
such that Im i# = [[ϕC ]]T C,єC . We show Im i# = Im(i# ◦ ϵK) (which implies,
N	N
since i# and ϵK injective, N  RKN and hence N ∈ K). “⊃” is obvious and
Im i# ⊂ [[ψC ]]T C,єC = Im(i# ◦ ϵK) holds due to N, i |= ϕC /ψC .	✷
N	N	N
Remark 4.2 In the case of Ω = P the cofree coalgebras TC do not exist in SetΩ but in SETΩ. This has no effect on the proof since for all α# : M → TC, M ∈ SetΩ, also Im α# ∈ SetΩ. Note that this reasoning cannot be transferred to the proof of the covariety theorem in [13] since there one needs to consider coreflections RKTC (called FKC in [13]) of the cofree coalgebras which usually are only in SetΩ if TC ∈ SetΩ (which is not the case for Ω= P and C /= {}).

Rule Definable Classes of Kripke Frames
The generality of theorem 4.1 allows for many applications. For example it is possible to give a version of this theorem for coalgebraic logic (Moss [15]). For covarieties instead of smc-classes this has been carried out in [13]. Coalgebraic logic has the advantage that it gives a definition of a modal logic for coalgebras for all functors Ω (preserving weak pullbacks). But here we only want to give one example of a (concrete) modal logic. We choose Ω = P and show that our theorem becomes a statement about rule-definable classes of Kripke frames.
We denote with ML the infinitary modal logic built from a proper class of propositional variables Prop, the constant ⊥, the operators ¬, ✷ and conjunc- tions over any set of formulas.  and ✸ are defined as abbreviations. When P ⊂ Prop and P a set we write ML(P ) for the class of formulas taking only variables from P .
In order to apply theorem 4.1 we need the following lemma:
Lemma 5.1 The collection of all ML(P ) where P ranges over subsets of Prop is an expressive modal logic for coalgebras w.r.t. the functor P. Fur- thermore, the classes RuPP (see deﬁnition 3.2) are the classes of rules of ML(P ).
Proof. Instantiating Col of definition 3.1 by {PP : P ⊂ Prop,P a set} and

C
(M,α)
by the usual satisfaction relation of modal logic, it is immediate that

the conditions of definition 3.1 are met.  Expressiveness can be shown as
in [13]. Next, let ϕ/ψ ∈ RuPP and M be a Kripke frame. Then, according to the definition of a rule in modal logic, M |= ϕ/ψ iff ∀α : UM → PP : M, α |= ϕ ⇒ M, α |= ψ, matching definition 3.2.	✷


Theorem 5.2 Let K be a class of Kripke frames. Then K is rule-deﬁnable iff K is closed under p-morphic images and disjoint unions.
Proof. Recall that Col = {PP : P ⊂ Prop,P a set}. “if”: By lemma 5.1 and theorem 4.1.
“only if”: K is rule-definable, that is, there is a class Φ ⊂ {ϕ/ψ : ϕ, ψ ∈ ML} such that K = {M ∈ SetΩ : M |= Φ }. Let KPP = {M ∈ SetΩ :
M |= Φ ∩ RuPP }. We can then write K =	{KPP : PP ∈ Col} and, by
proposition 3.5, K =	{HΣKPP : PP ∈ Col}. Now, it follows from a general
fact on closure operators that K ⊃ HΣ  {KPP : PP ∈ Col} and, therefore,
K ⊃ HΣK.	✷
Some readers might feel that the ‘detour’ via coalgebras is unneccessary and a proof of the theorem from first principles could be shorter. Let us therefore emphasise that our proof is in fact easy and short: once we estab- lished that a class K closed under p-morphic images and disjoint unions is

determined by the coreflection morphisms ϵK
(see proposition 2.3), it remains

only to check that the coreflection morphisms (or more generally, generated subframes, ie., strong-monos) are indeed definable by rules (see lemma 5.1 and the proof of theorem 4.1).

Conclusion
This paper showed that the duality between quotients in algebra and subcoal- gebras in coalgebra does not only allow for a dual of Birkhoff’s variety theorem but also for a dual of the result characterising implicationally definable classes of algebras. Moreover, it was shown that the modal concept corresponding to an implication is not that of a formula ϕ → ψ but that of a rule ϕ/ψ.
To study finitary specification languages for coalgebras containing (the expressiveness of) modal rules and appropriate deduction calculi is left for future research.
Let us mention that the duality of algebras and coalgebras has been used here as a heuristics. The proof of theorem 4.1 is not the formal (categorical) dual of a corresponding proof for algebras since it depends on the category of sets (and coalgebras over Set are dual to algebras over Setop). As shown in
[14] it is possible to give an account of the duality of modal and equational logic which makes the duality precise in a categorical sense.

Acknowledgements
I want to thank Alexander Knapp for comments on a previous draft. Diagrams were produced with Paul Taylor’s macro package.

References
Peter Aczel. Non-Well-Founded Sets. Center for the Study of Language and Information, Stanford University, 1988.
Peter Aczel and Nax Mendler. A final coalgebra theorem. In D. H. Pitt et al, editor, Category Theory and Computer Science, volume 389 of LNCS, pages 357–365. Springer, 1989.
B. Banaschewski and H. Herrlich.  Subcategories defined by implications.
Houston Journal of Mathematics, 2(2):149–171, 1976.
Francis Borceux. Handbook of Categorical Algebra. Cambridge University Press, 1994.
Robert Goldblatt. What is the coalgebraic analogue of Birkhoff’s variety theorem? Theoretical Computer Science. To appear.
H. P. Gumm and T. Schro¨der.  Covarieties and complete covarieties.  In
B. Jacobs, L. Moss, H. Reichel, and J. Rutten, editors, Coalgebraic Methods in Computer Science (CMCS’98), volume 11 of Electronic Notes in Theoretical Computer Science, 1998.
H. P. Gumm and T. Schro¨der. Coalgebraic structure from weak limit preserving functors. In B. Jacobs, L. Moss, H. Reichel, and J. Rutten, editors, Coalgebraic Methods in Computer Science (CMCS’00), volume 33 of Electronic Notes in Theoretical Computer Science, pages 113–134, 2000.
H. Peter Gumm. Equational and implicational classes of co-algebras. Extended abstract. RelMiCS’4. The 4th International Seminar on Relational Methods in Logic, Algebra and Computer Science, Warsaw, 1998.
Bart Jacobs. The temporal logic of coalgebras via galois algebras. Technical Report CSI-R9906, Computing Science Institute Nijmegen, 1999.
Bart Jacobs. Towards a duality result in coalgebraic modal logic. In Horst Reichel, editor, Coalgebraic Methods in Computer Science (CMCS’00), volume 33 of Electronic Notes in Theoretical Computer Science, pages 163–198, 2000.
Fred Kro¨ger. Temporal Logic of Programs. Springer, 1987.
Alexander Kurz. Specifying coalgebras with modal logic. Theoretical Computer Science, 260(1-2). To appear.
Alexander Kurz. A co-variety-theorem for modal logic. In Proceedings of Advances in Modal Logic 2, Uppsala, 1998. Center for the Study of Language and Information, Stanford University, 2000.
Alexander Kurz. Logics for Coalgebras and Applications to Computer Science. PhD thesis, Ludwig-Maximilians-Universita¨t Mu¨nchen, 2000. http://www. informatik.uni-muenchen.de/~kurz.


Lawrence Moss. Coalgebraic logic. Annals of Pure and Applied Logic, 96:277– 317, 1999.
Dirk Pattinson. Semantical principles in the modal logic of coalgebras. In Proceedings 18th International Symposium on Theoretical Aspects of Computer Science (STACS 2001), Lecture Notes in Computer Science, Berlin, 2001. Springer. To appear.
Martin Ro¨ßiger. From modal logic to terminal coalgebras. Theoretical Computer Science, 260(1-2). To appear.
Martin Ro¨ßiger. Coalgebras and modal logic. In Horst Reichel, editor, Coalgebraic Methods in Computer Science (CMCS’00), volume 33 of Electronic Notes in Theoretical Computer Science, pages 299–320, 2000.
J. J. M. M. Rutten. Universal coalgebra: A theory of systems. Theoretical Computer Science, 249:3–80, 2000.
Wolfgang Wechler. Universal Algebra for Computer Scientists, volume 25 of
EATCS Monographs on Theoretical Computer Science. Springer, 1992.

A  Strong Monomorphisms
We establish that the strong monos in a category of coalgebras SetΩ are precisely the injective morphisms, ie. the subcoalgebras. First recall the definition of a strong mono (see eg. Borceux [4], I.4.3).
Definition A.1 (Strong mono) A mono f : M → N is called strong iff for all epis g : X → Y and all u : X → M, v : Y → N such that f ◦ u = v ◦ g there is a (necessarily unique) w : Y → M such that w ◦ g = u and f ◦ w = v:
X		g ✲ Y w....
u ❄ ...	v
M 	✲ N f
From a technical point of view, this factorisation property is crucial to the results of this paper (it is used implicitely in almost all of the proofs). An immediate consequence is the following useful proposition.
Proposition A.2 (Extremal monos) A strong mono m is extremal, that is, if
m factors as m = f ◦ e with e epi, then e is iso.
In the category Set monos, extremal monos, and strong monos are all simply injective mappings. In the category of Ω-coalgebras monos need not be injective (see Gumm and Schr¨oder [7]). The following proposition shows that strong monos are precisely the injective morphisms in SetΩ.
Proposition A.3
If f ∈ SetΩ is mono as a mapping in Set then f is strong mono in SetΩ.


Every morphism f ∈ SetΩ factors uniquely as an epi followed by a strong mono. Moreover, this factorisation is obtained as the epi/mono factorisation of f in Set.
Strong monos in SetΩ are monos in Set. Proof.
Let f, g, u, v ∈ SetΩ as in the diagram above and f mono in Set, g epi in SetΩ. Since g epi in Set (Rutten [19], 4.7) the required w exists as a mapping in Set. It remains to show that w is a morphism in SetΩ, i.e. Ωw ◦fY = fM ◦w where fY , fM are the structure maps of the coalgebras Y, M , respectively. Drawing the appropriate diagram, this follows from g, u morphisms in SetΩ, g epi in Set and w ◦ g = u in Set.

Let h : X → Y ∈ SetΩ and UX →e
Im h →m
UY the factorisation of h in

Set through its image Im h. We have to show that Im h can be equipped in a unique way with a coalgebra structure such that e, m become morphisms in SetΩ. This follows from the “diagonal fill in”:
UX	e ) Im h

Ωe ◦ fX
fIm h /
v	s/
fY ◦ m
v

Ω Im h
) ΩUY 
Ωm

The diagonal fill in exists because either Im h /= {} and Ωm mono 8 and e epi or Im h = {} and the empty map makes the diagram commute.
That m is strong in SetΩ follows from (1). Uniqueness of the factorisation in
SetΩ may be found in [4], I.4.4.5.
By (2), a strong mono h : X → Y in SetΩ factors as epi/strong-mono h = e◦m. Since h is also extremal and e is epi, it follows e iso. m is strong, so is h.
✷















8 Im h /= {} and m mono implies m split mono, hence Ωm mono.
