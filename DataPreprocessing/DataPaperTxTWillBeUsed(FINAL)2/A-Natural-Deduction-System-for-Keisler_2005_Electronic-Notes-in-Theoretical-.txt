Electronic Notes in Theoretical Computer Science 123 (2005) 229–240 
www.elsevier.com/locate/entcs


A Natural Deduction System for Keisler’s Quantification
Christian Jacques Renter´ıa 1
Departamento de Informa´tica Pontif´ıcia Universidade Cato´lica Rio de Janeiro, Brasil
Edward Hermann Haeusler2
Departamento de Informa´tica Pontif´ıcia Universidade Cato´lica Rio de Janeiro, Brasil

Abstract
Labelled deduction systems have been used to present a large class of logics. The purpose of this paper is to show NDQ, a (labelled) natural deduction system for Keisler’s logic, and discuss some of its properties. This system is the result of the application of a general framework for dealing with quantifiers in natural deduction. The general use of this framework is briefly outlined.
Keywords: logic, Keisler, natural deduction, proof theory, normalization, label, framework.


Introduction
The logic of the non-denumerable quantification, namely Keisler’s logic here, was firstly presented in [4], where a Hilbert-like deductive system for that logic is shown. In [1] a sequent-based version for Keisler’s logic is presented. How- ever, the sequent system does not count with genuine introduction rules (either left or right). A proof-theoretic discussion on this logic has not been raised yet.

1 Email: chren@inf.puc-rio.br
2 Email: hermann@inf.puc-rio.br



1571-0661 © 2005 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2004.04.050


The authors have been developing a framework that aims to provide an uni- form treatment of quantification regarding Natural Deduction Systems. This framework is still under refinement, see [3] and [Renter´ıa2003] as examples of its application, and one of the purposes of this paper is to show another ap- plication of this framework as well as pointing out the basis of the framework. This approach is also suitable for some modal, specifically temporal, logics. The paper [7] describes a Natural Deduction System obtained in this way. The framework uses a kind of labeled deductive system (as firstly presented in [6] and [2]) in which the labels consist of some kind of structure over sorts of variables, each variable intending to take care of a kind of quantification. They are marked to indicate their correspondent quantifier. For example, in [Renter´ıa2003], is presented a system for dealing with the “almost” quantifier 3 . Abstracting from the semantics, one can argue that a rule as following:
∇xϕ(x)L
ϕ(x)L,x
where ∇ is the “almost” quantifier and labels are lists of ultrafilter-variables as well as universally quantified ones, is suited to provide the meaning of ”Al-
trafiltered ones. The rule above is the ∇-elimination rule which together with most” from the ultrafilter point of view. The overlined variables are the ul- the quantifier introduction presented below should help the understanding of
the central mechanism in this approach.
ϕ(x)L,x
∇xϕ(x)L
labels for ∧, ∨ and ∀ rules (the ∇ does not permute with the ∀, ∃ and ¬ The ND system for the “almost” is completed with the provisos on the introduction and elimination rules). For example, the interaction of ∇ with ∧ can be seen in the ∧-rules:

ϕ<u>  ψ<v>
∧I
ϕ ∧ ψ<w>
ϕ ∧ ψ<w>
∧E
ϕ<u>

and in its provisos:
∧I: < w > is a “merge” from < u > and < v > respecting: every term in
< w > is in < u > or < v >; all terms of < u > and < v > are in < w >;
if y0 and y1 are two variables from < u > (or < v >) such that y0 occurs

3 Its semantics is based on an ultrafilter provided together with a first-order structure. A formula “almost x”ϕ(x) is true, iff, the set of individuals having the property ϕ is a member of the ultrafilter. In [9] there is a quite good discussion on why the “almost” is related to ultrafilters


before y1 in < u > (or < v >), then y0 occurs before y1 in < w >; and, if
x ∈ FV (ϕ) ∩ FV (ψ) then (x ∈ < u > iff x ∈ < v >).
∧E: < u > contains exactly the variables of < w > that occur free in ϕ, in the same order as they occur in < w >.
The ultrafilter logic has normalization and some other proof-theoretical properties. It is worthwhile noting that ultrafilters are quite well-behaved with regard to the boolean algebra represented by classical logic, thus it is the best example of application of the framework here shortly presented.
One can argue that pushing the problem into the meta-level might not be the most natural solution. The authors are aware of that, but an adequate philosophical discussion is out of the scope of the present article.
The following section presents the ND system for Keisler logic, which we shall call NDQ; section 3 shows soundness and completeness, section 4 dis- cusses normalization and in the conclusion some points concerning the appli- cability of the framework and the normalizability of the resulting systems are discussed. As far as the authors are aware this is the only syntactic framework for building ND systems concerning quantifiers.

N DQ: Keisler’s Natural Deduction System
Keisler’s logic is an extension of first-order classical logic which has a quanti- fier, denoted by Q, expressing “there is a non-denumerable set of individuals satisfying...”. Formally, Qxϕ(x) is true regarding a structure S, iff, the set
{a/a ∈ |S| and |=S ϕ(a)} has cardinality at least ℵ1.
Keisler’s logic has a complete and sound axiomatization [4] shown below.
To the following axiomatization one must add a complete and sound first-order classical one. The modus ponens is the only rule of the system.
¬Qx(x = y ∨ x = z)
∀x(ϕ → ψ) → (Qxϕ → Qxψ) Qxϕ(x, ...) ↔ Qyϕ(y, ...) Qy∃xϕ → ∃xQyϕ ∨ Qx∃yϕ

Below, NDQ is presented. This system is the innovation of this paper, we shall then investigate the system’s proof-theoretic properties. For the sake of a clear and simpler presentation the terms of the language are only variables
and constants. The logical symbols used are only ⊥, →, ∨, ∃ e Q. ∀ is used as a short for ¬∃x¬. ¬ϕ shorts ϕ → ⊥. The marks on the variables are either nil (nothing) or *. The stared variables correspond to the “non-denumerable”
quantifier. Technically speaking, the stared variables have a non-denumerable


extension while the not marked have at least a singleton as extension. Thus, the variables without marks (present in the labels) are to be taken as existentials. The labels are lists of variables (marked and not marked ones). As a list, the order of occurrence is important.

With the following provisos:
(6) the free variables occurring in L are not free in hypothesis of Π.
(7) L does not have any marked variable.
(10) L does not have marked variables and K⊆ L
(12) the variables of L do not occur free in any hypothesis on which ψ


depends, except for ϕ

The Axiom (1) states that pairs and singletons are not non-denumerable sets.
It might seem unclear why the introduction rule for the existential ∃ is in fact an introduction rule, since it is syntactically more restricted than the
original one. This is because we chose not to use constants and functionals: in this way we have a simpler presentation. In case we use more complex terms, the label should contain information about the variables occurring in the term. However this will not be detailed in the present text.

Soundness and Completeness of NDQ
In order to prove soundness of the system, semantics for the full language (formulas with labels) must be presented.
Semantics
The satisfaction of labeled formulas can be reduced to non-labeled ones. The satisfaction for non-labeled formulas is the usual semantics for Keisler’s logic. The association from labeled formulas to non-labeled ones is only a mat- ter of considering the list (label) as a list of quantifiers (existential for the not
example, the formula ϕy∗ ,x is to be taken as Qy∃xϕ. Formally, ϕL,x is equiva- marked variables and Q for the marked) to be put in front of the formula. For lent to ∃xϕL and ϕL,x∗ is equivalent to QxϕL. Taking the transitiveness of this
relationship into account, for every labeled formula ϕL there is one and only
one ψ of the form just stated, such that ϕL and ψ are related. Its is defined that ϕL and ψ are equivalent formulas.

Theorem 3.1 NDQ is sound regarded to Keisler’s semantics
It will be proved that if Γ ▶NDQ ϕ then Γ |= ϕ.
the proof is by induction over the size of the proof of Γ ▶NDQ ϕ. Proof. It will be shown that each rule as well as the axiom is sound. Indeed,
Axiom: Is the same of the original axiomatic system.

ϕL,x

∃xϕL
∃xϕL
,
ϕL,x
QxϕL
,	∗  Since the respective premises and conclusions have
ϕL,x


the same semantics the rules above are sound.

ϕL,x∗

Qyϕ(y)L
is equivalent to
QxϕL Qyϕ(y)L
, which is sound, for it is an axiom

of the original Hilbert system for Keisler’s logic (Qxϕ(x, ...) ↔ Qyϕ(y, ...).
Π

ϕL


ϕ → ψ ψL

versal closure of ϕ → ψ with regard to L holds also. Thus, the rule is sound. As the variables in L do not occur free in the hypothesis of Π, the uni- Observe that this rule is a kind of relativized →-Elimination with regard to
the universal closure determined by L.
ϕL
·
·
·
·
ψL
ϕ → ψL
L is purely existential. If A |= H (where H is the conjunction of the
other hypotheses) and A |= ϕ → ψL, then A |= ¬(ϕ → ψ)[a1, ...an] for every a1, ..., an, where a1, ..., an are assigned to the variables in L. Thus A |= ϕ[a1, ..., an] and A |= ψ[a1, ..., an] for every a1, ..., an. Thus A |= ϕL and A |= ψL, and by induction hypothesis, this is contradictory.


ϕ ∨ ψL
ϕL
·
·
·
·
γL'

γL'
ψL
·
·
·
·
γL'


and

ψL
ψ ∨ ϕL

Directly follows from classical logic and the facts that the union of two
denumerable sets is denumerable and a superset of a non-denumerable set is non-denumerable.
[ϕ → ⊥L]
·
·
·
·
⊥
ϕK
As L contain only existential variables, the discharged formula is ∃x1...∃xn¬ϕ. As the premise (⊥) follows from inductive hypothesis, thus, H |= ¬∃x1...∃xn¬ϕ, where H is the conjunction of the other hypotheses. Hence H |= ϕK.



[Qx∃yϕ]
·
·
·
·
⊥	ϕ
ϕL,x,y∗




L,y∗,x


this rule follows immediately from the axiom Qy∃xϕ → ∃xQyϕ ∨ Qx∃yϕ. Observing the formulas and their respective labels, it can be viewed that
[ϕ]
·
·
·

ϕL	·


ψL
∗ (12)

the correctness of this rule follows directly from the correctness of the → E- Since the variables of L do not occur free in any hypothesis other than ϕ, rule.	 

Theorem 3.2 Every theorem of the original Keisler’s system is also a theo- rem of the system presented here.

Proof. This proof will be done by proving the axioms of the original Keisler’s Hilbert style system. Of course the classical axioms are derivable from NDQ
, so the proof will concentrate only in the characteristics axioms of the logic.
¬Qx(x = y ∨ x = z)
The first axiom is the same in both systems.
∀x(ϕ → ψ) → (Qxϕ → Qxψ)
[¬(ϕ → ψ)x]
∃x¬(ϕ → ψ)	¬∃x¬(ϕ → ψ)

[Qxϕ]

ϕx∗









ψx∗
⊥
RAA
ϕ → ψ



Qxψ

Qxϕ → Qxψ
Qxϕ(x, ...) ↔ Qyϕ(y, ...)


Qxϕ(x)
Q − Elim
ϕ(x)x∗
Q − Int

Qyϕ(y)
Qy∃xϕ → ∃xQyϕ ∨ Qx∃yϕ



Qy∃xϕ

∃xϕy∗





Q − E

∃− E











========================
[¬Qx∃yϕ(x, y)]1

ϕ(x, y)x,y∗

Qyϕ(x, y)x


∃xQyϕ(x, y)
ϕ(x, y)y∗ ,x



Q − I

∃− I

ℵ1 − p









[Qx∃yϕ(x, y)]2




Qx∃yϕ(x, y) ∨ ¬Qx∃yϕ(x, y)
∃xQyϕ(x, y) ∨ Qx∃yϕ(x, y)

∃xQyϕ(x, y) ∨ Qx∃yϕ(x, y)
∃xQyϕ(x, y) ∨ Qx∃yϕ(x, y)

1, 2



An example of proof in the system follows:


[x = y ∨ x = zx∗ ]1


[x = wx∗ ]2

x = w ∨ x = kx∗


[Qx((x = y ∨ x = z) ∨ x = w)]3


(x = y ∨ x = z) ∨ x = wx∗


¬Qx(x = y ∨ x = z)

⊥


Qx(x = y ∨ x = z)


¬Qx(x = w ∨ x = k)

⊥


Qx(x = w ∨ x = k)


1, 2

⊥
3
¬Qx((x = y ∨ x = z) ∨ x = w)


This proof shows that ▶ ¬Qx((x = y ∨ x = z) ∨ x = w), and it becomes clear how to obtain ▶ ¬Qx(x = y1 ∨ ... ∨ x = yn) for any natural n.

Proof-theoretical Discussion
In this section it is discussed the normalization of NDQ. The process would be the usual elimination of maximal formulas occurrences 4 . These eliminations are carried out by reductions. There is one reduction for each kind of maximal formula.

4 A maximal formula occurrence is the conclusion of an introduction and at the same time the major premise of an elimination



Π
ϕ(x)L,x∗
QI
Qyϕ(y)L


reduces to

Π[x ← y] ϕ(y)L,y∗

ϕ(y)L,y∗ QE
The proof that the result of the reduction is a proof indeed deserves some
care, as it is the case for the classical logic when it is need the separation between bound and free variables in a deduction. (see [5] and [8]).


ϕL,x
∃I
∃ϕL
∃E

reduces to ϕL,x

ϕL,x
[ϕ]
·
·
·
·
ψ
→ I



reduces to

[ϕ]
·
·
·
·
ψ	ϕK

ϕ → ψ	ϕK		 ∗
→ E	ψK
ψK
This reduction is correct because the conditions on the → I of the left derivation leads to the necessary conditions for a valid ∗-rule application on the right dedrivation.


ϕL
∨I
ϕ ∨ ψL
γK
[ϕL]
·
·
·
·
γK
[ψL]
·
·
·
·
γK
∨E

ϕL
·
reduces to	·
·
γK

The following example tries to figure out a case for which a maximal for-
mula cannot be eliminated.


[Qx∃yA(x, y)]
·
·
·
·
⊥
Qy∃xA(x, y)
∃xA(x, y)<y∗> QE
A(x, y)<x,y∗>  ∃E

A(x, y)<y∗,x>	ℵ
QI
QyA(x, y)<x>
∃I
∃xQyA(x, y)
A possible maximal formula is the hypothesis Qx∃yA(x, y) that was elim-

inated and that might not be subformula of any of the remaining hypothesis.
Consider the following proof-theoretical conjecture, and call it P :

Conjecture 4.1 if H, Qx∃yA(x, y) ▶ ⊥ then either Qx∃yA(x, y) is subfor- mula of some formula of H or A(x, y) ▶⊥ 
This property P would provide normalization.
Theorem 4.2 If property P holds, then the proofs of the above system are normalizeable
Proof. Consider the following application of the ℵ-rule:

[Qx∃yA(x, y)]
·
·
·
·
⊥	A(x, y)



<x,y∗>

A(x, y)<y∗,x>	ℵ
we call H the set of the hypotheses which, with Qx∃yA(x, y), leads to ⊥.
So by P , we have two cases:
Qx∃yA(x, y) is subformula of some formula of H:
then the elimination of Qx∃yA(x, y) does not interfere with the subformula property.
A(x, y) ▶ ⊥:
in this case the above derivation can be reduced to
A(x, y)x,y∗
·
·
·
·
⊥
A(x, y)y∗,x

Since we have reductions for all the possible maximal formulas, the proofs are normalizeable.	 
However property P has not been investigated yet.
Even if the system does not have full normalization, it still have good behavior, from the point of view of proof theory. It is possible to eliminate almost all maximal formulas. Of course this is not a technical observation.
However, in proving Γ ▶ ϕ, if it is not possible to have the subformula property,
for the above cited reason, it can be observed that the only formulas involved

in the proof are subformulas from either Γ ∪ {ϕ} or subformulas from Γ ∪ {ϕ}
in which the order between two of the quantifiers where reversed.

Conclusion
The framework presented here seems well fitted to quantification and to tem- poral logics with implicit quantification, like CTL and CTL*. As an example, the following rule was used for CTL:
[∀X]Al
∀E
Al+a
where [∀X] is a quantifier over possible computations, and the structure of the label reflects the relation between states of Kripke models for CTL.
Currently, a version of natural deduction for CTL* is being developed using this same framework. For CTL*, a different structure was used for the labels, because the truth of CTL* formulas is related to (infinite) paths and not only to states.
Full normalization was achieved for ultrafilter logic and, as expected, prob- lems related to induction were found when trying to normalize CTL and CTL*.
As stated above, it should be analyzed if the property “if H, Qx∃yA(x, y) ▶
⊥ then either Qx∃yA(x, y) is subformula of some formula of H or A(x, y) ▶
⊥” is true or false, so a conclusion could be stated about normalization for Keisler’s logic.

References
H.-D. Ebbinghaus, J. Flum, and W. Thomas. Mathematical logic, Springer, 1994
D.M. Gabbay. Labelled Deductive Systems, Volume 1 - Foundations. Oxford University Press, 1996.
E. H. Haeusler, L. C. Pereira. Inﬁnitary Linear Logic and Multiplicatively Quantiﬁed Linear Logic, Linear Logic and Applications, Dagstuhl-Seminar-Report, 248, 1999.
H. J. Keisler. Logic with the quantiﬁer “there exist uncountably many”, Annals of Mathematical Logic, Vol. 1, Number 1, January 1970, pp.1-93. North-Holland Publishing Co.
Dag Prawitz. Natural Deduction Bibliopolis, Stockholm, 1965.
de Queiroz, R. J. G. B. and Gabbay, D. M. Labelled Natural Deduction, Logic, Language and Reasoning. Essays in Honor of Dov Gabbay’s 50th Anniversary, H.J. Ohlbach and U. Reyle (eds.), Kluwer Academic Publishers, June 1999, pp. 173–250.
C. J. Renter´ıa, E. H. Haeusler. A Natural Deduction System for CTL, Bulletin of the Section of Logic, Volume 31/4, 2002.
[Renter´ıa2003] C. J. Renter´ıa, E. H. Haeusler, P. A. S. Veloso. NUL: Natural Deduction for Ultraﬁlter Logic, Bulletin of the Section of Logic, Volume 32/4, 2003.


D. Van Dalen. Logic and Structure, Springer-Verlag, 1994.
P. A. S. Veloso. Why Ultraﬁlters for almost all, Bulletin of the Section of Logic, Volume 28/4, 1999.
