Electronic Notes in Theoretical Computer Science 73 (2004) 111–131 
www.elsevier.com/locate/entcs


Exponentiation of Scott Formal Topologies
Maria Emilia Maietti - Silvio Valentini1
Dipartimento di Matematica Pura ed Applicata Universit`a di Padova
via G. Belzoni n.7, I–35131 Padova, Italy

Abstract
We prove that Scott formal topologies are exponentiable in the category of inductively generated formal topologies. From an impredicative point of view, this means that Scott domains are expo- nentiable in the category of open locales.
Keywords: constructive topology, exponentiation, constructive mathematics


Introduction
Formal topology is nowadays recognized as one of the main approaches to the development of constructive topology, where by constructive we mean intuitionistic and predicative. 2
Many results of classical and impredicative topology have been already studied predicatively by using formal topology (see [18] for an updated overview on formal topology).
In formal topology one describes a topological space by building the frame of its open sets, starting from a set of basic open sets. While the problem of expressing the union of basic opens is easily solved by considering the set of the involved basic opens, to describe the intersection of two open sets two

1 Email: maietti,silvio@math.unipd.it
2 Note that working in an intuitionistic and predicative setting means in particular that
one is free to use the axiom of choice; indeed, on the contrary of what happens in an impredicative foundation like topos theory, it is constructively admissible.


1571-0661 © 2004 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2004.08.005


approaches are possible. In the first approach one defines formal topologies starting from a pre-ordered base and then he describes the intersection on subsets by means of the preorder; in the second approach one defines formal topologies starting from a base closed under a monoid operation which is lifted at the level of subsets. In both cases continuous relations can be introduced and then we can organize formal topologies into a category, that we call FTop↓ in the case of formal topologies based on a preorder and FTop• in the case of formal topologies based on the monoid operation. Both FTop↓ and FTop• allow a predicative presentation of the category OpLoc of open locales [9,8]. The two kinds of presentation remain impredicatively equivalent to OpLoc also when we restrict ourselves to consider their full subcategories of inductively generated formal topologies (see [4]), that is, FTop↓i and FTop•i respectively. We can also consider formal topologies without the positivity predicate, called formal covers. They also can be organized into two categories, that we call FTop↓− and FTop•−, which are both impredicatively equivalent to the
category Loc of locales [7].
However, even if FTop↓ and FTop• are equivalent categories, they differ when we consider unary topologies (see section 2.3). Indeed, whilst the full subcategory of the unary topologies of FTop↓ is essentially equivalent to the category of algebraic dcpos with bottom, the full subcategory of the unary topologies of FTop•, called Scott formal topologies, is essentially equivalent to the one of Scott domains (see [21]).
In this paper, instead of studying the category FTop•, we restrict our at- tention to its subcategory FTop•i; indeed, this latter is predicatively known to be cartesian while FTop• is not. Our main result is a proof that Scott formal topologies are exponentiable in FTop•i. From an impredicative point of view, our result states that Scott domains are exponentiable in OpLoc. An analogous result can also be proved, with similar proofs, for the more general case of unary topologies in FTop↓i (see [12]). However, it is worth studying the exponentiation of unary topologies in FTop•i because the subcategory of Scott formal topologies is predicatively cartesian closed (see [22]) while the one of unary formal topologies of FTop↓i is not.
It is worth noting that the proof of exponentiation of unary topologies that
we propose here is intuitionistically valid even in an impredicative setting since in this case there is no need of using the axiom of choice. Checking this fact is almost straightforward everywhere in the proof apart for the point where we make use of co-induction to define the positivity predicate for the expo- nential topology. Indeed, whilst impredicatively the co-inductive definition we use can be easily justified by using Tarski fixed-point theorem, predica- tively the justification of its existence requires much more care and it can


be obtained according to the work by P. Martin-Lof’s, T. Coquand and E. Palmgren (see [2,16]).
As a consequence of our result, one also gets an entirely predicative proof that unary formal topologies are exponentiable in FTop•i−.
In the end of this introduction it can be useful to recall that the question of characterizing exponentiable topologies has a long history in the development of topology. Regarding classical topology, it is well known that the category Top of topological spaces and continuous functions is not cartesian closed. In fact, the topological spaces that can be exponentiated in Top are only those whose frames of open sets are locally compact locales (for an overview on this topic see [5]). This result was reproduced by Hyland in the context of the intuitionistic but impredicative theory of locales by showing that in Loc only the locally compact locales can be exponentiated [6]. Later, his proof of exponentiation was adapted to the language of formal topology, but still working within an impredicative setting (see [20]). More recently, Vickers reproduced most of Hyland’s results by using geometric reasoning (see [23]). We think that our main contribution in proving exponentiation of unary topologies in FTop•i is a detailed analysis of the conditions characterising the continuous relations between a unary formal topology and an inductively generated one. In fact, after this analysis, the axioms to be used in order to define the cover relation of the exponential topology, and the corresponding
positivity predicate, emerge naturally.


Formal Topologies and Their Morphisms

In this section we recall the basic definitions of formal topology. The reader interested to have more details on formal topology and a deeper analysis of the foundational motivations for its development within Martin-Lo¨f’s constructive type theory [10,11,15] is invited to look for instance at [18]. We start by recalling the definitions of •-formal cover and •-formal topology.

Definition 2.1 [Formal cover] A •-formal cover is a structure

A ≡ (A, ·, T, D)

where A is a set, · is an associative binary operation between elements of A,
T is a distinguished element of A and D is an infinitary relation, called cover

relation, between elements and subsets of A satisfying the following conditions:

(reflexivity)
aεU
a D U	(top) a D {T}	(transitivity)
a D U	U D V


a D V

a D U
(•-left) a · b D U
b D U
a · b D U	(•-right)
a D U	a D V


a D U · V

where U D V is a shorthand for (∀uεU ) u D V and U · V is a shorthand for the subset {u · v ∈ A | uεU & vεV }.
Definition 2.2 [Formal topology] A •-formal topology is a structure
A ≡ (A, ·, T, D, Pos)
where (A, ·, T, D) is a formal cover and Pos is a predicate over A, called the
positivity predicate, satisfying the following conditions:
Pos(a)	a D U

(monotonicity)


(∃uεU ) Pos(u)

(positivity axiom)	a D a+
where a+ ≡ {x ∈ A | x = a & Pos(x)}.
It is interesting to note that if a cover relation admits a positivity predicate then such a positivity predicate is unique (see [12]).
Then, a formal point is defined as follows.
Definition 2.3 [Formal point] Let (A, ·, T, D, Pos) be a •-formal topology. Then a subset α of A is a formal point if, for any a, b ∈ A and any U ⊆ A, it satisfies the following conditions:
(point inhabitance)	Tεα
aεα	bεα

(point directness)
(point splitness)


a · bεα aεα	a D U


(∃uεU ) uεα

To explain the intended meaning of the cover relation and the positivity predicate, it is convenient to introduce the map ext(−) which associates to a basic open a ∈ A the collection of the formal points to which a belongs. Then, the intended meaning of the cover relation a D U is that ext(a) ⊆ Ext(U ), where Ext(U ) ≡ uεU ext(u) is the collection of points containing some element u of U , while the intended meaning of Pos(a) is that there exists a formal


point in ext(a). It is trivial to check that, according to these meanings, the conditions on the cover relation and the positivity predicate in definition 2.2 are all valid.
Now, let us recall the notion of continuous relation between formal topolo- gies. It expresses a predicative counterpart of the notion of locale morphism. The definition of continuous relation is obtained from the definition of frame morphism expressed in terms of relation in [17] by taking the opposite relation.
Definition 2.4 [Continuous relation] Suppose A = (A, ·A, TA, DA, PosA) and У = (B, ·B, TB, DB, PosB) are two •-formal topologies. Then a continuous relation from A to У is a binary proposition aF b, for a ∈ A and b ∈ B, such that the following conditions are satisfied:
(function totality)	a F TB
a F b	a F d

(function convergence)


a F b · d

(function saturation)	a DA W	(6wεW ) w F b
a F b
(function continuity)	a F b	b DB V
a DA F −(V )
where F −(V ) ≡ {c ∈ A | (EvεV ) c F v}.
Some immediate consequences of the definition are the following.
Lemma 2.5 Let F be a continuous relation from A to У. Then, for any
a ∈ A and b ∈ B, F satisﬁes the following conditions:
(function monotonicity) PosA(a)	aFb
PosB(b)
(function positivity)	PosA(a) → aFb
aF b
Note that function monotonicity was included in the original definition in
[17] but it was later observed to be derivable in [14].
To organize formal topologies and continuous relations into a category we can not simply consider relation composition. Indeed, given any continuous relation F from A to У and any continuous relation G from У to C, G◦F is not a continuous relation because it satisfies all of the conditions for a continuous relation except for saturation. However, we can turn formal topologies and continuous relations into a category in the following way [24].
Proposition 2.6 Formal topologies and continuous relations form a category


FTop• provided that, for any continuous relation F from A to У and any con- tinuous relation G from У to C composition of relations is deﬁned by setting, for a ∈ A and c ∈ C,
a G ∗ F c ≡ a D {x ∈ A | (Ey ∈ B) x F y & y G c}
and the cover relation is used like unit.
Since the definition of continuous relation does not depend on the positivity predicate we obtain a category also in the case of considering formal covers as objects.
Definition 2.7 Formal covers and continuous relations form a category FTop −.
The category FTop• is impredicatively equivalent to the category OpLoc of open locales [9] (for a recent proof see [14]) while FTop•− is impredicatively equivalent to the category Loc of locales (see [1]).
Inductively generated formal topologies
One of the main tools in formal topology is the inductive generation of the cover since this allows to develop proofs by induction. A general method for generating inductively formal topologies was proposed in [4]. It allows to construct the minimal cover relation which satisfies a given set of axioms. Here, we adapt this method to the framework of •-formal topology. Given a set of axioms, specified, for each basic open a ∈ A, by an axiom indexing set IA(a) and, for each index i ∈ IA(a), by a subset CA(a, i) of A that is supposed to cover a, and a predicate Pos(−) satisfying
 Pos(a)	i ∈ IA(a) 
(axiom monotonicity)
(EcεCA(a, i)) Pos(c)


and

(•-left monotonicity)
Pos(a · b)


Pos(a)
Pos(a · b)


Pos(b)

we can generate inductively a cover relation by using like inductive rules only
reflexivity, •-left and the following new one:
(infinity) i ∈ IA(a)	CA(a, i) D U
a D U
It is then possible to show that the cover so obtained respects the set of axioms IA(−) and CA(−, −) and the conditions top, reflexivity, transitivity, •- left and •-right, and also monotonicity and positivity with respect to the given


positivity predicate, provided that in the axiom-set IA(−) and CA(−, −) that we are considering, there are indexes for the following subsets 3
(localized top)	CA(a, k1) ≡ {a · T}
(contraction)	 CA(a, k2) ≡ {a · a} (localized contraction) CA(c · a, k3) ≡ {c · a · a} (exchange)	 CA(a · b, k4) ≡ {b · a} (localized exchange)	CA(c · a · b, k5) ≡ {c · b · a} (positivity)	 CA(a, k6) ≡ a+
and that it satisfies the following localization condition which guarantees the validity of •-right 4 .
Definition 2.8 [Localization condition] Let A be any set and IA(−) and CA(−, −) be an axiom-set for a cover relation on A. Then such an axiom-set satisfies the localization condition if, for any i ∈ IA(b), there exists j ∈ IA(a · b) such that CA(a · b, j) ⊆ {a}· CA(b, i).
Now, we are ready to introduce the following definition.
Definition 2.9 We call FTop•i the full sub-category of FTop• whose objects are inductively generated formal topologies. Analogously, we call FTop•i− the full sub-category of FTop − whose objects are inductively generated formal
covers.
From an impredicative point of view, FTop•i and FTop• are equivalent likewise FTop•i− and FTop•−. On the other hand, from a predicative point of view, FTop•i and FTop• are not equivalent because there are formal topologies which can not be generated by induction (see the last section of [4]).
It is interesting to observe that we can always turn an inductively generated formal cover into an inductively generated formal topology.
Proposition 2.10 (Coreflection) The category FTop•i is a coreflective sub- category of FTop i−.
The proof of such a result in the context of formal topologies based on a preorder relation can be found in [13] and it can be easily reproduced in the

3 Not all requirements are necessarily needed. Indeed, in the presence of localized top, exchange and localized contraction then contraction is derivable, but we leave it to be modular.
4 This condition is a weaker variant of Johnstone’s meet stability condition on coverages [7].


context of •-formal topologies. The process of building the minimal induc- tively generated formal topology embedded into a given inductively generated formal cover is the following. Given any axiom-set IA(−), CA(−, −), one can show that it is always possible to define a predicate Pos(−) which satisfies both axiom monotonicity and •-left monotonicity by simply considering these conditions like co-inductive rules. Then, after the predicate Pos(−) has been defined, we can add to IA(a) a new index ∗ and to the family of subsets CA(a, −) the subset CA(a, ∗) ≡ a+. Thus, we obtain a new axiom-set I' (−), C' (−, −) which still satisfies localization condition, axiom monotonicity and
-left monotonicity. So, Pos(−) is a positivity predicate for the cover relation
inductively generated by using the axiom-set I' (−), C' (−, −).
A	A
Whilst impredicatively, the existence of such a predicate defined by coin-
duction can be easily justified by using Tarski fixed-point theorem, predica- tively the justification of its existence requires much more care but it can be given according to the work done by P. Martin-Lo¨f’s, T. Coquand and E. Palmgren (see [2,16]).

Cartesianity of FTop•i and FTop•i−
From now on we concentrate on the categories of inductively generated formal topologies since they are known to be cartesian (see [4]).
Proposition 2.11 FTop i and FTop i− are cartesian categories.
Proof. In both categories, the terminal object is the formal topology T in- ductively generated by the empty set of axioms on the set T ≡ {T} equipped with the trivial binary operation and with the positivity predicate defined by stating that, for any a ∈ T , Pos(a) ≡ True.
The binary product of the inductively generated formal topologies A and У, whose axiom-sets are respectively IA(−), CA(−, −) and IB(−), CB(−, −), is the formal topology A×У over the set A × B with the binary operation defined by setting
(a1, b1) · (a2, b2) ≡ (a1 · a2 , b1 · b2) the top element defined by setting
TA×B ≡ (TA, TB)
the positivity predicate defined by setting
PosA×B((a, b)) ≡ PosA(a) & PosB(b)

and axiom-set
I((a, b))	≡ IA(a)+ IB(b)
CA(a, ia) × {b} if i ≡ inl(ia)
C((a, b), i) ≡
⎩ {a}× CB(b, ib) if i ≡ inr(ib)
Note that we did not add localized top, exchange, localized exchange, con- traction, localized contraction axioms and the positivity axiom since their va- lidity in the inductively generated cover follows from the presence of the other axioms. Finally, given any inductively generated formal topology C and any continuous relation F from C to A and any continuous relation G from C to У we define
(pairing)	c ⟨F, G⟩ (a, b) ≡ c F a & c G b
(first projection)	(a, b) Π1 c	≡ (a, b) DA×B {(x, y) | x D c}
(second projection) (a, b) Π2 d	≡ (a, b) DA×B {(x, y) | y D d}

which are respectively the pairing and projection morphisms that make the formal topology A× У a binary product of A and У.	 
Now, we turn to consider the properties of continuous relations among inductively generated formal topologies. The following lemmas show that the general conditions defining a continuous relation can be simplified when we are dealing with maps between inductively generated formal topologies.
Lemma 2.12 Let A be a formal topology, У be an inductively generated for- mal topology and F be a continuous relation from A to У. Then the following conditions are equivalent:
function continuity

a F b	j ∈ J(b)
(axiom cont.) a D F −(C(b, j)) and (weak-cont.)
a F b	b D d a F d

a F b	j ∈ J(b)
(axiom cont.) a D F −(C(b, j)) and (•-cont.)
a F b · d a F b
a F b · d a F d

where JB(−) and CB(−, −) is the axiom-set of the inductively generated formal topology У.
Note that the instance of axiom cont. on the axiom CA(b, j) ≡ b+, for some suitable j ∈ JB(b), is equivalent to function monotonicity.


Lemma 2.13 Let A be a formal topology, У be an inductively generated for- mal topology and F be a continuous relation from A to У. Then the following conditions are equivalent:
function saturation

(axiom-sat.)
i ∈ I(a) (6xεC(a, i)) xF b aF b
and (weak-sat.)
a D c cF b aF b

(axiom-sat.)
i ∈ I(a) (6xεC(a, i)) xF b


aF b
and (•-sat.)
a F b


a · cF b
c F b


a · cF b

where IA(−) and CA(−, −) is the axiom-set of the inductively generated formal topology A.
Note that the instance of axiom-sat. on the axiom CA(a, i) ≡ a+, for some suitable i ∈ IA(a), is equivalent to function positivity.
Finally, we recall the following result linking formal points with continuous relations.
Proposition 2.14 Let A be a formal topology. Then, there is a bijective correspondence between the collection Pt(A) of the formal points of A and the continuous relations from the terminal formal topology T to A.
Scott formal topologies
The main result of this paper is a proof that Scott formal topologies are exponentiable over inductively generated formal topologies. Let us recall here the definition of Scott formal topology.
Definition 2.15 A formal topology (A, ·, T, D, Pos) is called Scott formal topology (or unary •-formal topology) if, for any a ∈ A and U ⊆ A,
a D U if and only if Pos(a) → (EuεU ) a D {u}
Given any formal topology (A, ·, T, D, Pos) its unary image Un(A) is the unary •-formal topology Un(A) ≡ (A, ·, T, DUn, Pos) where the cover DUn is defined by setting:
a DUn U ≡ Pos(a) → (EuεU ) a D {u}
It is trivial to see that Scott formal topologies form a full sub-category of FTop•, that we will call unFTop•. Since it is possible to prove that unary topologies are inductively generated (see [4]), then unFTop• is also a subcat- egory of FTop•i. While it is obvious that this result trivially holds from an impredicative point of view, it is interesting to note that a predicative proof


requires the use of the axiom of choice, which is an immediate consequence of the definition of the Σ-type in Martin-Lo¨f’s Type theory.
Scott formal topologies such that Pos(T) holds are distinguishable among formal topologies because the collection of their formal points forms a Scott domain. 5
We call scFTop the full subcategory of unFTop• of Scott formal topologies satisfying Pos(T). This category is equivalent to the category of the informa- tion bases introduced in [21], where an information base differs from a Scott formal topology only for the fact that the cover relation is restricted to a re- lation between elements of the base. Such an equivalence yields the following results.
Theorem 2.16 ([21,22]) scFTop is impredicatively equivalent to the category of Scott domains and Scott continuous functions. Moreover, it is predicatively cartesian closed.
Note also that, on the contrary, the category of unary formal topologies in FTop↓i is not cartesian closed since it is essentially equivalent to the category of algebraic dcpos with bottom.
The next lemma on the product of an inductively generated formal topol- ogy with a unary one will be useful in the following.
Lemma 2.17 Consider the binary product of an inductively generated •-formal topology C ≡ (C, ·C, TC, DC, PosC) and a Scott formal topology A ≡ (A, ·A, TA, DA
, PosA). Then, if (c, a) DC×A W and PosA(a) hold then there exists a subset W1 of C such that c DC W1 and, for every w1εW1 there exists w2 ∈ A such that a DA w2 and (w1, w2)εW.
Proof. By induction on the length of the derivation of (c, a) DC×A W . 
The definition of continuous relation between formal topologies can be substantially simplified if we restrict our attention to the case of continuous relations from a unary formal topology to a generic one. This simplification is the key for the possibility to define the exponential topology of a unary formal topology over an inductively generated one (see sections 3.1 and 4.1).
Proposition 2.18 Suppose that A is a Scott formal topology and У any •- formal topology. Then a continuous relation from A to У is a binary proposi- tion a F b between A and B which satisﬁes function totality, weak-saturation,

5 The positivity predicate is used to express the fact that only bounded compact elements have a supremum. In fact, if we consider a unary •-formal topology whose base elements are all positive, then its formal points form an algebraic lattice.


function positivity, function convergence and the following special case of con- tinuity
(unary continuity)	Pos(α)	α F b	b DB V
(EvεV ) α F v
As we already did in lemma 2.12, the unary continuity condition can be further simplified if the co-domain formal topology is inductively generated.
Lemma 2.19 Let A be a Scott formal topology, У be any inductively generated
-formal topology and F be a continuous relation from A to У. Then unary continuity is equivalent to weak-continuity plus the following condition


(unary axiom continuity)
Pos(α)	α F b	j ∈ J(b) (EvεC(b, j)) α F v


The Construction of the Exponential Object
After the presentation of the category FTop•i in the previous sections we are now ready to prove the main result of the paper, namely, the exponentiation of unary •-formal topologies over inductively generated ones.

The exponential topology
Given a Scott formal topology A and an inductive generated one У, we show how to build a formal topology, that we indicate by A → У, whose formal points are (in bijective correspondence with) the continuous relations from A to У. The set A → B of basic neighbourhoods of A → У is the set of lists whose elements are couples in the set PosA × B ≡ {(α, b) ∈ A × B | PosA(α)}. The associative binary operation on A → У is the operation of appending two lists. The intended meaning of a list l ∈ A → B is to give a partial information on a continuous relation R from A to B. To indicate that the list l approximates the continuous relation R we introduce the following notation
R H l ≡ (6(α, b)ϵl) αRb

where the proposition xϵl is defined by induction on the construction of l by setting xϵnil ≡ False and xϵ(α, b) · l ≡ (x = (α, b)) ∨ xϵl.
The reason to consider only couples in PosA × B is that function positivity guarantees that every non positive element of A is in relation with every element of B and hence it is useless to keep the information on the non- positive elements of A.

We also introduce an equivalence relation among lists
l ∼ m ≡ (6(α, b) ∈ PosA × B) (α, b)ϵm ↔ (α, b)ϵl
which simply states that l and m contain the same couples.
According to the explanation in section 2.1, to generate the exponential cover we have first to find an axiom-set that specifies the main properties of the cover relation, then we have to add the localized top, exchange, localized exchange, contraction and localized contraction axioms if they are not already derivable, successively we have to define by co-induction the positivity pred- icate, then we have to add to the axiom-set so far obtained the positivity axiom and finally we generate the cover relation by induction by the rules of reflexivity, •-left and inﬁnity.
The inspiring idea for the axiom-set is to look for those axioms which will force a point of the exponential formal topology to be a continuous relation. Hence, recalling that the intended meaning of l D U is that ext(l) ⊆ Ext(U ), that is, every formal point containing l also contains a basic neighbourhood of U , then l D U amounts to state that, for any continuous relation F , if F H l then there exists mεU such that F H m. Following this intuition we arrive to state that, for any l ∈ A → B, there are indexes in I(l) for the following subsets of A → B:
(equality-ax.)	C(l, −) ≡ {m}	if m ∼ l
(totality-ax.)	C(l, −) ≡ {m}	if m ∼ (α, TB) · l
(unary convergence-ax.) C(l, −) ≡ {m}	if m ∼ (α, b · d) · l
and (α, b)ϵl, (α, d)ϵl
(weak saturation-ax.)	C(l, −) ≡ {m}	if m ∼ (α, b) · l
and (c, b)ϵl, Pos(α),α DA c
(weak continuity-ax.)	C(l, −) ≡ {m}	if m ∼ (α, d) · l
and (α, b)ϵl, b DB d
(unary continuity-ax.)	C(l, −) ≡ {mv | v ∈ C(b, j)} if mv ∼ (α, v) · l
and (α, b)ϵl, j ∈ J(b).

The first schema is the formalization of the equivalence between two lists, which is added to satisfy the localization condition, the second schema is the formalization of function totality, the third one of unary convergence, the fourth one of weak-saturation, the fifth one of weak-continuity and the sixth one of unary axiom continuity. It is possible to show that the axioms above form


an axiom-set. To these axioms we do not need to add localized top, exchange, localized exchange, contraction and localized contraction axioms since they are already included in the equality axioms. Then, it is not difficult to verify that such an axiom-set satisfies the localization condition.
Now, we have to look for a positivity predicate which satisfies •-left mono- tonicity and is monotone on the axiom-set considered so far 6 . Here, we follow the process of turning an inductively generated formal cover into an induc- tively generated formal topology by defining the positivity predicate by coin- duction as described in section 2.1.
In this way, we arrive at the following co-inductive rules


(•-left monotonicity)	Pos(l1 · l2)
Pos(l1)
Pos(l1 · l2)
Pos(l2)

(equality positivity) (totality positivity)
(unary convergence positivity) (weak-saturation positivity) (weak-continuity positivity) (unary continuity positivity)
Pos(l)	l ∼ m


Pos(m) Pos(l)	Pos(α)


Pos((α, T) · l)
Pos(l)	(α, b)ϵl	(α, d)ϵl
Pos((α, b · d) · l)
Pos(l)	Pos(α)	α D c	(c, b)ϵl
Pos((α, b) · l)
Pos(l)	(α, b)ϵl	b D d
Pos((α, d) · l)
Pos(l)	(α, b)ϵl	j ∈ J(b)
(EyεC(b, j)) Pos((α, y) · l)

To complete the construction of the axiom-set for the exponential A→ У it remains to add the positivity axiom with respect to the obtained positivity predicate. This addition ends the description of the axiom-set to be used to generate the cover relation for the formal topology A → У and so we only have to prove that the resulting formal topology is the exponential topology of A over У.
Theorem 3.1 Scott formal topologies are exponentiable in FTop•i.
Proof. Formally, the statement means that for any Scott formal topology A
the functor −×A from FTop•i to FTop•i has got a right adjoint A→ − from

6 An alternative way to prove the existence of the exponential topology of A over B in FTop•i is deriving it as a consequence of the general fact that a coreflective subcategory inherits exponentiation (see [13] for more details). Thus, it would be sufficient to prove that the formal cover inductively generated by using the axioms here above is the exponential formal cover of A over B in FTop•i−. We do not follow this route to make the paper self-contained as much as possible.


FTop•i to FTop•i. The required right adjoint maps a formal topology У to the exponential formal topology A → У just defined. The application morphism Ap from A× (A → У) to У is the relation defined by setting, for any α ∈ A, l ∈ A → B and b ∈ B,
(α, l) Ap b ≡ Pos(α) → (l D (α, b) · nil)
while the abstraction morphism is defined by setting, for any continuous rela- tion F from C × A to У and for any c ∈ C and any l ∈ A → B,
c Λ(F ) l ≡ (6(α, b)ϵl) (c, α) F b 
In proving that these definitions yield continuous relations, the key difficulties rely in proving that Λ(F ) satisfies function continuity with respect to the unary continuity axiom and the positivity axiom. Continuity of Λ(F ) with respect to the unary continuity axiom is proved by a suitable application of lemma 2.17 and continuity with respect to the positivity axiom is proved by showing the validity of function monotonicity for Λ(F ). To prove the latter we introduce the proposition
Q(m) ≡ (Ex ∈ C) Pos(x) & x Λ(F ) m
and prove that it satisfies all of the conditions defining the positivity predicate of A → У. Here we need again lemma 2.17 to prove that Q satisfies unary continuity positivity. Then we can conclude. Indeed, Pos(c) and cΛ(F )l yields Q(l) and hence Pos(l) follows by maximality of Pos.	 
Let us remark that the proof of this theorem is valid intuitionistically even in an impredicative approach since no use of the axiom of choice is required.
After this theorem we can prove the following corollary.
Corollary 3.2 Let A be a Scott formal topology and У be any inductively generated •-formal topology. Then, there exists a bijective correspondence be- tween the collection of the formal points of A → У and the collection of the continuous relations from A to У.
Proof. Combine prop. 2.14 with theorem 3.1.	 
Note that this bijective correspondence can be explicitly defined as follows. To any formal point Φ of A → У we associate a relation RΦ between A and У defined by setting:
αRΦb ≡ α D {c ∈ A | (c, b) · nilεΦ}


which can be proved to be continuous. Vice-versa, to any continuous relation
R we associate the subset of A → B defined by setting
ΦR ≡{ l ∈ A → B | R H l}

which can be proved to be a formal point of A→ У.

Concluding Remarks on Exponentiation
In this section, we comment our main result and show some applications.

Why our result is limited to unary formal topologies
It should be clear that all of the conditions on a continuous relation F from a unary formal topology A to an inductively generated one У have in general one of the following shapes, for α, α' ∈ A, b, b' ∈ B and V ⊆ B:


α R b		P (α, b, α', b') α' R b'
α R b	Q(α, b, V ) (EyεV ) α R y

Now, in section 3.1 we showed how to obtain an axiom out of each kind of condition. In fact, any condition whose shape is
α R b	P (α, b, α', b')
α' R b'	corresponds to the axiom
l D (α', b') · l, provided that (α, b)ϵl and P (α, b, α', b') and any condition whose shape is

α R b	Q(α, b, V )


(EyεV ) α R y
corresponds to the axiom
l D {(α, y) · l | yεV }, provided that (α, b)ϵl and Q(α, b, V )


Thus, one can define the exponential of an inductively generated formal topol- ogy over another one provided that it is possible to express the general con- ditions on a continuous relation by using one of the shapes above. So far, we have been able to obtain exponentiation only of unary formal topologies both in the context of •-formal topologies and in the context of formal topologies based on a preorder (see [12]).

Exponentiation over formal covers
The proof of exponentiation of Scott formal topologies in FTop•i suggests how to prove exponentiation of Scott formal topologies over inductively generated formal covers.
Theorem 4.1 Scott formal topologies are exponentiable in FTop i−.
Proof. The exponential topology of a Scott formal topology A over a generic inductively generated formal cover У is the formal cover inductively gener- ated by the axiom-set described in section 3.1 including only equality-ax., totality-ax., unary convergence-ax., weak saturation-ax., weak continuity-ax. and unary continuity-ax. Then, application and abstraction are defined as in theorem 3.1.	 
This result constitutes a partial, but completely predicative, version of [6,8,20]. Indeed, in those papers, if A is a locally compact locale and У is any locale, then the cover for A → У is generated from axioms on a new proposition, denoted by α  f ∗(b) in [6], which represents the collection of locale morphisms f such that α is way-below f ∗b. Now, when A is a locale representing a Scott domain, this proposition corresponds exactly to our R ∈ ext((α, b)· nil) since ext((α, b)· nil) is the collection of all the continuous relations R such that α R b.
Exponentiation over ﬁnitary formal topologies
Among inductively generated formal covers one can consider in particular finitary covers [4], namely formal covers such that
α D U if and only if (EU0 ⊆ω U ) α D U0
It is not difficult to see that in FTop•i− the exponentiation of Scott formal topologies with a base of positive elements, that is, of Scott formal topologies whose formal points form an algebraic lattice, restricts to the subcategory of finitary covers. Indeed, to obtain this result we have simply to check that the axioms generating the exponential cover of a unary •-formal topology over a finitary one remain finitary.
Embedding
The exponential of a Scott formal topology A over any inductively generated
-formal topology У can be embedded into the exponential A → Un(У) of A over the unary image Un(У) of У. Since it is known that the category of Scott formal topologies scFTop is cartesian closed (see [22]), then we can prove that


A→ Un(У) is isomorphic to the Scott formal topology A →scFTop Un(У), that is, the exponential of A over Un(У) according to the exponentiation structure of scFTop as defined in [22]. The definition of A →scFTop Un(У) is the following. The base of A →scFTop Un(У) is the same as that of A→ Un(У). Its positivity predicate and cover relation are defined, for l ∈ A → B and U ⊆ A → B, as follows:
PosA→scFTopUn(B)(l) ≡ (6y ± l) PosA(⊙Ay) → PosB(⊙By)
l DA→scFTop Un(B) U ≡ PosA→scFTop Un(B)(l) →
(EmεU )(6x ± m)(Ey ± l) ⊙A x DA ⊙Ay & ⊙B y DB ⊙Bx
where ± is the sub-list relation defined by setting
y ± l ≡ (6(α, b) ∈ PosA × B) (α, b)ϵy → (α, b)ϵl
and the operations ⊙A(l) and ⊙B(l) yield respectively the product of the first components of all the elements in l and the product of the second components of all the elements in l.
Proposition 4.2 In FTop•i the exponential A→У of a Scott formal topology A over an inductively generated formal topology У embeds continuously into the exponential A→ Un(У) via the cover relation of A→ У. Moreover, A → Un(У) is isomorphic to the exponential of approximable relations A →scFTop Un(У) in scFTop.
Proof. To prove the embedding of A→У into A→ Un(У) a key point is to show that unary continuity axiom reduces to weak-continuity axiom. To this purpose it is useful to show that if (α, b)ϵl and Pos(l) then PosB(b) follows.
This is a consequence of a more general fact, namely, that PosA→B satisfies
(•-monotonicity) 	PosA→B(l)	y ± l	
PosA(⊙Ay) → PosB(⊙By)
which can be proved as follows. Suppose that Pos(l), y ± l and PosA(⊙Ay) hold. Then, after applying weak-saturation positivity and unary convergence positivity repeatedly to derive Pos((⊙Ay, ⊙By) · l) from Pos(l), we use unary continuity positivity on the positivity axiom ⊙By DB (⊙By)+ to conclude PosB(⊙By).
Finally, to prove that A→ Un(У) is isomorphic to A →scFTop Un(У) a key point is to show that the positivity predicate of A → Un(У) is equivalent to the positivity predicate of A →scFTop Un(У) in scFTop and this follows easily by •-monotonicity for PosA→Un(B).	 


Recalling that there is a bijective correspondence between the collection of the formal points of A→ У and the one of the continuous relations from A to У, this embedding means that continuous relations from a Scott formal topol- ogy A to an inductively generated •-formal topology У form a subcollection of the collection of the continuous relations from A to Un(У). This is a special case of a more general lifting property of continuous relations. Indeed, since any •-formal topology A continuously embeds in its unary image Un(A), we can prove that every continuous relation from the •-formal topologies A to У can be lifted to a continuous relation from Un(A) to Un(У), as first noted by
G. Sambin.
Theorem 4.3 (domain lifting) Let R be a continuous relation from A to У in FTop•. Then, the same relation is also a continuous relation from the associated unary •-formal topologies Un(A) to Un(У). Moreover, the following diagram commutes in FTop•

A 	R	 У 

ξA	ξB
J	J 
Un(A)  R  Un (У)

where, for any α, α' ∈ A, α ξA α' ≡ α DA α', and, for any b, b' ∈ B, b ξB b' ≡
b DB b'.

It is interesting to note that this theorem does not hold for unary formal topologies in FTop↓ or FTop↓i.
Moreover, note that the assignment of a Scott formal topology to any formal topology does not extend to a functor from the category of •-formal topologies to that of Scott formal topologies since the lifting of a continuous relation is not functorial.
Remark 4.4 The embedding of a formal topology into its unary image and the lifting of continuous relations to unary topologies are the counterparts of the fact that a topological space can be embedded into a Scott domain and that a continuous function can be lifted to an approximable map (see [19]). A lifting of this kind is the key point in [3] to prove that the category Top of topological spaces and continuous functions satisfies some weaken notions of exponentiation and hence it is possible to build a locally cartesian closed category out of it. Indeed, Top is not cartesian closed but in [3] it is proved that its exact completion turns out to be a locally cartesian closed category.

Acknowledgements
This work is based on so many results in formal topology that we feel to thank all of the people that contributed to it, especially Paolo Virgili, Gio- vanni Sambin, Silvia Gebellato, Giovanni Curi and Thierry Coquand. We also acknowledge fruitful discussions with Mart´ın Escardo´ on the general topic of this paper.

References
G. Battilotti and G. Sambin. Pretopologies and a uniform presentation of sup-lattice, quantales and frames. Draft, 2001.
T. Coquand. Formal Topology with posets. Manuscript, 1996.
A. Carboni and G. Rosolini. Locally Cartesian closed exact completions. Category theory and its applications (Montreal, QC, 1997). J. Pure Appl. Algebra, pages 103–116, 2000.
T. Coquand, G. Sambin, J. Smith, and S. Valentini. Inductively generated formal topologies.
Annals of Pure and Applied Logic, 2003.
M.H. Escard´o and R. Heckmann. Topologies on spaces of continuous functions. Topology Proceedings, 26(2):545–564, 2001–2002.
J.M.E. Hyland. Function spaces in the category of locales. Lecture Notes in Mathematics, 871:264–281, 1981.
P.T. Johnstone. Stone spaces. Cambridge University Press, 1982.
P.T. Johnstone. Open locales and exponentiation. Contemporary Mathematics, 30:84–116, 1984.
A. Joyal and M. Tierney. An extension of the Galois theory of Grothendieck. Mem. Amer. Math. Soc., 51:no.309, 1984.
P. Martin-Lo¨f. An intuitionistic theory of types: predicative part. In H.E. Rose and J.C. Shepherdson, editors, Logic Colloquium ’73 (Bristol, 1973), volume 80 of Studies in Logic and the Foundations of Mathematics, pages 73–118. North-Holland, Amsterdam, 1975.
P. Martin-Lo¨f. An intuitionistic theory of types. In J. Smith G. Sambin, editor, Twenty ﬁve years of Constructive Type Theory, pages 127–172. Oxford Science Publications, 1998.
M.E. Maietti and S. Valentini. Exponentiation of unary topologies over inductively generated formal topologies. See
http://www.math.unipd.it/∼silvio/WorkinProg.html , 2002.
M.E. Maietti and S. Valentini. Coreflection of formal topologies into formal covers. Preprint, University of Padova, 2003.
S. Negri. Continuous domains as formal spaces. Mathematical Structures in Computer Science, 12:19–52, 2002.
B. Nordstr¨om, K. Peterson, and J. Smith. Programming in Martin Lo¨f ’s Type Theory.
Clarendon Press, Oxford, 1990.
E. Palmgren. Regular universes and formal spaces. Technical Report, University of Uppsala, 42, 2002.
G. Sambin. Intuitionistic formal spaces - a first communication. Mathematical logic and its applications, pages 187–204, 1987.


G. Sambin. Some points in formal topology. Theoretical Computer Science, 2003.
D. Scott. Data types as lattices. Semantics and correctness of programs. SIAM J. Comput., 3:1522–587, 1976.
I. Sigstam. Formal spaces and their effective presentations. Arch. Math. Logic, 34:211–246, 1995.
G. Sambin, S. Valentini, and P. Virgili.	Constructive Domain Theory as a branch of Intuitionistic Pointfree Topology. Theoretical Computer Science, 156:319–341, 1996.
S. Valentini. A cartesian closed category in Martin-L¨of’s intuitionistic type theory. Theoretical Computer Science, 2003.
S. Vickers. The double powerlocale and exponentiation: a case study in geometric logic. Draft, 2001.
P. Virgili. Una categoria cartesiana chiusa delle topologie formali. Tesi di laurea, University of Milano, 1990.
