EURO Journal on Computational Optimization 9 (2021) 100009

		




Multi-sourcing under supply uncertainty and Buyerâ€™s risk aversion
Prashant Chintapalliâˆ—
Ivey Business School, Western University, London, Ontario N6A 3K7, Canada


a r t i c l e	i n f o	a b s t r a c t

	

Keywords:
Purchasing Supplier/vendor selection Supply/yield uncertainty
Approximate dynamic programming Stochastic programming with recourse
We address the combined problem of supplier (or vendor) selection and ordering decision when a buyer can choose to procure from multiple suppliers whose yields are uncertain and potentially correlated. We model this problem as a stochastic program with recourse in which the buyer purchases from the suppliers in the first period and, if needed, chooses to purchase from the spot market or from the suppliers with excess supply, whichever is beneficial, in the second period in order to meet the target procurement quantity. We solve the above problem using sample average approximation (SAA) technique that enables us to solve the problem easily in practice. We compare the performance of our solution with the certainty equivalent problem, which is practiced widely and which we use as the benchmark, to evaluate the eï¬ƒcacy of our approach. Next, we extend our model to incorpo- rate buyerâ€™s risk aversion with respect to the quantity procured. We reformulate the multi-sourcing problem as a mixed integer linear program (MILP) and adopt a statistical approach to account for buyerâ€™s risk aversion. Thus, we design a simple computational technique that provides an optimal sourcing policy from a set of suppliers when each supplierâ€™s yield is uncertain with a generic probability distribution.





Introduction

Procurement (or sourcing) is one of the major activities of any supply chain because it is essential to ensure suï¬ƒcient raw materials and other auxiliary inputs of the firms in the supply chain in order to produce their intended output goods and services. Moreover, since procurement happens as one of the early operations in a production system, it largely determines the throughput of the system, by being a potential bottle- neck.
Among the procurement activities of a firm, supplier (or vendor) se- lection and decision of order quantities is crucial. For this reason, man- agers exercise utmost care when selecting vendors and placing orders. Furthermore, the supply uncertainty that a manager faces from each supplier compounds the procurement process. In this paper, we develop a simple approach to manage supplier selection and order placement process when supply is uncertain. We use the term â€œsupplier yield un- certaintyâ€, which is commonly used in the OM literature, to refer to the idea of supply uncertainty.
Unlike many of the earlier methods in the extant literature that as- sume independent supply uncertainties among suppliers, our method can also be used when supply uncertainty is correlated (either positively or negatively) among suppliers. Correlated supplier yield uncertainties are not only important but also commonly observed when upstream sup- ply of a raw material to the suppliers is from a common pool. For in- stance, the supply uncertainty among different steel-sheet suppliers in a specific geographical area could be highly correlated because the up-

âˆ— Corresponding author.
stream supplier of steel (or ore) to the steel-sheet suppliers may be com- mon. The same can be observed in many other commodities like coal and other minerals, fresh produce, human-labor and the like. There- fore, it is important for a procurement manager to account for supplier- yield correlations when making supplier selection and order decisions. In addition to the common external upstream uncertainties faced by the suppliers, their individual process uncertainties further add to the fi- nal uncertainty of the supply that they can provide to the downstream buying firm, which we refer to as â€œbuyerâ€ in this paper.
First, we develop a simple OR-based technique to address this supplier-selection and order-management problem. We compare our method with the certainty-equivalent problem approach that is often prac- ticed in order to assess the eï¬ƒcacy of our model. Later, we extend our model to incorporate buyerâ€™s risk aversion, which captures buyerâ€™s be- havioral aspects and his sensitivity to shortfall in procured quantity that are not entirely captured in our initial model. Given the complexity of the problem, we propose a statistical-based procedure to solve the multi- sourcing problem under supply uncertainty and varying supplier selling prices. Thus, we provide a simple and yet scalable method that can be used well to solve multi-sourcing problem under supply uncertainty.
Our paper is organized as follows. In Section 2 we provide a review of the relevant literature. In Section 3, we model and analyze a single- supplier scenario and extend it to incorporate buyerâ€™s risk aversion. In Section 4, we develop and analyze the multi-supplier model to solve the multi-sourcing problem under supply uncertainty. We also extend this model to incorporate buyerâ€™s risk aversion towards the shortfall in the


https://doi.org/10.1016/j.ejco.2021.100009
Received 9 December 2020; Received in revised form 7 July 2021; Accepted 30 July 2021
2192-4406/Â© 2021 The Author(s). Published by Elsevier Ltd on behalf of Association of European Operational Research Societies (EURO). This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/)



procured quantity. We provide some discussion of the model and its re- sults along with a few numerical examples in Section 5, and we conclude our paper in Section 6. We provide all the proofs in the appendix.

Literature review

Procurement and inventory management under supplier yield uncer- tainty is a well-researched topic in the OM literature. Pan (1989) is one of the earlier papers that developed a linear-programming based math- ematical model to solve the supplier selection problem depending on the dimensions of price, quality, and service. He et al. (2009) extended the above model to a stochastic setting where the supplierâ€™s service and quality are random. The authors developed a chance-constrained model, which they solved using a genetic algorithm, to solve the supplier selec- tion problem. Among the other papers that deal with supplier yield un- certainty, many focus on inventory management under single-supplier models. For example, Gerchak et al. (1988), Ciarallo et al. (1994), Wang and Gerchak (1996), Parlar et al. (1995), Ã–zekici and Par- lar (1999), Erdem and Ã–zekici (2002), Khang and Fujiwara (2000), Mazzola et al. (1987) are a few important papers to mention that dis- cuss single supplier models. In a more generic setting, Kasilingam and Lee (1996) addressed a single-period supplier-selection problem through a mixed-integer linear program (MILP) model when the supplier qual- ity in terms of fraction of defects is deterministic and the retailerâ€™s de- mand is uncertain. They used chance constraints to handle demand un- certainty.
With  respect  to  multi-supplier  models,  Anupindi  and
Akella (1993) analyzed dual sourcing (i.e., 2 suppliers) in the presence of yield uncertainty. They proved that, with the newsvendor objective function (with back-ordering), the optimal policy is a two-threshold policy: order from both the suppliers, or order from the cheaper supplier, or order from neither, depending on the initial inventory position. Giri (2011) addressed a single-product single-period inventory problem of a risk-averse buyer, where the first supplier is cheaper but unreliable, whereas the second supplier is perfectly reliable with a finite capacity but is costlier. In the same vein, Parlar and Wang (1993) and Parlar et al. (1995) also analyzed EOQ models in the presence of 2 suppliers with different yield distributions. They identified conditions when dual sourcing is preferred to single sourcing. Our paper differs from the above papers mainly because it primarily addresses the problem of multi-sourcing where there are more than 2 suppliers who can either â€œoversupplyâ€ or â€œunder-supplyâ€ the product depending on their respective yields.
Next, among the papers that analyze multi supplier models (i.e., sourcing from more than 2 suppliers), Kasilingam and Lee (1996) ad- dressed a single-period supplier-selection problem through an MILP model when the supplier quality in terms of fraction of defects is de- terministic and the retailerâ€™s demand is uncertain. They used chance constraints to handle demand uncertainty. FadÄ±loÄŸlu et al. (2008) ana- lyzed EOQ model with binomial supplier yield uncertainty and different purchasing costs across suppliers. They showed that supplier diversi- fication may not always be beneficial. Erdem et al. (2006) examined an EOQ type model under multi-supplier yield uncertainty with same unit purchasing costs, and they showed that the quantity of expected unsatisfied order is same for each supplier. In a newsvendor setting Dada et al. (2007) analyzed supplier-selection when there are many suppliers each of which is either perfectly reliable or unreliable, and the yield uncertainties across suppliers are independent (and extended it to associated random yields1). They showed that although the aggre- gate order quantity of the buyer is higher when suppliers are unreliable than when they are perfectly reliable, the service level experienced by consumers is lower when suppliers are unreliable. Yan et al. (2012) an-

1 See Esary et al. (1967) for the definition and properties of associated random variables.
alyzed the multi-sourcing problem under both the cases when yields are independent and correlated. For independent supplier yields they showed that the wholesale price takes precedence over reliability; how- ever, they showed that this may not be true for correlated supplier yields. In a more recent paper, Xue et al. (2016) developed a meanâ€“ variance model when manufacturer is risk-sensitive and suppliers are unreliable. The authors identified the optimal diversification strategy and drew insights about trade off between cost and reliability. We refer the reader to Ho et al. (2010) for a comprehensive review of the liter- ature on supplier selection under supply uncertainty, based on various analytical techniques used. A few other more recent and relevant papers that discuss multi-sourcing include (Balakrishnan and Natarajan, 2014; Bohner and Minner, 2017; Åen et al., 2014; Dong et al., 2021; Kirschstein and Meisel, 2019; Manerba et al., 2018; Manerba and Perboli, 2019; Zhang et al., 2012). Zhang et al. (2012) develop a hybrid solution tech- nique for supplier choice and order quantity decision problem. They do not consider any uncertainties in their model. Åen et al. (2014) formu- lates a scenario-based multi-stage stochastic optimization model to ad- dress multi-item-multi-sourcing problem in the presence of random sup- plier discounts and random spot-market prices. They propose certainty- equivalent heuristics for the problem. Bohner and Minner (2017) for- mulate an MILP problem and offer a solution for the supplier selec- tion and order quantity problem when suppliers offer quantity discounts and are prone to failures (i.e., yield is zero). Manerba et al. (2018) and Manerba and Perboli (2019) also formulate a 2-stage stocastic program with recourse where products price or only the products demand are stochastic. Kirschstein and Meisel (2019) address the problem of select- ing suppliers and storage facilities as well as determining order quan- tities and transport flows when suppliers offer discounts. In a recent paper, Dong et al. (2021) address the multi-sourcing problem when sup-
fraction of the bubyerâ€™s order quantity (i.e., when yield < 1). Thus, all plier yields are correlated and when each supplier can produce only a
these papers address the case when supplier can meet only a portion of the buyerâ€™s order due to yield uncertainty (i.e., supplierâ€™s yield is always less than 1) but do not consider random yields so that the final quantity available with a supplier can be either more or less than the or- der quantity. Accounting for suppliersâ€™ yield uncertainties when making procurement decisions is important because they can affect the buyerâ€™s production operations, capacity, and inventory costs significantly, and supplierâ€™s yield can often be higher than 1 thereby resulting in overpro- duction of the product, which the buyer can take advantage of in order to reduce his procurement costs.
Our paper differs from the above discussed papers in the following important ways. First, unlike many of the above models that focus pri- marily on short-supply of product by suppliers, we account for yields that cause both short-supply as well as excess supply. However, as men- tioned by Dada et al. (2007), the buyer will procure from a supplier at most the quantity he orders with the supplier, although the supplier has an oversupply of product due to a higher yield.
Second, in case of oversupply, we allow the buyer to choose between the excessive supply from the suppliers or the spot market, whichever is beneficial, to procure additional quantity in order to meet the target procurement quantity, if required. Doing so accounts for the recourse actions of the buyer when the total initial quantity procured from the suppliers is less than the target quantity, and if there are a few suppli- ers who have their product supply higher than the quantity ordered by the buyer with the corresponding supplier. Procuring in advance and re-procuring later in order to meet the target quantity in case of short supply is a common practice adopted by procurement managers.
Third, we extend our model to account for buyerâ€™s risk-aversion so that our solution technique can capture other aspects, which are not explicitly captured in the initial model, through buyerâ€™s risk aversion. For instance, we can incorporate the impact of shortage cost through buyerâ€™s risk aversion by noting that a buyer is more risk averse whenever the shortage cost is high. Fourth, we do not impose any restriction on the stochastic structure of the random supplier yields. Our technique can be



used under all types of yield uncertainties: (i) independent yields, (ii) positively correlated yields, and (iii) negatively correlated yields.


Single supplier model

First, we analyze the case of a buyer sourcing from a single supplier to meet the formerâ€™s target procurement quantity, which we denote by
ğ‘„. The buyer places an order for ğ‘¥ units with the supplier, who charges a
unit price of ğ‘. Let the random variable ğ‘ denote the supply uncertainty or â€œyieldâ€ of the supplier so that the net supply available will be ğ‘§ â‹… ğ‘¥ units, where ğ‘§ is a realization of the random variable ğ‘. We assume that ğ‘ â©¾ 0 and, without loss of generality, that ğ”¼[ğ‘] = 1.2 We denote the distribution and density functions of ğ‘ by ğ¹ (â‹…) and ğ‘“ (â‹…), respectively. While many papers in the existing literature assume that ğ‘ âˆˆ [0, 1],
so that the supplier always falls short of the order quantity ğ‘¥, we allow
ğ‘ âˆˆ [0, âˆ) to incorporate the scenario when the supplier will be able to supply more than the quantity ğ‘¥ that has been asked for.3
Within the supply chain literature, procurement is characterized by the following two fundamental features, which distinguish it from pro- duction (Dada et al., 2007; Deo and Corbett, 2009; Li and Zheng, 2006; Parlar et al., 1995):

A buyer pays for only the quantity that his supplier delivers, and
The quantity delivered by a supplier is at most the order quantity the buyer places with the supplier (Dada et al., 2007).

Therefore, since we analyze procurement from a supplier in the pres- ence of supply uncertainty in a supply chain context, we assume the following in our model:

the ordered quantity whenever ğ‘§ > 1, we assume that the buyer will Assumption 1. Although a supplier will be able to supply more than initially procure at most the quantity ğ‘¥ ordered from the supplier.4

than the target procurement quantity ğ‘„, the buyer will top-up the pro- Assumption 2. In the event that the initially procured quantity is less
cured quantity by procuring either from the supplier, whenever the sup- plier has excess supply, or from the spot market, whichever is beneficial.
Let the random variable ğ‘Œ (ğ‘¥, ğ‘) = min{ğ‘¥, ğ‘ â‹… ğ‘¥} denote the initial
tribution  of  ğ‘Œ  (ğ‘¥,  ğ‘)  in  the  following  lemma. quantity procured by the buyer from the supplier. We compute the dis-
Lemma 1. The distribution of ğ‘Œ (ğ‘¥, ğ‘) for a given order quantity ğ‘¥ is given
by:
the wholesale price ğ‘ such that ğ‘  âˆ’ ğ‘¡ < ğ‘ < ğ‘  so that both the buyer and
the supplier are better-off through a direct transaction than through a
transaction in the spot market. Fafchamps and Hill (2005) find out that while the likelihood of a farmer selling to the market decreases as the market gets farther, the likelihood of selling at the farm gate increases. Aayog (2017) also mentions that directly buying from farmers in India helps farmers and buyers in fetching better prices and in doing away with middlemen.
For convenience of modeling, we divide the time horizon into two periods, where the quantity procured by the buyer in the first period
is ğ‘Œ (ğ‘¥, ğ‘) and the remaining quantity, if required, to meet the target
ğ‘„, is procured in the second period, as shown in Fig. 1. Next, we use a
2-period dynamic programming formulation to solve problem.

Second-period problem
For any order quantity ğ‘¥ in the first period, the buyer procures the remaining quantity, either from the spot market or from the supplier, in
the second period based on the following rules, for any realization ğ‘§ of
the yield:
If ğ‘§ < 1, then the quantity purchased from the supplier during the first period is ğ‘§ â‹… ğ‘¥, and
If ğ‘§ â‹… ğ‘¥ < ğ‘„, then the buyer procures ğ‘„ âˆ’ ğ‘§ â‹… ğ‘¥ at unit cost ğ‘  from
the spot market in the second period.
If ğ‘§ â‹… ğ‘¥ â©¾ ğ‘„, then the buyer does not procure anything from the
spot market in the second period.
If ğ‘§ â©¾ 1, then the quantity purchased from supplier during the first period is ğ‘¥, and
If ğ‘§ â‹… ğ‘¥ < ğ‘„, then the buyer procures ğ‘§ â‹… ğ‘¥ âˆ’ ğ‘¥ from the supplier at unit cost ğ‘(< ğ‘ ), and procures ğ‘„ âˆ’ ğ‘§ â‹… ğ‘¥ at unit cost ğ‘  from the
spot market in the second period.
If ğ‘§ â‹… ğ‘¥ â©¾ ğ‘„, then the buyer procures the remaining quantity [ğ‘„ âˆ’
ğ‘¥]+ from the supplier at unit cost ğ‘(< ğ‘ ) in the second period.
Now, using the above rules, if the ordered quantity ğ‘¥ is higher than the target quantity ğ‘„ (i.e., ğ‘¥ > ğ‘„), then for any realization ğ‘§ < ğ‘„âˆ•ğ‘¥(< 1), we have the second periodâ€™s procurement cost to be ğ‘  â‹… [ğ‘„ âˆ’ ğ‘§ğ‘¥]+. Next, for any yield realization ğ‘§ such that ğ‘„âˆ•ğ‘¥ â©½ ğ‘§ < 1, the quantity that is available with the supplier is ğ‘§ â‹… ğ‘¥, which is at least the target quan- tity ğ‘„ but less than the order quantity ğ‘¥ (i.e., ğ‘„ â©½ ğ‘§ â‹… ğ‘¥ < ğ‘¥). Therefore,
tal quantity ğ‘Œ (ğ‘¥, ğ‘§) = min{ğ‘§ â‹… ğ‘¥, ğ‘¥} = ğ‘§ â‹… ğ‘¥ that has been procured during the buyer procures nothing during the second period, because the to- the first period would satisfy the quantity target constraint ğ‘Œ (ğ‘¥, ğ‘§) â©¾ ğ‘„. Lastly, for any other yield realization (i.e., ğ‘§ â©¾ 1), the buyer again pro-
cures nothing during the second period, because the total quantity
ğ‘Œ (ğ‘¥, ğ‘§) = min{ğ‘§ â‹… ğ‘¥, ğ‘¥} = ğ‘¥(> ğ‘„).

â„™(ğ‘Œ (ğ‘¥, ğ‘) â©¾ ğ‘¦) ={0
if ğ‘¥ < ğ‘¦,
ğ‘¦	if ğ‘¥ â©¾ ğ‘¦.
ğ‘¥
(1)
On the other hand, if the order quantity ğ‘¥ â©½ ğ‘„, then for any ğ‘§ such that ğ‘§ â©½ 1(â©½ ğ‘„âˆ•ğ‘¥), the first periodâ€™s procurement quantity is ğ‘Œ (ğ‘¥, ğ‘§) = ğ‘§ â‹…
ğ‘¥(< ğ‘„) so that the buyerâ€™s procurement cost during the second period is

Depending on the net quantity ğ‘Œ (ğ‘¥, ğ‘) procured from the supplier, the buyer will procure the remaining quantity [ğ‘„ âˆ’ ğ‘Œ (ğ‘¥, ğ‘)]+ from the spot market at unit price ğ‘  > ğ‘ or form the supplier at unit price ğ‘, if the latter has excess yield (i.e., ğ‘§ > 1).
produce to the buyer at unit price ğ‘ to selling it in the spot market at unit Actually, in many contexts, the supplier will prefer selling the extra price ğ‘ (> ğ‘) due to a high unit travel (or inconvenience) cost ğ‘¡ incurred in
transporting the produce to the spot market. In fact, supplier will choose
ğ‘  â‹… (ğ‘„ âˆ’ ğ‘§ â‹… ğ‘¥). Next, for any realized 1 < ğ‘§ â©½ ğ‘„âˆ•ğ‘¥, the buyer can purchase up to ğ‘§ â‹… ğ‘¥ units at ğ‘ from the supplier at total cost ğ‘(ğ‘§ â‹… ğ‘¥ âˆ’ ğ‘¥) and the remaining units to meet the target ğ‘„ at a cost of ğ‘ (ğ‘„ âˆ’ ğ‘§ â‹… ğ‘¥) from the spot market. Lastly, if ğ‘§ â©¾ ğ‘„âˆ•ğ‘¥, then the supplier will purchase ğ‘„ âˆ’ ğ‘¥ units at a total purchase cost of ğ‘(ğ‘„ âˆ’ ğ‘¥) from the supplier who has a total of (ğ‘§ âˆ’ 1) â‹… ğ‘¥ units left to sell.
Therefore, the expected procurement cost incurred in the second pe- riod is given by:

{âˆ« ğ‘„âˆ•ğ‘¥ ğ‘  â‹… (ğ‘„ âˆ’ ğ‘§ğ‘¥)ğ‘“ (ğ‘§)ğ‘‘ğ‘§,	if ğ‘„ < ğ‘¥
	0	ğ‘„âˆ•ğ‘¥	1	



2 If not, we can scale ğ‘¥ accordingly to set ğ”¼[ğ‘] = 1.
3 Such circumstances are often encountered in agricultural, food, chemical,
and other such industries, where the process yield can be higher than the output quantity that has been planned for. For instance, there could be higher crop yield due to a bounty crop in the case of agricultural products.
4 This formulation of procurement quantity is same as the one adopted in
Dada et al. (2007).
First-period problem

By using (2), the total expected cost-to-go in the first period is given
by:
ğ½1(ğ‘¥) = ğ”¼[ğ‘ â‹… ğ‘Œ (ğ‘¥, ğ‘)] + ğ½2(ğ‘¥) = ğ”¼[ğ‘ â‹… min{ğ‘¥, ğ‘ğ‘¥}] + ğ½2(ğ‘¥),	(3)


Fig. 1. Sequence of events in the buyerâ€™s procurement.



















and the optimization problem of the buyer in the first period is:	whose solution is given by:

ğƒğ âˆ¶ min ğ½1(ğ‘¥)	(4)
âˆ—
ğ‘…ğ´
= max ğ‘¥âˆ—, 	ğ‘„	 ,	(8)
ğ¹ âˆ’1(1 âˆ’ ğ›¼)

The following lemma proves that the expected procurement cost
where ğ‘¥âˆ— is given in Lemma 3. Clearly, the optimal order quantity ğ‘¥âˆ—

ğ”¼[ğ‘ â‹… ğ‘Œ (ğ‘¥, ğ‘)] in the first period is a linear function of ğ‘¥.
is (weakly) increasing in the buyerâ€™s risk aversion (i.e.,  ğœ•ğ‘¥âˆ—  â©¾ 0).
ğ‘…ğ´

[ (	)] = [âˆ« 1	( )	+ 1 âˆ’  (1)]	( )	( )
ğœ•ğ›¼

are the density and distribution functions of ğ‘, respectively.
The optimal order quantity ğ‘¥âˆ— of the problem DP is always greater than the target quantity ğ‘„; that is, it is always optimal to over-order
during the first period, as one would have intuitively guessed. We for- malize this result in the following lemma that also gives the value of the
optimal order quantity ğ‘¥âˆ— during the first period:
Lemma 3. Let ğ‘¥âˆ— denote the optimal solution of DP and let ğ‘0 =
 1âˆ’ (1) 
sourced. We use index ğ‘– to refer to the suppliers in S. Let ğ‘ (< ğ‘ ) denote Let S denote the set of all suppliers from which the commodity can be the unit price charged by supplier ğ‘– and the random variable ğ‘ğ‘– denote the supply uncertainty or â€œyieldâ€ of supplier ğ‘– âˆˆ . We let the decision variable ğ‘¥ğ‘– denote the buyerâ€™s initial order quantity with supplier ğ‘– and, for any order quantity ğ‘¥ğ‘–, supplier ğ‘– will be able to supply ğ‘§ğ‘– â‹… ğ‘¥ğ‘– units at the time of procurement during the first period, where ğ‘§ğ‘– is the realized

0 ğ‘§ğ‘“ (ğ‘§)ğ‘‘ğ‘§
Therefore, the random variable ğ‘Œ (ğ‘¥ , ğ‘ ) = min{ğ‘¥ , ğ‘ â‹… ğ‘¥ } denotes
the initial quantity procured by the buyer from supplier ğ‘– âˆˆ  . As earlier,

If ğ‘  is â€œlowâ€ (i.e., ğ‘  â©½ ğ‘0), then ğ‘¥âˆ— = ğ‘„.
we can compute the distribution of ğ‘Œ (ğ‘¥ , ğ‘ ), for all ğ‘– âˆˆ S as:

If ğ‘  is â€œhighâ€ (i.e., ğ‘  > ğ‘0), then ğ‘¥âˆ— is the unique solution of the following
equation:
ğ‘„âˆ•ğ‘¥	[  1	]	1
â„™(ğ‘Œğ‘–(ğ‘¥ğ‘–, ğ‘ğ‘–) â©¾ ğ‘¦ğ‘–)

1 âˆ’ ğ¹ğ‘–(

ğ‘¦ğ‘–
ğ‘¥ğ‘–
ğ‘–  ğ‘–	ğ‘–
if ğ‘¥ğ‘– < ğ‘¦ğ‘–,
if ğ‘¥ğ‘– â©¾ ğ‘¦ğ‘–,
(9)

ğ‘  âˆ«	ğ‘§ğ‘“ (ğ‘§)ğ‘‘ğ‘§ = ğ‘ âˆ«  ğ‘§ğ‘“ (ğ‘§)ğ‘‘ğ‘§ + 1 âˆ’ ğ¹ (1)  = ğ‘0 âˆ«  ğ‘§ğ‘“ (ğ‘§)ğ‘‘ğ‘§.	(5)
Clearly, the optimal first-period order quantity ğ‘¥âˆ— is increasing in the future spot price ğ‘  and decreasing in the suppliers price ğ‘, which is as
expected.
where ğ¹ (â‹…) is the distribution of ğ‘ , ğ‘– âˆˆ S.
Next, by using Lemma 2 for each ğ‘– âˆˆ S, the expected total cost of pro-
curement incurred by the buyer, after procuring from all the suppliers
ğ‘– âˆˆ	is given by:

[âˆ‘	]  âˆ‘	[
]  âˆ‘	[âˆ« 1	]

Risk averse buyer
ğ”¼
ğ‘–âˆˆ
ğ‘ğ‘– â‹… ğ‘Œğ‘– (ğ‘¥ğ‘– , ğ‘ğ‘– )
=
ğ‘–âˆˆS
ğ‘ğ‘– â‹… ğ”¼ ğ‘Œğ‘– (ğ‘¥ğ‘– , ğ‘ğ‘– ) =
ğ‘–âˆˆS
ğ‘ğ‘– ğ‘¥ğ‘–
ğ‘¢ğ‘“ğ‘– (ğ‘¢) ğ‘‘ğ‘¢ + 1 âˆ’ ğ¹ğ‘– (1)
0
(10)

In order to develop a chance-constraint model, we add the constraint
and the expected total quantity procured by the buyer in period 1 is:

that the buyer initially intends to procure the target quantity ğ‘„ from the
supplier with a probability of at least ğ›¼.5
That is, we obtain:
[âˆ‘ğ‘–âˆˆS
ğ‘Œğ‘–(ğ‘¥ğ‘–, ğ‘ğ‘–)] =
âˆ‘ğ‘–âˆˆS
ğ‘¥ğ‘– â‹… [
1
ğ‘¢ğ‘“ğ‘–(ğ‘¢) ğ‘‘ğ‘¢ + 1 âˆ’ ğ¹ğ‘–(1) .
0

â„™(ğ‘Œ (ğ‘¥, ğ‘) â©¾ ğ‘„) â©¾ ğ›¼ â‡” 1 âˆ’ ğ¹  ğ‘„  â©¾ ğ›¼ â‡” ğ‘„ â©½ ğ¹ âˆ’1(1 âˆ’ ğ›¼) â‹… ğ‘¥,	(6)
ğ‘¥
where ğ‘¥(â©¾ ğ‘„ â©¾ 0) is the actual order quantity placed by the buyer
with the supplier and the second statement in (6) is obtained by using
Lemma 1.
Therefore, for a risk averse buyer, the problem DP given in (4) can
Next, by using the expected values of the supply yields, we can ap- proximate the buyerâ€™s optimization problem by the following certainty- equivalent problem (Bertsekas, 1995; Åen et al., 2014; Tang and Girotra, 2010; Tomlin, 2009) with suppliers :
CEP(S) âˆ¶ minx {ğ”¼[âˆ‘ âˆˆS ğ‘ â‹… ğ‘Œ (ğ‘¥ , ğ‘ )] = âˆ‘ âˆˆS (ğ‘ [âˆ« 1 ğ‘¢ğ‘“ (ğ‘¢) ğ‘‘ğ‘¢ + 1 âˆ’ ğ¹ (1)]) â‹… ğ‘¥ }

be rewritten as the following chance constrained problem:
âˆ’1
ğ‘–	ğ‘–
ğ‘–  ğ‘–  ğ‘–
ğ‘–
s.t.
ğ‘–  0	ğ‘–
ğ‘–	ğ‘–

ğƒğ âˆ’ ğ‘ğ€ âˆ¶ min ğ½1(ğ‘¥) s.t. ğ‘„ â©½ ğ¹
(1 âˆ’ ğ›¼) â‹… ğ‘¥,	(7)
ğ”¼[âˆ‘
ğ‘Œ (ğ‘¥ , ğ‘
)] = âˆ‘
[âˆ« 1
ğ‘¢ğ‘“ (ğ‘¢) ğ‘‘ğ‘¢
+ 1 âˆ’ ğ¹
(1)] â‹…
ğ‘¥ â©¾ ğ‘„,
(11)

ğ‘–âˆˆS ğ‘–  ğ‘–  ğ‘–


ğ‘–âˆˆS  0	ğ‘–
ğ‘–	ğ‘–

5 ğ›¼ can be thought of as a measure of risk-aversion of the buyer towards short-
fall of the initial procurement quantity.
where ğ‘„ is the target quantity that the buyer needs to procure. We obtain
the above constraint in CEP( ) using Lemma 2, for each ğ‘– âˆˆ . We use


CEP(S) as the benchmark model and compare the performance of our approach with the solution of CEP(S).6 It should be noted that CEP(S) is an LP in the decision variables ğ‘¥ (ğ‘– âˆˆ S), whose coeï¬ƒcients are always
some constants.

Exact solution

Now, we formulate the multi-sourcing problem as a 2-period dy- namic program and obtain the optimal solution through backward re- cursion.

Sample average approximation (SAA) based solution

Given the aforementioned diï¬ƒculty in solving DP given in (17), we solve the problem by using sample average approximation (SAA)
Monte Carlo technique with an ğ‘ -sized sample zâƒ— = [z1, â€¦ , zğ‘ ], where
zğ‘— = [ğ‘§ğ‘–ğ‘— ]ğ‘–âˆˆS is the ğ‘—th supplier-yield vector (and ğ‘§ğ‘–ğ‘— denotes the yield of supplier ğ‘– âˆˆ	in the ğ‘—th sample). We formulate the following
approximately-equivalent, deterministic (large) linear program (LP) that is easier to solve:8
ğ’ğ€ğ€ âˆ’ ğ‹ğ(S, â†’ğ³ ) âˆ¶ min âˆ‘	ğ‘ [Æ’ 1 ğ‘¢ğ‘“ (ğ‘¢)du + 1 âˆ’ ğ¹ (1)]ğ‘¥

+  1 âˆ‘ğ‘
[âˆ‘ âˆˆS ğ‘ğ‘–ğ‘¤ij + ğ‘ ğ‘¤sj]

Second period problem
In the second period problem, the vectors x = [ğ‘¥ğ‘–]ğ‘–âˆˆS , which denotes
the initial order quantities placed by the buyer during the first period,


s.t.
ğ‘	ğ‘—=1	ğ‘–

and z = [ğ‘§ğ‘–]ğ‘–âˆˆS , which denotes the yields of suppliers ğ‘– âˆˆ S, form the
ğ‘¤ğ‘–ğ‘—
â©½ (ğ‘§
ğ‘–ğ‘—
â€“ 1)+ğ‘¥ğ‘–  âˆ€ğ‘– âˆˆ S, âˆ€ğ‘— = 1, â€¦ , ğ‘,	(19)

in the first period is  ğ‘–âˆˆS ğ‘¦ğ‘–(ğ‘¥ğ‘–, ğ‘§ğ‘–), where ğ‘¦ğ‘–(ğ‘¥ğ‘–, ğ‘§ğ‘–) = min{ğ‘¥ğ‘–, ğ‘§ğ‘–ğ‘¥ğ‘–}, ğ‘– âˆˆ state variables and are perfectly known. The total quantity procured
so that the remaining quantity yet to be procured during the second	âˆ‘	âˆ‘

period is [ğ‘„ âˆ’ âˆ‘
ğ‘¦ (ğ‘¥ , ğ‘§ )]+ so that the procurement quantity target
ğ‘¤ğ‘–ğ‘— + ğ‘¤ğ‘ ğ‘— â©¾ ğ‘„ âˆ’
min{ğ‘§ğ‘–ğ‘— , 1} â‹… ğ‘¥ğ‘–  âˆ€ğ‘— = 1, â€¦ , ğ‘,	(20)

ğ‘„ is met. The supply available from supplier ğ‘– âˆˆ
is (ğ‘§ğ‘– âˆ’ 1)+ğ‘¥ğ‘–, because only suppliers with excess yield (i.e., with ğ‘§ğ‘– > 1)
can supply during the second period. Hence, the buyerâ€™s procurement
problem in the second period is given by:7

ğ‘¥ğ‘– â©¾ 0, ğ‘¤
ğ‘–ğ‘—
â©¾ 0, ğ‘¤
ğ‘ ğ‘—
â©¾ 0,  âˆ€ğ‘– âˆˆ S, ğ‘— = 1, â€¦ , ğ‘,	(21)

ğ» (x, z) = min âˆ‘ ğ‘ ğ‘¤ + ğ‘ ğ‘¤
(12)
where ğ‘¤
ğ‘–ğ‘—
denotes the quantity sourced from supplier ğ‘– âˆˆ S in the second

ğ‘–âˆˆS
are zğ‘—
= [ğ‘§
ğ‘–ğ‘— ]ğ‘–âˆˆS
, for all ğ‘— = 1, â€¦ , ğ‘ .



s.t.
ğ‘¤ â©½ (ğ‘§ âˆ’ 1)+ğ‘¥ , âˆ€ğ‘– âˆˆ S,	(13)
Whenever applicable, suppliersâ€™ capacities ğ¾ , ğ‘– âˆˆ S, can be incor-
porated through the following capacity constraints:

ğ‘–	ğ‘–	ğ‘–
ğ‘¥ â©½ ğ¾ , âˆ€ğ‘– âˆˆ S,	(22)

ğ‘–	ğ‘–

ğ‘–âˆ‘âˆˆS
ğ‘¤ğ‘– + ğ‘¤ğ‘  â©¾ ğ‘„ âˆ’
ğ‘–âˆ‘âˆˆS
ğ‘¦ğ‘–(ğ‘¥ğ‘–, ğ‘§ğ‘–),	(14)
so that the buyer cannot order a quantity larger than the capacity of the respective supplier.9

Multi-sourcing by a risk averse buyer

ğ‘¤ â©¾ 0, ğ‘¤ â©¾ 0, âˆ€ğ‘– âˆˆ S.	(15)

First period problem

tially procure the target quantity ğ‘„ from the suppliers with a probability A risk averse buyer, as mentioned in Section 3.3, will intend to ini- of at least ğ›¼, during the first period. That is:

Through backward recursion we can compute the expected cost-to- go in the first-period problem as:
(ğ‘–âˆ‘âˆˆS
ğ‘Œğ‘–(ğ‘¥ğ‘–, ğ‘ğ‘–) =
ğ‘–âˆ‘âˆˆS
min{1, ğ‘ğ‘–} â‹… ğ‘¥ğ‘– â©¾ ğ‘„)
â©¾ ğ›¼,	(23)

ğ»1(ğ±) = ğ”¼ğ™[[âˆ‘Æ’ ğ‘ğ‘– â‹… ğ‘Œğ‘–(ğ‘¥ğ‘–, ğ‘ğ‘–)] + ğ”¼ğ™[ğ»] 2(ğ±, ğ™)] [	]
which requires the distribution of the random variable âˆ‘
S ğ‘Œ (ğ‘¥ , ğ‘ ).

= âˆ‘	ğ‘	1 ğ‘¢ğ‘“ (ğ‘¢)du + 1 âˆ’ ğ¹ (1) â‹… ğ‘¥ + ğ”¼ ğ» (ğ±, ğ™) ,	(16)	âˆ‘ S
ğ‘–âˆˆ	ğ‘–  ğ‘–	ğ‘–

so that the buyerâ€™s problem is:
DP(S) âˆ¶ min ğ» (x),	(17)
xâ©¾0
distributions of ğ‘Œğ‘–(ğ‘¥ğ‘–, ğ‘ğ‘–) that are given in (9) and, hence, could be diï¬ƒ-
cal approach by using the ğ‘ -sized sample zâƒ— of supplier yields by adding cult to compute. Therefore, to obviate this diï¬ƒculty we adopt a statisti- the following constraints to SAA-LP( , zâƒ—):

which, despite being convex in x, could be diï¬ƒcult to solve if
due to the curse-of-dimensionality and the complex structure of ğ»2(x, z).
6 Actually, by setting the random variables ğ‘Œ (ğ‘¥ , ğ‘ ) at their respective ex-
âˆ‘ min{1, ğ‘§
ğ‘
ğ‘–ğ‘—
} â‹… ğ‘¥ğ‘– â©¾ ğ‘„ â‹… ğ‘£ğ‘—
âˆ€ğ‘— = 1, â€¦ , ğ‘	(24)

[	]	S
ğ‘–  ğ‘–  ğ‘–
âˆ‘ ğ‘£
â©¾ ğ›¼ â‹… ğ‘,	(25)

periods in the certainty-equivalent problem is obtained as âˆ‘ğ‘–âˆˆS ğ‘ğ‘– ğ”¼[ğ‘Œğ‘– (ğ‘¥ğ‘–, ğ‘ğ‘– )] +
ğ‘—=1

ğ‘ [ğ‘„ âˆ’ âˆ‘	ğ”¼[ğ‘Œ (ğ‘¥ , ğ‘ )]]+ , so that the constraint ğ‘„ â©½ âˆ‘	ğ”¼[ğ‘Œ (ğ‘¥ , ğ‘ )] holds

ğ‘–

lem as CEP(S):
âˆ‘	[	âˆ‘	]+
ğ‘£ğ‘— âˆˆ {0, 1}  âˆ€ğ‘— = 1, ğ‘,	(26)
8 SAA-LP(S, zâƒ—) is an LP because all the coeï¬ƒcients of its variables ğ‘¥ , ğ‘¤ and



s.t. ğ‘¥ â©¾ 0 âˆ€ğ‘– âˆˆ S,
where the constraint ğ‘„ â©½  ğ‘–âˆˆS ğ”¼ ğ‘Œğ‘– (ğ‘¥ğ‘– , ğ‘ğ‘– ) is added in (11).
7 Note that the constraint (14) can be used in lieu of
âˆ‘ğ‘–âˆˆS ğ‘¦ğ‘– (ğ‘¥ğ‘– , ğ‘§ğ‘– )]+ because ğ‘¤ğ‘ , ğ‘¤ğ‘– â©¾ 0, âˆ€ğ‘– âˆˆ  .



ğ‘–âˆˆS ğ‘¤ğ‘– + ğ‘¤ğ‘  â©¾ [ğ‘„ âˆ’
depending on the yield value (i.e., when ğ‘§ğ‘– is higher than 1); such scenarios often occur in practice, for example, in agriculture, chemical industries, metallurgy,
etc. Nevertheless the supplier will not accept orders higher than its capacity, which could be the number of units that the supplier can produce when yield is
equal to 1 (i.e., ğ‘§ğ‘– = 1).


	


Fig. 2. Optimal cost and spot purchase quantity for type i cost structure.



Fig. 3. Optimal cost and spot purchase quantity for type ii cost structure.


which gives the following problem:
ğ’ğ€ğ€ğ‘ğ€ âˆ’ ğŒğˆğ‹ğ(S, â†’ğ³ ) âˆ¶
âˆ‘ [	]



1 âˆ‘ğ‘ [âˆ‘
executed on 64-bit Windows 10 operating system on a 11th Gen Intel i7 core machine at 2.8 GHz with 16 GB RAM.
]	5.1. Cost improvement on CEP(S)

min
ğ‘–âˆˆ
S ğ‘ğ‘–
âˆ«0  ğ‘¢ğ‘“ğ‘–(ğ‘¢)du + 1 âˆ’ ğ¹ğ‘–(1)
â‹… ğ‘¥ğ‘– + ğ‘
ğ‘—=1
ğ‘–âˆˆ
S ğ‘ğ‘–ğ‘¤ij + ğ‘ ğ‘¤sj

Now, we compare the reduction in cost that our models offer against
the more commonly used CEP(

s.t. (19), (20), (21), (24), (25), (26).
As in the case of SAA-LP(S, zâƒ—), supplier capacity constraints can be im- posed in SAARA-MILP(S, zâƒ—) by adding (22) to the above problem.
We can easily conclude that a buyer will procure more aggressively
). We perform this comparison for 3
types of cost structure, which we discuss next.
In our first numerical example, we assume there are 10 suppliers in  , with yields independently and normally distributed with average
yields 1 (i.e., ğ‘ âˆ¼	(1, ğœ ), ğ‘– âˆˆ  ).10 Furthermore, we assume that a sup-

ğ‘–	ğ‘–
during the first period as his risk-aversion increases. We formalize and	plier with low yield variability quotes a higher wholesale price, that

prove this finding in the following result:
is ğœ â©¾ ğœ â‡” ğ‘ â©½ ğ‘ , âˆ€ğ‘–, ğ‘— âˆˆ S. We set the suppliersâ€™ yield standard de-

Lemma 4. The average quantity procured during the first period increases,
period  decreases,  as  the  risk  aversion  ğ›¼   increases. and so the average quantity purchased in the spot market during the second

5. Discussion and numerical study

multi-sourcing problem obtained using SAA method (i.e., SAA-LP( , zâƒ—)) In this section, we examine the performance of the solution of the against the base model CEP( ) in order to draw some practical in-
sights. Later, we observe the computational eï¬ƒciency of our models
SAA-LP( , zâƒ—) and SAARA-MILP( , zâƒ—) especially with respect to the size
the SAARA-MILP( , zâƒ—) problem, which solves the multi-sourcing prob- of the problem (i.e., number of suppliers available). Next, specifically for
lem for a risk averse-buyer, we set the MIP gap to 0.02 so that the solu-
factor of the buyer ğ›¼ = 80%. Moreover, for solving SAA-LP( , zâƒ—) and tion obtained is within 2% of the optimal solution and the risk-aversion SAARA-MILP( , zâƒ—) we choose a sizable sample size of ğ‘ = 1000.
We perform all the computations using programs written in Python
3.8 by using Gurobi 9.0.1 as the backend optimizer. All programs are
viations ğˆ = [1, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1] and their unit prices follow three different price structures: (i) the unit price ğ‘ is linearly decreasing in ğœ (i.e.,  ğ‘ğ‘– âˆ’ğ‘ğ‘—  ğ‘ğ‘œğ‘›ğ‘ ğ‘¡ğ‘ğ‘›ğ‘¡), (ii) the unit price ğ‘ is inversely
ğœğ‘– âˆ’ğœğ‘—
proportional to ğœ (i.e., ğ‘ âˆ ğœâˆ’1) and (iii) the unit price ğ‘ compounds with decrease in ğœ (i.e., ğ‘ğ‘–+1 = ğ‘˜ğ‘ğ‘–, ğ‘˜ > 1 and ğœğ‘–+1 < ğœğ‘–). We use the fol-
lowing unit price vectors that correspond to scenarios (i), (ii), and (iii), respectively:
c(i) = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
c(ii) = [1, 1.11, 1.25, 1.43, 1.67, 2, 2.5, 3.33, 5, 10], and
c(iii) = [1, 1.29, 1.67, 2.15, 2.78, 3.59, 4.64, 6, 7.74, 10].
We set the target procurement quantity as ğ‘„ = 1000. Figs. 2â€“4 pro-
vide the comparison of (a) the buyerâ€™s total expected procurement cost
and (b) the average spot market purchase obtained from our SAA-based

10 Though we use Normal distribution for supply yields as they are widely used in OM literature (Agrawal and Nahmias, 1997; Anupindi and Akella, 1993; Dong et al., 2021; Gurnani et al., 2000; Schmitt and Snyder, 2012), our model accommodates any probability distribution for supply yields.


	


Fig. 4. Optimal cost and spot purchase quantity for type iii cost structure.






























Fig. 5. Buyerâ€™s ordering pattern to suppliers with different yield uncertainties.
solutions against the benchmark certainty equivalent problem for both risk-neutral and risk-averse buyer cases.
We observe that the average cost incurred through the SAA-based models is substantially lower than the CEP model, which is as expected because while CEP ignores the recourse procurement actions, the SAA-
through the realized supply yields, which is provided by the ğ‘ -sized based models account for these and utilizes the information gained sample ğ³âƒ—.
The figures also show that the average quantity procured in the spot market for the SAA-based models is remarkably lower than the CEP model. Furthermore, the average spot procured quantity in the SAA-
based models is decreasing in the spot market price ğ‘ . Thus, compared
to the CEP technique that is commonly practiced and that we use as
benchmark, the SAA-based models are substantially more eï¬ƒcient and are yet easily implementable in practice.
As observed in Figs. 2â€“4, the quantity purchased in spot market by a risk-averse buyer is always lower than that purchased by a risk-neutral buyer. This conforms with our intuition because a risk-averse buyer over-orders with the suppliers in the first period because the spot-price in the second period is higher than the prices quoted by the sellers dur- ing the first period. This obviates the need for the buyer to buy more in the spot-market during the second period.
Furthermore, we observe that buyer orders from a supplier with a higher price (i.e., lower yield variance) if, and only if, the spot price is suï¬ƒciently high. This largely conforms with the finding made by Yan et al. (2012) that the wholesale price takes precedence over reliability when supplier yields are independent. Specifically, from
is a threshold value ğœ such that the order quantity corresponding to all Fig. 5 (which is for linear unit price structure c(i) ) we observe that there suppliers with ğœğ‘– > ğœ is decreasing in the spot price ğ‘ , while the order quantities with all suppliers with ğœğ‘– < ğœ is increasing in ğ‘ . Furthermore,











	


Fig. 6. Impact of risk-aversion factor ğ›¼.





Fig. 7. Optimal cost and spot purchase quantity when supplier yield covariance is given by Î£1.


Fig. 8. Optimal cost and spot purchase quantity when supplier yield covariance is given by Î£2.


the rate of decrease in order quantity is higher for suppliers with higher yield variance. A similar trend is observed for wholesale price structures c(ii) and c(iii) also.
Next, we observe the impact of risk-aversion factor ğ›¼ on buyerâ€™s cost
and spot-procurement quantity by solving SAARA-MILP( , zâƒ—) for dif- ferent values of ğ›¼ âˆˆ [0, 1]. Earlier in Lemma 4 we showed that the aver- age total order quantity in the first period is increasing in ğ›¼. Therefore,
for any target quantity ğ‘„, which is illustrated in Fig. 6a. Furthermore, we can conclude that the average spot purchase quantity will decrease,
period as his risk-aversion ğ›¼ increases. Next, Fig. 6b shows that the total Fig. 6a shows that buyer tends to order more quantity during the first expected cost is also increasing in ğ›¼ due to over-ordering by the buyer
as his risk-aversion increases.
Lastly, we examine the case of correlated supplier yields by consid-
all suppliers, which we set to ğ‘ = 10, and the suppliers have correlated ering two examples where the unit wholesale price is the same across
yields but have the same individual yield variance. For the first and sec- ond examples, we use the following covariance matrices, respectively:
sify across suppliers with negative correlation, as expected. Hence, the buyer diversifies his risk across the suppliers and sources from Suppliers 1 and 2 as shown in Table 2. The corresponding average procurement costs (at 5% MIPGAP for the risk-averse model) and spot purchase quan- tities are given in Figs. 7 and 8. Our observations concur with the results discussed by Dong et al. (2021).
However, the certainty-equivalent based model does not take the supplier yield correlations into account and prescribes to suggest any quantity from any supplier (since all the suppliers are identical in this example with respect to price, yield mean, and yield variance) such that the total order quantity is equal to 1461.19 (one such solution is given in Tables 1 and 2 where the buyer sources all the quantity from Supplier 1).

5.2. Computational performance

After discussing the reduction in total cost that our models offer in comparison with CEP( ) in the previous subsection, we now discuss
the computational performance of SAA-LP( , zâƒ—) and SAARA-MILP( , zâƒ—)

1.0	âˆ’0.9	0.8	1.0	âˆ’0.9	0.0

Î£1 = â¡â¢âˆ’0.9	1.0	0.5â¤â¥ and Î£2 = â¡â¢âˆ’0.9	1.0	0.5â¤â¥.
models as the number of suppliers which the buyer can source from in-




The corresponding suplier order quantities are given in Tables 1 and 2.
In the first example, when the covariance matrix is Î£1, we observe
that the supplier selection and ordering policy is to largely order only
from suppliers 1 and 2 because their yields are negatively correlated, while the yields of suppliers 1 and 3, and 2 and 3 are positively corre- lated. Thus, the optimal policy is to diversify across buyers with nega- tively correlated yields. This is evident from Table 1. Likewise, in the second example, when the supplier 3â€™s yield is uncorrelated with sup- plier 1â€™s, but the yields of suppliers 1 and 2 are negatively correlated and of suppliers 2 and 3 are positively correlated, it is optimal to diver-
LP( , zâƒ—) solution. Empirically, we can observe that the CPU-time in- provides the computational times (i.e., CPU-time) taken for the SAA-
constrained version of SAA-LP( , zâƒ—) are also very similar to those given creases linearly in the size of the problem. The CPU-times for capacity- in Fig. 9a. From the figure, it is evident that SAA-LP( , zâƒ—) can be ef-
ficiently solved even for large instances of the problem (i.e., a large number of suppliers).
However, the CPU time requirement of SAARA-LP( , zâƒ—) does not ex-
hibit an increasing trend as the number of suppliers increases because
the problem is an MILP and its computational time is highly dependent on the structure of the branch-and-bound tree, which is a common fea-


Table 1
Supplier order quantities when supplier yield covariance is given by Î£1 and when MIPGAP = 5%. S1, S2 and S3 denote
suppliers 1, 2, and 3, respectively.
CEP	SAA	SAARA (MIPGAP = 5%)

Table 2
Supplier order quantities when supplier yield covariance is given by Î£2 and when MIPGAP = 5%. S1, S2 and S3 denote
suppliers 1, 2, and 3, respectively.
CEP	SAA	SAARA (MIPGAP = 5%)












Fig. 9. Computational performance of SAA-based models against problem size (i.e., number of suppliers).


ture of MILPs. However, the actual clock times are considerably lower for the CPU-times that are given in Fig. 9b when MIPGAP is 5%. We
= âˆ«0
â„™(min{
ğ‘¥, ğ‘§ğ‘¥}
> ğ‘¦) ğ‘‘ğ‘¦
= âˆ« ğ‘¥ [1 âˆ’
ğ¹ ( ğ‘¦ )]
ğ‘‘ğ‘¦,	(A.2)

notice that the longest time taken to solve the problem is approximately
5 minutes, when the number of suppliers is 1200.
where the last term is obtained by using (1). Now,

ğ‘‘ğ”¼[ğ‘Œ (ğ‘¥, ğ‘)] = âˆ« ğ‘¥
( ğ‘¦ )


 ğ‘¦
+ 1 âˆ’
(1) = âˆ«
( )	+ 1 âˆ’
(1)

In this paper, we modeled and analyzed a single buyerâ€™s problem of
where the last integral is obtained through the variable substitution
ğ‘¢ = ğ‘¦ . Thus, ğ‘‘ğ”¼[ğ‘Œ (ğ‘¥,ğ‘)] is constant (i.e.,  1 ğ‘¢ğ‘“ (ğ‘¢) ğ‘‘ğ‘¢ + 1 âˆ’ ğ¹ (1)) for all val-

supplier (or vendor) selection and ordering placement under supply un-	ğ‘¥
ğ‘‘ğ‘¥	0

certainty, when the buyer can procure from multiple suppliers, whose yields can be potentially correlated. In our model, a supplier can supply either less than or more than the quantity that the buyer orders, due shortage or excess supply caused by yield uncertainty. However, the buyer initially procures at most the quantity that he orders with each supplier and later chooses to procure up-to the target procurement quan- tity, either from the suppliers with excess supply or from the spot mar-
ues of ğ‘¥, which shows that ğ”¼[ğ‘Œ (ğ‘¥, ğ‘)] is linear in ğ‘¥. That is, ğ”¼[ğ‘Œ (ğ‘¥, ğ‘)] =
ğ‘¥ â‹…  1 ğ‘¢ğ‘“ (ğ‘¢) ğ‘‘ğ‘¢ + 1 âˆ’ ğ¹ (1) + ğ¶ , where ğ¶ is the constant of integration (with respect to ğ‘¥). But, by using the base condition that ğ”¼[ğ‘Œ (ğ‘¥ = 0, ğ‘)] = 0, we can conclude that ğ¶ = 0, which completes the proof of
the lemma. â– 
Proof of Lemma 3: By differentiating ğ½1(ğ‘¥) for ğ‘¥ < ğ‘„ and rearranging
the terms, we obtain:

ket, if the total quantity procured initially from the suppliers is lower



ğ‘‘ğ½1 = âˆ’( âˆ’
)[âˆ« 1


ğ‘„âˆ•ğ‘¥
( )	+
( )  ] âˆ’
(1)  0

stochastic program with recourse.
In our analysis, we first proved that the expected cost of procure- ment from the suppliers during the first period is linear in the buyerâ€™s order quantities. Then, using this fact, we developed a simple solu-
which indicates that the optimal value ğ‘¥âˆ— â©¾ ğ‘„.
Now, by differentiating ğ½1(ğ‘¥) with respect to ğ‘¥ when ğ‘¥ â©¾ ğ‘„, we ob-
tain the first order condition as:

tion using SAA (sample average approximation) technique to solve the
ğ‘‘ğ½1 =
[âˆ« 1
( )	+ 1 âˆ’
(1)] âˆ’
ğ‘„âˆ•ğ‘¥
( )	= 0

multi-sourcing problem in an eï¬ƒcient manner. Later, we extended the
model to incorporate buyerâ€™s risk-aversion towards a shortage in the ini-
ğ‘‘ğ‘¥
ğ‘	ğ‘§ğ‘“ ğ‘§ ğ‘‘ğ‘§	ğ¹
0
ğ‘ 	ğ‘§ğ‘“ ğ‘§ ğ‘‘ğ‘§	.
0

tial quantity procured. Although we could initially incorporate buyerâ€™s
It is easy to observe that if ğ‘  â©½ ğ‘0, which is defined in the lemma state-
ment, then ğ‘‘ğ½1 > 0 indicating that ğ‘¥âˆ— = ğ‘„. On the other hand, if ğ‘  > ğ‘0 ,

risk aversion through a chance constraint, we noted that handling the
chance-constraint was diï¬ƒcult due to (i) the complexity involved in
ğ‘‘ğ‘¥
then the optimal solution ğ‘¥
is given by the above first order condition,

computing the distribution of the total quantity procured during the first period and (ii) the complex structure of the second periodâ€™s solution as a function of the first periodâ€™s decisions. Hence, we modeled buyerâ€™s risk aversion in a statistical manner by reformulating the original LP as an MILP.
Using a few numerical examples, we evaluated the eï¬ƒcacy of our so- lution method against the certainty-equivalent problem, which is widely practiced and which we used as a benchmark. We used examples with both independent supplier yields and correlated (both positively and negatively) supplier yields and observed that our procedure performs substantially superior to the certainty-equivalent problem. Later, we


which when rearranged gives (5). â– 
Proof of Lemma 4: First, we note that as ğ›¼ increases, the vector v = [ğ‘£ğ‘— ]ğ‘ is increasing in ğ›¼ due to constraint (25). We say a vector u is more than w if, and only if, ğ‘¢ğ‘˜ â©¾ ğ‘¤ğ‘˜ âˆ€ğ‘˜ and ğ‘¢ğ‘— > ğ‘¤ğ‘— for some ğ‘—. Therefore, for a suï¬ƒciently large increase in risk-aversion (i.e., ğ›¼), the vector v is strictly
increasing.
Let ğ›¼1 < ğ›¼2 be such that v(ğ›¼1 ) < v(ğ›¼2 ), that is, 0 = ğ‘£ğ‘˜ (ğ›¼1 ) < ğ‘£ğ‘˜ (ğ›¼2 ) =
1 for some ğ‘— âˆˆ {1, â€¦ , ğ‘ }. Now, let ğ‘˜ be the sample (with the cor- responding supplier-yield vector zğ‘˜ = [ğ‘§ğ‘–ğ‘˜ ]ğ‘–âˆˆS ) where the solution of SAA-LP( , zâƒ—) at ğ›¼ = ğ›¼1 violates the constraint (24) at ğ›¼ = ğ›¼2, i.e.,
ğ‘–âˆˆS min{1, ğ‘§ğ‘–ğ‘˜ } â‹… ğ‘¥ğ‘– (ğ›¼1 ) â©½ ğ‘„ â‹… ğ‘£ğ‘˜ (ğ›¼2 ), while the solution of SAA-LP( , zâƒ—)


creases.
riod, which is given by  1 â‹… âˆ‘ğ‘  âˆ‘ âˆˆS min{1, ğ‘§ğ‘–ğ‘— } â‹… ğ‘¥ğ‘– (ğ›¼1 ), when ğ›¼ = ğ›¼1 is



lem under supply uncertainty and designed a simple and yet scalable
which âˆ‘is given by  1 â‹… âˆ‘ğ‘ âˆ‘ âˆˆâˆ‘S min{1, ğ‘§ğ‘–ğ‘— } â‹… ğ‘¥ğ‘– (ğ›¼2 ), when ğ›¼ = ğ›¼2 , be-


aversion.
lem is a minimization problem with positive objective function coeï¬ƒ- cients and the constraint (24) is a â©¾ type constraint in x so that

Declaration of Competing Interest

We assure that there is no conflict of interest

Appendix A. Proofs
ğ‘
min{1, ğ‘§ğ‘–ğ‘— } â‹… ğ‘¥ğ‘– (ğ›¼1 ) â©½
ğ‘—=1,ğ‘— ğ‘˜ ğ‘–âˆˆ
References
ğ‘
min{1, ğ‘§ğ‘–ğ‘— } â‹… ğ‘¥ğ‘– (ğ›¼2 ). â– 
ğ‘—=1,ğ‘— ğ‘˜ ğ‘–âˆˆ

Proof of Lemma 1:
â„™(ğ‘Œ (ğ‘¥, ğ‘§) â©¾ ğ‘¦) = â„™(min{ğ‘¥, ğ‘§ â‹… ğ‘¥} â©¾ ğ‘¦) = â„™(ğ‘¥ â©¾ ğ‘¦, ğ‘§ â‹… ğ‘¥ â©¾ ğ‘¦)
{0	if ğ‘¥ < ğ‘¦,
Aayog, N., 2017. Niti aayog backs direct buying from farmers. Accessed May 11, 2020. https://m.economictimes.com/news/economy/policy/niti-aayog-backs-direct-buying-  from-farmers/articleshow/58388297.cms.
Agraw\\al, N., Nahmias, S., 1997. Rationalization of the supplier base in the presence of yield uncertainty. Prod. Oper. Manag. 6 (3), 291â€“308.
Anupindi, R., Akella, R., 1993. Diversification under supply uncertainty. Manag. Sci. 39

=	â„™ ğ‘§ â©¾ ğ‘¦
ğ‘¥
if ğ‘¥ â©¾ ğ‘¦,
(A.1)
(8), 944â€“963.
Balakrishnan, A., Natarajan, H.P., 2014. Integrated procurement planning in multi-divi- sion firms. Prod. Oper. Manag. 23 (10), 1795â€“1810.
Bertsekas, D.P., 1995. Dynamic programming and optimal control, Vol. 1. Athena Scien-

which is as given in (1).
Proof of Lemma 2:
For an order quantity ğ‘¥, the expected procurement quantity from
supplier is:
ğ”¼[ğ‘Œ (ğ‘¥, ğ‘)] = âˆ«0  â„™(ğ‘Œ (ğ‘¥, ğ‘§) > ğ‘¦) ğ‘‘ğ‘¦
tific Belmont, MA.
Bohner, C., Minner, S., 2017. Supplier selection under failure risk, quantity and business volume discounts. Comput. Ind. Eng. 104, 145â€“155.
Ciarallo, F.W., Akella, R., Morton, T.E., 1994. A periodic review, production planning model with uncertain capacity and uncertain demandâ€“optimality of extended myopic policies. Manag. Sci. 40 (3), 320â€“332.
Åen, A., Yaman, H., GÃ¼ler, K., KÃ¶rpeoÄŸlu, E., 2014. Multi-period supplier selection under price uncertainty. J. Oper. Res. Soc. 65 (11), 1636â€“1648.



Dada, M., Petruzzi, N.C., Schwarz, L.B., 2007. A newsvendors procurement problem when suppliers are unreliable. Manuf. Serv. Oper. Manag. 9 (1), 9â€“32.
Deo, S., Corbett, C.J., 2009. Cournot competition under yield uncertainty: the case of the US influenza vaccine market. Manuf. Serv. Oper. Manag. 11 (4), 563â€“576.
Dong, L., Geng, X., Xiao, G., Yang, N., 2021. Procurement strategies with unreliable sup- pliers under correlated random yields. Manuf. Serv. Oper. Manag..
Erdem, A.S., FadÄ±loÄŸlu, M.M., Ã–zekici, S., 2006. An EOQ model with multiple suppliers and random capacity. Naval Res. Logist. (NRL) 53 (1), 101â€“114.
Erdem, A.S., Ã–zekici, S., 2002. Inventory models with random yield in a random environ- ment. Int. J. Prod. Econ. 78 (3), 239â€“253.
Esary, J.D., Proschan, F., Walkup, D.W., 1967. Association of random variables, with ap- plications. Ann. Math. Stat. 1466â€“1474.
FadÄ±loÄŸlu, M.M., Berk, E., GÃ¼rbÃ¼z, M.c., 2008. Supplier diversification under binomial yield. Oper. Res. Lett. 36 (5), 539â€“542.
Fafchamps, M., Hill, R.V., 2005. Selling at the farmgate or traveling to market. Am. J. Agric. Econ. 87 (3), 717â€“734.
Gerchak, Y., Vickson, R.G., Parlar, M., 1988. Periodic review production models with variable yield and uncertain demand. IIE Trans. 20 (2), 144â€“150.
Giri, B.C., 2011. Managing inventory with two suppliers under yield uncertainty and risk aversion. Int. J. Prod. Econ. 133 (1), 80â€“85.
Gurnani, H., Akella, R., Lehoczky, J., 2000. Supply management in assembly systems with random yield and random demand. IIE Trans. 32 (8), 701â€“714.
He, S., Chaudhry, S.S., Lei, Z., Baohua, W., 2009. Stochastic vendor selection problem: chance-constrained model and genetic algorithms. Ann. Oper. Res. 168 (1), 169.
Ho, W., Xu, X., Dey, P.K., 2010. Multi-criteria decision making approaches for supplier evaluation and selection: a literature review. Eur. J. Oper. Res. 202 (1), 16â€“24.
Kasilingam, R.G., Lee, C.P., 1996. Selection of vendorsa mixed-integer programming ap- proach. Comput. Ind. Eng. 31 (1-2), 347â€“350.
Khang, D.B., Fujiwara, O., 2000. Optimality of myopic ordering policies for inventory model with stochastic supply. Oper. Res. 48 (1), 181â€“184.
Kirschstein, T., Meisel, F., 2019. A multi-period multi-commodity lot-sizing problem with supplier selection, storage selection and discounts for the process industry. Eur. J. Oper. Res. 279 (2), 393â€“406.
Li, Q., Zheng, S., 2006. Joint inventory replenishment and pricing control for systems with uncertain yield and demand. Oper. Res. 54 (4), 696â€“705.
Manerba, D., Mansini, R., Perboli, G., 2018. The capacitated supplier selection problem with total quantity discount policy and activation costs under uncertainty. Int. J. Prod. Econ. 198, 119â€“132.
Manerba, D., Perboli, G., 2019. New solution approaches for the capacitated supplier se- lection problem with total quantity discount and activation costs under demand un- certainty. Comput. Oper. Res. 101, 29â€“42.
Mazzola, J.B., McCoy, W.F., Wagner, H.M., 1987. Algorithms and heuristics for vari- able-yield lot sizing. Naval Res. Logist. (NRL) 34 (1), 67â€“86.
Ã–zekici, S., Parlar, M., 1999. Inventory models with unreliable suppliersin a random en- vironment. Ann. Oper. Res. 91, 123â€“136.
Pan, A.C., 1989. Allocation of order quantity among suppliers. J. Purch. Mater. Manag.
25 (3), 36â€“39.
Parlar, M., Wang, D., 1993. Diversification under yield randomness in inventory models.
Eur. J. Oper. Res. 66 (1), 52â€“64.
Parlar, M., Wang, Y., Gerchak, Y., 1995. A periodic review inventory model with Marko- vian supply availability. Int. J. Prod. Econ. 42 (2), 131â€“136.
Schmitt, A.J., Snyder, L.V., 2012. Infinite-horizon models for inventory control under yield uncertainty and disruptions. Comput. Oper. Res. 39 (4), 850â€“862.
Tang, W., Girotra, K., 2010. Synchronizing global supply chains: advance purchase dis- counts. Available at SSRN 1550891.
Tomlin, B., 2009. Impact of supply learning when suppliers are unreliable. Manuf. Serv.
Oper. Manag. 11 (2), 192â€“209.
Wang, Y., Gerchak, Y., 1996. Periodic review production models with variable capacity, random yield, and uncertain demand. Manag. Sci. 42 (1), 130â€“137.
Xue, W., Choi, T.-M., Ma, L., 2016. Diversification strategy with random yield suppliers for a meanâ€“variance risk-sensitive manufacturer. Transp. Res. Part E Logist. Transp. Rev. 90, 90â€“107.
Yan, X., Ji, Y., Wang, Y., 2012. Supplier diversification under random yield. Int. J. Prod.
Econ. 139 (1), 302â€“311.
Zhang, X., Lee, C., Chen, S., 2012. Supplier evaluation and selection: a hybrid model based on DEAHP and ABC. Int. J. Prod. Res. 50 (7), 1877â€“1889.
