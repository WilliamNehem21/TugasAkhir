Available online at www.sciencedirect.com


Electronic Notes in Theoretical Computer Science 283 (2012) 111–151
www.elsevier.com/locate/entcs

Streams, d-Spaces and
Their Fundamental Categories
Emmanuel Haucourt1,2
DILS/MeASI, Institut Carnot CEA LIST CEA Saclay Nanoinnov, point courrier 174 Gif-sur-Yvette
F-91191, France.

Abstract
We describe an abstract framework in which the notion of fundamental category can be defined. The structures matching this framework are categories endowed with some additional structure. Provided we have a suitable adjunction between two of them, the fundamental categories defined in both cases can be easily compared. Each of these structures has a “natural” functor to the category of d-spaces [10] and provide a Van Kampen like theorem. As an application we compare the fundamental categories of streams [17,18] and d-spaces, actually proving that streams and d-spaces are almost the same notion.
Keywords: stream, d-space, fundamental category, directed algebraic topology, directed geometric realisation


Introduction and Basics
Directed topology is a recent area of mathematics, studying the intrinsic structure of spaces equipped with some notion of direction. The motivating examples and primary focus of the field continue to be the state spaces of concurrent processes. A program made of n concurrent processes is modelled by an n-dimensional such structure and the instruction pointer of the program is thought as a point moving on the model according to the direction carried by the model.
We formally compare three point-set models of ”directed spaces” in the literature: d-spaces, streams, and pospaces. This comparison is formally achieved

1 This work has been partially supported by Agence Nationale pour la Recherche via the project PANDA (Parallel and Distributed Analysis) ANR-09-BLAN-0169-02
2 Email: emmanuel.haucourt@cea.fr

1571-0661 © 2012 Elsevier B.V. Open access under CC BY-NC-ND license.
doi:10.1016/j.entcs.2012.05.008

by constructing suitable adjunctions between appropriate categories and proving they commute with the fundamental category, an oft-used algebraic invariant in the field. Provided we slightly strengthen the axioms for d-spaces and the axioms for streams given in [10] and [18] we actually prove their categories are isomorphic. In addition the directed geometric realisation construction makes sense in both of them since they are complete and cocomplete. From the practitioner of concurrency point of view, these theoretic features imply that mod- elling concurrent processes by means of d-spaces or streams is just a matter of taste.
We denote the category of topological space by Top, the category of small cate- gories by Cat and the category of sets by Set. We identify a reflexive binary relation ρ over a set X with its graph that is to say
graph(ρ) := (x, xj) ∈ X × X  x ρ xj}
the underlying set X is also refered to as |ρ|. Given a set X we denote the diagonal
of X by
ΔX :=  (x, x)	x ∈ X
The underlying set of a topological space X is denoted by UX. By a slight abuse of language we define the diagonal of a topological space as the diagonal of its underlying set. We recall that a topological space X is Hausdorff iff (the graph of) its diagonal is closed in X × X. In particular, a topological product of Hausdorff spaces is a Hausdorff space. Given any set map f from X to Y , the sets X and Y are called the domain and codomain of f , they are denoted by dom(f ) and cod(f ). We also define the (direct) image of f as the following subset of Y
im(f ) := {f (x) | x ∈ X}
Given two relations ρ1 and ρ2, one says that ρ1 is coarser than ρ2 when
graph(ρ1) ⊆ graph(ρ2)
A morphism of relations from ρ1 to ρ2 is a map f from |ρ1| to |ρ2| such that
∀x, xj ∈ |ρ1|, x ρ1 xj ⇒ f (x) ρ2 f (xj)
The (binary reflexive) relations 3 and their morphisms forms a category denoted by
Rel. A relation “ is said to be transitive (reflexive) when
∀x, xj, xjj ∈ |“ | (x “ xj and xj “ xjj) ⇒ x “ xjj

A transitive relation “ is called a preorder. The category of preorders Pre is defined as the full subcategory of Rel whose objects are the preorders. A relation ρ

3 From now on we write “relation” to mean “binary reflexive relation”.

is said to be antisymetric when
∀x, xj ∈ X (xρxj and xjρx) ⇒ x = xj

By definition, an antisymetric preorder is a partially ordered set or poset. So we have the category of preordered sets Pre, the category of partially ordered sets Ps and two obvious forgetful functors respectively from Pre and Ps to Set. The forgetful functor from Pre to Set has a left adjoint provided by the diagonal relation
X ∈ Set	'→  X, {(x, x)|x ∈ X} ∈ Pre
and a right adjoint provided by the (chaotic) relation
X ∈ Set	'→  X, X × X ∈ Pre
Let (Xi, ρi)i∈I be a family with ρi being a binary relation over Xi, we put
X =	Xi
i∈I

and given two elements x and xj of X, we write x “X xj if x = xj or when there is a finite subset {x0,..., xn} of X, n ∈ N\{0}, such that x0 = x, xn = xj and for all k ∈ {0,...,n − 1} there exists some ik ∈ I such that xkρik xk+1. The relation “X is actually the least (with respect to inclusion over the subsets of X × X) preorder on X which contains ρi (seen as a subset of X ×X) for i running through I. Following
[18] we write
(X, “X)=	(Xi, ρi)
i∈I
and we say that the preordered set (X, “X) is generated by the family (Xi, ρi)i∈I. An open covering of a topological space X is a family (Oi)i∈I of open subsets of X such that
Oi = X
i∈I
Given J ⊆ I the family (Oi)i∈J is called a sub-covering of (Oi)i∈I when (Oi)i∈J is still a covering of X, the sub-covering is said to be finite when J is so. Moreover X is said to be compact when every open covering of X has a finite sub-covering.
Framework for Fundamental Category
The notion of fundamental category arises from an adaptation of the usual notion of fundamental groupoid [3,15,23]. Actually we can define the fundamental category of a (locally) partially ordered space [8,20], d-space [10] or stream [18]. In each case the construction follows the same pattern and leads to a Van Kampen like theorem [10,8]. We briefly recall their construction following a general setting inspired from [14]. From this framework we give a common proof for the Van Kampen theorem

and provide a result comparing the various fundamental category functors.
We recall the construction of the fundamental groupoid [3,15]. Given a topo- logical space X, a Moore path on X is a continuous map δ from [0, r] to X with r ∈ R+. The parameter r is called the length of the path while its source and target are defined as s(δ) := δ(0) and t(δ) := δ(r). Given two Moore paths (on X) δ and γ of lengths r and s such that s(γ)= t(δ), we define the concatenation γ ∗ δ as follows

γ ∗ δ : [0,r + s]	/X¸

t		⎧⎨
⎩
δ(t)	if t ∈ [0, r] γ(t − r)	if t ∈ [r, r + s]

Defined this way, concatenation is obviously associative thus we obtain P (X), the (Moore) path category of X, the objects are the points of X while its identities are the paths of null length. Actually this construction leads to a functor P from Top to Cat.
Given two paths γ and δ on a topological space X sharing the same length r, a 
homotopy from γ to δ is a morphism h ∈ Top[[0, r] × [0, ρ],X] such that
the following mappings are constant
x ∈ [0, ρ] '→ h(0, x) ∈ X
x ∈ [0, ρ] '→ h(r, x) ∈ X
and for all t ∈ [0, r], h(t, 0) = γ(t) and h(t, ρ)= δ(t)
Then we write γ ∼ δ to assert that there exist two constant paths cγ, cδ and a homotopy from cγ ∗γ to cδ ∗δ. The relation ∼ is actually a congruence (in the sense of [19]) on P (X) and the fundamental groupoid 4 of X, denoted by Π1(X), is then defined as the quotient P (X)/ ∼ and we denote by qX the quotient functor from P (X) to Π1(X).

Lemma 2.1 The functors qX for X running through the collection of topological spaces form a natural transformation q from P to Π1.
Proof. Let f be a continous map from X to Y and γ be a morphism of P (X) that is to say a continuous map from [0, r] to X. Then qY ◦P (f ) (γ) and Π1(f )◦qX (γ) are two equivalence classes (up to homotopy of paths in Y ) that share the element f ◦ γ hence they are equal.	2
4 The inverse of the ∼-class of a path δ of length r is the ∼-class of the path t '→ δ(r − t).


P (X)  P (f) /P¸(Y )
qX	qY
J	J 

Π1(X)
Π1(f)
/Π1¸(Y )

We will apply these ideas to concrete categories over Top enjoying some additional properties.
Let C be a category together with a faithful functor U from C to Top admitting a left adjoint F . Also assume the category C has a family of objects (Iι)ι∈£ indexed by the set I of all sub-intervals of R (including ∅ and the singletons). Yet, for each real r ≥ 0 the notation Ir stands for I[0,r].
Axiom 1) for all n-uple (ι1,..., ιn) the n-fold product Iι1 ×· · · × Iιn exists and we suppose that F ({0})= I0. By convention the 0-fold product is the terminal object
of C.
Axiom 2) for all continuous order 5 preserving maps β from ι1 × · · · × ιn to
ιj ×· · ·× ιj ′ there exists a morphism α of C from Iι ×· · ·× Iι to Iι′ ×· · ·× Iι′
1	n	1	n	1	n′
such that U (α)= β. As a consequence, for all ι ∈I we have U (Iι)= ι.
Recall that the homeomorphisms between two intervals of R are the increas- ing or decreasing bijections between them (such a map is necessarily continuous). Hence, as a first consequence of the Axiom 2, note that for all intervals ι and ιj, if there exists an increasing bijection between ι and ιj (each of which being equiped with the standard order over real numbers), then the objects Iι and Iι′ are isomorphic.
From now on we choose the singleton {0} as a representative of the terminal object of Top. Formally a point of a topological space T is a morphism from {0} to T . Then remark that we have a bijection (since F E U , F ({0}) = I0 and then η{0} = id{0})
C[I0,X]	/To¸p[{0},U (X)]
p		/U¸(p)
As a consequence, when f belongs to the homset C[X, Y ] and x is a point of U (X), we write f (x) to denote the unique element of C[I0,Y ] whose image under U is (U (f ))(x). Given an object X of C the directed paths 6 on X are the elements of



r∈ R

C[Ir,X]

thus a path on X induces a (continuous) map from [0, r] to U (X) i.e. a path on
U (X) in the usual sense. Since there is a bijection between the elements of C[I0, Ir]

5 Here we mean product order.
6 We sometimes just write “paths” for short.

and the points of [0, r] it is sound to define the source and the target of a path δ as s(δ) := δ(0) and t(δ) := δ(r). We still call r the length of the path though the parameter r still has no geometric meaning. Given a path α of length r on X and a continuous increasing map θ from [0, s] to [0, r], the composite α ◦ θ is a path of length s on X since by the Axiom 2 the map θ is morphism of C. For x ∈ [0, r] the notation I0  x /Ir¸represents the unique element of C[I0, Ir] whose image under U
is x. Given x, r, s ∈ R+ such that x + r ≤ s, the Axiom 2 allows us to define is	as

the unique morphism of C from Ir to Is so that U (is
) be the following map.

[0, r]		/[0¸, s] t 	/x¸+ t
With the notation previously introduced, the following square is commutative since its image under the faithful functor U is actually a pushout square in Top. Furthermore we suppose
Axiom 3) the following diagram is a pushout square in C



r+s
Ir+s

r+s

i0,r	 ,,i¸r,s
Ir ,¸	 Is,
r
I0
and for all finite sequences (Ir1 ,..., Irn ) and all i ∈ {1,..., n}, it is preserved by the endofunctor of C which sends each X to the Cartesian product
Ir1 ×· · · × Iri−1 × X × Iri+1 × ··· × Irn
which is the case when I[0,1] is exponentiable that is to say when for all X the product I[0,1] × X exists and the induced functor I[0,1] ×− admits a right adjoint. Any category C provided with a functor U and a family (Iι)ι∈£ satisfying the Axioms 1, 2 and3 is calleda framework for fundamental category or just fffc for short.
The category Top with the identity functor as U provides a trivial example of fffc.
A partially ordered (topological) space (or pospace) [20] is a topological space X equiped with a partial order (over its underlying set) whose graph is closed in X × X. Together with the order preserving continous maps between them, the pospaces form a category denoted by P. The underlying space of a pospace is separated (in the sense of Hausdorff) and the forgetful functor from P to the category of Hausdorff spaces H is faithful and admits a left adjoint (by providing a Hausdorff space with the diagonal odrer). Composing with the inclusion of H into Top (which also admits a left adjoint) we obtain the functor U . Then, the standard order over the set of real numbers provides R and any of its intervals with a structure of pospace thus turning P into a framework for fundamental category.

We describe the construction of the fundamental category functor over a given fffc. Given δ ∈ C[Ir,X] and γ ∈ C[Is,X] such that γ(0) = δ(r) the outter shape of the left hand diagram commutes. By axiom 3 there is a unique path γ ∗ δ of length r + s on X that makes the left hand diagram commute. By definition γ ∗ δ is called the concatenation of δ followed by γ. Moreover U (γ ∗ δ) makes the right hand diagram commute which implies that U (γ ∗ δ)= U (γ) ∗ U (δ).
˛U (X,),¸ 

U(δ)
γ
U(γ∗δ)=U(γ)∗U(δ)
[0,  r  ,+,s]¸
U(γ)



I0

 Is,
t'→t




{0}
t'→s+t

The concatenation we have defined is actually associative hence we have a small
−→
category P (X) whose objects are the points of X and whose identities are the
paths of null length. The construction actually induces a functor from C to Cat in

−→
the natural way and we have an obvious embedding of P (X) into P
−→
leads to a natural transformation from P to P ◦ U .
 U (X)
which

We then come to the notion of (directed) homotopy between (directed) paths. A path is said to be constant if it factors, as a morpshim of C, through the terminal object of C. Given two paths γ and δ, we write γ “ δ when there exists two constant paths cγ, cδ and some h ∈ C[Ir × Iρ,X] such that U (h) is a homotopy from U (cγ ∗γ) to U (cδ ∗ δ). The constant paths are needed so we can relate two directed paths whose lengths differ. Such a morphism h is a (directed) homotopy 7 . Considering ρ = 0 we check that the relation “ is reflexive. The axiom 3 allows one to paste homotopies the same way as in classical theory [3,15] thus proving the relation “ is transitive and compatible with concatenation that is to say if δ “ δj, γ “ γj and the source of γ is the target of δ, then the source of γj is the target of δj and γ ∗ δ “ γj ∗ δj. Denoting by ∼ the least equivalence relation containing “ we have
−→
a congruence over P (X) (in the sense of [19]). It is worth to notice that we have
γ ∼ δ if and only if there exists a zigzag of directed homotopies between γ and δ that is to say a finite sequence (ξ0,..., ξn) of paths on X such that ξ0 = γ, ξn = δ and for all k ∈ {0,...,n − 1} ξk “ ξk+1 or ξk+1 “ ξk. So we define the fundamental category of X as the quotient
−→
P (X)/ ∼
−→
We denote it by Π1(X) without any reference to the category C when the context
leaves no ambiguity 8 and we denote by q−→	−→
−→	X the quotient functor from P (X) to
Π1(X).	The relations “ and ∼ are called the homotopy preorder and the

7 Note h preserves endpoints because so does U(h).

—→
8 We write P
—→(C)
X and Π1  (X) if we need to insist on the fact that the underlying fffc is C.

homotopy congruence over X.
If we consider the framework Top, then functor.

−→
Π1 is the classical fundamental groupoid

Lemma 2.2 The functors q−→ for X running through the collection of objects of C

X
is a natural transformation −→q from P to
−→
Π1.

Proof. Adapting the proof of the Lemma 2.1.	2
As a first application, we can compare fundamental categories through functors between frameworks for fundamental category. Let (C,U ) and (Cj,Uj) be two fffc’s and D be a functor from C to C’ such that Uj ◦ D = U and D(Ir)= Ij . Let X be
an object of C. Given x, r, s ∈ R+ such that x + r ≤ s one has

Uj D(is
) = U (is
)= Uj(i′s )=  [0, r]	/[0¸, s]






hence for Uj is faithful we have D(is
′s
x,r
and it follows that



γ ⎞	D(δ)
⎟
˛D (X,),¸ 
D(γ∗δ)

D(γ)

⎟	′r+s
j
r+s	′

D	0,r	=
Ir ,¸	Is
r
I0
i0,r	 ,,¸i r+s
j
 s,

j
0

from which we deduce that D(γ ∗δ)= D(γ) ∗D(δ). Hence we have defined a functor

α	−→(C) 
−→(C′) DX whose object part is the identity of the underlying

set of X and which sends a path δ on X to the path D(δ) on DX.
Lemma 2.3 The collection of functors αX for X running through the collection

of objects of C
forms a natural transformation from
−→(C)
−→ ′
to P	. Moreover the

functor αX is an identity if and only if for all r ∈ R+ we have C[Ir,X]= Cj[Ij , DX].
Proof. An immediate consequence of the definition of the category of paths.	2

Now we add the condition that D(Ir
×Ir )= Ij ×Ij
. The notations “X, “DX, ∼X

1	2	r1	r2
and ∼DX refer to the homotopy preorders and homotopy congruences over X and
DX. If h is a directed homotopy from γ to δ then D(h) is a directed homotopy from
D(γ) to D(δ). It follows that γ ∼X δ implies D(γ) ∼DX D(δ). So we have a functor

β	−→(C)
−→(C′)

X from Π1	(X) to Π1	(DX) whose object part is the identity of the underlying
−→(C)
set of X. Precisely, the morphisms of Π1	(X) are the ∼X-equivalence classes of
−→(C) 
part of the functor is defined as the ∼DX-equivalence classe of D(δ) where δ is any

element of E. In other words for all path δ on X we have
βX [δ]X = D(δ) DX
where [δ]X and [D(δ)]DX are the equivalence classes of the paths δ and D(δ).
Lemma 2.4 The collection of functors βX for X running through the collection

of objects of C
forms a natural transformation from
−→(C)
Π1	to
−→(C′)
Π1	. Moreover the

functor βX is an iso if and only if for all directed paths δj
and δj
on DX such that

j ∼DX δj
there exist two directed paths δ1 and δ2 on X such that D(δ1) ∼DX δj ,

D(δ2) ∼DX δj
and δ1 ∼X δ2.

Proof. From the description of the morphism part of the functor βX.	2
Corollary 2.5
Given an object X of C, if for r and ρ running through R+ the maps Ar are bijective and the maps Br,ρ are surjective
C[I ,X]  Ar /Cj¸[Ij , D(X)]	C[I × I ,X] Br,ρ /Cj¸[Ij × Ij , D(X)]
r	r	r	ρ	r	ρ
δ 	/D¸(δ)	h 	/D¸(h)
−→	∼ −→	−→	∼ −→ 
Proof. As an immediate consequence of the Lemmas 2.3 and 2.4.	2
Suppose D admits a left adjoint S, denoting by η the unit of the adjunction S E D
we also make the assumption that for all r ∈ R+ we have ηI′ = idI′ . In addition,

assume we have for all r1, r2 ∈ R+
S(Ij
j )= Ir
× Ir2

In practice, the technical extra hypotheses about the adjunction S E D are often trivially satisfied.
Corollary 2.6
−→(C) 

−→(C′) 
−→(C)
−→(C′)

Proof. The mappings below are bijections because S is left adjoint to D.
C[S(Ij ),X]	/Cj¸[Ij , D(X)]	C[S(Ij × Ij ),X]	/Cj¸[Ij × Ij , D(X)]
r	r	r	ρ	r	ρ
δ 	/D¸(δ) ◦ ηI′	h 	/D¸(h) ◦ ηI′ ×I′
r	r	ρ

In addition we have
Cj[Ij , D(X)] = C[S(Ij ),X]= C[Ir,X]

r	r
and

Cj[Ij × Ij , D(X)] = C[S(Ij × Ij ),X]= C[Ir × Iρ,X]
r	ρ	r	ρ

then we conclude applying the Corollary 2.5 because ηI′
= idI′
and according to

the next basic 9 lemma we have ηI′ ×I′ = ηI′ × ηI′ = idI′ ×I′ .
r	ρ	r	ρ	r	ρ
Lemma 2.7 Let F E U : A  U /B¸be an adjunction and let B, Bj be two objects
F
of B such that F (B × Bj)= FB × FBj, then ηB×B′ = ηB × ηB′ .
We now prove the Lemma 2.7 using basic results about adjunction that can be found in [1]. We denote by η and ε the unit and the counit of the adjunction. In order to conclude, it suffices to check that
⎧⎨ ηB ◦ ΠB = ΠUF B ◦ ηB×B′
⎩ ηB′ ◦ ΠB = ΠUF B′ ◦ ηB×B′

Taking into account the fact that F (B ×Bj)= FB ×FBj, it is a general fact about adjunction that the (set theoretic) maps are bijections
A[FB × FBj,FB] ¸, /B[¸B × Bj,UFB]
γ 	/U¸(γ) ◦ ηB×B′ εFB ◦ F (δ) ¸,		 δ
It is another general fact that εFB ◦ F (ηB) = idFB hence we have εFB ◦ F (ηB ◦ ΠB) = εFB ◦ F (ηB) ◦ F (ΠB) = F (ΠB). Now for F preserves the product B × Bj we have F (ΠB) = ΠFB. Thus, according to the preceding bijection we have U (ΠFB) ◦ ηB×B′ = ηB ◦ ΠB. Then for U has a left adjoint it preserves products hence U (ΠFB)= ΠUF B and we have ηB ◦ ΠB = ΠUF B ◦ ηB×B′	2
However as we shall see, there might be an object Xj  of C’ such that
−→	j  ∼ −→	j	j	j	j

−→  
j	−→ 
j	−→	j


We now provide a tool for actual calculations of the fundamental category. An element α of C[X, Y ] is called an inclusion when U (X) is a subspace of U (Y )
○
and U (α) is the corresponding inclusion. In this case the notation U (X) stands for the topological interior of U (X) seen as a subset of U (Y ). Then we have a generic form of the Van Kampen theorem.
Theorem 2.8 (Seifert - Van Kampen)
○	○
A square of inclusions of C such that U (X1) and U (X2) cover U (X) and U (X0)= 

9 I explicitly provide the statement and its proof for I could not find them anywhere in the “classics” of Category Theory.

−→
U (X1) ∩ U (X2) is sent to pushout squares of Cat by the functors P and
−→
Π1.



X 	/X¸	−→	−→	−→	−→
0	1	P (X0)	/P¸(X1)	Π1(X0)	/Π1¸(X1)


J	J 
−→ J	−→ J 
−→ J	−→ J 

X2 	/X¸
P (X2)	/P¸(X)
Π1(X2)	/Π1¸(X)



Proof. Provided we pay some attention to the details pointed out below, it suffices to mimic the proof of the classical Van Kampen theorem for groupoids given in [15]. Compactness actually remains the cornerstone of the argumentation.
First we need that for all γ ∈ C[Ir,X], all h ∈ C[Iρ × Is,X], all closed inter- val ι ⊆ [0, r] and all closed rectangles ι1 × ι2 ⊆ [0, ρ] × [0, s] the restriction of α to ι and the restriction of h to ι1 × ι2 induce morphisms of C. Writting these restrictions as ι ‹→ [0, r] −α→ X and ι1 ×ι2 ‹→ [0, ρ] × [0, s] −h→ X it is an immediate consequence of the Axiom 2.
The classical proof also uses the fact that any two paths on a rectangle sharing the same extremities are homotopic. Our context requires a similar result involving increasing paths and zigzag of directed homotopies. Given α and β two continuous increasing maps from [0, r] to some rectangle R = [0, a] × [0, b] such that α(0) = β(0) and α(r) = β(r), we remark that the map γ from [0, r] to R defined by γ(t)= max(α(t), β(t)) is still continuous and increasing. It follows that the map h from [0, r] × [0, 1] to R defined by


h(t, s) := (1 − s) · α(t)+ s · γ(t)= α(t)+ s · (γ(t) − α(t))
is continuous and increasing with respect to the product order on R. Therefore h induces a morphism of C in virtue of Axiom 2 and h is then a directed homotopy from α to γ. The same way, we obtain a directed homotopy from β to γ thus providing the expected zigzag.	2
In the framework Top, the Theorem 2.8 is reduced to the classical Van Kampen Theorem for fundamental groupoids. The Theorem 2.8 can be summarized by the

following commutative cube whose upper and lower faces are pushout squares.
−→
˛P (X1)

−→
P (X0)


z−→_
P (X2)
z−→_
˛P (X)



−→ J	z−→_J 

Π1(X0)
˛Π1 (X)

Π1(X2)
Examples of frameworks for fundamental categories
d-Spaces
The notion of d-space is due to Marco Grandis [10,11]. A subpath of length s of a path δ of length r is a path of the form δ ◦ θ where θ is an increasing continous map from [0, s] to [0, r]. The map θ needs not to be one-to-one nor onto. We slightly differ from the definition of [10] in that we allow paths to be defined on any non empty compact interval (including singletons) instead of just [0, 1]. As one can imagine, it does not make any significant difference but better fits with the structures described in the preceding section.
Definition 3.1 A d-space X is a topological space U (X) together with a collection dX of paths on U (X) which is stable under subpaths, stable under concatenation and contains all constant paths.
The standard example of d-space is the compact segment [0, r] equipped with the collection of increasing continuous maps from [0, s] to [0, r] with s running through R+, we denote it by ↑Ir.
Definition 3.2 A d-space morphism from X to Y is a continuous map f from
U (X) to U (Y ) such that ∀δ ∈ dX, f ◦ δ ∈ dY .
The d-spaces and their morphisms form a category denoted by dT. There is an obvious forgetful functor U from dT to Top which has both a left adjoint (providing a topological space with its constant paths) and a right adjoint (providing a topological space with all its paths). Moreover any interval ι ⊆ R can be provided with a structure of d-space by considering all its increasing continuous paths. Hence the category dT can be endowed with a framework for fundamental category structure and in the sequel, we refer to it as the directed framework of dT. However there are other alternatives, we can provide every interval with the set of all its constant paths (chaotic framework of dT) or provide every interval with the set of all its paths (discrete framework of dT).


Actually the directed framework of dT plays a special role. Recall that given an object X of C the collection of directed paths on X consists on the union of the homsets C[Ir,X] for r running through the non negative numbers. This collection is stable under subpaths (by Axiom 2), contains all the constant paths (by Axiom 2) and is stable under concatenation (by Axiom 3) : thus we have a d-space D(X). Moreover, a morphism f ∈ C[X, Y ] clearly induces a morphism D(f ) ∈ dT[D(X), D(Y )] by setting
 D(f ) (γ) := f ◦ γ
Then we have defined a faithful functor D from C to dT which clearly depends on the structure of framework for fundamental category carried by C. Furthermore, in
[10] the elements of dX are called the “directed paths” of X while in the directed framework of dT, a “directed path” on X is a morphism of dT[↑ Ir,X] for some r ≥ 0. The next result asserts that both terminology coincide.
Lemma 3.3 If dT is equiped with its directed framework, then the directed paths on a d-space X are the elements of dX that is to say



r∈ R
dT[↑Ir,X]= dX

Proof. Let α ∈ dT[↑ Ir,X] and θ denote the identity map on [0, r], then θ is continuous and increasing hence α = α◦ id[0,r] belongs to dX for α is a morphism of dT and the d-space structure of ↑Ir consists on all the increasing continuous paths on [0, r]. Conversely, any δ ∈ dX is in particular a continous map from [0, r] to X for some r ≥ 0. Since dX is closed under subpaths one has α ◦ θ ∈ dX for all s ≥ 0 and all continuous increasing maps θ from [0, s] to [0, r]. Yet, according to the d-space structure of ↑Ir, it precisely means that δ belongs to dT[↑Ir,X].    2
Note that if we had chosen any of the two other “pathological” framework over dT the preceding lemma would have not hold. On one hand the choatic framework does not bring anything new. More precisely
Lemma 3.4 If dT is equiped with its chaotic framework, then the directed paths on a d-space X are the paths on U (X) and the fundamental category of X is the fundamental groupoid of U (X).
Proof. A path α on U (X) defined on [0, r] is a directed path on X if and only if for all constant path c on [0, r] the path α ◦ c belongs to dX, which is the case since dX contains all constant paths.	2
On the other hand, the discrete framework is also irrelevant since in this case, the fundamental category of the directed unit interval (that is to say [0, 1] with the set of continuous increasing paths on it) is just the discrete category whose set of objects is [0, 1].

Lemma 3.5 If dT is equiped with its discrete framework, then one has



r∈ R
dT[Ir,X] ⊆ dX

and the equality occurs iff for all δ ∈ dX deﬁned on [0, r] and all continuous map θ
from [0, s] to [0, r] the map δ ◦ θ belongs to dX.
Proof. Let α ∈ dT[Ir,X] and θ denote the identity map on [0, r], then θ is con- tinuous hence α = α ◦ θ belongs to dX for α is a morphism of dT and the d-space structure of Ir consists on all the continuous paths on [0, r]. The case of equality immediately comes from the fact that each interval is equiped with the set of all continuous paths on it.	2
Any set of paths on a topological space induces a structure of d-spaces. Indeed, given a topological space X and a collection P of paths over X, this structure can be described as the collection dXP of paths on X which are constant or can be written as
(δn ∗ ... ∗ δ1) ◦ θ
where n ≥ 1, δk ∈ P for all k ∈ {1,..., n} and θ : [0, r] → [0, s] is continuous and increasing (where s is the sum of the lengths of the paths δk and r ranges in R+). Actually dXP is the least (with respect to inclusion) collection of paths on X which contains PX and provides X with a structure of d-space. The structure is then said to be generated by P .

Streams, Circulations and Precirculations
These notions are due to Sanjeevi Krishnan [17,18].
Definition 3.6 A circulation on a topological space T is a mapping which sends any open subset W ⊆ T to a preorder relation “W on W and satisfies the following property : given any open subset W ⊆ T and any open covering (Oi)i∈I of W , the relation “W is the preorder on W generated by the family of relations (“Oi )i∈I i.e.
(W, “W )=	(Oi, “Oi )
i∈I
A stream X is a topological space U (X) together with a circulation on U (X).
Definition 3.7 A morphism of stream from X to Y is a continuous map from
U (X) to U (Y ) such that for every open subset W ⊆ X and every open subset
V ⊆ Y such that f (W ) ⊆ V , one has


∀w, wj ∈ W w “X
wj ⇒ f (w) “Y
f (wj)

In particular given some open subset V ⊆ Y we have


∀w, wj ∈ f—1(V ) w “X
wj ⇒ f (w) “Y
f (wj)

Conversely, assume the previous assertion is satisfied and consider some open
subset W ⊆ X such that f (W ) ⊆ V and let w, wj ∈ W be such that w “X wj.
Since W ⊆ f—1(V ) and “ is a circulation we have w “X	wj and therefore
f (w) “X f (wj). It clearly follows that the morphisms of stream compose and thus form a category that we denote by St. There is an obvious forgetful functor U from St to Top which admits a left adjoint provided by the diagonal relations on the open subsets of any topological space. It also admits a right adjoint by associating any topological space with its “greatest” stream structure [18], yet, this structure cannot be easily described.
The category of streams enjoys many nice properties, in particular it is complete. However the products in St are not easily described and requires to generalize the notion of stream. We still follow the terminology of [18] calling precirculation on a topological space T any mapping which sends any open subset W ⊆ T to a preorder relation “W on W such that if W1 ⊆ W2 are two open subsets of T , then for all w, wj ∈ W1,w “W wj ⇒ w “W wj. As suggested by the terminology, any circulation is a precirculation. Then we call prestream a topological space together with a precirculation on it. Defining the morphisms of prestream the same way as the morphisms of streams we have a category pSt and a full inclusion of St into pSt. We also have a forgetful functor from pSt to Top which admits both a left adjoint (defined as for the streams) and a right adjoint which consists on assigning to each open subset W its chaotic preorder that is to say the one whose graph is W ×W . Still we write “X to denote the precirculation of a prestream X. Given two precirculations “ and “j on the same toplogical space, one says that “ is contained in “j (or that “ is less that “j) when for all open subset W and all w, wj ∈ W one
has w “W wj ⇒ w “j	wj i.e. one has the graph inclusion graph(“) ⊆ graph(“j).
Then, the cosheafification of a prestream X is defined, for all open subset W of U (X), by the preorder on W generated by all the preorders “W , where “ ranges in the collection of all circulations on U (X) contained in “X. By a slight abuse of language, one may say that a prestream X is less that a prestream Xj when so are their corresponding precirculations. Then, in an abstract way, the cosheafification of a prestream X is the greatest stream contained in X. Following the notation of [18], the cosheafification of a prestream X is denoted by X!. As one can imagine, the cosheafification construction induces a right adjoint to the inclusion pSt ‹→ St. In particular, the following commutative diagram lead us to write the right adjoint to the forgetful functor from St to Top as a composite of right adjoints.
T o,,p ,
U
St ,˛	/pS¸t
Furthermore, the product of a family of streams is given by the cosheafification of its product in pSt [18]. In other words the inclusion functor from St to pSt preserves products. Yet, it is noticed in [18] that the product of a family of streams

in pSt almost always differ from its product in St.
Any interval of R can be provided with a structure of stream assigning to each of its open subsets W the following preorder : for w and wj in W write w “W wj when w is less than wj (as real numbers) and the segment [w, wj] is contained in W . In
−→
particular for all r ∈ R+ we denote by I r the stream on the compact interval [0, r].
From this example, we immediately obtain a framework for fundamental categories
−→
on St, the Axiom 3 being given by the fact that I r is exponentiable.
Corollary 3.8 A prestream X and its cosheaﬁﬁcation X! have isomorphic funda-
mental categories i.e.	−→	−→
Π1(X) ∼= Π1(X!)
Proof. Applying the Corollary 2.5.	2

Partially Ordered Spaces
Mathematicians have studied the pospaces since the early forties [6]. Later motivated by functional analysis, Leopoldo Nachbin generalized many basic facts about topological spaces to pospaces in [20]. Later on, in theoretical computer science, Edsger Wybe Dijkstra introduced the notion of progress graph in order to modelize the phenomena encountered in concurrency [5]. Then Scott D. Carson, Paul F. Reynolds Jr and Vaughan Pratt formalized the geometric idea that holes in the structure modelizing a concurrent program actually represent the lack of ressource that may occur during its execution [4,22]. It was therefore natural to consider algebraic topology as a way of adressing issues met in concurrency, thus pospaces provided the first playground for directed algebraic topologists [7]. By the way, it is worth to note the forgetful functor from P to H does not preserve colimits. Indeed, identifying the endpoints of the directed compact unit segment [0, 1] in P result in identifying all the points of [0, 1] thus producing a singleton. On the other hand, identifying the endpoints of the compact unit segment [0, 1] in H produces a circle. Since directed loops cannot be represented as pospaces several generalizations, like local pospaces [8], d-spaces [10] or streams [17,18], have been introduced.
The colimits of Top (or any of its “nice” subcategory) occur everywhere in algebraic topology. Then one of the first step towards the algebraic topology of pospaces is to prove that they form a cocomplete category. Doing so, we establish an adjunction that will be used in the next section to compare the fundamental categories of pospaces to the fundamental categories of their corresponding streams.
A weakly ordered (topological) space or wospace is a Hausdorff space X equiped with a closed reflexive binary relation ρ. In the sequel we write X to denote both the wospace (X, ρ) and its underlying topological space X, while ρX is put for the relation that comes with X. The morphisms of spaces with relation from X to Y are the continuous maps f : X → Y such that for all x, xj ∈ X,

x ρX xj ⇒ f (x) ρY f (y). The spaces with relation together with their morphisms form the category W. As we shall see, the cocompleteness of P actually arises from the directed version of the following standard result from basic general topology.
Lemma 3.9 Let X be a topological space and ∼ be an equivalence relation over UX, there exists a unique, up to isomorphism, Hausdorff space Y as well as a unique continuous map q : X → Y such that for any Hausdorff space Z and any continuous map f : X → Z satisfying x ∼ xj ⇒ f (x) = f (xj) there is a unique continuous map g : Y → Z such that f = g ◦ q. Moreover, if ∼ is the relation (x, xj) f (x)= f (xj) the the mapping g is one-to-one.
Proof. Let ∼٨ be the least closed equivalence relation on UX containing ∼. The topological space Y is the set theoretic quotient of UX by ∼٨, that we also denote by UY , equiped with the largest topology that makes the set theoretic quotient map q : UX → UY continuous. The closed subsets of this topology are precisely the subsets V of UY such that q—1(V ) is a closed subset of X. By definition of q, the set q—1(ΔUY ) is exactly the graph of ∼٨ which is closed by construction. Thus by definition of the topology on Y , the set ΔUY is closed in Y × Y which exactly means that Y is Hausdorff.
Now consider a continuous map f from X to a Hausdorff space Z such that for all x, xj ∈ X, x ∼٨ xj implies f (x) = f (xj). The set (f × f )—1(ΔUZ) is clearly (the graph of) an equivalence relation which is closed since f is continuous, hence it contains (the graph of) ∼٨. So there exists a unique set theoretic map g : UY → UZ such that f = g ◦ q. Let C be a closed subset of Z, then f—1(C)= q—1(g—1(C)) is a closed subset of X since f is continuous. It follows that g—1(C) is closed in Y by definition of the topology of Y and thus g is continuous.
Now suppose the relation ∼ is actually the following
(f × f )—1(ΔZ)= (x, xj)  f (x)= f (xj)}
then we have ∼=∼٨. Hence given x, xj ∈ X we have g(q(x)) = g(q(xj)) iff f (x)= f (xj) by definition of f , then f (x)= f (xj) iff x ∼ xj by definition of ∼, and x ∼ xj iff q(x)= q(xj) by definition of q which is therefore one-to-one.	2
The category of topological spaces is denoted by Top, its full subcategory of Hausdorff spaces is denoted by H. The inclusion functor of H in Top has a left adjoint whose counit is the identity while its unit is given by the Lemma 3.9 by taking the equivalence ∼ to be ΔUX for each topological space X. The next result is the adaptation of the Lemma 3.9 to the spaces with relation, the proof of the former actually relies on the later.
Lemma 3.10 Let X be a space with relation and ∼ be an equivalence relation over UX, there exists a unique, up to isomorphism, space with relation Y as well as a unique morphism q : X → Y such that for any space with relation Z and any morphism f : X → Z satisfying x ∼ xj ⇒ f (x) = f (xj) there is a unique morphism g : Y → Z such that f = g ◦ q. Moreover

the underlying topological space of Y is the quotient of X by ∼ in H. See the Lemma 3.9
if ∼ = (f × f )—1(ΔZ) then g is one-to-one
if Z is a pospace and ∼ = (f × f )—1(ΔZ) then g is actually a morphism of pospaces.
Proof. The underlying Hausdorff space of Y as well as the continuous map q are given by the Lemma 3.9 and the relation on Y is the least closed reflexive relation on Y that turns q into a morphism of W.
Now let f : X → Z be a morphism of W, from the Lemma 3.9 we have a unique continous map g : Y → Z such that f = g ◦ q, then it suffices to check that g is actually a morphism of W. Since f is a morphism of W we have ρX ⊆ (f ×f )—1(ρZ)
i.e. ρX ⊆ (q × q)—1 (g × g)—1(ρZ) therefore (g × g)—1(ρZ) is a reflexive binary relation that turns q into a morphism of W. Moreover (the graph of) the relation (g × g)—1(ρZ) is closed since g is continuous, thus ρY ⊆ (g × g)—1(ρZ) i.e. g is a morphism of W. By construction of Y we have proven 1) and 2) which are direct consequences of the Lemma 3.9.
Suppose ±Z is a closed partial order, we want to check that (g × g)—1(±Z) is so. The only point which remains to check is the antisymetry. Let y, yj ∈ Y such that g(y) ±Z g(yj) and g(yj) ±Z g(y), then we have g(y)= g(yj) since ±Z is antisymetric and from 2) we know that g is one-to-one, so we have y = yj.	2
The object Y is called the quotient of X by ∼. The obvious forgetful functor from W to H has both a left adjoint and a right adjoint which are respectively given by (X, ΔX) and (X, X × X) i.e. the relation whose graph is X × X. As a consequence, the forgetful functor preserves limits and colimits that exist in W. Furthermore the forgetful functor from W to H has a left adjoint, however, as we shall see, it has no right adjoint.
Lemma 3.11 The categores W and P are complete and the inclusion functor P ‹→ W preserves limits.
Proof. By a standard result of basic category theory [1] it suffices to prove that W and P admit products and equalizers and that they are preserved by the inclu- sion functor. From the preceding remark, we have no choice about the underlying topological spaces. The product of a family (Xi)i∈£ of spaces with relation is the product of their underlying spaces equiped with the product relation i.e. (xi)i∈£
and (xj )i∈£ are related when xi ρX xj for all i ∈ I. By the way if each relation ρX
is a partial order then so is the product, hence the inclusion functor preserves the products. The equalizer of two parallel morphisms f1, f2 ∈ W[X, Y ] is the following topological subspace of X
 (x, xj)	f (x)= f (xj)}
equiped with the relation induced by the product relation ρX × ρX. In particular it is a pospace when so is X, hence the inclusion functor also preserves equalizers and therefore all limits.	2

Lemma 3.12 The category W is cocomplete, the category P admits coproducts and they are preserved by the inclusion functor P ‹→ W .
Proof. Once again it suffices to prove that W admits coproducts and coequalizers and for the inclusion functor admits a right adjoint we have no choice about the underlying topological spaces.
The coproduct of a family (Xi)i∈£ of spaces with relation is the coproduct of their underlying spaces equiped with the coproduct relation i.e. x and xj are related when x and xj belong to the same component Xi and x ρX xj. The coproduct relation is a partial order when each ρXi is so therefore P admits coproducts and they are preserved by the inclusion functor.
The coequalizer in W of two parallel morphisms f1, f2 ∈ W[Xj,X] is pro- vided by the Lemma 3.10 applied with the equivalence relation generated by (f1(x), f2(x)) x ∈ X .	2
Lemma 3.13 The category P is an epireflective subcategory of W.
Proof. From the Lemma 3.11 we know that P is complete and the inclusion functor P ‹→ W preserves limits. Let Sj be the set of equivalence relation on X such that the quotient of X by ∼ is a pospace and let S the set of quotient of X by ∼ with ∼ running through Sj. From the Lemma 3.10 we know that any morphism of W from X to some pospace Z can be factorized through an element of S i.e. S is a solution set [1] for X. Then we conclude applying the Freyd’s Adjoint Functor Theorem [1].	2
The following corollary is a direct consequence of a result from general category theory which claims that any reflective subcategory of a cocomplete (resp. complete) category is also cocomplete (resp. complete) [1]. Since we already have checked that P has all coproducts (Lemma 3.12) it only remains to check that P has all coequalizers, yet, they are immediately provided by the third point of the Lemma 3.10.
Corollary 3.14 The category of partially ordered spaces is cocomplete.
Before leaving pospaces we give some remarkable facts about them.
The image of a path δ on a pospace X is understood as the pospace structure induced over the set im(δ) by X. Moreover, we recall that I0 is the singleton {0} (with its unique pospace structure) and I1 is the compact segment [0, 1] equiped with the standard order on real numbers. Then we have
Theorem 3.15
The image of a path on a pospace is isomorphic to I1 or isomorphic to I0.
Proof. The demonstration of the Theorem 3.15 heavily relies on the tight relation between the standard topology of [0, 1] and its total order, and more precisely on the two following facts.

Recall that a topological space is said to be separable when it is not reduced to a singleton and admits a countable subset which intersects any of its (non empty) open subsets. A continuum is a compact connected Hausdorff space, a point x of a connected topological space X is said to be non-separating when X\{x} is still connected, and an arc is a continuum with exactly two non-separating points. The first fact claims that any separable arc is homeomorphic to [0, 1]. Moreover, a pospace X is said to be linear when its underlying order is so, that is to say when for all x and xj in X, one has x ± xj or xj ± x. The second fact is well-known in point-set topology, it claims that given an arc A there exists exactly two linear pospaces whose underlying space is A and actually, each of them is isomorphic to the opposite of the other.
Admitting these assertions the proof becomes easy. Let δ be a morphism of pospace from Ir to X, its image im(δ) inhertis a pospace structure from X. The underlying space of im(δ) is a continuum as the direct image of the continuum [0, r] by the continuous map δ whose codomain is Hausdorff. It is clearly separable considering {δ(x) | x ∈ Q∩[0, r]}. According to the first claim, the underlying space of im(δ) is homeomorphic to [0, 1]. Furthermore, the order inherited by im(δ) from X is linear. Indeed, if x, y ∈ im(δ) there exist t, tj ∈ [0, 1] such that δ(t) = x and δ(tj)= y, since one has t ≤ tj or tj ≤ t we have x ≤ y or y ≤ x. Hence according to the second claim, the pospace structure of im(δ) is isomorphic to I1.	2
The Theorem 3.15 has no obvious counterpart in general topology : for example the Peano curves are known to provide continous maps from [0, 1] onto [0, 1] × [0, 1]. In fact the study of continuous images of the compact unit segment is a mathematical research subject on its own [21]. Beyond its interest as a characterization result, the Theorem 3.15 as a striking consequence upon dihomotopy classes of paths on a pospace.
Corollary 3.16 Two dipaths on the same pospace sharing the same image are di- homotopic.
Proof. Let γ and δ be two paths on a pospace X such that im(δ) = im(γ) and denote by K the pospace structure induced on im(δ) by X. Without loss of generality we can suppose dom(δ) = dom(γ) = I1 and define α ∈ P[I1,X] by α(t) := max(γ(t), δ(t)). Then α is a path on X such that im(α) = im(δ). Now supposing that K ∼/= I0 and applying the Theorem 3.15, let φ ∈ P[I1, K] be an isomorphism. Then define

H1(s, t) := φ s ∗ φ—1 α(t) + (1 − s) ∗ φ—1 γ(t) 
H2(s, t) := φ s ∗ φ—1 α(t) + (1 − s) ∗ φ—1 δ(t) 

thus obtaining two dihomotopies H1 and H2 respectively from γ and δ to α.   2
It is worth to notice that due to the antisymetry of a partial order, the forgetful functor from P to H does not preserve coequalizers indeed, in one hand one has the

following coequalizing diagram in Top
{0, 1}  t'→t /[0¸, 1]	t'→e(2iΠt)	/S1¸
t'→1—t
while in the other hand one has the following coequalizing diagram in P


{0, 1}  t'→t /−→¸ t'→1—t
 t'→0 /{0¸}

Imagine one has pinned a finite sequence of “instructions” along the segment [0, 1]. Consider this sequence forms a “program” whose “execution” consists on performing each of its instruction following the order provided by the standard ordering of real numbers. Then identifying 0 and 1 should produce another program whose instructions are pinned on a “directed circle” thus giving rise to infinite repetition of the same sequence of instructions. Clearly, the behaviour of coequalizers in P does not fit with this point of view. Saying to be loop-free 10 any category C such that
∀x, y ∈ Ob(C) C[x, y] /= ∅ and C[y, x] /= ∅ =⇒ x = y and C[x, x]= {idx} it is easy to check that the fundamental category of any pospace is loop-free.
We conclude the section showing the notion pospace is rather rigid in regard of the fundamental category invariant. Indeed there is a unique (up to isomorphism) pospace whose fundamental category is the standard poset 11 [0, 1]. In opposition, there is at least two non isomorphic d-spaces whose fundamental category is the standard poset [0, 1], the topology and the collection of directed paths of a d-space being too loosely bound.
Recall that ↑I1 is the d-space over the compact unit segment [0, 1] whose directed paths are the continuous increasing maps from [0, r] to [0, 1] with r ∈ R+. Denote by X the d-space on the coarse topology of [0, 1] whose directed paths are those of
↑I1. As we have remarked, if δ1 and δ2 are two continuous increasing maps from [0, r] to [0, 1] the map δ3 defined by δ3(t) := max(δ1(t), δ2(t)) is still so and the maps h1 and h2 defined by hi(t) := (1 − s)δi(t)+ sδ3(t) for i ∈ {1, 2} prove that δ1 and δ2 are dihomotopic. Yet ↑I1 and X are clearly not isomorphic since their underlying topological spaces are not. In comparison we have
Proposition 3.17 Any pospace whose fundamental category is isomorphic to the standard poset [0, 1] is isomorphic to the directed compact unit segment.
−→
Proof. Let X be a pospace such that Π1(X) is isomorphic to the standard poset
[0, 1].  We can suppose the underlying set of X is [0, 1].  We denote by ≤ the

10 The loop-free categories have been introduced by Andr´e Haefliger as small categories without loops
or scwols [2,12,13].
11 The poset [0, 1] is equiped with the standard order on real numbers and seen as a small category.

standard order over real numbers restricted to [0, 1] and ±X the partial order of X. Let x, y ∈ [0, 1] such that x ≤ y, by construction of the fundamental category there exists a morphism of pospaces δ from I1 to X such that s(δ)= x and t(δ)= y. As a morphism of pospaces δ is increasing hence x ±X y. Furthermore the order on real numbers is total hence ±X is actually ≤. Moreover if we take x and y to be 0 and 1 then we have a continuous map from the compact unit segment onto U (X) which is Hausdorff as the underlying topological space of a pospace [20]. Hence U (X) is compact Hausdorff. In order to conclude, we just need to prove that the topology of X is finer than the standard topology. Then remark that for X is a pospace the subsets {x ∈ X | a ±X x} and {x ∈ X | x ±X a} are closed [20], thus
{x ∈ X | a > x} and {x ∈ X | x > a} are open, and therefore the topology on X is finer than the standard topology on [0, 1].	2

The Compactly Generated Weakly Hausdorff feature
It’s a well-known fact that Top is not Cartesian closed, this issue is classically adressed by considering the full subcategory of compactly generated spaces CG. Obviously, the same problem arises with frameworks for fundamental categories and it is adressed substituting CG to Top.
Given a topological space X we denote by K(X) the poset of compact Hausdorff sub-spaces of X, ordered by inclusion. The poset K(X) can be seen as a subcategory of Top, then X is said to be compactly generated when
colim K(X) ‹→ Top ∼= X

One easily checks that a topological space X is compactly generated if and only if for all C ⊆ X, if K∩C is closed in K for K running through K(X) then C is closed in X. This is actually the definition given in [16]. As pointed out by the referee, one usually considers the weakly Hausdorff compactly generated (WHGC) spaces because the quotient of a WHGC space by some k-closed equivalence relation remains weakly Hausdorff and the category of weakly Hausdorff compactly generated spaces is still complete, cocomplete and Cartesian closed. Formally, a topological space X is said to be weakly Hausdorff when for all compact Hausdorff spaces K and all continuous map u : K → X, the set u(K) is a closed subset of X. Every weakly Hausdorff (respectively Hausdorff) space is T1 (respectively weakly Hausdorff) but the converse is false.
Comparing some examples of framework
The section is devoted to the description of adjunctions between the different frame- works described above, and the fact that they behave well with respect to funda- mental categories.

St  D /dT¸ S
pSt  D /dT¸ S

Lemma 5.1 Given a d-space X the mapping that sends each open subset W ⊆ X
to the relation
 (w, wj) ∈ W × W ∃δ ∈ dX, im(δ) ⊆ W, s(δ)= w, t(δ)= wj,

forms a circulation on U (X), hence a structure of stream denoted by S(X).
Proof. Suppose (Oi)i∈I is an open covering of W . Since dX is stable under con- catenation, the relation “W contains the preorder generated by the relations “Oi for i running through I. Conversely, consider an element δ of dX such that im(δ) ⊆ W . Each δ—1(Oi) is an open subset of [0, r] hence a disjoint union of open sub-intervals of [0, r]. For [0, r] is compact we have a finite family of open sub-intervals of [0, r] each of which being contained in some δ—1(Oi). From this finite covering we deduce a finite family γn,..., γ0 of subpaths of δ such that s(γj+1)= t(γj), s(γ0)= s(δ) and t(γn) = t(δ). It follows that for all j in {0,..., n} we have some ij ∈ I such that

im(γj) ⊆ Oij
and s(γj) “X
j
t(γj), and thus “X
is the preorder on W generated by

the relations “X .	2
i
−→
For example we have S(↑ I)= I .
Lemma 5.2 Given the d-spaces X and Y one has
dT[X, Y ] ⊆ St[S(X), S(Y )]
Proof. By definition, if f is a morphism of d-space and δ ∈ dX, then f ◦ δ ∈ dY .2
As a consequence of Lemma 5.2, we have a functor S from dT to St such that any morphism of d-space f one has S(f )= f .
Lemma 5.3 The functor S preserves ﬁnite products and the terminal object.
Proof. Let A and B be two d-spaces while “S(A) and “S(B) are the circulations of S(A) and S(B). As we have noticed, the circulation of S(A × B) is contained in the precirculation of the product of S(A) and S(B) in pSt. It remains to see that it is the biggest one. Let “ be a circulation on U (A × B)= U (A) × U (B) contained in the precirculation of the product of S(A) and S(B) in pSt. Denote by ΠA and ΠB the projections from U (A) × U (B) to respectively U (A) and U (B). Let W be an open subset of U (A) × U (B).
First we treat the case where W = WA × WB with WA and WB two open subsets of U (A) and U (B). Suppose w “ wj, then by hypothesis one has some δA ∈ dA and some δB ∈ dB such that s(δA)= ΠA(w), t(δA)= ΠA(wj) and im(δA) ⊆ U (A), and s(δB) = ΠB(w), t(δB) = ΠB(wj) and im(δB) ⊆ U (B). Then δ := δA × δB belongs to d(A × B)= dA × dB and satisfies s(δ)= w, t(δ)= wj and im(δ) ⊆ W .
General case : let (Cj)j∈J be an open covering of W where each Cj is a rectangle
i.e. the product of an open subset of U (A) and an open subset of U (B). Since “

is a circulation one has a finite sequence w = x0 “Cj
x1 “Cj
x2 ··· “Cjn
xn = wj.

Applying the preceding case for each Cjk with k ∈ {1,..., n} one has a finite

sequence δ1,..., δn of elements of d(A × B) such that for all k ∈ {1,..., n} one has s(δk) = xk—1, t(δk) = xk and im(δk) ⊆ Cjk ⊆ W . Considering the concatenation δ := δn ∗ ... ∗ δ1 we have s(δ) = w, t(δ) = wj and im(δ) ⊆ W , in other words w “S(A×B) wj.	2
Lemma 5.4 The functor S preserves products and the terminal object.
Proof. Let (Aj)j∈J be a non empty family of d-spaces while “S(Aj ) is the circu- lation of S(Aj) for j running through the indexing set J . As we have noticed, the circulation of
S	Aj
j∈J
is contained in the precirculation of the product of S(Aj) j∈J in pSt. It remains to see that it is the biggest one. Let “ be a circulation on
P := U   Aj =  U (Aj)

contained in the precirculation of the product of S(Aj) j∈J in pSt. For each j ∈ J
denote by Πj the projection
Πj :	U (Aj′ ) 	/U¸(Aj)
j′∈J
Then let W be an open subset of the product P . First we treat the case where W
belongs to the canonical base of open sets of P in other words we suppose that
W =	Wj with each Wj being an open subset of U (Aj)
j∈J

and only finitely many of them differing from U (Aj). Suppose w “ wj, then by hypothesis one has for all j ∈ J some δj ∈ dAj such that s(δj) = Πj(w), t(δj) = 
Πj(wj) and im(δj) ⊆ U (Aj). Then putting
δ :=	δj
j∈J
one has an element of the following set theoretic product
d   Aj  =   dAj

which satisfies s(δ)= w, t(δ)= wj and im(δ) ⊆ W .
General case : let (Cξ)ξ∈X be an open covering of W where each Cξ belongs to the canonical base of P . Since “ is a circulation one has a finite sequence w =
j
x0 “Cξ  x1 “Cξ  x2 ··· “Cξn xn = w . Applying the preceding case for each Cξ
with k ∈ {1,..., n} one has a finite sequence δ1,..., δn of elements of d(A×B) such

that for all k ∈ {1,..., n} one has s(δk)= xk—1, t(δk)= xk and im(δk) ⊆ Cjk ⊆ W . Considering the concatenation δ := δn ∗ ... ∗ δ1 we have s(δ) = w, t(δ) = wj and im(δ) ⊆ W , in other words w “S(  Aj ) wj.	2
Given a stream X, the elements of the following set are called the directed paths over X.
−→
St[ I r,X]
r∈R

Lemma 5.5 Given a stream X, the set of directed paths on X provides the under- lying topological space of X with a structure of d-space denoted by D(X).
−→	−→
Proof. Let γ ∈ St[ I s,X] and δ ∈ St[ I r,X] such that γ(0) = δ(r). Given an open
subset W ⊆ X, let t and tj be two elements of (γ ∗ δ)—1(W ) such that t ≤ tj, if
t ≤ r ≤ tj then we have


(γ ∗ δ)(t)= δ(t) “X
if t ≤ tj ≤ r then we have
δ(r)= (γ ∗ δ)(r)= γ(0) “X
γ(tj − r)= (γ ∗ δ)(tj)

(γ ∗ δ)(t)= δ(t) “X δ(tj)= (γ ∗ δ)(tj)


if r ≤ t ≤ tj then we have
(γ ∗ δ)(t)= γ(t − r) “X


γ(tj − r)= (γ ∗ δ)(tj)

which proves that γ ∗ δ is a directed path. The increasing continuous map from
−→
[0, r] to [0, r] are precisely the endomorphisms of the stream I r: any increasing
continuous map induces an endomorphism since St admits a fffc structure (and
−→
thus satisfy the Axiom 2), conversely given f a stream endomorphism of I r and
w, wj ∈ [0, r] such that w ≤ wj, we have f (w) ≤ f (wj) by definition of the circulation
−→	−→
of I r. Therefore St[ I r,X] is stable under subpaths and obviously contains all the
constant paths.	2
−→
As an example, for all r ∈ R+ we have D( I r) =↑Ir.
Lemma 5.6 Given the streams X and Y one has
St[X, Y ] ⊆ dT[D(X), D(Y )]
Proof. The morphisms of stream compose.	2
As a consequence of Lemma 5.6, we have a functor D from St to dT such that any morphism of stream f one has D(f )= f .
Lemma 5.7 Given a d-space X, any element of dX induces a directed path on
S(X) i.e.

dX ⊆
r∈R+
−→
St[ I r, S(X)]

Proof. Let δ belong to dX, U be an open subset of X and t, tj be two elements of δ—1(U ) such that t ≤ tj (as real numbers) and [t, tj] ⊆ δ—1(U ). Let θ be a continuous increasing map from [0, 1] to dom(δ) such that θ(0) = t and θ(1) = tj, then δ ◦ θ belongs to dX and satisfy im(δ ◦ θ) ⊆ U , hence δ(t)= δ◦θ(0) “S(X) δ◦θ(1) = δ(tj).2
The Lemma 5.7 can be restated saying that for any d-space X, the identity of the underlying topological space of X induces a morphism ηX of d-space from X to D(S(X)). As we shall see, the collection of morphisms ηX, for X running through the collection of d-spaces, is the unit η of the adjunction. First, the commutativity of the following diagram is obvious since the underlying set theoretic maps of the morphisms of d-space f and D(S(f )) are equal while the underlying set theoretic map of ηX and ηY are the identities of their underyling sets. Thus we have a natural transformation η from the identity functor of dT to D ◦ S.
dX	f	/dY¸
dX	dY
J 	/¸ J 

D(S(dX))
D(S(f))
D(S(dY ))


Lemma 5.8 Given a stream X, the identity of the underlying topological space of
X induces a morphism of streams εX from S(D(X)) to X.
Proof. Let W be an open subset of X. Suppose w “S(D(X)) wj i.e. there exists a directed path δ on X such that im(δ) ⊆ W , s(δ) = w and t(δ) = wj. For δ is in particular a morphism of stream we have w = s(δ) “X t(δ)= wj.	2
As we shall see, the collection of morphisms εX, for X running through the collec- tion of stream, is the co-unit ε of the adjunction. First, the commutativity of the following diagram is obvious since the underlying continous maps of the morphisms of stream f and S(D(f )) are equal while the underlying continuous map of εX and εY are the identities of their underyling sets. Thus we have a natural transformation ε from S ◦ D to the identity functor of St.

X,,
εX
f	/Y,¸,
εY

S(D(X))	/S(¸D(Y ))
S(D(f))
Lemma 5.9 The following set theoretic maps are identities

Proof. We have seen that S(f ) = f and D(g) = g (by Lemmas 5.2 and 5.6), moreover the underlying continuous maps of ηX and εY are the identities of X and
Y .	2

As a straightforward consequence we have the adjunction S E D whose unit and co-unit are respectively η and ε.
Proposition 5.10 D ◦ S ◦ D = D and S ◦ D ◦ S = S
Proof. Let X be a stream, the underlying map of the morphism of d-spaces D∗εX from DSD(X) to D(X) is idX so any directed path on DSD(X) is a directed path on D(X). Conversely, let δ bea directed path on D(X) and W be an open subset of
X. Suppose t ≤ tj with t, tj ∈ dom(δ) and [t, tj] ⊆ δ—1(W ). Consider a subpath δ ◦ θ of δ with θ continous and increasing from [0, 1] onto [t, tj]. Then δ ◦ θ is a directed path of D(X) satisfying im(δ ◦ θ) ⊆ W , δ ◦ θ(0) = δ(t) and δ ◦ θ(1) = δ(tj), hence
by definition δ(t) “SD(X) δ(tj). Then δ is a directed path on DSD(X). Let W be
W	 
an open subset of X, the underlying map of the morphism of stream S ∗ ηX  from
S(X) to SDS(X) is idX so w “S(X) wj implies w “SDS(X) wj for all w, wj ∈ W .
W	W
Conversely, if w “SDS(X) wj then we have a directed path γ of DS(X) such that im(γ) ⊆ W , s(γ)= w and t(γ)= wj. In particular γ is a morphism of stream so we have w = s(γ) “S(X) t(γ)= wj.	2
We apply the preceding results to compare fundamental categories of streams and d-spaces.
−→	−→ 
Proof. We have seen that D is right adjoint to S. From the Lemma 5.19 we know
−→
that S preserves products. Furthermore, it is obvious that S(↑Ir)= I r for all non
negative real r. Then we conclude applying the Corollary 2.5.	2
Corollary 5.12 For all d-space X, if there exists a stream Xj such that D(Xj)= X
−→	−→
Proof. By the Proposition 5.10 we have DSDXj = DXj and by the Corollary 5.11

−→ 
j	−→	j 

From [18] we know that different d-spaces may have the same image under S : it suffices to consider the paths on the plane R2 which are increasing in both coor- dinates and the more pathological example of the directed paths generated by the paths of the following form with x ∈ [0, 1] and θ increasing.

vx : [0, 1]	/[0¸, 1]2
t 	/(x¸, θ(t))
and hx : [0, 1]	/[0¸, 1]2
t 	/(θ¸(t), x)

Those paths will be called the staircases in reference to the shape of their image. The two d-spaces we have described clearly yield to the same stream.
It is worth to notice that neither D nor S are full. First we treat the case of D by considering the set of rational numbers equipped with the stream structure inherited from the real line R, we denote it by Q. Then the elements of St[Q, Q] consist on

the continuous increasing maps from Q to Q while dT[D(Q), D(Q)] contains all the continuous maps from Q to Q since the only directed paths on Q are the constant ones. Then we come to the case of S by considering the staircases d-space X and the following map f
R2	f	/R2¸
(x, y) 	/(x¸+ 2y, 2x + y)
which belongs to St[SX, SX] since SX is the plane R2 with the stream structure induced by the standard order while it obviously not belongs to dT[X, X] since it does not preserve the staircases.
Nevertheless, the functors S and D are almost isomorphisms. First remark that from the Proposition 5.10 we know that for all streams (respectively d-spaces) X, there exists a d-space (respectively stream) Y such that X = SY (respectively X = DY ) if and only if X = SDX (respectively X = DSX). Then write dT∗ and St∗ for the full subcategories of dT and St whose collections of objects are respectively
 D(X)	X object of St,	and	 S(X)	X object of dT,

and denote by S and D for the restriction of S and D to dT∗ and St∗. Then
Theorem 5.13 The functors S and D are inverse of each other.
D=S−1 /¸

St∗ ¸,
S=D−1
dT∗

Proof. From Proposition 5.10 we deduce that the object parts of the functors S and D are inverse of each other. Now let X and Xj be two d-spaces and let Y and Y j be two streams such that X = DY and Xj = DY j (or equivalently SX = Y and SXj = Y j). Then in particular we have dT[X, Xj] = dT[X, DSXj], St[Y, Y j]= St[Y, SDY j] and by Lemma 5.9 the following maps are identities (we have already seen that the underlying maps of the morphisms ηX and εY are identities).
St[Y, Y j]		/dT¸[DY, DY j]	dT[X, Xj]		 /St¸[SX, SXj] g 	/D¸(g)		f 	/S(¸f )
2
Corollary 5.14 The categories St∗ and dT∗ are complete and cocomplete.
Proof. Denote by I the full inclusion of dT∗ in dT and let F be a functor from some small category C to dT∗. Then by the Proposition 5.10 one has I ◦ F = D ◦ S ◦ F and for D is a right adjoint, it preserves limits hence we have
lim I ◦ F = lim D ◦ S ◦ F = D lim S ◦ F 

In particular the morphisms forming the limiting cone of I ◦ F in dT belong to dT∗ which is a full subcategory of dT, so the limiting cone of F in dT∗ exists and we have
lim F = lim I ◦ F
dT∗	dT
Now exchange the roles of D and S to prove that St∗ is cocomplete. It follows by the Theorem 5.13 that both dT∗ and St∗ are complete and cocomplete.	2
By definition St∗ and dT∗ are the codomains of the functors S and D thus we have two functors Sj : dT → St∗ and Dj : St → dT∗ characterized by the following factorizations D = (dT∗ ‹→ dT) ◦ Dj and S = (St∗ ‹→ St) ◦ Sj.
Proposition 5.15
The functor D ◦ Sj if the left adjoint to the inclusion I : dT∗ ‹→ dT
and dT∗ is a mono and epi reflective subcategory 12 of dT.
Proof. First note that D ◦ Sj ◦ I = iddT∗ (cf. Proposition 5.10). Given a d- space X, the identity mapping of the underlying space of X induces an element ηX of dT[X, I ◦ D ◦ Sj(X)], thus providing a natural transformation η from iddT to I ◦D◦Sj(X). Then given an object Y of dT∗ and some morphism f ∈ dT[X, IY ] we have D ◦ Sj(f ) ∈ dT∗[D ◦ Sj(X),Y ] and D ◦ Sj(f ) ◦ ηX = f by construction of D, Sj and ηX. The natural transformation η is thus the unit of the adjunction and for all d-space X, the morphism ηX is both mono and epi since its underlying continuous map is an identity. In addition, if X ∼= Xj and X belongs to the collection of objects of dT∗, then so does Xj.	2
Proposition 5.16
The functor S ◦ Dj if the right adjoint to the inclusion I : St∗ ‹→ St
and St∗ is a mono and epi coreflective subcategory7 of St.
Proof. Carbon copy the proof of Proposition 5.15 exchanging the roles of Sj and Dj. In particular, given a stream X, the identity of the underlying space of X induces a morphism εX from S ◦ Dj(X) to X thus providing a natural transformation from I ◦ S ◦ Dj to idSt which is the counit of the adjunction.	2
A path γ on the underlying space UX of a d-space X is said to be pseudo directed when for all open subset W ⊆ UX, for all t, tj ∈ R+ such that t ≤ tj and [t, tj] ⊆ γ—1(W ), there exists some δ ∈ dX such that s(δ) = γ(t), t(δ) = γ(tj) and im(δ) ⊆ W . Any directed path is pseudo directed because the collection of directed paths is stable under subpaths. The object part of the image of D ◦S is thus rather easy to determine. Indeed given a d-space X, the elements of d(D ◦ S(X)) are the pseudo directed paths of X.
12 See [1].



Actually all the results of this section remains valid for the category pSt and the related proofs just consist on carbon copies of the preceding ones, some of them are even easier.
Lemma 5.17 Given a d-space X the mapping that sends each open subset W ⊆ X
to the relation
 (w, wj) ∈ W × W ∃δ ∈ dX, s(δ)= w, t(δ)= wj,

forms a precirculation on U (X), hence a structure of prestream denoted by S(X). Proof. It is a consequence of the fact that dX is stable under concatenation.	2 Lemma 5.18 Given the d-spaces X and Y one has
dT[X, Y ] ⊆ pSt[S(X), S(Y )]
Proof. By definition, if f is a morphism of d-space and δ ∈ dX, then f ◦ δ ∈ dY .2
As a consequence of Lemma 5.18, we have a functor S from dT to pSt such that any morphism of d-space f one has S(f )= f .
Lemma 5.19 The functor S preserves products and the terminal object.
Proof. By construction of S and the fact that if (Aj)j∈J is a non empty family of d-spaces, then we have the set theoretic equality
d   Aj  =   dAj

2
Given a prestream X, the elements of the following set are still called the directed

paths over X.



r∈R

−→
pSt[ I r,X]

Lemma 5.20 Given a stream X, the set of directed paths on X provides the un- derlying topological space of X with a structure of d-space denoted by D(X).
Proof. Carbon copy of the proof of Lemma 5.5.	2
Lemma 5.21 Given the prestreams X and Y one has
pSt[X, Y ] ⊆ dT[D(X), D(Y )]
Proof. The morphisms of prestream compose.	2
As a consequence of Lemma 5.21, we have a functor D from pSt to dT such that any morphism of stream f one has D(f )= f .
Lemma 5.22 Given a d-space X, any element of dX induces a directed path on
S(X) i.e.

dX ⊆
r∈R+
−→
pSt[ I r, S(X)]

Proof. Carbon copy of the proof of Lemma 5.7.	2
The Lemma 5.22 can be restated saying that for any d-space X, the identity of the underlying topological space of X induces a morphism ηX of d-space from X to D(S(X)). As we shall see, the collection of morphisms ηX, for X running through the collection of d-spaces, is the unit η of the adjunction. First, the commutativity of the following diagram is obvious since the underlying set theoretic maps of the morphisms of d-space f and D(S(f )) are equal while the underlying set theoretic map of ηX and ηY are the identities of their underyling sets. Thus we have a natural transformation η from the identity functor of dT to D ◦ S.
dX 	f	/dY¸
dX	dY
J 	/¸ J 

D(S(dX))
D(S(f))
D(S(dY ))

Lemma 5.23 Given a stream X, the identity of the underlying topological space of
X induces a morphism of prestreams εX from S(D(X)) to X.
Proof. Carbon copy of the proof of Lemma 5.8.	2
As we shall see, the collection of morphisms εX, for X running through the collection of prestreams, is the co-unit ε of the adjunction. First, the commutativity of the following diagram is obvious since the underlying continous maps of the morphisms of prestream f and S(D(f )) are equal while the underlying continuous map of

εX and εY are the identities of their underyling sets. Thus we have a natural transformation ε from S ◦ D to the identity functor of pSt.


X,,
εX
f	/Y,¸,
εY

S(D(X))	/S(¸D(Y ))
S(D(f))

Lemma 5.24 The following set theoretic maps are identities

Proof. Carbon copy of the proof of the Lemma 5.9.
We have seen that S(f ) = f and D(g) = g (by Lemmas 5.2 and 5.6), more- over the underlying continuous maps of ηX and εY are the identities of X and
Y .	2
As a straightforward consequence we have the adjunction S E D whose unit and co-unit are respectively η and ε.
Proposition 5.25 D ◦ S ◦ D = D and S ◦ D ◦ S = S
Proof. Carbon copy of the proof of the Lemma 5.10.	2
We apply the preceding results to compare fundamental categories of prestreams and d-spaces.
−→	−→ 
Proof. We have seen that D is right adjoint to S. From the Lemma 5.19 we know
−→
that S preserves products. Furthermore, it is obvious that S(↑Ir)= I r for all non
negative real r. Then we conclude applying the Corollary 2.5.	2
In the next statement, I denotes the inclusion functor from St to pSt.
−→	−→ 

Proof. As a consequence of the fact that I is full and faithful.	2

Directed Geometric Realisation of Cubical Sets
Description and Examples
We focus on a construction which provides an easy way to describe the objects commonly met in directed (and classical) algebraic topology. Given n ∈ N we denote by [n] the initial segment {0,...,n − 1} and [2][n] the set of maps from [n]

to [2] i.e. the finite sequences of elements of {0, 1} whose length is n. The cube category (also called the box category) is usually denoted by 2 and defined as the subcategory of Set whose objects are the sets [2][n] for n ∈ N while its morphisms are generated by the following maps:


n i,ε
: [2][n] → [2][n+1]	for n ∈ N and i ∈ [n + 1]

σn : [2][n+1] → [2][n]	for n ∈ N and i ∈ [n]
where


δn (s): [n + 1]	/[2¸]
⎧ sk	if k < i
k		/¸ε	if k = i
⎪⎪⎩ sk—1 if k > i
σn(s):	[n]	/[2¸]
⎧ sk	if k < i
k		/¸
⎪⎪⎩ sk+1 if k > i

The box category can be described in a “computer scientist” way. Indeed it is isomorphic to the category whose set of objects is N and whose homset from n to m is the (finite) set of ordered pairs (n, w) where w is a word of length m on the alphabet {0, 1}∪ x0,..., xn—1 such that for all i, j ∈ [n] if w(i)= xi′ , w(j)= xj′ and i < j, then ij < jj. The composition being defined by
wj(k) if wj(k) ∈ {0, 1}
wj ◦ w(k)= 
⎩ w(kj) if wj(k)= xk′

while the identity of n is represented by the word (n, x0 ··· xn—1). For example one has
(5, 01x00x4111) ◦ (7, x101x30) = (7, 01x100111)
In particular the morphisms δn  and σn are represented by (n, x0 ··· xi—1εxi ··· xn—1)
and (n + 1, x0 ··· xi—1xi+1 ··· xn). This approach is actually better fitted to the description of the geometric realisation of a cubical space. First note that any morphism (n, w) of 2 is canonically associated with a map φ from Rn to Rm (with m being the length of w), indeed the kth component of the image of (t0,..., tn—1) by φ is w(k) if w(k) ∈ {0, 1} and tk′ if w(k)= xk′ . The category of cubical sets is the presheaf Set2op and we denote is by CSet.


We define the geometric realisation of cubical sets adapting the approach of [9]. The n-standard cube 2n is the functor 2[−, n] from 2op to Set taking each k ∈ N to 2[k, n] and each morphism f of 2op[k, kj] to the set theoretic application 2[f, n] which sends any element c ∈ 2[k, n] to c ◦ f ∈ 2[kj, n]. The right hand side diagram summarizes the definition.

2op 	/Se¸t
k	2[k, n]
f    /(—¸○f )
J	J 
k	2[kj, n]



Then given some cocomplete category C
The objects of the category 2 ↓ K are the mor- phisms of cubical sets from 2n to K, the mor- phisms from X : 2n → K to Y : 2m → K are the elements φ ∈ CSet[2n, 2m] such that X = Y ◦ φ.

2   φ /2¸


K

Then we have the obvious functor FK from 2 ↓ K taking an object X : 2n → K to In and an morphism φ to its associated canonical map. The geometric reali- sation in C is then defined as the colimit of FK. This construction is functorial. If the endomophisms of I are exactly the nondecreasing continuous maps from I to I then the geometric realisation is said to be directed, it is the case when I is
−→
the stream I 1 or the d-space ↑I1. Thus we already have four directed geometric
realisation functors ²−]s, ²−]s∗ , ²−]d and ²−]d∗ according to the framework (St, St∗, dT and dT∗) we are working in. We would like to compare them as well as their fundamental categories.
Proposition 6.1 For all cubical sets K we have S(²K]d) =²K]s, and we also have D(²K]s) =²K]d if and only if ²K]d∈ dT∗
Proof. The first equality immediately comes from the fact that S preserves colimits
n  ∼ −→n	∗
(as a left adjoint) and S(↑I1 ) = I 1 . Now suppose that ²K]d∈ dT , then applying
the Theorem 5.13 we have D(²K]s) ∼=²K]d.	2
Proposition 6.2 For all cubical sets K we have ²K]s∗ =²K]s, and we also have ²K]d∗ =²K]d if and only if ²K]d∈ dT∗
Proof. By the Proposition 5.16 the inclusion functor I : St∗ ‹→ St has a right adjoint, hence it preserves colimits and we have I(²K]s∗ ) =²K]s. Then we conclude because I(²K]s∗ ) =²K]s∗ . By definition ²K]d is the colimit in dT of a functor FK whose image is contained in dT∗ while ²K ]d∗ is its colimit in dT∗. Now suppose ²K]d∈ dT∗, then both colimits match since dT∗ is a full subcategory of dT.    2

The next proposition comes from the fact that the functors S and D are inverse of each other.
Proposition 6.3 For all cubical sets K we have
S ²K]d∗ =²K]s∗ and D ²K]s∗ =²K]d∗
Then given some cubical set K we have
−→	−→ 

−→ 
−→	∗ 

−→ 
∗	=	−→ 
∗	by the Proposition 6.3

−→ 
∗	=	−→ 
∗	by the Corollary 5.12

The next result summarizes the preceding remarks.

Corollary 6.4 Given a cubical set K the fundamental categories of the following are isomorphic D(²K]s), ²K]s, ²K]s∗ , S(²K]d∗ ) and ²K]d∗ .




Actually it might happen that the d-spaces D(²K]s) and ²K]d are not isomorphic. Indeed, suppose (φA : A → X)A∈|C| is the colimiting cone for some functor F from C to St. Then (D(φA): D(A) → D(X))A∈|C| is a colimiting cone of D ◦ F if and only
−→
if all γ ∈ St[ I 1,X] can be written as a concatenation γ = (D(ξn) ∗ ··· ∗ D(ξ0)) ◦ θ
−→
for some finite sequence (A0,..., An) of objects of C such that ξk ∈ St[ I 1, Ak] for

−→
k ∈ {0,..., n} and θ ∈ St[ I 1,
−→
I 1] surjective. We describe a cubical set K which

provides a counter-example. It is worth to notice this situation is not pathological since it is actually the kind of model obtained when a linear process (i.e. containing neither loop nor fork) spawns a new process which is reduced to a loop. In this case we should also have a directed segment whose end is glue to the vortex. The vortex thus corresponds to the state where the new process is created.
−→	−→

Start with
I 1 × I 1, the directed square of St pictured below and call it E. In other

words we have a 2-dimensional element E which thus belongs to K2.
A	D

B	C
Then identify all the points of the upper segment AD with a single one and call this point A. In the cubical set way of speaking A ∈ K0 ∩ K1, K(σ1)(A)= A and

1
1,1
)(E)= A. We obtain the following triangle.
A












B	C
The vortex is then created by identifing the segments AB and AC which is formally

interpreted by the relation AB = K(δ1
)(E) = K(δ1
)(E) = AC. Consequently

the points B and C are identified and K(δ1
)(E)= BB, the border of the following

disk.








B




Then the following path, that we can see as a “downward spiral”, provides a directed path of D(²K]s) which is not a directed path of colim(D ◦ K).
t ∈ [0, 1] '→ (1 − t) exp  it 
1 − t
However, there is a homotopy from t ∈ [0, 1] '→ (1 − t, 0) to the downward spiral
(t, s) ∈ [0, 1] × [0, 1] '→ (1 − t) exp  ist 
1 − t
Some intermediate paths for the values 1, 0.5, 0.2, 0.15, 0.05 and 0.01 of the parameter s.










The fundamental category of
−→
C  can be described as follows:	its set of ob-

jects is C and its set of morphisms is
 (x, n, y)  x /=0 ; |x|≤ |y| ; n ∈ N} ∪ (x, −∞, 0)  x ∈ C}
By definition the source and the target of (x, n, y) and (x, n, y) are x and y. Given
x ∈ C\{0} we define μ(x) :=  x	w
|x| and xy as the anticlockwise arc from μ(x) to μ(y)
for any x, y ∈ C\{0}. The composition is defined by
⎧⎨ (x, n + m, z)	w ∪ w /= S1
⎩ (x, n + m + 1, z) if xy ∪ yz = S1
w
Note that neither μ(y) nor xy are well-defined if y = 0, however if n = −∞ or
m = −∞ then n + m = n + m +1 = −∞.

The directed graphs case
The directed geometric realisation of a cubical set in dT may differ from the one in dT∗. Yet, in this section, we will prove that if the cubical set is 1-dimensional, which means it is a directed graph, then both realisations coincide. Given a directed graph
  s 
A  t /V ¸we give an extensive description of its directed geometric realisation. We
suppose that A∩V = ∅ then consider the topological space X := A×[0, 1]HV where A and V are the discrete space on the sets A and V respectively. The underlying space is the quotient Q := A× [0, 1] H V/ ∼ where ∼ is the least equivalence relation over X such that for all a ∈ A we have (a, 0) ∼ v if s(a) = v and (a, 1) ∼ v if t(a)= v.
By definition, this quotient topology is the finest one making the quotient map
q continuous i.e. any U ⊆ X is open iff so is q—1(U ). The elements of VQ :=
{q(v) | v ∈ V } are called the vertices of X. A point of x ∈ X is isolated (i.e.
{x} is both open and closed) iff it is a vertex such that for all a ∈ A, q(s(a)) /= x and q(t(a)) /= x. The space Q is Hausdorff. Moreover it is compact iff the graph is finite (i.e. both A and V are finite). Indeed VQ is closed and the mapping q induces an homeomorphism from A×]0, 1[ onto Q\VQ whose inverse is denoted by
g. Then remark that the connected components of q(Q\A × [ 1 , 2 ]) provide a family
3 3
Uv of open subsets of Q such that v ∈ Uv and Uv ∩ Uv′ = ∅ for all vertices v and vj.
Hence if A or V is infinite then Q is not compact. On the contrary, if both A and
V are finite, then X is compact hence so is Q = q(X). One can also check that Q
is locally compact iff for all vertices v ∈ V the following set is finite
{a ∈ A | s(a)= v or t(a)= v}
The set A× [0, 1] HV admits a natural order setting (a, t) ± (aj, tj) when a = aj and t ≤ tj. The topology and the order over A × [0, 1] H V thus give rise to a pospace still denoted by X. Then we define the directed paths on X as the nondecreasing ones and the collection of directed paths on Q as the least turning the quotient map q into a morphism of d-spaces.
In particular, for all a ∈ A, the mapping q induces a homeomorphism from
{a}×]0, 1[ onto its image. In addition if q(a, 0) /= q(a, 1) then q({a} × [0, 1]) is homeomorphic to [0, 1] otherwise it is homeomorphic to the circle. In fact we have a global result
Lemma 6.5 The morphism of d-spaces q induces an isomorphism of d-spaces from from A×]0, 1[ onto Q\VQ whose inverse is induced by g
Lemma 6.6 Given δ a path on Q such that δ—1(Q\VQ) is connected there is a path γ on X such that δ = q ◦ γ. If δ is pseudo directed then both γ and δ are directed. If δ—1(Q\VQ) /= ∅ then γ is unique and there is a unique α ∈ A such that im(δ) ⊆ q({α}× [0, 1]). If s(δ), t(δ) ∈ VQ and (δ is pseudo directed or s(δ) /= t(δ)) then im(δ)= q({α}× [0, 1])
Proof. If δ—1(Q\VQ) = ∅ then im(δ) ⊆ VQ which is discrete, hence δ is constant.

Since q is onto we have the expected γ. Note however that it may not be unique. Now suppose δ—1(Q\VQ) /= ∅ and define

Let a := inf δ—1(Q\VQ) and b := sup δ—1(Q\VQ) . We would like to prove that γ can be extended toa continous map on [a, b]. If δ(a) /∈ VQ then γ is already defined at point a hence suppose δ(a) ∈ VQ. Suppose γ cannot be extended to a continous map at point a that is to say for all x ∈ X there is some Wx neighbourhood of x such that for all ε > 0 we have γ(]a, a + ε[) /⊆ Wx. For all α ∈ A choose some εα such that {α}× [0, εα[ and {α}×]1 − εα, 1] are neighbourhoods of (α, 0) and (α, 1) as above. Then
U :=	{α}×  [0, εα[ ∪ ]1 − εα, 1]
α∈A
is an open subset of X whose direct image by q is open in Q. Since δ is continuous at point a we have some εj > 0 such that δ(]a − εj,a + εj[) ⊆ q(U ). In particular we have δ(]a, a + εj[) ⊆ q(U ) which is equivalent to γ(]a, a + εj[) ⊆ U by the Lemma 6.5 and the fact that δ(]a, a + εj[) ⊆ Q\VQ. The subspace γ(]a, a + εj[) meets exactly one connected component of U since it is connected (as the continuous direct image of a connected space). In other words we have γ(]a, a + εj[) ⊆ {α}× [0, εα[ or γ(]a, a + εj[) ⊆ {α}×]1 − εα, 1] for some α ∈ A which is a contradiction. Thus γ can be extended to a continuous map at a and the same way we check it can be extended to a continuous map at b. Since δ—1(Q\VQ) is open in dom(δ) := [0, r] we have a ∈ δ—1(Q\VQ) ⇒ a = 0 and b ∈ δ—1(Q\VQ) ⇒ b = r. Suppose a /∈ δ—1(Q\VQ), it follows that for all t ∈ [0, a] we have δ(t) ∈ VQ which is discrete. Hence the restriction of δ to [0, a] is constant as well as its restriction to [b, r]. Thus γ is uniquely defined as expected. In particular we have a unique α ∈ A such that im(γ) ⊆ {α}× [0, 1] i.e. im(δ) ⊆ q({α}× [0, 1]).
Suppose δ is pseudo directed (and nonconstant otherwise the result is obvious). Given t, tj ∈ δ—1(Q\VQ) such that t < tj, there is a unique α ∈ A such that δ([t, tj]) ⊆ q({α}×]0, 1[) which is an open subset of Q. Since δ is pseudo directed we have a directed path ξ from δ(t) to δ(tj) with im(ξ) ⊆ q({α}×]0, 1[). By the Lemma
6.5 g ◦ ξ is a directed path on X hence g ◦ ξ(t) ± g ◦ ξ(tj) i.e. γ(t) ± γ(tj). Hence the restriction of γ to δ—1(Q\VQ) is directed and for X comes from a pospace, we have γ(a) ± γ(t) ± γ(b) for all t ∈ δ—1(Q\VQ) see [20]. Hence both γ and δ are directed.
Suppose δ—1(Q\VQ) /= ∅ and s(δ), t(δ) ∈ VQ. If s(δ) /= t(δ) or γ is directed then {s(γ), t(γ)} = {(α, 0), (α, 1)}. Therefore im(γ) = {α} × [0, 1] since im(γ) is connected.	2
Corollary 6.7 A path δ on Q such that δ—1(VQ) has ﬁnitely many connected com- ponents can be written as a concatenation (q ◦ γn) ∗· · · ∗ (q ◦ γ0) with γi path on X for all i ∈ {0,.  , n}. Moreover t.f.a.e
- δ is directed

δ is pseudo directed
each γi is directed
Proof. Suppose δ—1(VQ) has finitely many connected components I0,..., In, all of them are compact intervals of R. We can suppose that for all k ∈ {0,...,n − 1} we have ∀t ∈ Ik ∀tj ∈ Ik+1 t < tj. Then pick one element tk from every Ik and consider the restriction of δ to [tk, tk+1] for all k ∈ {0,...,n − 1}. By the Lemma 6.6 each of these restrictions can be written as q ◦ γ for some path γ on X. The first point clearly implies the second one. If the second point is satisfied, then from the Lemma
6.6 we know that each γi is directed. If the third point is satisfied, the each q ◦ γi
is directed hence so is the composite δ.	2
Corollary 6.8 For any δ nonconstant pseudo directed path on Q such that
s(δ), t(δ) ∈ VQ there is some α ∈ A such that q({α}× [0, 1]) ⊆ im(δ)
Proof. Let C be a connected component of δ—1(Q\VQ) which is nonempty since δ is nonconstant. For s(δ), t(δ) ∈ VQ we can suppose inf C /∈ C and sup C /∈ C in other words C =]a, b[ for some a, b ∈ R such that a < b. Then the restriction of δ to [a, b] induces a pseudo directed path δ˜ on Q such that s(δ˜), t(δ˜) ∈ VQ and δ˜—1(Q\VQ) =]a, b[ is connected. Applying the Lemma 6.6 we know there is some α ∈ A such that {α}× [0, 1] ⊆ im(δ˜).	2
Proposition 6.9 Given a directed graph K we have ²K]d = ²K]d∗
Proof. By the Corollary 6.7 the demonstration amounts to proving that for any pseudo directed path δ on ²K]d the subspace δ—1(VQ) has finitely many connected components. Suppose it is not the case. We have a sequence of points of δ—1(VQ) whose intersection with any connected components of δ—1(VQ) contains at most one element. The set VQ of vertices of Q is closed hence so is δ—1(VQ) in dom(δ) which is compact. Hence δ—1(VQ) is compact and we can extract a subsequence (tn)n∈N converging to τ ∈ δ—1(VQ). Since two different terms of the sequence are picked from two different connected component of δ—1(VQ) we can suppose no term of (tn)n∈N belongs to the connected component of τ . Then we define the following neighbourhood of δ(τ )

W := q	{a}× [0; 1]\{ 1
2
a∈A

} 

hence δ—1(W ) is a neighbourhood of τ . Since δ is continuous and (tn)n∈N converges to τ we have some n ∈ N such that δ(I) ⊆ W where I denotes the segment [tn,τ ] if tn < τ and [τ, tn] otherwise. Since tn and τ do not belong to the same connected component of δ—1(VQ) we have some tj ∈ I such that δ(tj) /∈ VQ. Hence the restriction of δ to I is nonconstant and pseudo directed, therefore applying the Corollary 6.8 we know its image is not included in W which is a contradiction.  2
The following lemma is a basic result about d-spaces that can be easily checked.

Lemma 6.10 Let X and Y be Hausdorff spaces and dX be a collection of paths on X providing it with a d-space structure. Given a continuous map f : X → Y the least d-space structure on Y such that f becomes a morphism of d-spaces is the collection of paths γn ∗· · · ∗ γ0 with ((γk = f ◦ δk and δk ∈ dX) or γk constant) for all k ∈ {0,..., n}
As an immediate consequence of the Lemma 6.10 we have the following result.
Corollary 6.11 Given a path δ on Q the following are equivalent
δ is directed
δ is pseudo directed
δ = (q ◦ γn) ∗ ··· ∗ (q ◦ γ0) with γi directed path on X for all i ∈ {0,..., n}
Proof. The equivalence between the two first points is another way state the Propo- sition 6.9. The equivalence between the first and the last points comes from the Lemma 6.10 and the fact that the directed structure on Q is the least one turning the quotient map q into a morphism of d-spaces.	2

The directed circle is actually the directed geometric realisation of the directed graph with one vertex and one arrow.
The pathology described at the end of the preceding section directly derives from the presence of the vortex. Intuitively, it seems impossible to have a vertex in the directed geometric realisation of some cubical set K without using a degeneracy. Thus we conjecture the Proposition 6.9 actually holds for any precubical set. Yet, by the Propositions 6.2 and 6.3 we have

D ²K]s∗ =²K]d∗	and	²K]s∗ =²K]s
so when dealing with directed geometric realisation one may as well work in St, St∗
or even dT∗ to avoid pathologies.

I would like to thank to the reviewer for his gentle and helpful comments.

References
Francis Borceux.	Handbook of Categorical Algebra, I. Basic Category Theory, volume 50 of
Encyclopedia of Mathematics and its Applications. Cambridge University Press, 1994.
Martin R. Bridson and Andr´e Haefliger. Metric Spaces of Non-Positive Curvature, volume 319 of
Grundlehren der mathematischen Wissenschaften. Springer, 1999.
Ronald Brown. Topology and Groupoids. BookSurge Publishing, February 2006.
Scott D. Carson and Paul F. Jr Reynolds. The geometry of semaphore programs. ACM Transactions on Programming Languages and Systems, 9(1):25–53, 1987.


Edsger Wybe Dijkstra. Cooperating sequential processes. In Programming Languages: NATO Advanced Study Institute, pages 43–112. Academic Press, 1968.
Samuel Eilenberg. Ordered topological spaces. American Journal of Mathematics, (63):39–45, 1941.
Lisbeth Fajstrup, Philippe Gaucher, Eric Goubault, Maurice Herlihy, Vaughan Pratt, Sergio Rajsbaum, and Martin Raußen. Geometry and concurrency. Cambridge University Press, Mathematical Structure in Computer Science, 2000.
Lisbeth Fajstrup, Eric Goubault, and Martin Raußen. Algebraic topology and concurrency. Theoretical Computer Science, 357:241–278, 2006. Presented at Mathematical Foundations of Computer Science in 1998 (London).
Paul G. Goerss and John F. Jardine. Simplicial Homotopy Theory, volume 174 of Progress in Mathematics. Birkhauser, 1999.
Marco Grandis. Directed homotopy theory, i. the fundamental category. Cahiers de Topologie et G´eom´etrie Diff´erentielle Cat´egoriques, 44(3):281–316, 2003.
Marco Grandis. Directed Algebraic Topology : Models of Non-Reversible Worlds, volume 13 of New Mathematical Monographs. Cambridge University Press, 2009.
Andr´e Haefliger. Complexes of groups and orbihedra. In Group theory from a geometrical viewpoint, 26 march-6 april 1990, Trieste, pages 504–540. World Scientific, 1991.
Andr´e Haefliger. Extension of complexes of groups. Annales de l’institut Fourrier, 42(1-2):275–311, 1992.
Emmanuel Haucourt. Comparing topological models for concurrency. In Workshops on Geometric and Topological Methods in Concurrency Theory (2004, 2005 and 2006), volume 230 of Electronic Notes in Theoretical Computer Science, pages 111–127. Elsevier, 2009. Presented in 2005.
Philip J. Higgins. Categories and Groupoids, volume 32 of Mathematical Studies. Van Nostrand (Princeton), 1971.
John L. Kelley. General Topology, volume 27 of Graduate Texts in Mathematics. Springer, 1955.
Sanjeevi Krishnan. Directed Algebraic Topology and Concurrency. PhD thesis, Chicago University, 2006.
Sanjeevi Krishnan. A convenient category of locally preordered spaces. Applied Categorical Structures, 17(5):445–466, 2009.
Saunders Mac Lane. Categories for the Working Mathematician, volume 5 of Graduate Texts in Mathematics. Springer, 2nd edition, 1998.
Leopoldo Nachbin. Topology and Order, volume 4 of Mathematical Studies. Van Nostrand (Princeton), 1965.
J. Nikiel, H. M. Tuncali, and E. D. Tymchatyn. Continuous Images of Arcs and Inverse Limit Methods, volume 104 of Memoirs of the American Mathematical Society. American Mathematical Society, July 1993.
Vaughan Pratt. Higher dimensional automata revisited. Mathematical Structures in Computer Science, 10(4):525–548, August 2000.
Edwin H. Spanier. Algebraic Topology. Springer, 2nd edition, 1989.
