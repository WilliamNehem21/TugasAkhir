Model transformations can be used not only for code or platform-specific model generation, but also for denotational semantics definition, e.g. using process algebras as semantics for visual modeling languages. Denotational semantics of programming languages are by definition compositional. In order to enjoy a similar property in the case of model transformations, every component of the source model should be distinguishable in the target model and the mapping compatible with syntactic and semantic composition. Since typed graphs are a natural representation of visual models, model transformations are often described by typed graph transformations. This paper proposes a formal definition of compositionality for mappings from typed graphs to semantic domains. To verify compositionality, syntactic criterion has been established for the implementation of the mappings by graph transformations with negative application conditions.

Spatial composition is similar to the compositionality property of denotational semantics. As for simple mathematical expressions, we assume that the meaning of expression 2 + 5 is determined by the meaning of 2, 5 and the semantics of the + operator, i.e. [[2 + 5]] = [[2]]  [[5]].

Models and denotational semantics can be represented as instances of meta- models. A mathematical model is provided by type and instance graphs. Model transformations can be described by graph transformations. In this paper we present a notion of compositionality for any total functions defined by graph transforma- tions between sets of graphs (representing models). Conditions are also provided and proved which guarantee compositionality for simple graph transformations and graph transformations with negative application conditions.

The paper is organised as follows. In Section 2 related approaches are sum- marised. Compositionality is formally introduced in Section 3. In Section 4 a con- dition for compositionality is given for simple graph transformations, generalised to graph transformations with negative application conditions in Section 5. In Sec- tion 6 a case study of compositional model transformations is introduced. Section 7 concludes the paper.

To ensure uniqueness of results the concepts of confluence and critical pair anal- ysis were presented in [12]. A working implementation can be found in AGG [1] for checking critical pairs [5]. Criteria for termination were introduced in [6,17]. An implementation for termination checking is also provided in AGG [4]. These def- initions are applied to graph transformations with basic control conditions in [14] through the introduction of transformation units. Compositionality in bidirectional transformations discussed in [21].

The concept of context is central to compositionality. In set-theoretic terms a context C of graph D in graph G is given by C = G\D. Context C is not necessarily a graph due to the possible dangling edges. To have a correct separation of context and included graph, we need a special set of contexts SC and set of graphs SG .

context graph C through an initial pushout. The boundary graph is the smallest subgraph of G0 which contains the identification points and dangling points of m0. The next definition is IPO compatibility of semantic mappings. While compo- sitionality was defined through an unknown context E, IPO compatiblity defines it

Since t is initial-preserving the consistency diagram [7] above can be used with initial pushout (2). G0 replaces D as it is preserved throughout the transformation. Hence m0 is consistent with respect to sem and there is an extension diagram over sem and m0 [7]. Transformations sema only denotes particular rule application order of sem.

terminating. The parts of H0 not present in G0 were not transformed to the semantic domain by the rules in sema, but the reasoning above holds for C0 as well. The extension diagram over C0 is pushout (4) and sem(C0) = Cm. The termination of

It is possible that the B nodes are always - if present - gluing points in every production rule of the graph transformation system. This means that the node type B is such a special type that its instances are never deleted. This observation leads to the definition of constant types that are already present in the start graph are not deleted throughout the transformation.

Proof The proof is based on the basic compositionality theorem. In order to apply the Embedding Theorem in the proof of Theorem 4.8, it is suffice to show that the extension diagrams over m0 and c0 exist in the presence of NACs.

Formally, the UML models are instances of metamodels represented by at- tributed typed graphs.  The abstract syntax of CSP can be also represented as a typed graph. The typed graph based metamodel for CSP is defined in [2]. This way, the semantic mapping can be defined as a typed graph transformation.

To prove separablility the sets SC and SG need to be defined. We define on set of graphs SAD that represents both. SAD is a set of subgraphs of H0 such that if an ActivityNode is present in G, then all incoming and outgoing ActivityEdges connected to the node should be present as well. Since every transformation rule in sem transforms a single ActivityNode into the semantic domain, every node type has a related production rule in sem. As ActivityEdges are transformed to pro- cesses, they form a frame around the ActivityNodes, enabling their transformation. Thus, boundary graphs consist of only ActivityEdges. If all the incoming and out- going ActivityEdges are included with the relevant node, all corresponding rules are triggered in the subgraph. Hence no new structures are created during the merge process that enables a previously disabled rule. Thus if C0 and G0 are of SAD, then if C0 and G0 are terminating, then H as well.

