The Internet has spawned its own application domain: multithreaded server applications, capable of interacting with hundreds or thousands of clients sim- ultaneously, are becoming increasingly important. Examples include FTP (File Transfer Protocol), E-Mail transport, DNS (name servers), Usenet News, chat servers, distributed file-sharing, and the most popular of all: HTTP serv- ers. HTTP (HyperText Transfer Protocol [Fie99]) is the protocol used to transport web pages over the Internet.

Asynchronous I/O, POSIX real-time signals, and kernel event queues. These are all methods of alleviating the aforementioned problems with select(). They are relatively new, non-standard features which are not supported by all operating systems. However, any implementation which uses select() can be converted to use one of these alternatives with relatively little effort.

User-space threads are essentially an implementation of a thread abstraction inside a single process (or possibly on top of a small number of operating system threads; see later). The programmer gets to write his/her application using the concurrency primitives provided by the language, and the user- space threads implementation will provide the low-level time-sharing and I/O multiplexing support. Several implementations of user-space POSIX threads exist for Unix.

Concurrent Haskell (or at least the implementation in GHC) is also an instance of this model; the Haskell runtime system runs in a single operat- ing system process and multiplexes many Haskell threads. To support mul- tiple Haskell threads performing I/O simultaneously, the runtime system may choose between the I/O multiplexing options described in the previous section. However this is implemented, the choice is invisible to the programmer.

The actual generation of the log entries and writing of log entries to the file is done by a separate thread 4 . Worker threads communicate with the logging subsystem via a global unbounded channel, by calling logAccess. The logging thread removes items from the channel and manufactures log entries which are then written to a log file.

