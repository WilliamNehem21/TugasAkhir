ance between competing interests (e.g. sharing available capacity). From a computational point of view, the problem is to find the values of parameters (variables) in the system that achieve such an optimum, or balance point. This must be done dynamically, and often as a distributed calculation, in response to changes in the environment. For example, a routing protocol must contin- ually respond to changes in availability of links, adjusting flows accordingly.

Although we do not report on it directly in this paper, we believe there is much value to be gained in developing high level (programming) languages to analyse and organise network functionality and structure. Advantages we anticipate from such an approach include better statement of management is- sues, exposure of options for refinement into different protocols, comparison of different design options within a common language framework, and precision about aspects such as the amount of network state, numbers of variables, and naming structure. Here we restrict our attention only to a model of inter- action that should underpin such a language. We draw on the mathematics of optimisation, which puts our work in parallel with other recent work us- ing optimisation theory in the design and analysis of networks and protocols [9,11].

An outline of our general approach is as follows. A network task for which a distributed solution is sought is first formulated as a mathematical optimi- sation problem, involving an objective function and some constraints. The problem is then relaxed by incorporating the constraints into the objective function. The modified objective function is called the Lagrangian, and is standard in optimisation theory [4]. It depends on the variables of the origi- nal objective function, and an additional set of dual variables which quantify the cost of violating the constraints. The problem then becomes to find a saddle point of this new function, rather than a minimum or maximum. The Lagrangian can usually be written as the sum of different components, and its structure can be described as a graph highlighting the connections between these components. This graph illuminates the structure of the original prob- lem in several respects: it allows for decomposition, where different parts of the graph are considered as subproblems; these subproblems can then be dis- tributed by allocating them to different nodes or processors in the network; it specifies the communication channels that must be supported between the subproblems; it suggests distributed algorithms; and its structure exposes dif- ferent axes of interaction and feedback in the system. Different decompositions of the component graph lead to different algorithms, and in this way the design space for solving the original problem is laid out.

As just mentioned, the general mathematical setting for our model is actu- ally more general than optimisation. We study the problem of finding a saddle point of a convex-concave function of typically many real-valued variables. We usually call this (real-valued) function, L, the Lagrangian, on the basis that it can often (but not always) be derived from a Lagrange relaxation of an opti- misation problem. In this section we first present general saddle point condi- tions, then specialise these to smooth approximations of Lagrangian functions derived from linear programs.

To explain how a saddle point problem can be distributed we introduce a running example. We seek the shortest paths to a given destination in a communication network, which can be formulated in the standard way as a minimum cost flow linear program, with Lagrangian of the form (3). The flow over link j is determined by a primal decision variable xj, while the dual variable yi becomes the distance (or cost) from node i to the destination node. A cost of cj per unit flow is imposed at link j, and flow bi is injected into node where we use the notation yi and xj to indicate that a variable is owned by another node. Thus, from the point of view of node 4, y2 is perceived as en- vironmental. A locally perceived Lagrangian changes whenever neighbouring nodes change the values of their decision variables. If a node has found a saddle point of its local Lagrangian, the derivatives (5) with respect to the variables it owns are zero. Because every decision variable in the global La- grangian is owned by exactly one node, it follows that the network as a whole is in a saddle point if and only if all nodes are simultaneously in a saddle point of their local Lagrangian. Each local saddle point problem is formally similar to the global saddle point problem, and the decomposition into sub-problems can, in general, be continued recursively.

