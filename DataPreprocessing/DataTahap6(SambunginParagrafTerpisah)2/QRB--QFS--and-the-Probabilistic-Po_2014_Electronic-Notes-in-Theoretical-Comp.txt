Outline. After some brief preliminaries (Section 2), we discuss the notion of functional approximation in Section 3. This is a central concept in domain theory, at the heart of RB-, FS-, QRB-, and QFS-domains. Another domain-theoretic leitmotiv is that one should always topologize (paraphrasing M. Stone), and we introduce QFS-spaces in Section 4 as the natural topological counterpart of QFS- domains. We give our proof that QRB-domains and QFS-domains are the same thing (and coincide with four other natural notions, including sober QFS-spaces) in Section 5. We apply this to the promised result that the probabilistic powerdomain of a QRB-domain is a QRB-domain in Section 6.

Together this means that there are four variants that one might consider and it may come as a relief to the reader that they will in fact all turn out to lead to the same structures. Specifically, we will show that the most liberal notion, arbitrary image of general compact saturated sets, and the most restrictive one, finite image of finitary compacts, coincide. This will be true with and without assuming sobriety.

Let us turn to the probabilistic powerdomain V(X) over a space X. This was intro- duced by Jones in her PhD thesis [15] to give semantics to higher-order programs with probabilistic choice. Jones proved that V(X) was a continuous dcpo for every continuous dcpo X, but also that V(X) was not a continuous lattice, or even a bc-domain even for very simple continuous lattices or bc-domains X. We still do not know whether V(X) is an FS-domain, resp. an RB-domain whenever X is one, except in very specific cases [17]. However, the notion of functional approxima- tion offered by QRB-domains is relaxed enough that the probabilistic powerdomain of a QRB-domain is again a QRB-domain. The first author proved this [10], for

Using Theorem 5.7, we shall see that the latter is an irrelevant assumption. We shall also prove it for spaces of continuous subprobability valuations, and of general, unbounded, continuous valuations. The nature of the proof is very different from [10]: we build an approximating family of qfs maps on V(X), directly 5 .

