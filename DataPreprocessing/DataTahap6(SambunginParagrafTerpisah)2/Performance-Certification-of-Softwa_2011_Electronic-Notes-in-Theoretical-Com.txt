We extend the notion of model refinement to non-functional properties of software and propose a refine- ment calculus for conformance checking between abstract performance descriptions of components. The calculus is based on a refinement notion that covers the performance-relevant aspects of components. The approach is applied to the Palladio Component Model as a description language for performance properties of components.

The contribution of this paper is firstly a model for parameterised component performance specifications and secondly a calculus of refinement. The proposed language for component performance specifications is based on the performance prediction model used in the Palladio Component Model [1], a metamodel for the description of component-based software architectures. The PCM has been used in several industrial case studies and offers methods for the prediction of quality of service attributes, especially performance and reliability, as well as tool support for modelling and prediction. We use the PCM as a description language for per- formance properties of components since it offers parametric dependencies between various aspects of a component-based system, like deployment, assembly and usage profile.

This paper is structured as follows: In Section 2, we give a brief introduction into the Palladio Component Model. In Section 3, the scenario for software perfor- mance certification and the refinement calculus are presented. The assumptions and limitations of the approach are discussed in Section 4. Related work is mentioned in Section 5 before the paper concludes with Section 6.

For the refinement of performance, we propose a refinement calculus, which will be explained in detail in the following. With this calculus, different aspects of refinement are expressed. The conformance of external call protocols is checked first, since this conformance is a necessary preconditition for components to be compared for refinement. Then, resource demands of active resources like CPU, memory and hard disk are considered.

Since we have already dealt with external calls in the preceding section, they are not regarded here. For the refinement of resource demands, we do not regard the external calls from the RDSEFFs and only deal with the resource demands of internal actions. Using the refinement calculus from [4], we can match the actions of two different RDSEFFs and check for refinement.

With the calculus for performance refinement, all constructs that are available for the description of Resource Demanding Service Effect Specifications in the Palladio Component Model are covered. The first aspect, External Calls, covers External- CallAction elements, but also the control flow elements BranchAction, LoopAction and ForkAction. The second aspect, Resource Demands, covers InternalAction elements with the annotated ResourceDemand descriptions.

An RDSEFF element that has not been regarded in the description of the refine- ment calculus is SetVariableAction. We neglect variables on purpose, following the paradigm of [12] that parameter values should not be regarded in the description of component interfaces. Furthermore, the elements AcquireAction and ReleaseAc- tion are not included in the current approach; the handling of passive resources is left to future work.

For the analyis of performance properties of component-based software, many (aca- demic) component models exist, which are mostly targeted on analysis of existing systems. If a software system is designed from scratch, the process should be sup- ported by a development environment that also offers modeling techniques for cre- ating new systems. As an extension to UML, the UML MARTE profile [11] can be used for the modelling of real-time and embedded systems. From the SPE com- munity, several metamodels of the performance domain are available, most notably

Performance modelling and analysis is often based on simulations and testing. Formal approaches are rare and can best be found in the field of probabilistic model checking, for example the PRISM tool [9], which combines conventional correctness checks with stochastic processes to reason about reliability and performance [2], [10]. However, the approach is lacking the possibility to model the systems parametrically with respect to usage profiles and execution environment.

In this paper, we present a refinement calculus which checks whether an imple- mented component conforms to an abstract performance specification. Together with reverse-engineering methods and test-based performance validation, this cal- culus can be used in a certification scenario to provide for a complete chain of conformance relations from abstract specifications to source code with respect to performance properties. Expressing refinement on an abstract level protects intel- lectual property such as internal implementation details and source code, while still providing a certification statement that is based on formal methods rather than just meeting standards in a development process.

The calculus uses the parametric modelling features of the Palladio Component Model, so that the refinement is independent from the execution environment of the component, which comprises deployment on hardware and assembly with other components. Independence from the usage profile is planned in a future version of the refinement calculus, but not included at the moment due to the unsolved problem of comparing stochastical functions with respect to performance proper- ties. Since parametric modelling of user behaviour is one of the key advantages of Palladio, including it into the refinement calculus should be a main objective of future work. Furthermore, the handling of passive resources is not included in the current approach.

