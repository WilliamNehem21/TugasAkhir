In practice, web service composition is described in terms of either choreography or orchestration languages. The former specifies the conversation rules which govern interactions between all the services involved in a particular application, whereas the latter provides means to program a specific service, called the orchestrator, responsible for some form of external coordination of the services. These two ap- proaches have been separately developed by industrial consortia and international organizations such as W3C and OASIS. In particular, WS-CDL and BPEL4WS spec- ifications represent the most credited languages for the Web Services technology which deal with choreography and orchestration respectively.

This model is based on a notion of software connector which regulates the flow of data by relating data items present to its input and output ports. Typically the coordinated entities are regarded as black-boxes, characterized by a set of ports through which data values are sent or received. Ports have a polarity (either input or output ) and, maybe, a type to classify the admissible values.

As mentioned before, in exogenous coordination models, like [5] or [9], components are black box entities accessed by purely syntactic interfaces. The role of an interface is restricted to keeping track of port names and, possibly, of admissible types for data items flowing through them 3 . For a web-service, however, the specification of the corresponding workflow pattern is as important as the description of the available actions or of the orchestration structure. This leads to the following definition:

Ports are interface points through which messages flow. Each port has an inter- action polarity (either input or output ), but, in general, connectors are blind with respect to the data values flowing through them. Another particular characteristic is the ability to construct complex connectors out of simpler ones using a set of combinators.

A drain has two input, but no output, ports. Therefore, it looses any data item crossing its boundaries. A drain is synchronous if both write operations are re- quested to succeed at the same time (which implies that each write attempt remains pending until another write occurs in the other end-point). It is asynchronous if, on the other hand, write operations in the two ports do not coincide. The formal definitions are, respectively,

Its effect is to plug ports with identical polarity. The aggregation of output ports is done by a right join (C i > z), where C is a connector, i and j are ports and z is a fresh name used to identify the new port. Port z receives asynchronously messages sent by either i or j. When messages are sent at same time the combinator chooses one of them in a nondeterministic way.

Language Semantics. Whether formal models, like the one discussed in this pa- per, can be of use in providing precise semantic foundations of emerging languages for web services composition (e.g., BPEL4WS, XLANG or WS-CDL, among others) re- mains a challenge we intend to face in future work. Its relevance, from the point of view of software engineering, cannot be underestimated.

