As modeling formalisms today are usually based on diagrams or graphs (e.g. UML diagram types for software engineering or function block diagrams for designing programmable controllers), our approach uses graph transforma- tion [15] for both the transformation of different formalisms to the semantic formalism and the simulation of the transformed model. The different for- malisms are defined as visual languages by means of meta-modeling.

There are some related tool-based approaches supporting the meta-model based definition of visual languages and the graph-grammar based simulation of visual models, e.g. DiaGen [5] or GenGED [9], but none of them realizes parallel graph transformation. Another related approach is MetaEnv [1], an environment to define the semantics for visual models. A model is translated from an external CASE tool to the semantic domain of high-level timed Petri nets using graph grammars. The semantic model can be simulated and trans- lated into C code. Compared to the AToM3 approach, the semantic model is fixed in MetaEnv, whereas it is variable in AToM3.

Section 2 reviews the concepts of parallel graph transformation. In Section 3, a simulator for Timed Transition Petri nets is presented as a parallel graph transformation system. Section 4 sketches the extensions of AToM3 in order to provide tool support for the definition and application of amalgamated rules.

Parallel graph transformation models parallel state transition where a state is described by a graph which can be changed by several actions executed in parallel. Since the graph transformation is rule-based without restrictive execution prescription, it offers the possibility for massively parallel execu- tion. The synchronization of parallel rule applications is described by com- mon subrules. In this section, we review the main concepts of parallel graph transformation [14] and show how the firing of transitions in arbitrary place- transition nets (P/T nets from now on) can be modelled in a concise way using parallel graph grammars. This provides the basis for the simulation of Timed-Transition Petri nets, an extension of P/T nets, discussed in Section 3. Using graph grammars as modeling technique, objects are represented by nodes and their interrelations by edges. Actions are usually described by graph rules and simulated by graph transformation (which is the application of rules to a given graph, resulting in a new graph modeling the changed system state).

Subrules with NACs can be embedded only into elementary rules contain- ing at least the same NACs as the subrule. In addition, each elementary rule may have other NACs than the subrule. An interaction scheme can also be seen as a bipartite graph (IS-graph) whose nodes are labelled by elementary rules and subrules. Edges are labelled by subrule embeddings.

In addition to the specification how elementary rules should be synchro- nized, we have to decide where and how often a set of elementary rules should be applied. The basic way to synchronize complex parallel operations is to allow that a rule should be applied at all different matches in a given graph. This expresses massively parallel execution of actions. For the purpose in this paper we restrict the covering of G (the image of all different matches from instances of elementary rules in G) to all different elementary matches that overlap in the match of their common subrule. For other, more complex cov- ering constructions see [14]. For our restricted covering of G, the IS-graph is always connected.

rule amalgamation can also be seen as a bipartite graph Gr whose nodes are subrules and instances of elementary rules, and whose edges are subrule em- beddings. Each Gr representing a valid rule amalgamation is typed over the IS-graph, e.g. there is a homomorphic mapping from Gr into the IS-graph.

placed. The enable post rule is instantiated once for each output place of the transition being checked. The sync enable subrule gives the common context for the instantiation of enable pre and enable post: the transition and the events. If some predomain place of the transition does not have enough tokens, enable pre cannot be instantiated in that place. Analogously to Def. 2.3, the transition is deleted and reconstructed by the subrule, such that in the case of not enough tokens on a predomain place the scheme cannot be applied due to the dangling condition.

In a conflict situation (a place in the pre- domain of two transitions), it is possi- ble for a transition firing to disable other transitions. In this case, the scheduled possible events of the disabled transitions should be erased. This is modelled by rule conflict shown on the right.

This paper has presented parallel graph grammars as a valuable means for modeling and simulation. They extend the capabilities of regular graph gram- mars by allowing parallel execution of synchronized elementary rules. This is useful for specifying simulators for formalisms in which parallel actions hap- pen, such as Petri nets and others discrete event simulation formalisms. Par- allel graph transformation is also useful for formalism transformation where models are translated between different formalisms. In this context, parallel graph transformation simplifies the models transformation as they allow em- bedding newly created elements in variable contexts. Otherwise, one would have to replicate the transformation rules for each different context. Parallel graph transformation has been implemented in the AToM3 tool.

In the group at Madrid, parallel and distributed graph grammars are cur- rently applied for modeling simulation protocols in parallel discrete event sys- tems [7]. In the future, we will apply the approach to other TTPN semantics, Petri net variants and discrete event formalisms. The implementation of other covering constructions is also under consideration.

