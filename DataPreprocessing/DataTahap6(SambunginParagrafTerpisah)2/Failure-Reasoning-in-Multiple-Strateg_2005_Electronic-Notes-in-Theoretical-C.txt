The instantiations of meta-variables and constraints on the meta-variables cause dependencies among goals that share these meta-variables. Take, e.g., two goals J and J' that both contain a meta-variable mv. Now assume that Multi first creates a partial proof plan for J and binds mv in such a way that J' cannot be proved anymore. The default backtracking in Multi would remove J'. However, the actual problem is not J' but the selection of an appropriate instantiation for mv. That is, part of the subplan for J has to be removed to introduce another subplan that instantiates mv differently. This approach corresponds to the general meta-reasoning pattern:

Since the knowledge engineering for proof planning is pretty difficult, the number of mathematical domains and problems successfully tackled by proof planning so far is growing only slowly. However, if not quantitatively then at least qualitatively, there is striking evidence for the need to meta-reason about failures in mathematics since the identified meta-reasoning patterns rely upon common techniques in mathematics. As evidence for this statement consider that failure reasoning in the proof planner CLaM (see related work in section 7) also exploits failures to guide the introduction of case-splits in a similar way but in a completely different mathematical domain, i.e., proving theorems by mathematical induction.

proof planning process. They represent heuristics suggesting how to handle a failure that occurs in conjunction with a pattern of partially successful steps. The meta-reasoning patterns do not only circumvent failures, they hold the key to the construction of a solution proof plan.

The described failure reasoning and the repair modifications are possible since Multi does not enforce a pre-defined systematic backtracking. Rather, when a failure occurs, then strategic control rules in which our heuristics are declaratively encoded can analyze the failure and can dynamically guide promising refinements and modifications of the proof plan. All the meta- reasoning patterns are generally applicable rather than over-specific as shown in the experiments (see section 6). Further meta-reasoning that exploits the flexible control in Multi is discussed in [9].

in minor technical issues but also in their conceptual design. Critics are a method-like entity directly bound to failing preconditions of a particular method. Moreover, part of a critic is a patch of the failure, which is a special procedure that changes the proof plan. In contrast, failure reasoning in Multi is conducted by declarative and separate control rules. These control rules are not associated with a particular method but rather test for particular sit- uations that can occur during the proof planning process (independent of the strategy or method that caused the situation). The control rules can reason about the current proof plan and about other information such as the history. The patch of a failure is not implemented into special procedures but is carried out by methods and strategies whose application is suggested by the control rules.

Related to the unblocking of desirable steps in Multi is the control rea- soning in elaborate blackboard systems, e.g., see [4] and [5]. When a highly desirable knowledge source is not applicable, then reasoning on the failure can suggest the invocation of knowledge sources that unblock the desired knowl- edge source.

