Rule Struc is introduced to take structural congruence into account. This also simplifies the transition system rules. Since commutativity laws are de- fined for summation and parallel composition in the structural congruence, there is no need to define the dual rules of Sum and Par.

A name is semantically inactive for an agent if it is unable to change such agent from the external context point-of-view. Bound names can play a role on internal actions of agents (they are thus unable to interfere on the external context). Besides that, certain actions are never performed due to names restriction. So, agent names exclusively involved in either internal actions or actions never engaged (useless actions) are the so called inactive names.

Compound agents can engage into internal communications and commu- nicate with the external environment using the same actions because there is no restriction on the top of expression. As a result, no scope extrusion is made and all actions in the expression can be engaged. For agents with no restricted names, active names can be calculated directly from expressions.

Rules [R1] to [R5] come all from structural congruence definitions. Rule [R1] reduces any agent composed with the stop agent to itself. Rule [R2] eliminates the restriction combinator whenever the restricted names do not appear free in the agent 4 . Rule [R3] is about scope extension. Differently from the previous rules, its application keeps the expression size instead of reducing it. Nevertheless, all restrictions are pulled up as much as possible and the reduction procedure stops when the rule is no longer applicable.

Rules [R4] and [R5] are about replicated agents. In [R4], an agent is removed if composed with a replicated copy of itself. In [R5], a replicated agent is removed when composed with itself. Note that these rules are only possible because all replicated agents are guarded by an action; this is not true for arbitrary replicated agents, as noted by Milner in [6]. All other rules from structural congruence definitions with no ability to reduce expressions are denied.

Even with the new rule ([R6]), the rewriting system is unable to remove all inactive actions from expressions (bisimilar agents have the same set of active actions [7]). Agents having a prefixing action unable to communicate with its context due to port name restriction has already been captured by rule [R6]. Cases other than prefixing actions, however, may also lead to agents unable to communicate with their contexts, as shown in the following example.

Action a(x) (agent Q6) is neither able to communicate with the external environment (a is restricted) nor with the other compound agent (bc). As a result, a(x).x(w) could be removed from Q6 without affecting its behaviour. If so, Q6 would become identically written to agent Q7 (they are bisimilar).

Inactive names can be split into the set of free and bound names. All inactive free names exclusively appear in inactive actions. On the other hand, the inactive bound names may participate in engageable and unengageable actions. The set of engageable bound names is made of all bound names that appear in the calculation of active names. Bound names not appearing in such a calculation belongs to actions never engaged (inactive actions). One

Here, rules to reduce agents expressions as a restricted action is found and the agent cannot communicate with its context are defined (situations shown in Section 5.1 - Composition). In fact, this extends the rewriting system to also handle useless subexpressions in composed agents.

A prototype has been developed to implement the rewriting system by Hirschkoff and the new rules. Rules from [R1] to [R7] are already implement and [R8] is in progress. The system has been successfully applied to toy examples, but no accurate data on performance has been taken so far.

