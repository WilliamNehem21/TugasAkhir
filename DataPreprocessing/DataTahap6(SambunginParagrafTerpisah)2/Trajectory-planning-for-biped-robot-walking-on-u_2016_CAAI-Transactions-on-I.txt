According to the features of movements of humanoid robot, a control system for humanoid robot walking on uneven terrain is present. Constraints of stepping over stairs are analyzed and the trajectories of feet are calculated by intelligent computing methods. To overcome the shortcomings resulted from directly controlling the robot by neural network (NN) and fuzzy logic controller (FLC), a revised particle swarm optimization (PSO) algorithm is proposed to train the weights of NN and rules of FLC. Simulations and experiments on different control methods are achieved for a detailed comparison. The results show that using the proposed methods can obtain better control effect.

modified once established. Park [14] designed a trajectory generator based on ZMP FLC. The trajectories of legs were the input, and the effectiveness of the algorithm was proved by simulation. The ZMP trajectory produced by this algorithm can increase the stability of robot. However, the main defect of this algorithm is that the trajectory cannot be the optimum because of the lack of optimizer. Zhou [15] presented a fuzzy reinforcement learning structure, which can maintain the dy- namic stability of biped robot while moving. However, this algorithm used a gradient descent learning method, with which is easy to fall into local optimum. One way to jump the local optimum is to use the intelligence optimal algorithm. PSO algorithm is less dependent on the objective function and it can be introduced to optimize the rules of FLC.

In this paper, constraints of movement for humanoid robot are analyzed at first. Then, an example of stepping over stairs is taken to feasibility analysis. And the kinematics formulas of stepping over stairs are achieved. Based on the PSO algorithm present in [5], an idea of crossover from GA is introduced to make the algorithm jump the local optimum, which is called MPSO. In order to test the effects of different control methods, three methods of soft computing consisting of MPSO, MPSO optimizing NN(MPSONN), MPSO optimizing FLC (MPSOFLC) of are used to control the motion of walking on uneven terrain for humanoid robot. Finally, simulations of different methods are achieved.

solve the problem of nonlinear mapping. It can be introduced to control the robot arm, motion optimization and many problems of robot control. Tao Li used a new recurrent neural network to control the online robot arm to learn the behavior. Because the training time is too long, only weights of output were trained [12]. Pedro introduced NN to recognize the gestures and to control the moves of the industrial robot. He gathered the data from data gloves and used two ANN to recognize different kinds of gestures. The rate of recognition is up to 95% [13]. However, how to reduce the training time for NN is a good question to discuss.

The period of stepping over stairs T is similar with walking on flat terrain, which can be divided into double support period Td and single support period Ts. In a case study of sagittal plane motion it is supposed that the initial location of robot is the following: its right leg is on the stairs, and the left leg is under the right one. The distance between the two legs is one step. After one period T of walking, the robot reached the final location, where the left leg is on the right one, and the distance between the two legs is also one step. The movement is shown

This algorithm improves the performance of the algorithm based on normal PSO without increasing the complexity. However, this method has defect on the avoiding local optima. To solve this problem, the concept of crossover in genetic algorithm is introduced. In each iteration, a specified number of crossover particles are selected to put into the hybrid pool according to the crossover probability. The particles in hybrid pool will crossover randomly to produce the same number of child particles (child ) and update the parent particles ( parent) using child particles. The position of child can be obtained by cross computing the positions of parents. The details are shown in formula (11).

where, wmax and wmin represent the MAX and MIN of w respectively. f is the current value of objective function. favg and fmin are the current average target and minimum target for all particles. When the target value of each of the particles tends to converge into local optimum, the inertia weight will be increased. While the target values tend to disperse, the inertia weight will be decreased. Meanwhile, for the particles whose objective functional value is better than average ones, their corresponding factor of inertia weight should be smaller, in order to be protected. The details of the algorithm are shown as bellow:

According to the features of humanoid robot stepping over stairs, two three-forward networks are designed [17]. The input layer of first network are parameters X1 and X2, which are in the double support period of stepping over stairs for robot. The hidden layer have M nerve cells and the output layer are parameters L2 and H2. Based on different inputs X1 network, and the output are dqi(i = 1, 2, 3, 4), V2(i = 1, 2; j = 1, 2, ...N) are the weights between input layer and hidden layer, W2(i = 1, 2...N; j = 1, 2, 3, 4) are the weights between hidden layer and output layer.

double support area of robot. V1(i = 1, 2; j = 1, 2, ...M) are which means the ZMP in initial condition is in the center of W1(i = 1, 2...M; j = 1, 2) are weights between hidden layer weights between input layer and hidden layer while and output layer.

A fuzzy logic controller is designed and the rules are optimized offline by MPSO algorithm. There are two fuzzy logic controllers. The first one is used to calculate the node angle of robot during the double support period. The second one is used to calculate the node angle changes of robot during the single support period.

The number of particles used to simulate is 30, learning factors are both 2, number of iteration is 500. The most common max-min from Mamdani method is introduced to reason. A common trigonometric function is used as the membership  function.  The  weighted  average  judgments

Stepping over stairs can be taken as an example of walking on uneven terrain for humanoid robot. A controller based on NN and FLC are designed to control the robot walking. A mixed PSO algorithm is present to optimize the weights of NN and rules of FLC. Comparison of different control methods are achieved through the simulations and tests the effectiveness of the proposed methods.

This material is based upon work funded by State Key Lab- oratory of Robotics and System (HIT) Foundation of China under Grant No. SKLRS-2012-MS-06, China Postdoctoral Science Foundation under Grant No. 2013M531022, Research project of laboratory work in universities of Zhejiang Province under Grant No. ZD201504, Educational technology research program of Zhejiang Province under Grant No. JA027.

Pedro Neto, Dario Pereira, J. Norberto Pires, A. Paulo Moreira. Real- time and continuous hand gesture spotting: an approach based on arti- ficial neural networks. 2013 IEEE International Conference on Robotics and Automation (ICRA), Karlsruhe, Germany, May 6e10, 2013, pp. 178e183.

,China, in 2003 and 2006, He received his Ph.D de- grees in Computer Application from Harbin Institute of Technology, Harbin, China, in 2011. He is currently working in School of Electronic and Information En- gineering, Ningbo University of Technology, Ningbo China. His interests include humanoid robot, motion planning.

of Technology, Harbin, China, in 2008, He received his Ph.D degrees in Computer Application from Nagoya University, Japan, in 2012. He is currently working in Advanced Robotics Department, Istituto Italiano di Tecnologia, Genova, Italy. His interests include robot, motion planning, image processing.

