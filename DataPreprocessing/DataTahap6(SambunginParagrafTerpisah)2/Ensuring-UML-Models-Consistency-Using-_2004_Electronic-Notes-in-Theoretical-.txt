The topic of UML model consistency is becoming increasingly important. Having a tool that checks the consistency of UML models is very useful. Using the XMI standard, the consistent models can be transferred from the checker tool to any other UML tool. By means of practical examples, this paper shows that using a framework based on OCL is a valuable approach when checking UML models. The results obtained in the examples highlight some shortcomings in the UML definition and prove that OCL offers the support needed in managing tool peculiarities.

Checking UML model consistency is becoming a more stringent problem ev- ery day. First, the number of UML users is continuously increasing and thus the number of models constructed and transferred between different users and tools is increasing, too. Furthermore, applying MDA in the process of appli- cation development implies the transformation of models being correct with respect to the semantics of the modeling language. Detecting and removing model errors in the early stages of software development leads to shorter time- to-market and lower costs. Generally, model construction takes place in the framework of a methodology; moreover, each model is built for a certain ap- plication domain and is eventually implemented in a programming language. Therefore, checking the model against a set of methodological rules, applica- tion profile dependent rules (web applications, component-based applications, and so on), target programming language rules are important operations whose automation is possible and useful. OCL allows for a simple and suggestive specification of all the categories of rules mentioned above. OCL has been a part of UML since the first publication of the UML standard, being the only textual formalism used for the definition of both the UML static semantics and the user model semantics. As specified in [6], OCL is used to complement the information in UML diagrams.

Each UML tool supports different kinds of checks using different approaches. The most flexible strategy is by far the one adopted by tools supporting script- ing languages. Rational Rose [3], Together [15], Objecteering [14] are among the best tools included in this category. But even this approach has some drawbacks:

The rules used in this example are the WFR defining the UML static semantics. All the Additional Operations were grouped in one file. The WFR expressed by means of class invariants were stored in six other files. This grouping enables both a better management of the specifications and a finer reusability at the specification files level.

The models presented in Section 4 were created using two of the most popular tools: Rational Rose and MagicDraw. Using OCLE we highlighted some inconsistencies concerning the well formedness of these models. Most of these inconsistencies are difficult or even impossible to identify using existing CASE tools. Our point of view is that users have to know about them in order to avoid their potential effects.

The Kent Modeling Framework (KMF) [10] provides a set of tools to sup- port model driven software development. At the core of KMF is ToolGen, a tool to generate modeling tools from the definition of modeling languages ex- pressed as metamodels. KMF supports UML model transfer using XMI. Like MMT, the downloadable tool version is an early prototype and the examples provided with it are small examples. Therefore, the downloadable version is not yet appropriate for checking real-life models.

the well formedness of UML models are not always correct. The results are provided in a report, and mention only if a rule was evaluated to false or true. This information is therefore not useful in identifying the causes of any rule failure.

USE [12] is a very interesting UML tool offering OCL support at the model level. Its repository implements a part of the UML 1.3 metamodel. Conse- quently, using this tool in checking the well formedness of UML models is difficult and restricted to some checks. The tool was used in checking the syntactic and semantic correctness of a part of the UML 1.3 WFR (see [5]). The transfer of models created using other tools is difficult because in USE UML models are stored in a proprietary format.

The results obtained in the experiments described in Section 4 confirmed that using OCL in checking UML model consistency represents a valuable approach that is worth taking into account. The models used in these examples were real-life models constructed using known UML CASE tools. OCL offers all the support needed to take into account the peculiarities of different tools (like the modeling of enumerations, undefined types and so on). By using OCLE we suc- ceeded in catching different kinds of inconsistencies that cannot be identified using other approaches (for example name conflicts for CollaborationRole instances, undefined contexts). Also, we identified several shortcomings in the UML standard. The lack of a clear rule about the naming of model elements is the simplest example having an important impact on model consistency. The metaclasses whose instances are allowed to be unnamed have to be clearly mentioned. A clarification of what are valid names in UML is also needed. This is of utmost importance for those metaclasses that have correspondents in the target programming language (such as classes, attributes, or even asso- ciation ends).

Using OCLE we proved that checking the well formedness in case of real UML models is entirely possible. OCL offers the support needed in the MDA approach. In our opinion, all these are strong arguments that OCL is valuable and should become a de-facto industry standard.

